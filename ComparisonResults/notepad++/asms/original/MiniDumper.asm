; Listing generated by Microsoft (R) Optimizing Compiler Version 18.00.31101.0 

	TITLE	C:\workspace\notepad-plus-plus-6.7.9.2\PowerEditor\src\MISC\Exception\MiniDumper.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMTD
INCLUDELIB OLDNAMES

PUBLIC	?msgTitle@@3PB_WB				; msgTitle
CONST	SEGMENT
$SG68705 DB	'N', 00H, 'o', 00H, 't', 00H, 'e', 00H, 'p', 00H, 'a', 00H
	DB	'd', 00H, '+', 00H, '+', 00H, ' ', 00H, 'c', 00H, 'r', 00H, 'a'
	DB	00H, 's', 00H, 'h', 00H, ' ', 00H, 'a', 00H, 'n', 00H, 'a', 00H
	DB	'l', 00H, 'y', 00H, 's', 00H, 'i', 00H, 's', 00H, 00H, 00H
	ORG $+2
$SG68718 DB	'D', 00H, 'B', 00H, 'G', 00H, 'H', 00H, 'E', 00H, 'L', 00H
	DB	'P', 00H, '.', 00H, 'D', 00H, 'L', 00H, 'L', 00H, 00H, 00H
$SG68722 DB	'MiniDumpWriteDump', 00H
	ORG $+2
$SG68724 DB	'\', 00H, 'N', 00H, 'p', 00H, 'p', 00H, 'D', 00H, 'u', 00H
	DB	'm', 00H, 'p', 00H, '.', 00H, 'd', 00H, 'm', 00H, 'p', 00H, 00H
	DB	00H
	ORG $+6
$SG68726 DB	'D', 00H, 'o', 00H, ' ', 00H, 'y', 00H, 'o', 00H, 'u', 00H
	DB	' ', 00H, 'w', 00H, 'a', 00H, 'n', 00H, 't', 00H, ' ', 00H, 't'
	DB	00H, 'o', 00H, ' ', 00H, 's', 00H, 'a', 00H, 'v', 00H, 'e', 00H
	DB	' ', 00H, 'a', 00H, ' ', 00H, 'd', 00H, 'u', 00H, 'm', 00H, 'p'
	DB	00H, ' ', 00H, 'f', 00H, 'i', 00H, 'l', 00H, 'e', 00H, '?', 00H
	DB	0dH, 00H, 0aH, 00H, 'D', 00H, 'o', 00H, 'i', 00H, 'n', 00H, 'g'
	DB	00H, ' ', 00H, 's', 00H, 'o', 00H, ' ', 00H, 'c', 00H, 'a', 00H
	DB	'n', 00H, ' ', 00H, 'a', 00H, 'i', 00H, 'd', 00H, ' ', 00H, 'i'
	DB	00H, 'n', 00H, ' ', 00H, 'd', 00H, 'e', 00H, 'v', 00H, 'e', 00H
	DB	'l', 00H, 'o', 00H, 'p', 00H, 'i', 00H, 'n', 00H, 'g', 00H, ' '
	DB	00H, 'N', 00H, 'o', 00H, 't', 00H, 'e', 00H, 'p', 00H, 'a', 00H
	DB	'd', 00H, '+', 00H, '+', 00H, '.', 00H, 00H, 00H
$SG68735 DB	'S', 00H, 'a', 00H, 'v', 00H, 'e', 00H, 'd', 00H, ' ', 00H
	DB	'd', 00H, 'u', 00H, 'm', 00H, 'p', 00H, ' ', 00H, 'f', 00H, 'i'
	DB	00H, 'l', 00H, 'e', 00H, ' ', 00H, 't', 00H, 'o', 00H, ' ', 00H
	DB	'''', 00H, '%', 00H, 's', 00H, '''', 00H, 00H, 00H
$SG68737 DB	'F', 00H, 'a', 00H, 'i', 00H, 'l', 00H, 'e', 00H, 'd', 00H
	DB	' ', 00H, 't', 00H, 'o', 00H, ' ', 00H, 's', 00H, 'a', 00H, 'v'
	DB	00H, 'e', 00H, ' ', 00H, 'd', 00H, 'u', 00H, 'm', 00H, 'p', 00H
	DB	' ', 00H, 'f', 00H, 'i', 00H, 'l', 00H, 'e', 00H, ' ', 00H, 't'
	DB	00H, 'o', 00H, ' ', 00H, '''', 00H, '%', 00H, 's', 00H, '''', 00H
	DB	' ', 00H, '(', 00H, 'e', 00H, 'r', 00H, 'r', 00H, 'o', 00H, 'r'
	DB	00H, ' ', 00H, '%', 00H, 'd', 00H, ')', 00H, 00H, 00H
$SG68739 DB	'F', 00H, 'a', 00H, 'i', 00H, 'l', 00H, 'e', 00H, 'd', 00H
	DB	' ', 00H, 't', 00H, 'o', 00H, ' ', 00H, 'c', 00H, 'r', 00H, 'e'
	DB	00H, 'a', 00H, 't', 00H, 'e', 00H, ' ', 00H, 'd', 00H, 'u', 00H
	DB	'm', 00H, 'p', 00H, ' ', 00H, 'f', 00H, 'i', 00H, 'l', 00H, 'e'
	DB	00H, ' ', 00H, '''', 00H, '%', 00H, 's', 00H, '''', 00H, ' ', 00H
	DB	'(', 00H, 'e', 00H, 'r', 00H, 'r', 00H, 'o', 00H, 'r', 00H, ' '
	DB	00H, '%', 00H, 'd', 00H, ')', 00H, 00H, 00H
	ORG $+2
$SG68741 DB	'T', 00H, 'h', 00H, 'e', 00H, ' ', 00H, 'd', 00H, 'e', 00H
	DB	'b', 00H, 'u', 00H, 'g', 00H, 'g', 00H, 'i', 00H, 'n', 00H, 'g'
	DB	00H, ' ', 00H, 'D', 00H, 'L', 00H, 'L', 00H, ' ', 00H, 'i', 00H
	DB	's', 00H, ' ', 00H, 'o', 00H, 'u', 00H, 't', 00H, 'd', 00H, 'a'
	DB	00H, 't', 00H, 'e', 00H, 'd', 00H, ',', 00H, 0dH, 00H, 0aH, 00H
	DB	'f', 00H, 'i', 00H, 'n', 00H, 'd', 00H, ' ', 00H, 'a', 00H, ' '
	DB	00H, 'r', 00H, 'e', 00H, 'c', 00H, 'e', 00H, 'n', 00H, 't', 00H
	DB	' ', 00H, 'c', 00H, 'o', 00H, 'p', 00H, 'y', 00H, ' ', 00H, 'o'
	DB	00H, 'f', 00H, ' ', 00H, 'd', 00H, 'b', 00H, 'g', 00H, 'h', 00H
	DB	'e', 00H, 'l', 00H, 'p', 00H, '.', 00H, 'd', 00H, 'l', 00H, 'l'
	DB	00H, ' ', 00H, 'a', 00H, 'n', 00H, 'd', 00H, ' ', 00H, 'i', 00H
	DB	'n', 00H, 's', 00H, 't', 00H, 'a', 00H, 'l', 00H, 'l', 00H, ' '
	DB	00H, 'i', 00H, 't', 00H, '.', 00H, 00H, 00H
	ORG $+4
$SG68743 DB	'U', 00H, 'n', 00H, 'a', 00H, 'b', 00H, 'l', 00H, 'e', 00H
	DB	' ', 00H, 't', 00H, 'o', 00H, ' ', 00H, 'l', 00H, 'o', 00H, 'a'
	DB	00H, 'd', 00H, ' ', 00H, 't', 00H, 'h', 00H, 'e', 00H, ' ', 00H
	DB	'd', 00H, 'e', 00H, 'b', 00H, 'u', 00H, 'g', 00H, 'g', 00H, 'i'
	DB	00H, 'n', 00H, 'g', 00H, ' ', 00H, 'D', 00H, 'L', 00H, 'L', 00H
	DB	',', 00H, 0dH, 00H, 0aH, 00H, 'f', 00H, 'i', 00H, 'n', 00H, 'd'
	DB	00H, ' ', 00H, 'a', 00H, ' ', 00H, 'r', 00H, 'e', 00H, 'c', 00H
	DB	'e', 00H, 'n', 00H, 't', 00H, ' ', 00H, 'c', 00H, 'o', 00H, 'p'
	DB	00H, 'y', 00H, ' ', 00H, 'o', 00H, 'f', 00H, ' ', 00H, 'd', 00H
	DB	'b', 00H, 'g', 00H, 'h', 00H, 'e', 00H, 'l', 00H, 'p', 00H, '.'
	DB	00H, 'd', 00H, 'l', 00H, 'l', 00H, ' ', 00H, 'a', 00H, 'n', 00H
	DB	'd', 00H, ' ', 00H, 'i', 00H, 'n', 00H, 's', 00H, 't', 00H, 'a'
	DB	00H, 'l', 00H, 'l', 00H, ' ', 00H, 'i', 00H, 't', 00H, '.', 00H
	DB	00H, 00H
CONST	ENDS
_DATA	SEGMENT
?msgTitle@@3PB_WB DD FLAT:$SG68705			; msgTitle
_DATA	ENDS
PUBLIC	??0MiniDumper@@QAE@XZ				; MiniDumper::MiniDumper
PUBLIC	?writeDump@MiniDumper@@QAE_NPAU_EXCEPTION_POINTERS@@@Z ; MiniDumper::writeDump
EXTRN	__imp__CreateFileW@28:PROC
EXTRN	__imp__CloseHandle@4:PROC
EXTRN	__imp__GetLastError@0:PROC
EXTRN	__imp__GetCurrentProcess@0:PROC
EXTRN	__imp__GetCurrentProcessId@0:PROC
EXTRN	__imp__GetCurrentThreadId@0:PROC
EXTRN	__imp__GetModuleFileNameW@12:PROC
EXTRN	__imp__GetProcAddress@8:PROC
EXTRN	__imp__lstrcatW@8:PROC
EXTRN	__imp__LoadLibraryW@4:PROC
EXTRN	__imp__wsprintfW:PROC
EXTRN	__imp__MessageBoxW@16:PROC
EXTRN	__imp__PathRemoveFileSpecW@4:PROC
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___security_cookie:DWORD
; Function compile flags: /Odtp
_TEXT	SEGMENT
_this$ = -1088						; size = 4
_ExInfo$1 = -1084					; size = 12
_bOK$2 = -1072						; size = 4
_msgret$3 = -1068					; size = 4
_pDump$4 = -1064					; size = 4
_hDll$ = -1060						; size = 4
_hFile$5 = -1056					; size = 4
_szResult$ = -1052					; size = 4
_retval$ = -1045					; size = 1
_szScratch$ = -1044					; size = 520
_szDumpPath$ = -524					; size = 520
__$ArrayPad$ = -4					; size = 4
_pExceptionInfo$ = 8					; size = 4
?writeDump@MiniDumper@@QAE_NPAU_EXCEPTION_POINTERS@@@Z PROC ; MiniDumper::writeDump
; _this$ = ecx
; File c:\workspace\notepad-plus-plus-6.7.9.2\powereditor\src\misc\exception\minidumper.cpp
; Line 42
	push	ebp
	mov	ebp, esp
	sub	esp, 1088				; 00000440H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	mov	DWORD PTR _this$[ebp], ecx
; Line 45
	mov	DWORD PTR _szResult$[ebp], 0
; Line 46
	mov	BYTE PTR _retval$[ebp], 0
; Line 48
	push	OFFSET $SG68718
	call	DWORD PTR __imp__LoadLibraryW@4
	mov	DWORD PTR _hDll$[ebp], eax
; Line 50
	cmp	DWORD PTR _hDll$[ebp], 0
	je	$LN10@writeDump
; Line 52
	push	OFFSET $SG68722
	mov	eax, DWORD PTR _hDll$[ebp]
	push	eax
	call	DWORD PTR __imp__GetProcAddress@8
	mov	DWORD PTR _pDump$4[ebp], eax
; Line 53
	cmp	DWORD PTR _pDump$4[ebp], 0
	je	$LN9@writeDump
; Line 55
	push	260					; 00000104H
	lea	ecx, DWORD PTR _szDumpPath$[ebp]
	push	ecx
	push	0
	call	DWORD PTR __imp__GetModuleFileNameW@12
; Line 56
	lea	edx, DWORD PTR _szDumpPath$[ebp]
	push	edx
	call	DWORD PTR __imp__PathRemoveFileSpecW@4
; Line 57
	push	OFFSET $SG68724
	lea	eax, DWORD PTR _szDumpPath$[ebp]
	push	eax
	call	DWORD PTR __imp__lstrcatW@8
; Line 60
	push	4
	mov	ecx, DWORD PTR ?msgTitle@@3PB_WB	; msgTitle
	push	ecx
	push	OFFSET $SG68726
	push	0
	call	DWORD PTR __imp__MessageBoxW@16
	mov	DWORD PTR _msgret$3[ebp], eax
; Line 61
	cmp	DWORD PTR _msgret$3[ebp], 6
	jne	$LN8@writeDump
; Line 65
	push	0
	push	128					; 00000080H
	push	2
	push	0
	push	2
	push	1073741824				; 40000000H
	lea	edx, DWORD PTR _szDumpPath$[ebp]
	push	edx
	call	DWORD PTR __imp__CreateFileW@28
	mov	DWORD PTR _hFile$5[ebp], eax
; Line 67
	cmp	DWORD PTR _hFile$5[ebp], -1
	je	$LN7@writeDump
; Line 71
	call	DWORD PTR __imp__GetCurrentThreadId@0
	mov	DWORD PTR _ExInfo$1[ebp], eax
; Line 72
	mov	eax, DWORD PTR _pExceptionInfo$[ebp]
	mov	DWORD PTR _ExInfo$1[ebp+4], eax
; Line 73
	mov	DWORD PTR _ExInfo$1[ebp+8], 0
; Line 76
	push	0
	push	0
	lea	ecx, DWORD PTR _ExInfo$1[ebp]
	push	ecx
	push	0
	mov	edx, DWORD PTR _hFile$5[ebp]
	push	edx
	call	DWORD PTR __imp__GetCurrentProcessId@0
	push	eax
	call	DWORD PTR __imp__GetCurrentProcess@0
	push	eax
	call	DWORD PTR _pDump$4[ebp]
	mov	DWORD PTR _bOK$2[ebp], eax
; Line 77
	cmp	DWORD PTR _bOK$2[ebp], 0
	je	SHORT $LN6@writeDump
; Line 79
	lea	eax, DWORD PTR _szDumpPath$[ebp]
	push	eax
	push	OFFSET $SG68735
	lea	ecx, DWORD PTR _szScratch$[ebp]
	push	ecx
	call	DWORD PTR __imp__wsprintfW
	add	esp, 12					; 0000000cH
; Line 80
	lea	edx, DWORD PTR _szScratch$[ebp]
	mov	DWORD PTR _szResult$[ebp], edx
; Line 81
	mov	BYTE PTR _retval$[ebp], 1
; Line 83
	jmp	SHORT $LN5@writeDump
$LN6@writeDump:
; Line 85
	call	DWORD PTR __imp__GetLastError@0
	push	eax
	lea	eax, DWORD PTR _szDumpPath$[ebp]
	push	eax
	push	OFFSET $SG68737
	lea	ecx, DWORD PTR _szScratch$[ebp]
	push	ecx
	call	DWORD PTR __imp__wsprintfW
	add	esp, 16					; 00000010H
; Line 86
	lea	edx, DWORD PTR _szScratch$[ebp]
	mov	DWORD PTR _szResult$[ebp], edx
$LN5@writeDump:
; Line 88
	mov	eax, DWORD PTR _hFile$5[ebp]
	push	eax
	call	DWORD PTR __imp__CloseHandle@4
; Line 90
	jmp	SHORT $LN8@writeDump
$LN7@writeDump:
; Line 92
	call	DWORD PTR __imp__GetLastError@0
	push	eax
	lea	ecx, DWORD PTR _szDumpPath$[ebp]
	push	ecx
	push	OFFSET $SG68739
	lea	edx, DWORD PTR _szScratch$[ebp]
	push	edx
	call	DWORD PTR __imp__wsprintfW
	add	esp, 16					; 00000010H
; Line 93
	lea	eax, DWORD PTR _szScratch$[ebp]
	mov	DWORD PTR _szResult$[ebp], eax
$LN8@writeDump:
; Line 97
	jmp	SHORT $LN3@writeDump
$LN9@writeDump:
; Line 99
	mov	DWORD PTR _szResult$[ebp], OFFSET $SG68741
$LN3@writeDump:
; Line 102
	jmp	SHORT $LN2@writeDump
$LN10@writeDump:
; Line 104
	mov	DWORD PTR _szResult$[ebp], OFFSET $SG68743
$LN2@writeDump:
; Line 107
	cmp	DWORD PTR _szResult$[ebp], 0
	je	SHORT $LN1@writeDump
; Line 108
	push	0
	mov	ecx, DWORD PTR ?msgTitle@@3PB_WB	; msgTitle
	push	ecx
	mov	edx, DWORD PTR _szResult$[ebp]
	push	edx
	push	0
	call	DWORD PTR __imp__MessageBoxW@16
$LN1@writeDump:
; Line 110
	mov	al, BYTE PTR _retval$[ebp]
; Line 111
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	4
?writeDump@MiniDumper@@QAE_NPAU_EXCEPTION_POINTERS@@@Z ENDP ; MiniDumper::writeDump
_TEXT	ENDS
; Function compile flags: /Odtp
_TEXT	SEGMENT
_this$ = -4						; size = 4
??0MiniDumper@@QAE@XZ PROC				; MiniDumper::MiniDumper
; _this$ = ecx
; File c:\workspace\notepad-plus-plus-6.7.9.2\powereditor\src\misc\exception\minidumper.cpp
; Line 38
	push	ebp
	mov	ebp, esp
	push	ecx
	mov	DWORD PTR _this$[ebp], ecx
; Line 39
	mov	eax, DWORD PTR _this$[ebp]
	mov	esp, ebp
	pop	ebp
	ret	0
??0MiniDumper@@QAE@XZ ENDP				; MiniDumper::MiniDumper
_TEXT	ENDS
END
