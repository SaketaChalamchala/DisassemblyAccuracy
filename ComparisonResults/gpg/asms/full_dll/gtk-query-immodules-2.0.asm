;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	7CC67E08993AAF09B9AB38F3396F8A90
; Input	CRC32 :	7EA85D39

; File Name   :	C:\compspace\compare\gpg\dlls\full\gtk-query-immodules-2.0.exe
; Format      :	Portable executable for	80386 (PE)
; Imagebase   :	400000
; Section 1. (virtual address 00001000)
; Virtual size			: 00002154 (   8532.)
; Section size in file		: 00002200 (   8704.)
; Offset to raw	data for section: 00000400
; Flags	60500060: Text Data Executable Readable
; Alignment	: 16 bytes

		include	uni.inc	; see unicode subdir of	ida for	info on	unicode

		.686p
		.mmx
		.model flat

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 401000h
		assume es:nothing, ss:nothing, ds:_data, fs:nothing, gs:nothing
; [00000002 BYTES: COLLAPSED FUNCTION nullsub_1]
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401010	proc near		; DATA XREF: .CRT:00409004o

var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch

		sub	esp, 2Ch
		mov	eax, ds:dword_406020
		mov	[esp+2Ch+var_1C], offset dword_406018
		mov	[esp+2Ch+var_24], offset dword_40600C
		mov	[esp+2Ch+var_28], offset dword_406008
		mov	ds:dword_406018, eax
		mov	eax, ds:dword_406024
		mov	[esp+2Ch+var_2C], offset dword_406004
		mov	[esp+2Ch+var_20], eax
		call	__getmainargs
		mov	ds:dword_40601C, eax
		add	esp, 2Ch
		retn
sub_401010	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401060	proc near		; DATA XREF: .CRT:00409010o

var_1C		= dword	ptr -1Ch

		sub	esp, 1Ch
		xor	eax, eax
		cmp	word ptr ds:400000h, 5A4Dh
		mov	ds:dword_406030, 1
		mov	ds:dword_40602C, 1
		mov	ds:dword_406028, 1
		mov	ds:dword_40603C, 1
		jz	short loc_401100

loc_401098:				; CODE XREF: sub_401060+B6j
					; sub_401060+C8j ...
		mov	ds:dword_406014, eax
		mov	eax, ds:dword_406040
		test	eax, eax
		jz	short loc_4010F0
		mov	[esp+1Ch+var_1C], 2
		call	__set_app_type

loc_4010B2:				; CODE XREF: sub_401060+9Cj
		mov	[esp+1Ch+var_1C], 0FFFFFFFFh
		call	sub_401F50
		mov	edx, ds:dword_406044
		mov	ds:dword_406414, eax
		mov	ds:dword_406418, eax
		mov	eax, ds:_fmode
		mov	[eax], edx
		call	sub_402290
		cmp	dword_404014, 1
		jz	short loc_401150
		xor	eax, eax
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_4010F0:				; CODE XREF: sub_401060+44j
		mov	[esp+1Ch+var_1C], 1
		call	__set_app_type
		jmp	short loc_4010B2
; ---------------------------------------------------------------------------
		align 10h

loc_401100:				; CODE XREF: sub_401060+36j
		mov	edx, ds:40003Ch
		cmp	dword ptr [edx+400000h], 4550h
		lea	ecx, [edx+400000h]
		jnz	short loc_401098
		movzx	edx, word ptr [ecx+18h]
		cmp	dx, 10Bh
		jz	short loc_401162
		cmp	dx, 20Bh
		jnz	loc_401098
		cmp	dword ptr [ecx+84h], 0Eh
		jbe	loc_401098
		mov	edx, [ecx+0F8h]
		xor	eax, eax
		test	edx, edx
		setnz	al
		jmp	loc_401098
; ---------------------------------------------------------------------------
		align 10h

loc_401150:				; CODE XREF: sub_401060+81j
		mov	[esp+1Ch+var_1C], offset sub_402230
		call	sub_402220
		xor	eax, eax
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_401162:				; CODE XREF: sub_401060+C1j
		cmp	dword ptr [ecx+74h], 0Eh
		jbe	loc_401098
		mov	ecx, [ecx+0E8h]
		xor	eax, eax
		test	ecx, ecx
		setnz	al
		jmp	loc_401098
sub_401060	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401180	proc near		; CODE XREF: .text:004014C5j start+15j

dwMilliseconds	= dword	ptr -88h
lpProcName	= dword	ptr -84h
Size		= dword	ptr -80h
var_6D		= byte ptr -6Dh
var_6C		= dword	ptr -6Ch
var_5C		= byte ptr -5Ch
var_30		= byte ptr -30h
var_2C		= word ptr -2Ch

		push	ebp
		xor	eax, eax
		mov	ebp, esp
		mov	ecx, 11h
		push	edi
		push	esi
		lea	edx, [ebp+var_5C]
		push	ebx
		mov	edi, edx
		sub	esp, 7Ch
		rep stosd
		mov	al, 30h
		call	sub_403000
		sub	esp, eax
		lea	eax, [esp+88h+var_6D]
		and	eax, 0FFFFFFF0h
		mov	dword ptr [eax], 0CCCCCCCCh
		mov	dword ptr [eax+4], 0CCCCCCCCh
		mov	dword ptr [eax+8], 0CCCCCCCCh
		mov	dword ptr [eax+0Ch], 0CCCCCCCCh
		mov	dword ptr [eax+10h], 0CCCCCCCCh
		mov	dword ptr [eax+14h], 0CCCCCCCCh
		mov	dword ptr [eax+18h], 0CCCCCCCCh
		mov	dword ptr [eax+1Ch], 0CCCCCCCCh
		and	esp, 0FFFFFFF0h
		mov	eax, ds:dword_406040
		test	eax, eax
		jnz	loc_401473

loc_4011EE:				; CODE XREF: sub_401180+2FFj
		mov	eax, large fs:18h
		mov	esi, ds:Sleep
		mov	ebx, [eax+4]
		jmp	short loc_401214
; ---------------------------------------------------------------------------
		align 10h

loc_401200:				; CODE XREF: sub_401180+B1j
		cmp	eax, ebx
		jz	loc_401420
		mov	[esp+88h+dwMilliseconds], 3E8h ; dwMilliseconds
		call	esi ; Sleep
		sub	esp, 4

loc_401214:				; CODE XREF: sub_401180+7Dj
		mov	[esp+88h+Size],	0
		mov	[esp+88h+lpProcName], ebx
		mov	[esp+88h+dwMilliseconds], offset dword_40641C
		call	sub_403050
		sub	esp, 0Ch
		test	eax, eax
		jnz	short loc_401200
		mov	eax, ds:dword_406420
		xor	ebx, ebx
		cmp	eax, 1
		jz	loc_401433

loc_401243:				; CODE XREF: sub_401180+2ADj
		mov	eax, ds:dword_406420
		test	eax, eax
		jz	loc_401484
		mov	ds:dword_406000, 1

loc_40125A:				; CODE XREF: sub_401180+322j
		mov	eax, ds:dword_406420
		cmp	eax, 1
		jz	loc_401450

loc_401268:				; CODE XREF: sub_401180+2C7j
					; sub_401180+2EEj
		test	ebx, ebx
		jnz	short loc_401273
		lock xchg ebx, ds:dword_40641C

loc_401273:				; CODE XREF: sub_401180+EAj
		mov	eax, ds:off_4051B4
		test	eax, eax
		jz	short loc_401298
		mov	[esp+88h+Size],	0
		mov	[esp+88h+lpProcName], 2
		mov	[esp+88h+dwMilliseconds], 0
		call	eax ; TlsCallback_0
		sub	esp, 0Ch

loc_401298:				; CODE XREF: sub_401180+FAj
		call	sub_402540
		mov	[esp+88h+dwMilliseconds], offset TopLevelExceptionFilter ; lpTopLevelExceptionFilter
		call	ds:SetUnhandledExceptionFilter
		sub	esp, 4
		mov	ds:dword_406048, eax
		call	sub_402AF0
		mov	[esp+88h+lpProcName], offset ProcName ;	"_set_invalid_parameter_handler"
		mov	[esp+88h+dwMilliseconds], eax ;	hModule
		call	ds:GetProcAddress
		sub	esp, 8
		test	eax, eax
		jz	short loc_4012D8
		mov	[esp+88h+dwMilliseconds], offset nullsub_1
		call	eax

loc_4012D8:				; CODE XREF: sub_401180+14Dj
		call	sub_402BB0
		mov	eax, ds:dword_406040
		test	eax, eax
		jz	short loc_401344
		mov	eax, ds:_acmdln
		xor	ecx, ecx
		mov	eax, [eax]
		jmp	short loc_4012FC
; ---------------------------------------------------------------------------

loc_4012F1:				; CODE XREF: sub_401180+182j
		test	dl, dl
		jz	short loc_401320
		test	cl, cl
		jz	short loc_401315

loc_4012F9:				; CODE XREF: sub_401180+18Fj
		add	eax, 1

loc_4012FC:				; CODE XREF: sub_401180+16Fj
		movzx	edx, byte ptr [eax]
		cmp	dl, 20h
		jle	short loc_4012F1
		mov	ebx, ecx
		xor	ebx, 1
		cmp	dl, 22h
		cmovz	ecx, ebx
		jmp	short loc_4012F9
; ---------------------------------------------------------------------------

loc_401311:				; CODE XREF: sub_401180+19Ej
		test	dl, dl
		jz	short loc_401320

loc_401315:				; CODE XREF: sub_401180+177j
		add	eax, 1
		movzx	edx, byte ptr [eax]
		cmp	dl, 20h
		jle	short loc_401311

loc_401320:				; CODE XREF: sub_401180+173j
					; sub_401180+193j
		movzx	edx, [ebp+var_2C]
		test	[ebp+var_30], 1
		mov	ds:dword_4063E4, eax
		mov	eax, 0Ah
		mov	ds:dword_4063EC, 400000h
		cmovnz	eax, edx
		mov	ds:dword_4063E8, eax

loc_401344:				; CODE XREF: sub_401180+164j
		mov	edx, ds:dword_406004
		xor	ebx, ebx
		lea	eax, ds:4[edx*4]
		mov	[ebp+var_6C], edx
		mov	[esp+88h+dwMilliseconds], eax ;	Size
		call	malloc
		mov	edi, ds:dword_406008
		mov	[ebp-70h], eax
		mov	eax, [ebp+var_6C]
		test	eax, eax
		jle	short loc_4013AA
		xchg	ax, ax

loc_401370:				; CODE XREF: sub_401180+225j
		mov	eax, [edi+ebx*4]
		mov	[esp+88h+dwMilliseconds], eax ;	Str
		call	strlen
		lea	esi, [eax+1]
		mov	[esp+88h+dwMilliseconds], esi ;	Size
		call	malloc
		mov	edx, [ebp-70h]
		mov	[edx+ebx*4], eax
		mov	edx, [edi+ebx*4]
		add	ebx, 1
		mov	[esp+88h+Size],	esi ; Size
		mov	[esp+88h+dwMilliseconds], eax ;	Dst
		mov	[esp+88h+lpProcName], edx ; Src
		call	memcpy
		cmp	ebx, [ebp+var_6C]
		jnz	short loc_401370
		shl	ebx, 2

loc_4013AA:				; CODE XREF: sub_401180+1ECj
		mov	eax, [ebp-70h]
		mov	dword ptr [eax+ebx], 0
		mov	ds:dword_406008, eax
		call	sub_402C40
		mov	eax, ds:__initenv
		mov	edx, ds:dword_40600C
		mov	[eax], edx
		mov	eax, ds:dword_40600C
		mov	[esp+88h+Size],	eax
		mov	eax, ds:dword_406008
		mov	[esp+88h+lpProcName], eax
		mov	eax, ds:dword_406004
		mov	[esp+88h+dwMilliseconds], eax
		call	sub_40194A
		mov	esi, ds:dword_406014
		test	esi, esi
		mov	ds:dword_406010, eax
		jz	loc_4014A7
		mov	ebx, ds:dword_406000
		test	ebx, ebx
		jnz	short loc_401411
		call	_cexit
		mov	eax, ds:dword_406010

loc_401411:				; CODE XREF: sub_401180+285j
		lea	esp, [ebp-0Ch]
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_401420:				; CODE XREF: sub_401180+82j
		mov	eax, ds:dword_406420
		mov	ebx, 1
		cmp	eax, 1
		jnz	loc_401243

loc_401433:				; CODE XREF: sub_401180+BDj
		mov	[esp+88h+dwMilliseconds], 1Fh
		call	_amsg_exit
		mov	eax, ds:dword_406420
		cmp	eax, 1
		jnz	loc_401268
		lea	esi, [esi+0]

loc_401450:				; CODE XREF: sub_401180+E2j
		mov	[esp+88h+lpProcName], offset dword_409008
		mov	[esp+88h+dwMilliseconds], offset dword_409000
		call	_initterm
		mov	ds:dword_406420, 2
		jmp	loc_401268
; ---------------------------------------------------------------------------

loc_401473:				; CODE XREF: sub_401180+68j
		mov	[esp+88h+dwMilliseconds], edx ;	lpStartupInfo
		call	ds:GetStartupInfoA
		sub	esp, 4
		jmp	loc_4011EE
; ---------------------------------------------------------------------------

loc_401484:				; CODE XREF: sub_401180+CAj
		mov	ds:dword_406420, 1
		mov	[esp+88h+lpProcName], offset dword_409018
		mov	[esp+88h+dwMilliseconds], offset dword_40900C
		call	_initterm
		jmp	loc_40125A
; ---------------------------------------------------------------------------

loc_4014A7:				; CODE XREF: sub_401180+277j
		mov	[esp+88h+dwMilliseconds], eax ;	Code
		call	exit
sub_401180	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 0Ch
		mov	ds:dword_406040, 1
		call	sub_402C60
		add	esp, 0Ch
		jmp	sub_401180
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public start
start		proc near
		sub	esp, 0Ch
		mov	ds:dword_406040, 0
		call	sub_402C60
		add	esp, 0Ch
		jmp	sub_401180
start		endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4014F0	proc near		; CODE XREF: sub_403120+6p

lpModuleName	= dword	ptr -18h
lpProcName	= dword	ptr -14h

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	eax, dword_404020
		test	eax, eax
		jz	short locret_40153B
		mov	[esp+18h+lpModuleName],	offset ModuleName ; "libgcj-12.dll"
		call	ds:GetModuleHandleA
		mov	edx, 0
		sub	esp, 4
		test	eax, eax
		jz	short loc_40152E
		mov	[esp+18h+lpProcName], offset a_jv_registercl ; "_Jv_RegisterClasses"
		mov	[esp+18h+lpModuleName],	eax ; hModule
		call	ds:GetProcAddress
		sub	esp, 8
		mov	edx, eax

loc_40152E:				; CODE XREF: sub_4014F0+26j
		test	edx, edx
		jz	short locret_40153B
		mov	[esp+18h+lpModuleName],	offset dword_404020
		call	edx

locret_40153B:				; CODE XREF: sub_4014F0+Dj
					; sub_4014F0+40j
		leave
		retn
sub_4014F0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_401540()
sub_401540	proc near		; DATA XREF: sub_403120+Bo
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_401540	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401550	proc near		; CODE XREF: sub_4015BE+80p
					; sub_401650+14p ...

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_C		= byte ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_C], al
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		lea	edx, [eax+1]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		cmp	edx, eax
		jnb	short loc_40159E
		mov	eax, [ebp+arg_0]
		mov	edx, [eax]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		lea	ecx, [edx+eax]
		movzx	edx, [ebp+var_C]
		mov	[ecx], dl
		lea	edx, [eax+1]
		mov	eax, [ebp+arg_0]
		mov	[eax+4], edx
		mov	eax, [ebp+arg_0]
		mov	edx, [eax]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		add	eax, edx
		mov	byte ptr [eax],	0
		jmp	short loc_4015B9
; ---------------------------------------------------------------------------

loc_40159E:				; CODE XREF: sub_401550+1Dj
		movsx	eax, [ebp+var_C]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], 0FFFFFFFFh
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_string_insert_c

loc_4015B9:				; CODE XREF: sub_401550+4Cj
		mov	eax, [ebp+arg_0]
		leave
		retn
sub_401550	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4015BE	proc near		; CODE XREF: sub_401650+26p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_9		= byte ptr -9
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h

loc_4015C4:				; CODE XREF: sub_4015BE+85j
					; sub_4015BE:loc_401648j
		mov	eax, [ebp+arg_4]
		movzx	eax, byte ptr [eax]
		mov	[ebp+var_9], al
		add	[ebp+arg_4], 1
		movsx	eax, [ebp+var_9]
		cmp	eax, 22h
		jz	short loc_401606
		cmp	eax, 22h
		jg	short loc_4015EA
		test	eax, eax
		jz	short loc_40164D
		cmp	eax, 0Ah
		jz	short loc_4015F1
		jmp	short loc_401630
; ---------------------------------------------------------------------------

loc_4015EA:				; CODE XREF: sub_4015BE+1Fj
		cmp	eax, 5Ch
		jz	short loc_40161B
		jmp	short loc_401630
; ---------------------------------------------------------------------------

loc_4015F1:				; CODE XREF: sub_4015BE+28j
		mov	[esp+28h+var_24], offset aN ; "\\n"
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_string_append
		jmp	short loc_401648
; ---------------------------------------------------------------------------

loc_401606:				; CODE XREF: sub_4015BE+1Aj
		mov	[esp+28h+var_24], offset asc_405047 ; "\\\""
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_string_append
		jmp	short loc_401648
; ---------------------------------------------------------------------------

loc_40161B:				; CODE XREF: sub_4015BE+2Fj
		mov	[esp+28h+var_24], offset asc_40504A ; "/"
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_string_append
		jmp	short loc_401648
; ---------------------------------------------------------------------------

loc_401630:				; CODE XREF: sub_4015BE+2Aj
					; sub_4015BE+31j
		movsx	eax, [ebp+var_9]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401550
		jmp	loc_4015C4
; ---------------------------------------------------------------------------

loc_401648:				; CODE XREF: sub_4015BE+46j
					; sub_4015BE+5Bj ...
		jmp	loc_4015C4
; ---------------------------------------------------------------------------

loc_40164D:				; CODE XREF: sub_4015BE+23j
		nop
		leave
		retn
sub_4015BE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401650	proc near		; CODE XREF: sub_4016A3+14Cp
					; sub_4016A3+19Bp ...

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	[esp+18h+var_14], 22h
		mov	eax, [ebp+arg_0]
		mov	[esp+18h+var_18], eax
		call	sub_401550
		mov	eax, [ebp+arg_4]
		mov	[esp+18h+var_14], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+18h+var_18], eax
		call	sub_4015BE
		mov	[esp+18h+var_14], 22h
		mov	eax, [ebp+arg_0]
		mov	[esp+18h+var_18], eax
		call	sub_401550
		mov	[esp+18h+var_14], 20h
		mov	eax, [ebp+arg_0]
		mov	[esp+18h+var_18], eax
		call	sub_401550
		leave
		retn
sub_401650	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4016A3	proc near		; CODE XREF: sub_40194A+1B7p
					; sub_40194A+262p

var_58		= dword	ptr -58h
var_54		= dword	ptr -54h
var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 58h
		mov	[ebp+var_10], 0
		mov	eax, [ebp+arg_4]
		mov	[esp+58h+var_58], eax
		call	g_path_is_absolute
		test	eax, eax
		jz	short loc_4016CF
		mov	eax, [ebp+arg_4]
		mov	[esp+58h+var_58], eax
		call	g_strdup
		mov	[ebp+var_C], eax
		jmp	short loc_4016EC
; ---------------------------------------------------------------------------

loc_4016CF:				; CODE XREF: sub_4016A3+1Aj
		mov	[esp+58h+var_50], 0
		mov	eax, [ebp+arg_4]
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+58h+var_58], eax
		call	g_build_filename
		mov	[ebp+var_C], eax

loc_4016EC:				; CODE XREF: sub_4016A3+2Aj
		mov	[esp+58h+var_54], 0
		mov	eax, [ebp+var_C]
		mov	[esp+58h+var_58], eax
		call	g_module_open_utf8
		mov	[ebp+var_18], eax
		cmp	[ebp+var_18], 0
		jnz	short loc_401738
		call	g_module_error
		mov	edx, ds:_iob
		add	edx, 40h
		mov	[esp+58h+var_4C], eax
		mov	eax, [ebp+var_C]
		mov	[esp+58h+var_50], eax
		mov	[esp+58h+var_54], offset aCannotLoadModu ; "Cannot load	module %s: %s\n"
		mov	[esp+58h+var_58], edx
		call	g_fprintf
		mov	[ebp+var_10], 1

loc_401738:				; CODE XREF: sub_4016A3+63j
		cmp	[ebp+var_18], 0
		jz	loc_4018F9
		lea	eax, [ebp+var_2C]
		mov	[esp+58h+var_50], eax
		mov	[esp+58h+var_54], offset aIm_module_list ; "im_module_list"
		mov	eax, [ebp+var_18]
		mov	[esp+58h+var_58], eax
		call	g_module_symbol
		test	eax, eax
		jz	loc_4018F9
		lea	eax, [ebp+var_30]
		mov	[esp+58h+var_50], eax
		mov	[esp+58h+var_54], offset aIm_module_init ; "im_module_init"
		mov	eax, [ebp+var_18]
		mov	[esp+58h+var_58], eax
		call	g_module_symbol
		test	eax, eax
		jz	loc_4018F9
		lea	eax, [ebp+var_34]
		mov	[esp+58h+var_50], eax
		mov	[esp+58h+var_54], offset aIm_module_exit ; "im_module_exit"
		mov	eax, [ebp+var_18]
		mov	[esp+58h+var_58], eax
		call	g_module_symbol
		test	eax, eax
		jz	loc_4018F9
		lea	eax, [ebp+var_38]
		mov	[esp+58h+var_50], eax
		mov	[esp+58h+var_54], offset aIm_module_crea ; "im_module_create"
		mov	eax, [ebp+var_18]
		mov	[esp+58h+var_58], eax
		call	g_module_symbol
		test	eax, eax
		jz	loc_4018F9
		mov	eax, [ebp+var_2C]
		mov	[ebp+var_1C], eax
		mov	eax, [ebp+var_30]
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_34]
		mov	[ebp+var_24], eax
		mov	eax, [ebp+var_38]
		mov	[ebp+var_28], eax
		mov	eax, [ebp+var_C]
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401650
		mov	[esp+58h+var_54], 0Ah
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401550
		lea	eax, [ebp+var_40]
		mov	[esp+58h+var_54], eax
		lea	eax, [ebp+var_3C]
		mov	[esp+58h+var_58], eax
		mov	eax, [ebp+var_1C]
		call	eax
		mov	[ebp+var_14], 0
		jmp	loc_4018D6
; ---------------------------------------------------------------------------

loc_401825:				; CODE XREF: sub_4016A3+23Bj
		mov	eax, [ebp+var_3C]
		mov	edx, [ebp+var_14]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	eax, [eax]
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401650
		mov	eax, [ebp+var_3C]
		mov	edx, [ebp+var_14]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	eax, [eax+4]
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401650
		mov	eax, [ebp+var_3C]
		mov	edx, [ebp+var_14]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	eax, [eax+8]
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401650
		mov	eax, [ebp+var_3C]
		mov	edx, [ebp+var_14]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	eax, [eax+0Ch]
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401650
		mov	eax, [ebp+var_3C]
		mov	edx, [ebp+var_14]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	eax, [eax+10h]
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401650
		mov	[esp+58h+var_54], 0Ah
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401550
		add	[ebp+var_14], 1

loc_4018D6:				; CODE XREF: sub_4016A3+17Dj
		mov	edx, [ebp+var_14]
		mov	eax, [ebp+var_40]
		cmp	edx, eax
		jb	loc_401825
		mov	[esp+58h+var_54], 0Ah
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+var_58], eax
		call	sub_401550
		jmp	short loc_401929
; ---------------------------------------------------------------------------

loc_4018F9:				; CODE XREF: sub_4016A3+99j
					; sub_4016A3+BBj ...
		call	g_module_error
		mov	edx, ds:_iob
		add	edx, 40h
		mov	[esp+58h+var_4C], eax
		mov	eax, [ebp+var_C]
		mov	[esp+58h+var_50], eax
		mov	[esp+58h+var_54], offset aSDoesNotExport ; "%s does not	export GTK+ IM module API: "...
		mov	[esp+58h+var_58], edx
		call	g_fprintf
		mov	[ebp+var_10], 1

loc_401929:				; CODE XREF: sub_4016A3+254j
		mov	eax, [ebp+var_C]
		mov	[esp+58h+var_58], eax
		call	g_free
		cmp	[ebp+var_18], 0
		jz	short loc_401945
		mov	eax, [ebp+var_18]
		mov	[esp+58h+var_58], eax
		call	g_module_close

loc_401945:				; CODE XREF: sub_4016A3+295j
		mov	eax, [ebp+var_10]
		leave
		retn
sub_4016A3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40194A	proc near		; CODE XREF: sub_401180+265p

var_68		= dword	ptr -68h
var_64		= dword	ptr -64h
var_60		= dword	ptr -60h
var_5C		= dword	ptr -5Ch
var_58		= dword	ptr -58h
var_54		= dword	ptr -54h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		push	edi
		push	esi
		and	esp, 0FFFFFFF0h
		sub	esp, 60h
		call	sub_402C40
		mov	[esp+68h+var_10], 0
		mov	[esp+68h+var_14], 0
		mov	[esp+68h+var_18], 1
		cmp	[ebp+arg_0], 1
		jle	short loc_4019B6
		mov	eax, [ebp+arg_4]
		add	eax, 4
		mov	eax, [eax]
		mov	edx, eax
		mov	eax, offset aUpdateCache ; "--update-cache"
		mov	ecx, 0Fh
		mov	esi, edx
		mov	edi, eax
		repe cmpsb
		setnbe	dl
		setb	al
		mov	ecx, edx
		sub	cl, al
		mov	eax, ecx
		movsx	eax, al
		test	eax, eax
		jnz	short loc_4019B6
		call	gtk_rc_get_im_module_file
		mov	[esp+68h+var_14], eax
		mov	[esp+68h+var_18], 2

loc_4019B6:				; CODE XREF: sub_40194A+2Cj
					; sub_40194A+59j
		mov	[esp+68h+var_68], offset word_4050E2
		call	g_string_new
		mov	[esp+68h+var_20], eax
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		mov	[esp+68h+var_54], 1Ch
		mov	[esp+68h+var_58], 18h
		mov	[esp+68h+var_5C], 2
		mov	[esp+68h+var_60], eax
		mov	[esp+68h+var_64], offset aGtkInputMethod ; "# GTK+ Input Method	Modules	file\n#	Aut"...
		mov	eax, [esp+68h+var_20]
		mov	[esp+68h+var_68], eax
		call	g_string_append_printf
		mov	eax, [ebp+arg_0]
		cmp	eax, [esp+68h+var_18]
		jnz	loc_401B7A
		call	gtk_rc_get_im_module_path
		mov	[esp+68h+var_24], eax
		mov	eax, [esp+68h+var_24]
		mov	[esp+68h+var_60], eax
		mov	[esp+68h+var_64], offset aModulespathS ; "# ModulesPath	= %s\n#\n"
		mov	eax, [esp+68h+var_20]
		mov	[esp+68h+var_68], eax
		call	g_string_append_printf
		mov	eax, [esp+68h+var_24]
		mov	[esp+68h+var_68], eax
		call	pango_split_file_list
		mov	[esp+68h+var_28], eax
		mov	[esp+68h+var_5C], 0
		mov	[esp+68h+var_60], 0
		mov	[esp+68h+var_64], offset loc_401CD8
		mov	[esp+68h+var_68], offset loc_401CE0
		call	g_hash_table_new_full
		mov	[esp+68h+var_2C], eax
		mov	[esp+68h+var_1C], 0
		jmp	loc_401B57
; ---------------------------------------------------------------------------

loc_401A72:				; CODE XREF: sub_40194A+21Cj
		mov	eax, [esp+68h+var_1C]
		shl	eax, 2
		add	eax, [esp+68h+var_28]
		mov	eax, [eax]
		mov	[esp+68h+var_64], eax
		mov	eax, [esp+68h+var_2C]
		mov	[esp+68h+var_68], eax
		call	g_hash_table_lookup
		test	eax, eax
		jnz	loc_401B52
		mov	eax, [esp+68h+var_1C]
		shl	eax, 2
		add	eax, [esp+68h+var_28]
		mov	eax, [eax]
		mov	[esp+68h+var_60], 0
		mov	[esp+68h+var_64], 0
		mov	[esp+68h+var_68], eax
		call	g_dir_open_utf8
		mov	[esp+68h+var_30], eax
		cmp	[esp+68h+var_30], 0
		jz	short loc_401B2D
		jmp	short loc_401B0A
; ---------------------------------------------------------------------------

loc_401AC9:				; CODE XREF: sub_40194A+1D5j
		mov	[esp+68h+var_64], offset a_dll ; ".dll"
		mov	eax, [esp+68h+var_34]
		mov	[esp+68h+var_68], eax
		call	g_str_has_suffix
		test	eax, eax
		jz	short loc_401B0A
		mov	eax, [esp+68h+var_1C]
		shl	eax, 2
		add	eax, [esp+68h+var_28]
		mov	eax, [eax]
		mov	edx, [esp+68h+var_20]
		mov	[esp+68h+var_60], edx
		mov	edx, [esp+68h+var_34]
		mov	[esp+68h+var_64], edx
		mov	[esp+68h+var_68], eax
		call	sub_4016A3
		or	[esp+68h+var_10], eax

loc_401B0A:				; CODE XREF: sub_40194A+17Dj
					; sub_40194A+195j
		mov	eax, [esp+68h+var_30]
		mov	[esp+68h+var_68], eax
		call	g_dir_read_name_utf8
		mov	[esp+68h+var_34], eax
		cmp	[esp+68h+var_34], 0
		jnz	short loc_401AC9
		mov	eax, [esp+68h+var_30]
		mov	[esp+68h+var_68], eax
		call	g_dir_close

loc_401B2D:				; CODE XREF: sub_40194A+17Bj
		mov	eax, [esp+68h+var_1C]
		shl	eax, 2
		add	eax, [esp+68h+var_28]
		mov	eax, [eax]
		mov	[esp+68h+var_60], 1
		mov	[esp+68h+var_64], eax
		mov	eax, [esp+68h+var_2C]
		mov	[esp+68h+var_68], eax
		call	g_hash_table_insert

loc_401B52:				; CODE XREF: sub_40194A+147j
		add	[esp+68h+var_1C], 1

loc_401B57:				; CODE XREF: sub_40194A+123j
		mov	eax, [esp+68h+var_1C]
		shl	eax, 2
		add	eax, [esp+68h+var_28]
		mov	eax, [eax]
		test	eax, eax
		jnz	loc_401A72
		mov	eax, [esp+68h+var_2C]
		mov	[esp+68h+var_68], eax
		call	g_hash_table_destroy
		jmp	short loc_401BCF
; ---------------------------------------------------------------------------

loc_401B7A:				; CODE XREF: sub_40194A+B8j
		call	g_get_current_dir_utf8
		mov	[esp+68h+var_38], eax
		mov	eax, [esp+68h+var_18]
		mov	[esp+68h+var_C], eax
		jmp	short loc_401BBA
; ---------------------------------------------------------------------------

loc_401B8D:				; CODE XREF: sub_40194A+277j
		mov	eax, [esp+68h+var_C]
		shl	eax, 2
		add	eax, [ebp+arg_4]
		mov	eax, [eax]
		mov	edx, [esp+68h+var_20]
		mov	[esp+68h+var_60], edx
		mov	[esp+68h+var_64], eax
		mov	eax, [esp+68h+var_38]
		mov	[esp+68h+var_68], eax
		call	sub_4016A3
		or	[esp+68h+var_10], eax
		add	[esp+68h+var_C], 1

loc_401BBA:				; CODE XREF: sub_40194A+241j
		mov	eax, [esp+68h+var_C]
		cmp	eax, [ebp+arg_0]
		jl	short loc_401B8D
		mov	eax, [esp+68h+var_38]
		mov	[esp+68h+var_68], eax
		call	g_free

loc_401BCF:				; CODE XREF: sub_40194A+22Ej
		cmp	[esp+68h+var_10], 0
		jnz	short loc_401C53
		cmp	[esp+68h+var_14], 0
		jz	short loc_401C3D
		mov	[esp+68h+var_3C], 0
		mov	eax, [esp+68h+var_20]
		mov	eax, [eax]
		lea	edx, [esp+68h+var_3C]
		mov	[esp+68h+var_5C], edx
		mov	[esp+68h+var_60], 0FFFFFFFFh
		mov	[esp+68h+var_64], eax
		mov	eax, [esp+68h+var_14]
		mov	[esp+68h+var_68], eax
		call	g_file_set_contents
		test	eax, eax
		jnz	short loc_401C53
		mov	eax, [esp+68h+var_3C]
		mov	eax, [eax+8]
		mov	edx, ds:_iob
		add	edx, 40h
		mov	[esp+68h+var_60], eax
		mov	[esp+68h+var_64], offset aS ; "%s\n"
		mov	[esp+68h+var_68], edx
		call	g_fprintf
		mov	[esp+68h+var_10], 1
		jmp	short loc_401C53
; ---------------------------------------------------------------------------

loc_401C3D:				; CODE XREF: sub_40194A+291j
		mov	eax, [esp+68h+var_20]
		mov	eax, [eax]
		mov	[esp+68h+var_64], eax
		mov	[esp+68h+var_68], offset aS ; "%s\n"
		call	g_print

loc_401C53:				; CODE XREF: sub_40194A+28Aj
					; sub_40194A+2C3j ...
		cmp	[esp+68h+var_10], 0
		setnz	al
		movzx	eax, al
		lea	esp, [ebp-8]
		pop	esi
		pop	edi
		pop	ebp
		retn
sub_40194A	endp

; ---------------------------------------------------------------------------
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION gtk_rc_get_im_module_file]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION gtk_rc_get_im_module_path]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION pango_split_file_list]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_module_open_utf8]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_module_error]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_module_symbol]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_module_close]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_string_insert_c]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_string_append]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_path_is_absolute]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strdup]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_build_filename]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_fprintf]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_free]
		align 4

loc_401CD8:				; DATA XREF: sub_40194A+103o
		jmp	ds:g_str_equal
; ---------------------------------------------------------------------------
		align 10h

loc_401CE0:				; DATA XREF: sub_40194A+10Bo
		jmp	ds:g_str_hash
; ---------------------------------------------------------------------------
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_string_new]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_string_append_printf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_new_full]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_lookup]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_open_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_str_has_suffix]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_read_name_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_close]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_insert]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_destroy]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_get_current_dir_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_file_set_contents]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_print]
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public TlsCallback_1
TlsCallback_1	proc near		; DATA XREF: .CRT:00409024o

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_4]
		test	eax, eax
		jz	short loc_401D70
		cmp	eax, 3
		jz	short loc_401D70
		mov	eax, 1
		add	esp, 1Ch
		retn	0Ch
; ---------------------------------------------------------------------------
		align 10h

loc_401D70:				; CODE XREF: TlsCallback_1+9j
					; TlsCallback_1+Ej
		mov	edx, [esp+1Ch+arg_8]
		mov	[esp+1Ch+var_18], eax
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+var_14], edx
		mov	[esp+1Ch+var_1C], eax
		call	sub_402F60
		mov	eax, 1
		add	esp, 1Ch
		retn	0Ch
TlsCallback_1	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public TlsCallback_0
TlsCallback_0	proc near		; CODE XREF: sub_401180+113p
					; DATA XREF: .rdata:off_4051B4o ...

lpLibFileName	= dword	ptr -1Ch
lpProcName	= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		push	ebx
		sub	esp, 18h
		mov	edx, ds:_winmajor
		mov	eax, [esp+1Ch+arg_4]
		cmp	dword ptr [edx], 3
		jbe	short loc_401DE4
		cmp	dword_404010, 2
		jz	short loc_401DC6
		mov	dword_404010, 2

loc_401DC6:				; CODE XREF: TlsCallback_0+1Aj
		cmp	eax, 2
		jz	loc_401ED3
		cmp	eax, 1
		jz	loc_401E72

loc_401DD8:				; CODE XREF: TlsCallback_0+EEj
					; TlsCallback_0+13Ej
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_401DE4:				; CODE XREF: TlsCallback_0+11j
		mov	ds:dword_406410, 1
		mov	[esp+1Ch+lpLibFileName], offset	LibFileName ; "mingwm10.dll"
		call	ds:LoadLibraryA
		sub	esp, 4
		test	eax, eax
		mov	ds:hLibModule, eax
		jz	loc_401F03
		mov	ebx, ds:GetProcAddress
		mov	[esp+1Ch+lpProcName], offset a__mingwthr_rem ; "__mingwthr_remove_key_dtor"
		mov	[esp+1Ch+lpLibFileName], eax ; hModule
		call	ebx ; GetProcAddress
		mov	ds:dword_40640C, eax
		mov	eax, ds:hLibModule
		sub	esp, 8
		mov	[esp+1Ch+lpProcName], offset a__mingwthr_key ; "__mingwthr_key_dtor"
		mov	[esp+1Ch+lpLibFileName], eax ; hModule
		call	ebx ; GetProcAddress
		mov	edx, ds:hLibModule
		sub	esp, 8
		test	edx, edx
		mov	ds:dword_406408, eax
		jz	loc_401F03
		mov	ecx, ds:dword_40640C
		test	ecx, ecx
		jz	short loc_401E93
		test	eax, eax
		jz	short loc_401E93
		mov	dword_404010, 1
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_401E72:				; CODE XREF: TlsCallback_0+32j
		mov	eax, [esp+1Ch+arg_8]
		mov	[esp+1Ch+lpProcName], 1
		mov	[esp+1Ch+var_14], eax
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+lpLibFileName], eax
		call	sub_402F60
		jmp	loc_401DD8
; ---------------------------------------------------------------------------

loc_401E93:				; CODE XREF: TlsCallback_0+B6j
					; TlsCallback_0+BAj
		mov	ds:dword_406408, 0
		mov	ds:dword_40640C, 0
		mov	[esp+1Ch+lpLibFileName], edx ; hLibModule
		call	ds:FreeLibrary
		sub	esp, 4

loc_401EB3:				; CODE XREF: TlsCallback_0+177j
		mov	ds:hLibModule, 0
		mov	eax, 1
		mov	dword_404010, 0
		add	esp, 18h
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_401ED3:				; CODE XREF: TlsCallback_0+29j
		mov	ebx, offset dword_409030
		cmp	ebx, offset dword_409030
		jz	loc_401DD8

loc_401EE4:				; CODE XREF: TlsCallback_0+155j
		mov	eax, [ebx]
		test	eax, eax
		jz	short loc_401EEC
		call	eax

loc_401EEC:				; CODE XREF: TlsCallback_0+148j
		add	ebx, 4
		cmp	ebx, offset dword_409030
		jnz	short loc_401EE4
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_401F03:				; CODE XREF: TlsCallback_0+65j
					; TlsCallback_0+A8j
		mov	ds:dword_406408, 0
		mov	ds:dword_40640C, 0
		jmp	short loc_401EB3
TlsCallback_0	endp

; ---------------------------------------------------------------------------
		align 10h
		xor	eax, eax
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401F30	proc near		; DATA XREF: .CRT:00409014o
		mov	eax, ds:__lconv_init
		jmp	eax
sub_401F30	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401F40	proc near		; CODE XREF: sub_401F60+10p
					; sub_401F60+36p ...

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		retn
sub_401F40	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401F50	proc near		; CODE XREF: sub_401060+59p
					; sub_401F60+71p ...

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		retn
sub_401F50	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_401F60(_onexit_t)
sub_401F60	proc near		; CODE XREF: sub_402020+Ap

Func		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
arg_0		= dword	ptr  4

		push	ebx
		sub	esp, 28h
		mov	eax, ds:dword_406418
		mov	ebx, [esp+2Ch+arg_0]
		mov	[esp+2Ch+Func],	eax
		call	sub_401F40
		cmp	eax, 0FFFFFFFFh
		mov	[esp+2Ch+var_14], eax
		jz	loc_402000
		mov	[esp+2Ch+Func],	8
		call	_lock
		mov	eax, ds:dword_406418
		mov	[esp+2Ch+Func],	eax
		call	sub_401F40
		mov	[esp+2Ch+var_14], eax
		mov	eax, ds:dword_406414
		mov	[esp+2Ch+Func],	eax
		call	sub_401F40
		mov	[esp+2Ch+Func],	ebx
		mov	[esp+2Ch+var_10], eax
		lea	eax, [esp+2Ch+var_10]
		mov	[esp+2Ch+var_24], eax
		lea	eax, [esp+2Ch+var_14]
		mov	[esp+2Ch+var_28], eax
		call	__dllonexit
		mov	ebx, eax
		mov	eax, [esp+2Ch+var_14]
		mov	[esp+2Ch+Func],	eax
		call	sub_401F50
		mov	ds:dword_406418, eax
		mov	eax, [esp+2Ch+var_10]
		mov	[esp+2Ch+Func],	eax
		call	sub_401F50
		mov	[esp+2Ch+Func],	8
		mov	ds:dword_406414, eax
		call	_unlock
		add	esp, 28h
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402000:				; CODE XREF: sub_401F60+1Cj
		mov	[esp+2Ch+Func],	ebx ; Func
		call	ds:_onexit
		add	esp, 28h
		mov	ebx, eax
		mov	eax, ebx
		pop	ebx
		retn
sub_401F60	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_402020(_onexit_t)
sub_402020	proc near		; CODE XREF: sub_402C40-27p
					; sub_403120+12p

var_1C		= dword	ptr -1Ch
arg_0		= dword	ptr  4

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+var_1C], eax ;	_onexit_t
		call	sub_401F60
		cmp	eax, 1
		sbb	eax, eax
		add	esp, 1Ch
		retn
sub_402020	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; LONG __stdcall TopLevelExceptionFilter(struct	_EXCEPTION_POINTERS *ExceptionInfo)
TopLevelExceptionFilter	proc near	; DATA XREF: sub_401180+11Do

var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_10		= dword	ptr -10h
ExceptionInfo	= dword	ptr  4

		push	esi
		push	ebx
		sub	esp, 24h
		mov	ebx, [esp+2Ch+ExceptionInfo]
		mov	eax, [ebx]
		mov	eax, [eax]
		cmp	eax, 0C0000091h
		ja	short loc_402097
		cmp	eax, 0C000008Dh
		jb	short loc_4020C4

loc_40205B:				; CODE XREF: TopLevelExceptionFilter+6Aj
		mov	esi, 1

loc_402060:				; CODE XREF: TopLevelExceptionFilter+C7j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 8
		call	signal
		cmp	eax, 1
		jz	loc_402190
		test	eax, eax
		jz	short loc_4020AC
		mov	[esp+2Ch+var_2C], 8
		call	eax
		mov	eax, 0FFFFFFFFh

loc_40208F:				; CODE XREF: TopLevelExceptionFilter+120j
					; TopLevelExceptionFilter+13Ej	...
		add	esp, 24h
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_402097:				; CODE XREF: TopLevelExceptionFilter+12j
		cmp	eax, 0C0000094h
		jz	short loc_402105
		cmp	eax, 0C0000096h
		jz	short loc_4020D2
		cmp	eax, 0C0000093h
		jz	short loc_40205B

loc_4020AC:				; CODE XREF: TopLevelExceptionFilter+3Fj
					; TopLevelExceptionFilter+90j ...
		mov	eax, ds:dword_406048
		test	eax, eax
		jz	loc_402183
		mov	[esp+2Ch+ExceptionInfo], ebx
		add	esp, 24h
		pop	ebx
		pop	esi
		jmp	eax
; ---------------------------------------------------------------------------

loc_4020C4:				; CODE XREF: TopLevelExceptionFilter+19j
		cmp	eax, 0C0000005h
		jz	short loc_402110
		cmp	eax, 0C000001Dh
		jnz	short loc_4020AC

loc_4020D2:				; CODE XREF: TopLevelExceptionFilter+63j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 4
		call	signal
		cmp	eax, 1
		jz	short loc_402147
		test	eax, eax
		jz	short loc_4020AC
		mov	[esp+2Ch+var_2C], 4
		call	eax
		add	esp, 24h
		mov	eax, 0FFFFFFFFh
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_402105:				; CODE XREF: TopLevelExceptionFilter+5Cj
		xor	esi, esi
		jmp	loc_402060
; ---------------------------------------------------------------------------
		align 10h

loc_402110:				; CODE XREF: TopLevelExceptionFilter+89j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 0Bh
		call	signal
		cmp	eax, 1
		jz	short loc_402165
		test	eax, eax
		jz	loc_4020AC
		mov	[esp+2Ch+var_2C], 0Bh
		call	eax
		add	esp, 24h
		mov	eax, 0FFFFFFFFh
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_402147:				; CODE XREF: TopLevelExceptionFilter+A9j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 4
		call	signal
		mov	eax, 0FFFFFFFFh
		jmp	loc_40208F
; ---------------------------------------------------------------------------

loc_402165:				; CODE XREF: TopLevelExceptionFilter+E7j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 0Bh
		call	signal
		mov	eax, 0FFFFFFFFh
		jmp	loc_40208F
; ---------------------------------------------------------------------------

loc_402183:				; CODE XREF: TopLevelExceptionFilter+73j
		xor	eax, eax
		jmp	loc_40208F
; ---------------------------------------------------------------------------
		align 10h

loc_402190:				; CODE XREF: TopLevelExceptionFilter+37j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 8
		call	signal
		test	esi, esi
		mov	eax, 0FFFFFFFFh
		jz	loc_40208F
		mov	[esp+2Ch+var_10], eax
		call	sub_402BB0
		mov	eax, [esp+2Ch+var_10]
		jmp	loc_40208F
TopLevelExceptionFilter	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 3Ch
		mov	eax, ds:dword_40604C
		fld	qword ptr [esp+48h]
		fld	qword ptr [esp+50h]
		fld	qword ptr [esp+58h]
		test	eax, eax
		jz	short loc_402211
		fxch	st(2)
		mov	edx, [esp+40h]
		fstp	qword ptr [esp+18h]
		fstp	qword ptr [esp+20h]
		fstp	qword ptr [esp+28h]
		mov	[esp+10h], edx
		mov	edx, [esp+44h]
		mov	[esp+14h], edx
		lea	edx, [esp+10h]
		mov	[esp], edx
		call	eax ; dword_40604C
		jmp	short loc_402217
; ---------------------------------------------------------------------------

loc_402211:				; CODE XREF: .text:004021E6j
		fstp	st
		fstp	st
		fstp	st

loc_402217:				; CODE XREF: .text:0040220Fj
		add	esp, 3Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402220	proc near		; CODE XREF: sub_401060+F7p

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		mov	ds:dword_40604C, eax
		jmp	__setusermatherr
sub_402220	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402230	proc near		; DATA XREF: sub_401060:loc_401150o

File		= dword	ptr -3Ch
Format		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= qword	ptr -2Ch
var_24		= qword	ptr -24h
var_1C		= qword	ptr -1Ch
arg_0		= dword	ptr  4

		sub	esp, 3Ch
		mov	edx, offset aUnknownError ; "Unknown error"
		mov	eax, [esp+3Ch+arg_0]
		mov	ecx, [eax]
		sub	ecx, 1
		cmp	ecx, 5
		ja	short loc_40224D
		mov	edx, ds:off_4052D4[ecx*4]

loc_40224D:				; CODE XREF: sub_402230+14j
		fld	qword ptr [eax+18h]
		fstp	[esp+3Ch+var_1C]
		fld	qword ptr [eax+10h]
		fstp	[esp+3Ch+var_24]
		fld	qword ptr [eax+8]
		fstp	[esp+3Ch+var_2C]
		mov	eax, [eax+4]
		mov	[esp+3Ch+var_34], edx
		mov	[esp+3Ch+Format], offset Format	; "_matherr(): %s in %s(%g, %g)	 (retval=%"...
		mov	[esp+3Ch+var_30], eax
		mov	eax, ds:_iob
		add	eax, 40h
		mov	[esp+3Ch+File],	eax ; File
		call	fprintf
		xor	eax, eax
		add	esp, 3Ch
		retn
sub_402230	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402290	proc near		; CODE XREF: sub_401060+75p
		xor	eax, eax
		retn
sub_402290	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

; int __cdecl sub_4022A0(char *Format, char ArgList)
sub_4022A0	proc near		; CODE XREF: sub_402300+1DDp
					; sub_402300+204p ...

Str		= dword	ptr -1Ch
Size		= dword	ptr -18h
Count		= dword	ptr -14h
File		= dword	ptr -10h
Format		= dword	ptr  4
ArgList		= byte ptr  8

		push	ebx
		sub	esp, 18h
		mov	eax, ds:_iob
		mov	[esp+1Ch+Count], 1Bh ; Count
		lea	ebx, [esp+1Ch+ArgList]
		mov	[esp+1Ch+Size],	1 ; Size
		mov	[esp+1Ch+Str], offset aMingwW64Runtim ;	"Mingw-w64 runtime failure:\n"
		add	eax, 40h
		mov	[esp+1Ch+File],	eax ; File
		call	fwrite
		mov	eax, [esp+1Ch+Format]
		mov	[esp+1Ch+Count], ebx ; ArgList
		mov	[esp+1Ch+Size],	eax ; Format
		mov	eax, ds:_iob
		add	eax, 40h
		mov	[esp+1Ch+Str], eax ; File
		call	vfprintf
		call	abort
sub_4022A0	endp

; ---------------------------------------------------------------------------
		jmp	short sub_402300
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __thiscall sub_402300(size_t Size)
sub_402300	proc near		; CODE XREF: .text:004022F1j
					; sub_402540+B8p ...

lpAddress	= dword	ptr -7Ch
lpBuffer	= dword	ptr -78h
dwLength	= dword	ptr -74h
lpflOldProtect	= dword	ptr -70h
var_64		= dword	ptr -64h
Src		= dword	ptr -60h
var_58		= _MEMORY_BASIC_INFORMATION ptr	-58h
Buffer		= _MEMORY_BASIC_INFORMATION ptr	-3Ch
flOldProtect	= dword	ptr -20h

		push	ebp
		mov	ebp, ecx
		push	edi
		push	esi
		push	ebx
		mov	ebx, eax
		sub	esp, 6Ch
		mov	ecx, ds:dword_406058
		mov	[esp+7Ch+Src], edx
		test	ecx, ecx
		jle	loc_4024E2
		mov	eax, ds:dword_406054
		xor	esi, esi

loc_402324:				; CODE XREF: sub_402300+41j
		mov	edx, [eax+4]
		cmp	ebx, edx
		jb	short loc_402339
		mov	edi, [eax+8]
		add	edx, [edi+8]
		cmp	ebx, edx
		jb	loc_402410

loc_402339:				; CODE XREF: sub_402300+29j
		add	esi, 1
		add	eax, 0Ch
		cmp	esi, ecx
		jnz	short loc_402324

loc_402343:				; CODE XREF: sub_402300+1E4j
		mov	[esp+7Ch+lpAddress], ebx
		call	sub_402900
		test	eax, eax
		mov	edi, eax
		jz	loc_402509
		lea	edx, [esi+esi*2]
		mov	esi, ds:dword_406054
		shl	edx, 2
		add	esi, edx
		mov	[esi+8], eax
		mov	dword ptr [esi], 0
		mov	[esp+7Ch+var_64], edx
		call	sub_4029E0
		mov	edx, [esp+7Ch+var_64]
		add	eax, [edi+0Ch]
		mov	[esi+4], eax
		lea	eax, [esp+7Ch+Buffer]
		mov	esi, ds:VirtualQuery
		mov	[esp+7Ch+lpBuffer], eax	; lpBuffer
		mov	eax, ds:dword_406054
		mov	[esp+7Ch+dwLength], 1Ch	; dwLength
		mov	eax, [eax+edx+4]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		mov	edx, [esp+7Ch+var_64]
		jz	loc_4024E9
		mov	eax, [esp+7Ch+Buffer.Protect]
		cmp	eax, 4
		jnz	loc_402491

loc_4023BF:				; CODE XREF: sub_402300+194j
					; sub_402300+1C6j
		add	ds:dword_406058, 1

loc_4023C6:				; CODE XREF: sub_402300+116j
		lea	eax, [esp+7Ch+var_58]
		mov	[esp+7Ch+dwLength], 1Ch	; dwLength
		mov	[esp+7Ch+lpBuffer], eax	; lpBuffer
		mov	[esp+7Ch+lpAddress], ebx ; lpAddress
		call	esi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		jz	loc_402519
		mov	eax, [esp+7Ch+var_58.Protect]
		cmp	eax, 4
		jnz	short loc_402418

loc_4023EF:				; CODE XREF: sub_402300+11Bj
		mov	eax, [esp+7Ch+Src]
		mov	[esp+7Ch+dwLength], ebp	; Size
		mov	[esp+7Ch+lpAddress], ebx ; Dst
		mov	[esp+7Ch+lpBuffer], eax	; Src
		call	memcpy

loc_402403:				; CODE XREF: sub_402300+162j
					; sub_402300+167j
		add	esp, 6Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402410:				; CODE XREF: sub_402300+33j
		mov	esi, ds:VirtualQuery
		jmp	short loc_4023C6
; ---------------------------------------------------------------------------

loc_402418:				; CODE XREF: sub_402300+EDj
		cmp	eax, 40h
		jz	short loc_4023EF
		mov	eax, [esp+7Ch+var_58.RegionSize]
		lea	edi, [esp+7Ch+flOldProtect]
		mov	esi, ds:VirtualProtect
		mov	[esp+7Ch+lpflOldProtect], edi ;	lpflOldProtect
		mov	[esp+7Ch+dwLength], 40h	; flNewProtect
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+var_58.BaseAddress]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualProtect
		sub	esp, 10h
		mov	eax, [esp+7Ch+Src]
		mov	[esp+7Ch+dwLength], ebp	; Size
		mov	[esp+7Ch+lpAddress], ebx ; Dst
		mov	[esp+7Ch+lpBuffer], eax	; Src
		call	memcpy
		mov	eax, [esp+7Ch+var_58.Protect]
		cmp	eax, 40h
		jz	short loc_402403
		cmp	eax, 4
		jz	short loc_402403
		mov	eax, [esp+7Ch+flOldProtect]
		mov	[esp+7Ch+lpflOldProtect], edi ;	lpflOldProtect
		mov	[esp+7Ch+dwLength], eax	; flNewProtect
		mov	eax, [esp+7Ch+var_58.RegionSize]
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+var_58.BaseAddress]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualProtect
		sub	esp, 10h
		add	esp, 6Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------

loc_402491:				; CODE XREF: sub_402300+B9j
		cmp	eax, 40h
		jz	loc_4023BF
		mov	eax, [esp+7Ch+Buffer.RegionSize]
		add	edx, ds:dword_406054
		mov	[esp+7Ch+dwLength], 40h	; flNewProtect
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+Buffer.BaseAddress]
		mov	[esp+7Ch+lpflOldProtect], edx ;	lpflOldProtect
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	ds:VirtualProtect
		sub	esp, 10h
		test	eax, eax
		jnz	loc_4023BF
		call	ds:GetLastError
		mov	[esp+7Ch+lpAddress], offset aVirtualprotect ; "	 VirtualProtect	failed with code 0x%x"
		mov	[esp+7Ch+lpBuffer], eax	; ArgList
		call	sub_4022A0
; ---------------------------------------------------------------------------

loc_4024E2:				; CODE XREF: sub_402300+17j
		xor	esi, esi
		jmp	loc_402343
; ---------------------------------------------------------------------------

loc_4024E9:				; CODE XREF: sub_402300+ACj
		mov	eax, ds:dword_406054
		mov	eax, [eax+edx+4]
		mov	[esp+7Ch+dwLength], eax
		mov	eax, [edi+8]
		mov	[esp+7Ch+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		mov	[esp+7Ch+lpBuffer], eax	; ArgList
		call	sub_4022A0
; ---------------------------------------------------------------------------

loc_402509:				; CODE XREF: sub_402300+4Fj
		mov	[esp+7Ch+lpBuffer], ebx	; ArgList
		mov	[esp+7Ch+lpAddress], offset aAddressPHasNoI ; "Address %p has no image-section"
		call	sub_4022A0
; ---------------------------------------------------------------------------

loc_402519:				; CODE XREF: sub_402300+E0j
		mov	[esp+7Ch+dwLength], ebx
		mov	[esp+7Ch+lpBuffer], 1Ch	; ArgList
		mov	[esp+7Ch+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		call	sub_4022A0
sub_402300	endp

; ---------------------------------------------------------------------------
		db 0EBh	; 
		db  0Dh
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402540	proc near		; CODE XREF: sub_401180:loc_401298p

lpAddress	= dword	ptr -58h
lpBuffer	= dword	ptr -54h
dwLength	= dword	ptr -50h
lpflOldProtect	= dword	ptr -4Ch
Buffer		= _MEMORY_BASIC_INFORMATION ptr	-3Ch
var_20		= dword	ptr -20h
flOldProtect	= dword	ptr -1Ch

		push	ebp
		mov	ebp, esp
		push	edi
		push	esi
		push	ebx
		sub	esp, 4Ch
		mov	eax, ds:dword_406050
		test	eax, eax
		jz	short loc_402560

loc_402552:				; CODE XREF: sub_402540+66j
					; sub_402540+96j ...
		lea	esp, [ebp-0Ch]
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402560:				; CODE XREF: sub_402540+10j
		mov	ds:dword_406050, 1
		call	sub_402940
		lea	eax, [eax+eax*2]
		lea	eax, ds:1Eh[eax*4]
		and	eax, 0FFFFFFF0h
		call	sub_403000
		mov	ds:dword_406058, 0
		sub	esp, eax
		lea	eax, [esp+58h+Buffer.BaseAddress+3]
		and	eax, 0FFFFFFF0h
		mov	ds:dword_406054, eax
		mov	eax, offset dword_405404
		sub	eax, offset dword_405404
		cmp	eax, 7
		jle	short loc_402552
		cmp	eax, 0Bh
		mov	ebx, offset dword_405404
		jle	loc_4026A0
		mov	eax, ds:dword_405404
		test	eax, eax
		jnz	short loc_4025D0
		mov	eax, ds:dword_405408
		test	eax, eax
		jz	loc_40268C
		lea	esi, [esi+0]

loc_4025D0:				; CODE XREF: sub_402540+7Dj
					; sub_402540+164j ...
		cmp	ebx, offset dword_405404
		jnb	loc_402552
		mov	esi, 400000h

loc_4025E1:				; CODE XREF: sub_402540+C3j
		mov	eax, [ebx+4]
		mov	ecx, 4		; Size
		add	eax, esi
		mov	edx, [eax]
		add	edx, [ebx]
		add	ebx, 8
		mov	[ebp+flOldProtect], edx
		lea	edx, [ebp+flOldProtect]
		call	sub_402300
		cmp	ebx, offset dword_405404
		jb	short loc_4025E1

loc_402605:				; CODE XREF: sub_402540+24Bj
		mov	ecx, ds:dword_406058
		test	ecx, ecx
		jle	loc_402552
		xor	ebx, ebx
		xor	esi, esi
		mov	edi, ds:VirtualQuery
		jmp	short loc_402632
; ---------------------------------------------------------------------------
		align 10h

loc_402620:				; CODE XREF: sub_402540+FDj
					; sub_402540+14Aj
		add	esi, 1
		add	ebx, 0Ch
		cmp	esi, ds:dword_406058
		jge	loc_402552

loc_402632:				; CODE XREF: sub_402540+DDj
		mov	eax, ds:dword_406054
		add	eax, ebx
		mov	edx, [eax]
		test	edx, edx
		jz	short loc_402620
		lea	edx, [ebp+Buffer]
		mov	[esp+58h+dwLength], 1Ch	; dwLength
		mov	[esp+58h+lpBuffer], edx	; lpBuffer
		mov	eax, [eax+4]
		mov	[esp+58h+lpAddress], eax ; lpAddress
		call	edi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		jz	loc_4027B2
		lea	eax, [ebp+flOldProtect]
		mov	[esp+58h+lpflOldProtect], eax ;	lpflOldProtect
		mov	eax, ds:dword_406054
		mov	eax, [eax+ebx]
		mov	[esp+58h+dwLength], eax	; flNewProtect
		mov	eax, [ebp+Buffer.RegionSize]
		mov	[esp+58h+lpBuffer], eax	; dwSize
		mov	eax, [ebp+Buffer.BaseAddress]
		mov	[esp+58h+lpAddress], eax ; lpAddress
		call	ds:VirtualProtect
		sub	esp, 10h
		jmp	short loc_402620
; ---------------------------------------------------------------------------

loc_40268C:				; CODE XREF: sub_402540+86j
		mov	eax, ds:dword_40540C
		test	eax, eax
		jnz	short loc_4026B5
		mov	ebx, offset dword_405410
		lea	esi, [esi+0]

loc_4026A0:				; CODE XREF: sub_402540+70j
		mov	edi, [ebx]
		test	edi, edi
		jnz	loc_4025D0
		mov	esi, [ebx+4]
		test	esi, esi
		jnz	loc_4025D0

loc_4026B5:				; CODE XREF: sub_402540+153j
		mov	eax, [ebx+8]
		cmp	eax, 1
		jnz	loc_4027D5
		add	ebx, 0Ch
		cmp	ebx, offset dword_405404
		jnb	loc_402552

loc_4026D0:				; CODE XREF: sub_402540+245j
		movzx	edx, byte ptr [ebx+8]
		mov	eax, 400000h
		mov	ecx, [ebx]
		add	eax, [ebx+4]
		cmp	edx, 10h
		mov	esi, [ecx+400000h]
		jz	short loc_40272A
		cmp	edx, 20h
		jz	short loc_402760
		cmp	edx, 8
		jz	short loc_40270A
		mov	[esp+58h+lpBuffer], edx	; ArgList
		mov	[esp+58h+lpAddress], offset aUnknownPseudoR ; "	 Unknown pseudo	relocation bit size %d"...
		mov	[ebp+var_20], 0
		call	sub_4022A0
; ---------------------------------------------------------------------------

loc_40270A:				; CODE XREF: sub_402540+1B1j
		movzx	edi, byte ptr [eax]
		test	edi, 80h
		jz	short loc_402735
		or	edi, 0FFFFFF00h
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		mov	[ebp+var_20], esi
		jmp	short loc_402751
; ---------------------------------------------------------------------------

loc_40272A:				; CODE XREF: sub_402540+1A7j
		movzx	edi, word ptr [eax]
		test	edi, 8000h
		jnz	short loc_402790

loc_402735:				; CODE XREF: sub_402540+1D3j
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		cmp	edx, 10h
		mov	[ebp+var_20], esi
		jz	short loc_4027A3
		cmp	edx, 20h
		jz	short loc_40276F
		cmp	edx, 8
		jnz	short loc_40277C

loc_402751:				; CODE XREF: sub_402540+1E8j
		mov	ecx, 1		; Size
		lea	edx, [ebp+var_20]
		call	sub_402300
		jmp	short loc_40277C
; ---------------------------------------------------------------------------

loc_402760:				; CODE XREF: sub_402540+1ACj
		mov	edx, [eax]
		sub	edx, ecx
		sub	edx, 400000h
		add	edx, esi
		mov	[ebp+var_20], edx

loc_40276F:				; CODE XREF: sub_402540+20Aj
		mov	ecx, 4		; Size
		lea	edx, [ebp+var_20]
		call	sub_402300

loc_40277C:				; CODE XREF: sub_402540+20Fj
					; sub_402540+21Ej ...
		add	ebx, 0Ch
		cmp	ebx, offset dword_405404
		jb	loc_4026D0
		jmp	loc_402605
; ---------------------------------------------------------------------------

loc_402790:				; CODE XREF: sub_402540+1F3j
		or	edi, 0FFFF0000h
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		mov	[ebp+var_20], esi

loc_4027A3:				; CODE XREF: sub_402540+205j
		mov	ecx, 2		; Size
		lea	edx, [ebp+var_20]
		call	sub_402300
		jmp	short loc_40277C
; ---------------------------------------------------------------------------

loc_4027B2:				; CODE XREF: sub_402540+11Bj
		add	ebx, ds:dword_406054
		mov	eax, [ebx+4]
		mov	[esp+58h+dwLength], eax
		mov	eax, [ebx+8]
		mov	eax, [eax+8]
		mov	[esp+58h+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		mov	[esp+58h+lpBuffer], eax	; ArgList
		call	sub_4022A0
; ---------------------------------------------------------------------------

loc_4027D5:				; CODE XREF: sub_402540+17Bj
		mov	[esp+58h+lpBuffer], eax	; ArgList
		mov	[esp+58h+lpAddress], offset aUnknownPseud_0 ; "	 Unknown pseudo	relocation protocol ve"...
		call	sub_4022A0
sub_402540	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4027F0	proc near		; CODE XREF: .text:00402891p
					; sub_402900+Ap ...

arg_0		= dword	ptr  4

		mov	edx, [esp+arg_0]
		xor	eax, eax
		cmp	word ptr [edx],	5A4Dh
		jz	short loc_402800

locret_4027FD:				; CODE XREF: sub_4027F0+19j
		rep retn
; ---------------------------------------------------------------------------
		align 10h

loc_402800:				; CODE XREF: sub_4027F0+Bj
		add	edx, [edx+3Ch]
		cmp	dword ptr [edx], 4550h
		jnz	short locret_4027FD
		xor	eax, eax
		cmp	word ptr [edx+18h], 10Bh
		setz	al
		retn
sub_4027F0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402820	proc near		; CODE XREF: sub_402900+2Bp
					; .text:00402A44p ...

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		push	esi
		xor	eax, eax
		push	ebx
		mov	edx, [esp+8+arg_0]
		mov	ebx, [esp+8+arg_4]
		add	edx, [edx+3Ch]
		movzx	esi, word ptr [edx+6]
		movzx	ecx, word ptr [edx+14h]
		test	esi, esi
		jz	short loc_40285E
		movzx	ecx, cx
		lea	eax, [edx+ecx+18h]
		xor	edx, edx

loc_402844:				; CODE XREF: sub_402820+3Aj
		mov	ecx, [eax+0Ch]
		cmp	ecx, ebx
		ja	short loc_402852
		add	ecx, [eax+8]
		cmp	ebx, ecx
		jb	short loc_40285E

loc_402852:				; CODE XREF: sub_402820+29j
		add	edx, 1
		add	eax, 28h
		cmp	edx, esi
		jb	short loc_402844
		xor	eax, eax

loc_40285E:				; CODE XREF: sub_402820+19j
					; sub_402820+30j
		pop	ebx
		pop	esi
		retn
sub_402820	endp

; ---------------------------------------------------------------------------
		jmp	short loc_402870
; ---------------------------------------------------------------------------
		align 10h

loc_402870:				; CODE XREF: .text:00402861j
		push	ebp
		push	edi
		push	esi
		push	ebx
		xor	ebx, ebx
		sub	esp, 1Ch
		mov	edi, [esp+30h]
		mov	[esp], edi
		call	strlen
		cmp	eax, 8
		ja	short loc_4028E3
		mov	dword ptr [esp], 400000h
		call	sub_4027F0
		test	eax, eax
		jz	short loc_4028E3
		mov	eax, ds:40003Ch
		movzx	ebp, word ptr [eax+400006h]
		movzx	edx, word ptr [eax+400014h]
		add	eax, 400000h
		test	ebp, ebp
		jz	short loc_4028E3
		movzx	edx, dx
		xor	esi, esi
		lea	ebx, [eax+edx+18h]
		jmp	short loc_4028CB
; ---------------------------------------------------------------------------

loc_4028C1:				; CODE XREF: .text:004028E1j
		add	esi, 1
		add	ebx, 28h
		cmp	esi, ebp
		jnb	short loc_4028F0

loc_4028CB:				; CODE XREF: .text:004028BFj
		mov	dword ptr [esp+8], 8
		mov	[esp+4], edi
		mov	[esp], ebx
		call	strncmp
		test	eax, eax
		jnz	short loc_4028C1

loc_4028E3:				; CODE XREF: .text:00402888j
					; .text:00402898j ...
		add	esp, 1Ch
		mov	eax, ebx
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_4028F0:				; CODE XREF: .text:004028C9j
		add	esp, 1Ch
		xor	ebx, ebx
		mov	eax, ebx
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402900	proc near		; CODE XREF: sub_402300+46p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		sub	esp, 8
		mov	[esp+8+var_8], 400000h
		call	sub_4027F0
		mov	edx, eax
		xor	eax, eax
		test	edx, edx
		jz	short loc_402930
		mov	eax, [esp+8+arg_0]
		mov	[esp+8+var_8], 400000h
		sub	eax, 400000h
		mov	[esp+8+var_4], eax
		call	sub_402820

loc_402930:				; CODE XREF: sub_402900+15j
		add	esp, 8
		retn
sub_402900	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402940	proc near		; CODE XREF: sub_402540+2Ap

var_4		= dword	ptr -4

		sub	esp, 4
		mov	[esp+4+var_4], 400000h
		call	sub_4027F0
		xor	edx, edx
		test	eax, eax
		jz	short loc_402961
		mov	eax, ds:40003Ch
		movzx	edx, word ptr [eax+400006h]

loc_402961:				; CODE XREF: sub_402940+13j
		mov	eax, edx
		add	esp, 4
		retn
sub_402940	endp

; ---------------------------------------------------------------------------
		align 10h
		push	esi
		push	ebx
		sub	esp, 4
		mov	dword ptr [esp], 400000h
		mov	ebx, [esp+10h]
		call	sub_4027F0
		xor	edx, edx
		test	eax, eax
		jz	short loc_4029C9
		mov	eax, ds:40003Ch
		movzx	ecx, word ptr [eax+400006h]
		movzx	esi, word ptr [eax+400014h]
		add	eax, 400000h
		test	ecx, ecx
		jz	short loc_4029C9
		movzx	esi, si
		lea	edx, [eax+esi+18h]
		xor	eax, eax

loc_4029B0:				; CODE XREF: .text:004029C5j
		test	byte ptr [edx+27h], 20h
		jz	short loc_4029BD
		test	ebx, ebx
		jz	short loc_4029C9
		sub	ebx, 1

loc_4029BD:				; CODE XREF: .text:004029B4j
		add	eax, 1
		add	edx, 28h
		cmp	eax, ecx
		jb	short loc_4029B0
		xor	edx, edx

loc_4029C9:				; CODE XREF: .text:00402989j
					; .text:004029A5j ...
		add	esp, 4
		mov	eax, edx
		pop	ebx
		pop	esi
		retn
; ---------------------------------------------------------------------------
		jmp	short sub_4029E0
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4029E0	proc near		; CODE XREF: sub_402300+70p
					; .text:004029D1j

var_4		= dword	ptr -4

		sub	esp, 4
		mov	[esp+4+var_4], 400000h
		call	sub_4027F0
		xor	edx, edx
		test	eax, eax
		mov	eax, 400000h
		cmovnz	edx, eax
		add	esp, 4
		mov	eax, edx
		retn
sub_4029E0	endp

; ---------------------------------------------------------------------------
		jmp	short loc_402A10
; ---------------------------------------------------------------------------
		align 10h

loc_402A10:				; CODE XREF: .text:00402A01j
		push	ebx
		xor	ebx, ebx
		sub	esp, 8
		mov	dword ptr [esp], 400000h
		call	sub_4027F0
		test	eax, eax
		jnz	short loc_402A30

loc_402A26:				; CODE XREF: .text:00402A4Bj
		add	esp, 8
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402A30:				; CODE XREF: .text:00402A24j
		mov	eax, [esp+10h]
		mov	dword ptr [esp], 400000h
		sub	eax, 400000h
		mov	[esp+4], eax
		call	sub_402820
		test	eax, eax
		jz	short loc_402A26
		mov	ebx, [eax+24h]
		add	esp, 8
		not	ebx
		shr	ebx, 1Fh
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402A60	proc near		; CODE XREF: sub_402AF0+1Ap

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
arg_0		= dword	ptr  4

		push	edi
		xor	edi, edi
		push	esi
		push	ebx
		sub	esp, 8
		mov	[esp+14h+var_14], 400000h
		mov	ebx, [esp+14h+arg_0]
		call	sub_4027F0
		test	eax, eax
		jz	short loc_402AD1
		mov	eax, ds:40003Ch
		mov	esi, [eax+400080h]
		test	esi, esi
		jz	short loc_402AD1
		mov	[esp+14h+var_10], esi
		mov	[esp+14h+var_14], 400000h
		call	sub_402820
		test	eax, eax
		jz	short loc_402AD1
		add	esi, 400000h
		jnz	short loc_402AB6
		jmp	short loc_402AD1
; ---------------------------------------------------------------------------
		align 10h

loc_402AB0:				; CODE XREF: sub_402A60+66j
		sub	ebx, 1
		add	esi, 14h

loc_402AB6:				; CODE XREF: sub_402A60+45j
		mov	edx, [esi+4]
		test	edx, edx
		jnz	short loc_402AC4
		mov	eax, [esi+0Ch]
		test	eax, eax
		jz	short loc_402AE0

loc_402AC4:				; CODE XREF: sub_402A60+5Bj
		test	ebx, ebx
		jg	short loc_402AB0
		mov	edi, [esi+0Ch]
		add	edi, 400000h

loc_402AD1:				; CODE XREF: sub_402A60+1Aj
					; sub_402A60+29j ...
		add	esp, 8
		mov	eax, edi
		pop	ebx
		pop	esi
		pop	edi
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402AE0:				; CODE XREF: sub_402A60+62j
		add	esp, 8
		xor	edi, edi
		mov	eax, edi
		pop	ebx
		pop	esi
		pop	edi
		retn
sub_402A60	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402AF0	proc near		; CODE XREF: sub_401180+132p

lpModuleName	= dword	ptr -1Ch

		push	ebx
		sub	esp, 18h
		mov	eax, ds:dword_40605C
		test	eax, eax
		jz	short loc_402B02

loc_402AFD:				; CODE XREF: sub_402AF0+97j
					; sub_402AF0+B5j
		add	esp, 18h
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_402B02:				; CODE XREF: sub_402AF0+Bj
		xor	eax, eax

loc_402B04:				; CODE XREF: sub_402AF0+82j
		mov	[esp+1Ch+lpModuleName],	eax
		lea	ebx, [eax+1]
		call	sub_402A60
		test	eax, eax
		jz	short loc_402B90
		movzx	edx, byte ptr [eax]
		cmp	dl, 4Dh
		jz	short loc_402B20
		cmp	dl, 6Dh
		jnz	short loc_402B70

loc_402B20:				; CODE XREF: sub_402AF0+29j
		movzx	edx, byte ptr [eax+1]
		cmp	dl, 53h
		jz	short loc_402B2E
		cmp	dl, 73h
		jnz	short loc_402B70

loc_402B2E:				; CODE XREF: sub_402AF0+37j
		movzx	edx, byte ptr [eax+2]
		cmp	dl, 56h
		jz	short loc_402B3C
		cmp	dl, 76h
		jnz	short loc_402B70

loc_402B3C:				; CODE XREF: sub_402AF0+45j
		movzx	edx, byte ptr [eax+3]
		cmp	dl, 43h
		jz	short loc_402B4A
		cmp	dl, 63h
		jnz	short loc_402B70

loc_402B4A:				; CODE XREF: sub_402AF0+53j
		movzx	edx, byte ptr [eax+4]
		cmp	dl, 52h
		jz	short loc_402B58
		cmp	dl, 72h
		jnz	short loc_402B70

loc_402B58:				; CODE XREF: sub_402AF0+61j
		movzx	edx, byte ptr [eax+5]
		cmp	dl, 54h
		jz	short loc_402B74
		cmp	dl, 74h
		jz	short loc_402B74
		sub	edx, 30h
		cmp	dl, 9
		jbe	short loc_402B74
		xchg	ax, ax

loc_402B70:				; CODE XREF: sub_402AF0+2Ej
					; sub_402AF0+3Cj ...
		mov	eax, ebx
		jmp	short loc_402B04
; ---------------------------------------------------------------------------

loc_402B74:				; CODE XREF: sub_402AF0+6Fj
					; sub_402AF0+74j ...
		mov	[esp+1Ch+lpModuleName],	eax ; lpModuleName
		call	ds:GetModuleHandleA
		sub	esp, 4
		test	eax, eax
		mov	ds:dword_40605C, eax
		jnz	loc_402AFD
		lea	esi, [esi+0]

loc_402B90:				; CODE XREF: sub_402AF0+21j
		mov	[esp+1Ch+lpModuleName],	offset aMsvcrt_dll ; "msvcrt.dll"
		call	ds:LoadLibraryW
		sub	esp, 4
		mov	ds:dword_40605C, eax
		jmp	loc_402AFD
sub_402AF0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402BB0	proc near		; CODE XREF: sub_401180:loc_4012D8p
					; TopLevelExceptionFilter+175p
		fninit
		retn
sub_402BB0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_402BC0()
sub_402BC0	proc near		; DATA XREF: sub_402C40:loc_402C12o
		sub	esp, 0Ch
		mov	eax, off_40400C
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_402BE7
		xchg	ax, ax

loc_402BD0:				; CODE XREF: sub_402BC0+25j
		call	eax
		mov	eax, off_40400C
		lea	edx, [eax+4]
		mov	eax, [eax+4]
		mov	off_40400C, edx
		test	eax, eax
		jnz	short loc_402BD0

loc_402BE7:				; CODE XREF: sub_402BC0+Cj
		add	esp, 0Ch
		retn
sub_402BC0	endp

; ---------------------------------------------------------------------------
		align 10h
; START	OF FUNCTION CHUNK FOR sub_402C40

loc_402BF0:				; CODE XREF: sub_402C40+1Aj
		push	ebx
		sub	esp, 18h
		mov	ebx, ds:dword_403140
		cmp	ebx, 0FFFFFFFFh
		jz	short loc_402C23

loc_402BFF:				; CODE XREF: sub_402C40-9j
		test	ebx, ebx
		jz	short loc_402C12

loc_402C03:				; CODE XREF: sub_402C40-30j
		call	ds:dword_403140[ebx*4]
		sub	ebx, 1
		lea	esi, [esi+0]
		jnz	short loc_402C03

loc_402C12:				; CODE XREF: sub_402C40-3Fj
		mov	[esp+1Ch+var_1C], offset sub_402BC0 ; _onexit_t
		call	sub_402020
		add	esp, 18h
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_402C23:				; CODE XREF: sub_402C40-43j
		xor	ebx, ebx
		jmp	short loc_402C29
; ---------------------------------------------------------------------------

loc_402C27:				; CODE XREF: sub_402C40-Bj
		mov	ebx, eax

loc_402C29:				; CODE XREF: sub_402C40-1Bj
		lea	eax, [ebx+1]
		mov	edx, ds:dword_403140[eax*4]
		test	edx, edx
		jnz	short loc_402C27
		jmp	short loc_402BFF
; END OF FUNCTION CHUNK	FOR sub_402C40
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402C40	proc near		; CODE XREF: sub_401180+239p
					; sub_40194A+Bp

var_1C		= dword	ptr -1Ch

; FUNCTION CHUNK AT 00402BF0 SIZE 00000049 BYTES

		mov	ecx, ds:dword_406060
		test	ecx, ecx
		jz	short loc_402C50
		rep retn
; ---------------------------------------------------------------------------
		align 10h

loc_402C50:				; CODE XREF: sub_402C40+8j
		mov	ds:dword_406060, 1
		jmp	short loc_402BF0
sub_402C40	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402C60	proc near		; CODE XREF: .text:004014BDp start+Dp

lpSystemTimeAsFileTime=	dword ptr -4Ch
var_30		= dword	ptr -30h
SystemTimeAsFileTime= _FILETIME	ptr -2Ch
PerformanceCount= LARGE_INTEGER	ptr -24h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4

		sub	esp, 4Ch
		mov	eax, dword_404018
		mov	[esp+4Ch+var_10], ebx
		mov	[esp+4Ch+var_C], esi
		mov	[esp+4Ch+var_8], edi
		cmp	eax, 0BB40E64Eh
		mov	[esp+4Ch+var_4], ebp
		mov	[esp+4Ch+SystemTimeAsFileTime.dwLowDateTime], 0
		mov	[esp+4Ch+SystemTimeAsFileTime.dwHighDateTime], 0
		jz	short loc_402CB0
		not	eax
		mov	dword_40401C, eax

loc_402C96:				; CODE XREF: sub_402C60+BDj
		mov	ebx, [esp+4Ch+var_10]
		mov	esi, [esp+4Ch+var_C]
		mov	edi, [esp+4Ch+var_8]
		mov	ebp, [esp+4Ch+var_4]
		add	esp, 4Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402CB0:				; CODE XREF: sub_402C60+2Dj
		lea	eax, [esp+4Ch+SystemTimeAsFileTime]
		mov	[esp+4Ch+lpSystemTimeAsFileTime], eax ;	lpSystemTimeAsFileTime
		call	ds:GetSystemTimeAsFileTime
		sub	esp, 4
		mov	eax, [esp+4Ch+SystemTimeAsFileTime.dwHighDateTime]
		mov	ebp, [esp+4Ch+SystemTimeAsFileTime.dwLowDateTime]
		mov	[esp+4Ch+var_30], eax
		call	ds:GetCurrentProcessId
		mov	edi, eax
		call	ds:GetCurrentThreadId
		mov	esi, eax
		call	ds:GetTickCount
		mov	ebx, eax
		lea	eax, [esp+4Ch+PerformanceCount]
		mov	[esp+4Ch+lpSystemTimeAsFileTime], eax ;	lpPerformanceCount
		call	ds:QueryPerformanceCounter
		sub	esp, 4
		xor	ebp, [esp+4Ch+var_30]
		xor	ebp, dword ptr [esp+4Ch+PerformanceCount]
		xor	ebp, dword ptr [esp+4Ch+PerformanceCount+4]
		xor	ebp, edi
		xor	ebp, esi
		xor	ebp, ebx
		mov	eax, ebp
		cmp	ebp, 0BB40E64Eh
		not	eax
		jz	short loc_402D22

loc_402D12:				; CODE XREF: sub_402C60+CCj
		mov	dword_404018, ebp
		mov	dword_40401C, eax
		jmp	loc_402C96
; ---------------------------------------------------------------------------

loc_402D22:				; CODE XREF: sub_402C60+B0j
		mov	eax, 44BF19B0h
		mov	ebp, 0BB40E64Fh
		jmp	short loc_402D12
sub_402C60	endp

; ---------------------------------------------------------------------------
		align 10h
		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+4]
		lea	edx, [ebp+4]
		mov	ds:dword_406144, edx
		mov	ds:dword_406360, 0C0000409h
		mov	ds:dword_406364, 1
		mov	ds:dword_406138, eax
		mov	ds:dword_40636C, eax
		mov	eax, [ebp+8]
		mov	dword ptr [esp], 0
		mov	ds:dword_40612C, eax
		mov	eax, dword_404018
		mov	[ebp-10h], eax
		mov	eax, dword_40401C
		mov	[ebp-0Ch], eax
		call	ds:SetUnhandledExceptionFilter
		sub	esp, 4
		mov	dword ptr [esp], offset	off_4053FC
		call	ds:UnhandledExceptionFilter
		sub	esp, 4
		call	ds:GetCurrentProcess
		mov	dword ptr [esp+4], 0C0000409h
		mov	[esp], eax
		call	ds:TerminateProcess
		sub	esp, 8
		call	abort
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402DC0	proc near		; CODE XREF: sub_402F60+79p
					; sub_402F60:loc_402FF2p

lpCriticalSection= dword ptr -2Ch

		push	ebp
		push	edi
		push	esi
		push	ebx
		sub	esp, 1Ch
		mov	[esp+2Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:EnterCriticalSection
		mov	ebx, ds:dword_4063DC
		sub	esp, 4
		test	ebx, ebx
		jz	short loc_402E15
		mov	ebp, ds:TlsGetValue
		mov	edi, ds:GetLastError
		lea	esi, [esi+0]

loc_402DF0:				; CODE XREF: sub_402DC0+53j
		mov	eax, [ebx]
		mov	[esp+2Ch+lpCriticalSection], eax ; dwTlsIndex
		call	ebp ; TlsGetValue
		sub	esp, 4
		mov	esi, eax
		call	edi ; GetLastError
		test	eax, eax
		jnz	short loc_402E0E
		test	esi, esi
		jz	short loc_402E0E
		mov	eax, [ebx+4]
		mov	[esp+2Ch+lpCriticalSection], esi
		call	eax

loc_402E0E:				; CODE XREF: sub_402DC0+40j
					; sub_402DC0+44j
		mov	ebx, [ebx+8]
		test	ebx, ebx
		jnz	short loc_402DF0

loc_402E15:				; CODE XREF: sub_402DC0+1Fj
		mov	[esp+2Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4
		add	esp, 1Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
sub_402DC0	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 1Ch
		mov	eax, ds:dword_4063C0
		mov	[esp+14h], ebx
		xor	ebx, ebx
		mov	[esp+18h], esi
		test	eax, eax
		jnz	short loc_402E54

loc_402E46:				; CODE XREF: .text:00402EBCj
		mov	eax, ebx
		mov	esi, [esp+18h]
		mov	ebx, [esp+14h]
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_402E54:				; CODE XREF: .text:00402E44j
		mov	dword ptr [esp+4], 0Ch
		mov	dword ptr [esp], 1
		call	calloc
		test	eax, eax
		mov	esi, eax
		jz	short loc_402EB7
		mov	eax, [esp+20h]
		mov	dword ptr [esp], offset	CriticalSection
		mov	[esi], eax
		mov	eax, [esp+24h]
		mov	[esi+4], eax
		call	ds:EnterCriticalSection
		mov	eax, ds:dword_4063DC
		mov	ds:dword_4063DC, esi
		mov	[esi+8], eax
		sub	esp, 4
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		mov	eax, ebx
		sub	esp, 4
		mov	ebx, [esp+14h]
		mov	esi, [esp+18h]
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_402EB7:				; CODE XREF: .text:00402E6Cj
		mov	ebx, 0FFFFFFFFh
		jmp	short loc_402E46
; ---------------------------------------------------------------------------
		align 10h
		push	ebx
		sub	esp, 18h
		mov	eax, ds:dword_4063C0
		mov	ebx, [esp+20h]
		test	eax, eax
		jnz	short loc_402ED8
		add	esp, 18h
		xor	eax, eax
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_402ED8:				; CODE XREF: .text:00402ECFj
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:EnterCriticalSection
		mov	edx, ds:dword_4063DC
		sub	esp, 4
		test	edx, edx
		jz	short loc_402F0F
		mov	eax, [edx]
		cmp	eax, ebx
		jnz	short loc_402F08
		jmp	short loc_402F46
; ---------------------------------------------------------------------------
		align 10h

loc_402F00:				; CODE XREF: .text:00402F0Dj
		mov	ecx, [eax]
		cmp	ecx, ebx
		jz	short loc_402F26
		mov	edx, eax

loc_402F08:				; CODE XREF: .text:00402EF6j
		mov	eax, [edx+8]
		test	eax, eax
		jnz	short loc_402F00

loc_402F0F:				; CODE XREF: .text:00402EF0j
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4

loc_402F1F:				; CODE XREF: .text:00402F44j
		add	esp, 18h
		xor	eax, eax
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_402F26:				; CODE XREF: .text:00402F04j
		mov	ecx, [eax+8]
		mov	[edx+8], ecx

loc_402F2C:				; CODE XREF: .text:00402F50j
		mov	[esp], eax
		call	free
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4
		jmp	short loc_402F1F
; ---------------------------------------------------------------------------

loc_402F46:				; CODE XREF: .text:00402EF8j
		mov	eax, [edx+8]
		mov	ds:dword_4063DC, eax
		mov	eax, edx
		jmp	short loc_402F2C
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402F60	proc near		; CODE XREF: TlsCallback_1+33p
					; TlsCallback_0+E9p

lpCriticalSection= dword ptr -1Ch
arg_4		= dword	ptr  8

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_4]
		cmp	eax, 1
		jz	short loc_402FB0
		jb	short loc_402F80
		cmp	eax, 3
		jz	short loc_402FD0

loc_402F73:				; CODE XREF: sub_402F60+31j
					; sub_402F60+4Dj ...
		mov	eax, 1
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402F80:				; CODE XREF: sub_402F60+Cj
		mov	eax, ds:dword_4063C0
		test	eax, eax
		jnz	short loc_402FF2

loc_402F89:				; CODE XREF: sub_402F60+97j
		mov	eax, ds:dword_4063C0
		cmp	eax, 1
		jnz	short loc_402F73
		mov	ds:dword_4063C0, 0
		mov	[esp+1Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:DeleteCriticalSection
		sub	esp, 4
		jmp	short loc_402F73
; ---------------------------------------------------------------------------
		align 10h

loc_402FB0:				; CODE XREF: sub_402F60+Aj
		mov	eax, ds:dword_4063C0
		test	eax, eax
		jz	short loc_402FE0

loc_402FB9:				; CODE XREF: sub_402F60+90j
		mov	ds:dword_4063C0, 1
		mov	eax, 1
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402FD0:				; CODE XREF: sub_402F60+11j
		mov	eax, ds:dword_4063C0
		test	eax, eax
		jz	short loc_402F73
		call	sub_402DC0
		jmp	short loc_402F73
; ---------------------------------------------------------------------------

loc_402FE0:				; CODE XREF: sub_402F60+57j
		mov	[esp+1Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:InitializeCriticalSection
		sub	esp, 4
		jmp	short loc_402FB9
; ---------------------------------------------------------------------------

loc_402FF2:				; CODE XREF: sub_402F60+27j
		call	sub_402DC0
		jmp	short loc_402F89
sub_402F60	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_403000	proc near		; CODE XREF: sub_401180+19p
					; sub_402540+3Cp

arg_0		= byte ptr  4

		push	ecx
		push	eax
		cmp	eax, 1000h
		lea	ecx, [esp+8+arg_0]
		jb	short loc_403022

loc_40300D:				; CODE XREF: sub_403000+20j
		sub	ecx, 1000h
		or	dword ptr [ecx], 0
		sub	eax, 1000h
		cmp	eax, 1000h
		ja	short loc_40300D

loc_403022:				; CODE XREF: sub_403000+Bj
		sub	ecx, eax
		or	dword ptr [ecx], 0
		pop	eax
		pop	ecx
		retn
sub_403000	endp

; ---------------------------------------------------------------------------
		align 10h
		mov	eax, [esp+0Ch]
		mov	edx, [esp+8]
		mov	ecx, [esp+4]
		lock cmpxchg [ecx], edx
		retn
; ---------------------------------------------------------------------------
		jmp	short sub_403050
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_403050	proc near		; CODE XREF: sub_401180+A7p
					; .text:00403041j

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		mov	eax, [esp+arg_8]
		mov	edx, [esp+arg_4]
		mov	ecx, [esp+arg_0]
		lock cmpxchg [ecx], edx
		retn	0Ch
sub_403050	endp

; ---------------------------------------------------------------------------
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __getmainargs]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION __set_app_type]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION memcpy]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION malloc]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION strlen]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _cexit]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION _amsg_exit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _initterm]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION exit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _lock]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __dllonexit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _unlock]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION signal]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION __setusermatherr]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION fprintf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION fwrite]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION vfprintf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION abort]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION strncmp]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION calloc]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION free]
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_403120	proc near		; DATA XREF: .text:00403144o

var_18		= dword	ptr -18h

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		call	sub_4014F0
		mov	[esp+18h+var_18], offset sub_401540 ; _onexit_t
		call	sub_402020
		leave
		retn
sub_403120	endp

; ---------------------------------------------------------------------------
		align 10h
dword_403140	dd 0FFFFFFFFh		; DATA XREF: sub_402C40-4Cr
					; sub_402C40:loc_402C03r ...
		dd offset sub_403120
		dd 0
		dd 0FFFFFFFFh
dword_403150	dd 2Ch dup(0)		; DATA XREF: .data:off_40400Co
		dd 380h	dup(?)
_text		ends

; Section 2. (virtual address 00004000)
; Virtual size			: 00000024 (	 36.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00002600
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_data		segment	dword public 'DATA' use32
		assume cs:_data
		;org 404000h
		dd 0FFh, 2 dup(0FFFFFFFFh)
off_40400C	dd offset dword_403150	; DATA XREF: sub_402BC0+3r
					; sub_402BC0+12r ...
dword_404010	dd 2			; DATA XREF: TlsCallback_0+13r
					; TlsCallback_0+1Cw ...
dword_404014	dd 0FFFFFFFFh		; DATA XREF: sub_401060+7Ar
dword_404018	dd 0BB40E64Eh		; DATA XREF: sub_402C60+3r
					; sub_402C60:loc_402D12w ...
dword_40401C	dd 44BF19B1h		; DATA XREF: sub_402C60+31w
					; sub_402C60+B8w ...
dword_404020	dd 0			; DATA XREF: sub_4014F0+6r
					; sub_4014F0+42o
		align 1000h
_data		ends

; Section 3. (virtual address 00005000)
; Virtual size			: 00000404 (   1028.)
; Section size in file		: 00000600 (   1536.)
; Offset to raw	data for section: 00002800
; Flags	40300040: Data Readable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 405000h
; CHAR ProcName[]
ProcName	db '_set_invalid_parameter_handler',0 ; DATA XREF: sub_401180+137o
		align 10h
; CHAR ModuleName[]
ModuleName	db 'libgcj-12.dll',0    ; DATA XREF: sub_4014F0+Fo
; CHAR a_jv_registercl[]
a_jv_registercl	db '_Jv_RegisterClasses',0 ; DATA XREF: sub_4014F0+28o
		align 4
aN		db '\n',0               ; DATA XREF: sub_4015BE:loc_4015F1o
asc_405047	db '\"',0               ; DATA XREF: sub_4015BE:loc_401606o
asc_40504A	db '/',0                ; DATA XREF: sub_4015BE:loc_40161Bo
aCannotLoadModu	db 'Cannot load module %s: %s',0Ah,0 ; DATA XREF: sub_4016A3+7Eo
aIm_module_list	db 'im_module_list',0   ; DATA XREF: sub_4016A3+A6o
aIm_module_init	db 'im_module_init',0   ; DATA XREF: sub_4016A3+C8o
aIm_module_exit	db 'im_module_exit',0   ; DATA XREF: sub_4016A3+EAo
aIm_module_crea	db 'im_module_create',0 ; DATA XREF: sub_4016A3+10Co
		align 4
aSDoesNotExport	db '%s does not export GTK+ IM module API: %s',0Ah,0
					; DATA XREF: sub_4016A3+26Fo
aUpdateCache	db '--update-cache',0   ; DATA XREF: sub_40194A+38o
word_4050E2	dw 0			; DATA XREF: sub_40194A:loc_4019B6o
aGtkInputMethod	db '# GTK+ Input Method Modules file',0Ah ; DATA XREF: sub_40194A+9Do
		db '# Automatically generated file, do not edit',0Ah
		db '# Created by %s from gtk+-%d.%d.%d',0Ah
		db '#',0Ah,0
aModulespathS	db '# ModulesPath = %s',0Ah ; DATA XREF: sub_40194A+CFo
		db '#',0Ah,0
a_dll		db '.dll',0             ; DATA XREF: sub_40194A:loc_401AC9o
aS		db '%s',0Ah,0           ; DATA XREF: sub_40194A+2D9o
					; sub_40194A+2FDo
		align 4
; CHAR LibFileName[]
LibFileName	db 'mingwm10.dll',0     ; DATA XREF: TlsCallback_0+4Eo
; CHAR a__mingwthr_rem[]
a__mingwthr_rem	db '__mingwthr_remove_key_dtor',0 ; DATA XREF: TlsCallback_0+71o
; CHAR a__mingwthr_key[]
a__mingwthr_key	db '__mingwthr_key_dtor',0 ; DATA XREF: TlsCallback_0+8Bo
off_4051B4	dd offset TlsCallback_0	; DATA XREF: sub_401180:loc_401273r
aUnknownError	db 'Unknown error',0    ; DATA XREF: sub_402230+3o
		align 4
; char Format[]
Format		db '_matherr(): %s in %s(%g, %g)  (retval=%g)',0Ah,0
					; DATA XREF: sub_402230+39o
		align 4
aArgumentDomain	db 'Argument domain error (DOMAIN)',0 ; DATA XREF: .rdata:off_4052D4o
aArgumentSingul	db 'Argument singularity (SIGN)',0 ; DATA XREF: .rdata:004052D8o
		align 10h
aOverflowRangeE	db 'Overflow range error (OVERFLOW)',0 ; DATA XREF: .rdata:004052DCo
aTheResultIsToo	db 'The result is too small to be represented (UNDERFLOW)',0
					; DATA XREF: .rdata:004052E0o
		align 4
aTotalLossOfSig	db 'Total loss of significance (TLOSS)',0 ; DATA XREF: .rdata:004052E4o
		align 4
aPartialLossOfS	db 'Partial loss of significance (PLOSS)',0 ; DATA XREF: .rdata:004052E8o
		align 4
off_4052D4	dd offset aArgumentDomain ; DATA XREF: sub_402230+16r
					; "Argument domain error (DOMAIN)"
		dd offset aArgumentSingul ; "Argument singularity (SIGN)"
		dd offset aOverflowRangeE ; "Overflow range error (OVERFLOW)"
		dd offset aTheResultIsToo ; "The result	is too small to	be represent"...
		dd offset aTotalLossOfSig ; "Total loss	of significance	(TLOSS)"
		dd offset aPartialLossOfS ; "Partial loss of significance (PLOSS)"
aMingwW64Runtim	db 'Mingw-w64 runtime failure:',0Ah,0 ; DATA XREF: sub_4022A0+1Do
; char aAddressPHasNoI[]
aAddressPHasNoI	db 'Address %p has no image-section',0 ; DATA XREF: sub_402300+20Do
; char aVirtualqueryFa[]
aVirtualqueryFa	db '  VirtualQuery failed for %d bytes at address %p',0
					; DATA XREF: sub_402300+1F9o
					; sub_402300+225o ...
		align 4
; char aVirtualprotect[]
aVirtualprotect	db '  VirtualProtect failed with code 0x%x',0 ; DATA XREF: sub_402300+1D2o
		align 4
; char aUnknownPseud_0[]
aUnknownPseud_0	db '  Unknown pseudo relocation protocol version %d.',0Ah,0
					; DATA XREF: sub_402540+299o
		align 4
; char aUnknownPseudoR[]
aUnknownPseudoR	db '  Unknown pseudo relocation bit size %d.',0Ah,0
					; DATA XREF: sub_402540+1B7o
		align 4
; const	WCHAR aMsvcrt_dll
aMsvcrt_dll:				; DATA XREF: sub_402AF0:loc_402B90o
		unicode	0, <msvcrt.dll>,0
		align 4
off_4053FC	dd offset dword_406360	; DATA XREF: .text:00402D88o
		dd offset dword_406080
dword_405404	dd 0			; DATA XREF: sub_402540+59o
					; sub_402540+5Eo ...
dword_405408	dd 0			; DATA XREF: sub_402540+7Fr
dword_40540C	dd 0			; DATA XREF: sub_402540:loc_40268Cr
dword_405410	dd 7Ch dup(0)		; DATA XREF: sub_402540+155o
		align 1000h
_rdata		ends

; Section 4. (virtual address 00006000)
; Virtual size			: 00000434 (   1076.)
; Section size in file		: 00000000 (	  0.)
; Offset to raw	data for section: 00000000
; Flags	C0600080: Bss Readable Writable
; Alignment	: 32 bytes
; ===========================================================================

; Segment type:	Uninitialized
; Segment permissions: Read/Write
; Segment alignment '32byte' can not be represented in assembly
_bss		segment	para public 'BSS' use32
		assume cs:_bss
		;org 406000h
		assume es:nothing, ss:nothing, ds:_data, fs:nothing, gs:nothing
dword_406000	dd ?			; DATA XREF: sub_401180+D0w
					; sub_401180+27Dr
dword_406004	dd ?			; DATA XREF: sub_401010+2Ao
					; sub_401180:loc_401344r ...
dword_406008	dd ?			; DATA XREF: sub_401010+18o
					; sub_401180+1DEr ...
dword_40600C	dd ?			; DATA XREF: sub_401010+10o
					; sub_401180+243r ...
dword_406010	dd ?			; DATA XREF: sub_401180+272w
					; sub_401180+28Cr
dword_406014	dd ?			; DATA XREF: sub_401060:loc_401098w
					; sub_401180+26Ar
dword_406018	dd ?			; DATA XREF: sub_401010+8o
					; sub_401010+20w
dword_40601C	dd ?			; DATA XREF: sub_401010+3Aw
dword_406020	dd ?			; DATA XREF: sub_401010+3r
dword_406024	dd ?			; DATA XREF: sub_401010+25r
dword_406028	dd ?			; DATA XREF: sub_401060+22w
dword_40602C	dd ?			; DATA XREF: sub_401060+18w
dword_406030	dd ?			; DATA XREF: sub_401060+Ew
TlsIndex	dd ?			; DATA XREF: .tls:TlsIndex_ptro
; HMODULE hLibModule
hLibModule	dd ?			; DATA XREF: TlsCallback_0+60w
					; TlsCallback_0+83r ...
dword_40603C	dd ?			; DATA XREF: sub_401060+2Cw
dword_406040	dd ?			; DATA XREF: sub_401060+3Dr
					; sub_401180+61r ...
dword_406044	dd ?			; DATA XREF: sub_401060+5Er
dword_406048	dd ?			; DATA XREF: sub_401180+12Dw
					; TopLevelExceptionFilter:loc_4020ACr
dword_40604C	dd ?			; DATA XREF: .text:004021D3r
					; sub_402220+4w
dword_406050	dd ?			; DATA XREF: sub_402540+9r
					; sub_402540:loc_402560w
dword_406054	dd ?			; DATA XREF: sub_402300+1Dr
					; sub_402300+58r ...
dword_406058	dd ?			; DATA XREF: sub_402300+Br
					; sub_402300:loc_4023BFw ...
dword_40605C	dd ?			; DATA XREF: sub_402AF0+4r
					; sub_402AF0+92w ...
dword_406060	dd ?			; DATA XREF: sub_402C40r
					; sub_402C40:loc_402C50w
		align 20h
dword_406080	dd 2Bh dup(?)		; DATA XREF: .rdata:00405400o
dword_40612C	dd ?			; DATA XREF: .text:00402D6Aw
		dd 2 dup(?)
dword_406138	dd ?			; DATA XREF: .text:00402D56w
		dd 2 dup(?)
dword_406144	dd ?			; DATA XREF: .text:00402D3Cw
		dd 86h dup(?)
dword_406360	dd ?			; DATA XREF: .text:00402D42w
					; .rdata:off_4053FCo
dword_406364	dd ?			; DATA XREF: .text:00402D4Cw
		dd ?
dword_40636C	dd ?			; DATA XREF: .text:00402D5Bw
		dd 14h dup(?)
dword_4063C0	dd ?			; DATA XREF: .text:00402E33r
					; .text:00402EC4r ...
; struct _RTL_CRITICAL_SECTION CriticalSection
CriticalSection	_RTL_CRITICAL_SECTION <?> ; DATA XREF: sub_402DC0+7o
					; sub_402DC0:loc_402E15o ...
dword_4063DC	dd ?			; DATA XREF: sub_402DC0+14r
					; .text:00402E88r ...
		dd ?
dword_4063E4	dd ?			; DATA XREF: sub_401180+1A8w
dword_4063E8	dd ?			; DATA XREF: sub_401180+1BFw
dword_4063EC	dd ?			; DATA XREF: sub_401180+1B2w
; Exported entry   5. gtk_micro_version
		public gtk_micro_version
gtk_micro_version dd ?
; Exported entry   3. gtk_interface_age
		public gtk_interface_age
gtk_interface_age dd ?
; Exported entry   6. gtk_minor_version
		public gtk_minor_version
gtk_minor_version dd ?
; Exported entry   4. gtk_major_version
		public gtk_major_version
gtk_major_version dd ?
; Exported entry   2. gtk_debug_flags
		public gtk_debug_flags
gtk_debug_flags	dd ?
; Exported entry   1. gtk_binary_age
		public gtk_binary_age
gtk_binary_age	dd ?
dword_406408	dd ?			; DATA XREF: TlsCallback_0+A3w
					; TlsCallback_0:loc_401E93w ...
dword_40640C	dd ?			; DATA XREF: TlsCallback_0+7Ew
					; TlsCallback_0+AEr ...
dword_406410	dd ?			; DATA XREF: TlsCallback_0:loc_401DE4w
dword_406414	dd ?			; DATA XREF: sub_401060+64w
					; sub_401F60+3Fr ...
dword_406418	dd ?			; DATA XREF: sub_401060+69w
					; sub_401F60+4r ...
dword_40641C	dd ?			; DATA XREF: sub_401180+A0o
					; sub_401180+ECw
dword_406420	dd ?			; DATA XREF: sub_401180+B3r
					; sub_401180:loc_401243r ...
		align 1000h
_bss		ends

;
; Imports from libgtk-win32-2.0-0.dll
;
; Section 6. (virtual address 00008000)
; Virtual size			: 00000A74 (   2676.)
; Section size in file		: 00000C00 (   3072.)
; Offset to raw	data for section: 00003000
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Externs
; _idata
		extrn __imp_gtk_rc_get_im_module_file:dword
					; DATA XREF: gtk_rc_get_im_module_filer
		extrn __imp_gtk_rc_get_im_module_path:dword
					; DATA XREF: gtk_rc_get_im_module_pathr

;
; Imports from libpango-1.0-0.dll
;
		extrn __imp_pango_split_file_list:dword	; DATA XREF: pango_split_file_listr

;
; Imports from libglib-2.0-0.dll
;
		extrn __imp_g_build_filename:dword ; DATA XREF:	g_build_filenamer
		extrn __imp_g_dir_close:dword ;	DATA XREF: g_dir_closer
		extrn __imp_g_dir_open_utf8:dword ; DATA XREF: g_dir_open_utf8r
		extrn __imp_g_dir_read_name_utf8:dword ; DATA XREF: g_dir_read_name_utf8r
		extrn __imp_g_file_set_contents:dword ;	DATA XREF: g_file_set_contentsr
		extrn __imp_g_fprintf:dword ; DATA XREF: g_fprintfr
		extrn __imp_g_free:dword ; DATA	XREF: g_freer
		extrn __imp_g_get_current_dir_utf8:dword
					; DATA XREF: g_get_current_dir_utf8r
		extrn __imp_g_hash_table_destroy:dword ; DATA XREF: g_hash_table_destroyr
		extrn __imp_g_hash_table_insert:dword ;	DATA XREF: g_hash_table_insertr
		extrn __imp_g_hash_table_lookup:dword ;	DATA XREF: g_hash_table_lookupr
		extrn __imp_g_hash_table_new_full:dword	; DATA XREF: g_hash_table_new_fullr
		extrn __imp_g_path_is_absolute:dword ; DATA XREF: g_path_is_absoluter
		extrn __imp_g_print:dword ; DATA XREF: g_printr
		extrn g_str_equal:dword	; DATA XREF: .text:loc_401CD8r
		extrn __imp_g_str_has_suffix:dword ; DATA XREF:	g_str_has_suffixr
		extrn g_str_hash:dword	; DATA XREF: .text:loc_401CE0r
		extrn __imp_g_strdup:dword ; DATA XREF:	g_strdupr
		extrn __imp_g_string_append:dword ; DATA XREF: g_string_appendr
		extrn __imp_g_string_append_printf:dword
					; DATA XREF: g_string_append_printfr
		extrn __imp_g_string_insert_c:dword ; DATA XREF: g_string_insert_cr
		extrn __imp_g_string_new:dword ; DATA XREF: g_string_newr

;
; Imports from libgmodule-2.0-0.dll
;
		extrn __imp_g_module_close:dword ; DATA	XREF: g_module_closer
		extrn __imp_g_module_error:dword ; DATA	XREF: g_module_errorr
		extrn __imp_g_module_open_utf8:dword ; DATA XREF: g_module_open_utf8r
		extrn __imp_g_module_symbol:dword ; DATA XREF: g_module_symbolr

;
; Imports from KERNEL32.dll
;
; void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn DeleteCriticalSection:dword ; CODE XREF: sub_402F60+44p
					; DATA XREF: sub_402F60+44r
; void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn EnterCriticalSection:dword ; CODE	XREF: sub_402DC0+Ep
					; .text:00402E82p ...
; BOOL __stdcall FreeLibrary(HMODULE hLibModule)
		extrn FreeLibrary:dword	; CODE XREF: TlsCallback_0+10Ap
					; DATA XREF: TlsCallback_0+10Ar
; HANDLE __stdcall GetCurrentProcess()
		extrn GetCurrentProcess:dword ;	CODE XREF: .text:00402D98p
					; DATA XREF: .text:00402D98r
; DWORD	__stdcall GetCurrentProcessId()
		extrn GetCurrentProcessId:dword	; CODE XREF: sub_402C60+6Cp
					; DATA XREF: sub_402C60+6Cr
; DWORD	__stdcall GetCurrentThreadId()
		extrn GetCurrentThreadId:dword ; CODE XREF: sub_402C60+74p
					; DATA XREF: sub_402C60+74r
; DWORD	__stdcall GetLastError()
		extrn GetLastError:dword ; CODE	XREF: sub_402300+1CCp
					; sub_402DC0+3Cp
					; DATA XREF: ...
; HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName)
		extrn GetModuleHandleA:dword ; CODE XREF: sub_4014F0+16p
					; sub_402AF0+87p
					; DATA XREF: ...
; FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName)
		extrn GetProcAddress:dword ; CODE XREF:	sub_401180+142p
					; sub_4014F0+33p ...
; void __stdcall GetStartupInfoA(LPSTARTUPINFOA	lpStartupInfo)
		extrn GetStartupInfoA:dword ; CODE XREF: sub_401180+2F6p
					; DATA XREF: sub_401180+2F6r
; void __stdcall GetSystemTimeAsFileTime(LPFILETIME lpSystemTimeAsFileTime)
		extrn GetSystemTimeAsFileTime:dword ; CODE XREF: sub_402C60+57p
					; DATA XREF: sub_402C60+57r
; DWORD	__stdcall GetTickCount()
		extrn GetTickCount:dword ; CODE	XREF: sub_402C60+7Cp
					; DATA XREF: sub_402C60+7Cr
; void __stdcall InitializeCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn InitializeCriticalSection:dword ;	CODE XREF: sub_402F60+87p
					; DATA XREF: sub_402F60+87r
; void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn LeaveCriticalSection:dword ; CODE	XREF: sub_402DC0+5Cp
					; .text:00402EA0p ...
; HMODULE __stdcall LoadLibraryA(LPCSTR	lpLibFileName)
		extrn LoadLibraryA:dword ; CODE	XREF: TlsCallback_0+55p
					; DATA XREF: TlsCallback_0+55r
; HMODULE __stdcall LoadLibraryW(LPCWSTR lpLibFileName)
		extrn LoadLibraryW:dword ; CODE	XREF: sub_402AF0+A7p
					; DATA XREF: sub_402AF0+A7r
; BOOL __stdcall QueryPerformanceCounter(LARGE_INTEGER *lpPerformanceCount)
		extrn QueryPerformanceCounter:dword ; CODE XREF: sub_402C60+8Bp
					; DATA XREF: sub_402C60+8Br
; LPTOP_LEVEL_EXCEPTION_FILTER __stdcall SetUnhandledExceptionFilter(LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter)
		extrn SetUnhandledExceptionFilter:dword	; CODE XREF: sub_401180+124p
					; .text:00402D7Fp
					; DATA XREF: ...
; void __stdcall Sleep(DWORD dwMilliseconds)
		extrn Sleep:dword	; CODE XREF: sub_401180+8Fp
					; DATA XREF: sub_401180+74r
; BOOL __stdcall TerminateProcess(HANDLE hProcess, UINT	uExitCode)
		extrn TerminateProcess:dword ; CODE XREF: .text:00402DA9p
					; DATA XREF: .text:00402DA9r
; LPVOID __stdcall TlsGetValue(DWORD dwTlsIndex)
		extrn TlsGetValue:dword	; CODE XREF: sub_402DC0+35p
					; DATA XREF: sub_402DC0+21r
; LONG __stdcall UnhandledExceptionFilter(struct _EXCEPTION_POINTERS *ExceptionInfo)
		extrn UnhandledExceptionFilter:dword ; CODE XREF: .text:00402D8Fp
					; DATA XREF: .text:00402D8Fr
; BOOL __stdcall VirtualProtect(LPVOID lpAddress, SIZE_T dwSize, DWORD flNewProtect, PDWORD lpflOldProtect)
		extrn VirtualProtect:dword ; CODE XREF:	sub_402300+142p
					; sub_402300+184p ...
; SIZE_T __stdcall VirtualQuery(LPCVOID	lpAddress, PMEMORY_BASIC_INFORMATION lpBuffer, SIZE_T dwLength)
		extrn VirtualQuery:dword ; CODE	XREF: sub_402300+A1p
					; sub_402300+D9p ...

;
; Imports from msvcrt.dll
;
		extrn __imp___dllonexit:dword ;	DATA XREF: __dllonexitr
		extrn __imp___getmainargs:dword	; DATA XREF: __getmainargsr
		extrn __initenv:dword	; DATA XREF: sub_401180+23Er
		extrn __lconv_init:dword ; DATA	XREF: sub_401F30r
		extrn __imp___set_app_type:dword ; DATA	XREF: __set_app_typer
		extrn __imp___setusermatherr:dword ; DATA XREF:	__setusermatherrr
		extrn _acmdln:dword	; DATA XREF: sub_401180+166r
		extrn __imp__amsg_exit:dword ; DATA XREF: _amsg_exitr
		extrn __imp__cexit:dword ; DATA	XREF: _cexitr
; int fmode
		extrn _fmode:dword	; DATA XREF: sub_401060+6Er
		extrn __imp__initterm:dword ; DATA XREF: _inittermr
		extrn _iob:dword	; DATA XREF: sub_4016A3+6Ar
					; sub_4016A3+25Br ...
		extrn __imp__lock:dword	; DATA XREF: _lockr
; _onexit_t __cdecl onexit(_onexit_t Func)
		extrn _onexit:dword	; CODE XREF: sub_401F60+A3p
					; DATA XREF: sub_401F60+A3r
		extrn __imp__unlock:dword ; DATA XREF: _unlockr
		extrn _winmajor:dword	; DATA XREF: TlsCallback_0+4r
; void __cdecl abort()
		extrn __imp_abort:dword	; DATA XREF: abortr
; void *__cdecl	calloc(size_t NumOfElements, size_t SizeOfElements)
		extrn __imp_calloc:dword ; DATA	XREF: callocr
; void __cdecl __noreturn exit(int Code)
		extrn __imp_exit:dword	; DATA XREF: exitr
; int fprintf(FILE *File, const	char *Format, ...)
		extrn __imp_fprintf:dword ; DATA XREF: fprintfr
; void __cdecl free(void *Memory)
		extrn __imp_free:dword	; DATA XREF: freer
; size_t __cdecl fwrite(const void *Str, size_t	Size, size_t Count, FILE *File)
		extrn __imp_fwrite:dword ; DATA	XREF: fwriter
; void *__cdecl	malloc(size_t Size)
		extrn __imp_malloc:dword ; DATA	XREF: mallocr
; void *__cdecl	memcpy(void *Dst, const	void *Src, size_t Size)
		extrn __imp_memcpy:dword ; DATA	XREF: memcpyr
		extrn __imp_signal:dword ; DATA	XREF: signalr
; size_t __cdecl strlen(const char *Str)
		extrn __imp_strlen:dword ; DATA	XREF: strlenr
; int __cdecl strncmp(const char *Str1,	const char *Str2, size_t MaxCount)
		extrn __imp_strncmp:dword ; DATA XREF: strncmpr
; int __cdecl vfprintf(FILE *File, const char *Format, va_list ArgList)
		extrn __imp_vfprintf:dword ; DATA XREF:	vfprintfr


; Section 7. (virtual address 00009000)
; Virtual size			: 00000034 (	 52.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00003C00
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_CRT		segment	dword public 'DATA' use32
		assume cs:_CRT
		;org 409000h
dword_409000	dd 0			; DATA XREF: sub_401180+2D8o
		dd offset sub_401010
dword_409008	dd 0			; DATA XREF: sub_401180:loc_401450o
dword_40900C	dd 0			; DATA XREF: sub_401180+316o
		dd offset sub_401060
		dd offset sub_401F30
dword_409018	dd 2 dup(0)		; DATA XREF: sub_401180+30Eo
TlsCallbacks	dd offset TlsCallback_0	; DATA XREF: .tls:TlsCallbacks_ptro
		dd offset TlsCallback_1
		dd 0
		align 10h
dword_409030	dd 74h dup(0)		; DATA XREF: TlsCallback_0:loc_401ED3o
					; TlsCallback_0+138o ...
		align 1000h
_CRT		ends

; Section 8. (virtual address 0000A000)
; Virtual size			: 00000020 (	 32.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00003E00
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_tls		segment	dword public 'DATA' use32
		assume cs:_tls
		;org 40A000h
TlsDirectory	dd offset TlsStart
TlsEnd_ptr	dd offset TlsEnd
TlsIndex_ptr	dd offset TlsIndex
TlsCallbacks_ptr dd offset TlsCallbacks
TlsSizeOfZeroFill dd 0
TlsCharacteristics dd 0
		db 0
TlsStart	db 3 dup(0)		; DATA XREF: .tls:TlsDirectoryo
TlsEnd		dd 79h dup(0)		; DATA XREF: .tls:TlsEnd_ptro
		align 1000h
_tls		ends


		end start
