;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	4949EC8250D6E903E117E9D3B2767F83
; Input	CRC32 :	34A16CF8

; File Name   :	C:\compspace\compare\gpg\dlls\full\gtk-update-icon-cache.exe
; Format      :	Portable executable for	80386 (PE)
; Imagebase   :	400000
; Section 1. (virtual address 00001000)
; Virtual size			: 00005674 (  22132.)
; Section size in file		: 00005800 (  22528.)
; Offset to raw	data for section: 00000400
; Flags	60500060: Text Data Executable Readable
; Alignment	: 16 bytes

		include	uni.inc	; see unicode subdir of	ida for	info on	unicode

		.686p
		.mmx
		.model flat

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 401000h
		assume es:nothing, ss:nothing, ds:_data, fs:nothing, gs:nothing
; [00000002 BYTES: COLLAPSED FUNCTION nullsub_1]
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401010	proc near		; DATA XREF: .CRT:0040C004o

var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch

		sub	esp, 2Ch
		mov	eax, ds:dword_40903C
		mov	[esp+2Ch+var_1C], offset dword_409018
		mov	[esp+2Ch+var_24], offset dword_40900C
		mov	[esp+2Ch+var_28], offset dword_409008
		mov	ds:dword_409018, eax
		mov	eax, ds:dword_409040
		mov	[esp+2Ch+var_2C], offset dword_409004
		mov	[esp+2Ch+var_20], eax
		call	__getmainargs
		mov	ds:dword_40901C, eax
		add	esp, 2Ch
		retn
sub_401010	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401060	proc near		; DATA XREF: .CRT:0040C010o

var_1C		= dword	ptr -1Ch

		sub	esp, 1Ch
		xor	eax, eax
		cmp	word ptr ds:400000h, 5A4Dh
		mov	ds:dword_40904C, 1
		mov	ds:dword_409048, 1
		mov	ds:dword_409044, 1
		mov	ds:dword_409058, 1
		jz	short loc_401100

loc_401098:				; CODE XREF: sub_401060+B6j
					; sub_401060+C8j ...
		mov	ds:dword_409014, eax
		mov	eax, ds:dword_40905C
		test	eax, eax
		jz	short loc_4010F0
		mov	[esp+1Ch+var_1C], 2
		call	__set_app_type

loc_4010B2:				; CODE XREF: sub_401060+9Cj
		mov	[esp+1Ch+var_1C], 0FFFFFFFFh
		call	sub_405410
		mov	edx, ds:dword_409060
		mov	ds:dword_4093FC, eax
		mov	ds:dword_409400, eax
		mov	eax, ds:_fmode
		mov	[eax], edx
		call	sub_405750
		cmp	dword_407114, 1
		jz	short loc_401150
		xor	eax, eax
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_4010F0:				; CODE XREF: sub_401060+44j
		mov	[esp+1Ch+var_1C], 1
		call	__set_app_type
		jmp	short loc_4010B2
; ---------------------------------------------------------------------------
		align 10h

loc_401100:				; CODE XREF: sub_401060+36j
		mov	edx, ds:40003Ch
		cmp	dword ptr [edx+400000h], 4550h
		lea	ecx, [edx+400000h]
		jnz	short loc_401098
		movzx	edx, word ptr [ecx+18h]
		cmp	dx, 10Bh
		jz	short loc_401162
		cmp	dx, 20Bh
		jnz	loc_401098
		cmp	dword ptr [ecx+84h], 0Eh
		jbe	loc_401098
		mov	edx, [ecx+0F8h]
		xor	eax, eax
		test	edx, edx
		setnz	al
		jmp	loc_401098
; ---------------------------------------------------------------------------
		align 10h

loc_401150:				; CODE XREF: sub_401060+81j
		mov	[esp+1Ch+var_1C], offset sub_4056F0
		call	sub_4056E0
		xor	eax, eax
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_401162:				; CODE XREF: sub_401060+C1j
		cmp	dword ptr [ecx+74h], 0Eh
		jbe	loc_401098
		mov	ecx, [ecx+0E8h]
		xor	eax, eax
		test	ecx, ecx
		setnz	al
		jmp	loc_401098
sub_401060	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401180	proc near		; CODE XREF: .text:004014C5j start+15j

dwMilliseconds	= dword	ptr -88h
lpProcName	= dword	ptr -84h
Size		= dword	ptr -80h
var_6D		= byte ptr -6Dh
var_6C		= dword	ptr -6Ch
var_5C		= byte ptr -5Ch
var_30		= byte ptr -30h
var_2C		= word ptr -2Ch

		push	ebp
		xor	eax, eax
		mov	ebp, esp
		mov	ecx, 11h
		push	edi
		push	esi
		lea	edx, [ebp+var_5C]
		push	ebx
		mov	edi, edx
		sub	esp, 7Ch
		rep stosd
		mov	al, 30h
		call	sub_4064C0
		sub	esp, eax
		lea	eax, [esp+88h+var_6D]
		and	eax, 0FFFFFFF0h
		mov	dword ptr [eax], 0CCCCCCCCh
		mov	dword ptr [eax+4], 0CCCCCCCCh
		mov	dword ptr [eax+8], 0CCCCCCCCh
		mov	dword ptr [eax+0Ch], 0CCCCCCCCh
		mov	dword ptr [eax+10h], 0CCCCCCCCh
		mov	dword ptr [eax+14h], 0CCCCCCCCh
		mov	dword ptr [eax+18h], 0CCCCCCCCh
		mov	dword ptr [eax+1Ch], 0CCCCCCCCh
		and	esp, 0FFFFFFF0h
		mov	eax, ds:dword_40905C
		test	eax, eax
		jnz	loc_401473

loc_4011EE:				; CODE XREF: sub_401180+2FFj
		mov	eax, large fs:18h
		mov	esi, ds:Sleep
		mov	ebx, [eax+4]
		jmp	short loc_401214
; ---------------------------------------------------------------------------
		align 10h

loc_401200:				; CODE XREF: sub_401180+B1j
		cmp	eax, ebx
		jz	loc_401420
		mov	[esp+88h+dwMilliseconds], 3E8h ; dwMilliseconds
		call	esi ; Sleep
		sub	esp, 4

loc_401214:				; CODE XREF: sub_401180+7Dj
		mov	[esp+88h+Size],	0
		mov	[esp+88h+lpProcName], ebx
		mov	[esp+88h+dwMilliseconds], offset dword_409404
		call	sub_406520
		sub	esp, 0Ch
		test	eax, eax
		jnz	short loc_401200
		mov	eax, ds:dword_409408
		xor	ebx, ebx
		cmp	eax, 1
		jz	loc_401433

loc_401243:				; CODE XREF: sub_401180+2ADj
		mov	eax, ds:dword_409408
		test	eax, eax
		jz	loc_401484
		mov	ds:dword_409000, 1

loc_40125A:				; CODE XREF: sub_401180+322j
		mov	eax, ds:dword_409408
		cmp	eax, 1
		jz	loc_401450

loc_401268:				; CODE XREF: sub_401180+2C7j
					; sub_401180+2EEj
		test	ebx, ebx
		jnz	short loc_401273
		lock xchg ebx, ds:dword_409404

loc_401273:				; CODE XREF: sub_401180+EAj
		mov	eax, ds:off_40877C
		test	eax, eax
		jz	short loc_401298
		mov	[esp+88h+Size],	0
		mov	[esp+88h+lpProcName], 2
		mov	[esp+88h+dwMilliseconds], 0
		call	eax ; TlsCallback_0
		sub	esp, 0Ch

loc_401298:				; CODE XREF: sub_401180+FAj
		call	sub_405A00
		mov	[esp+88h+dwMilliseconds], offset TopLevelExceptionFilter ; lpTopLevelExceptionFilter
		call	ds:SetUnhandledExceptionFilter
		sub	esp, 4
		mov	ds:dword_409064, eax
		call	sub_405FB0
		mov	[esp+88h+lpProcName], offset ProcName ;	"_set_invalid_parameter_handler"
		mov	[esp+88h+dwMilliseconds], eax ;	hModule
		call	ds:GetProcAddress
		sub	esp, 8
		test	eax, eax
		jz	short loc_4012D8
		mov	[esp+88h+dwMilliseconds], offset nullsub_1
		call	eax

loc_4012D8:				; CODE XREF: sub_401180+14Dj
		call	sub_406070
		mov	eax, ds:dword_40905C
		test	eax, eax
		jz	short loc_401344
		mov	eax, ds:_acmdln
		xor	ecx, ecx
		mov	eax, [eax]
		jmp	short loc_4012FC
; ---------------------------------------------------------------------------

loc_4012F1:				; CODE XREF: sub_401180+182j
		test	dl, dl
		jz	short loc_401320
		test	cl, cl
		jz	short loc_401315

loc_4012F9:				; CODE XREF: sub_401180+18Fj
		add	eax, 1

loc_4012FC:				; CODE XREF: sub_401180+16Fj
		movzx	edx, byte ptr [eax]
		cmp	dl, 20h
		jle	short loc_4012F1
		mov	ebx, ecx
		xor	ebx, 1
		cmp	dl, 22h
		cmovz	ecx, ebx
		jmp	short loc_4012F9
; ---------------------------------------------------------------------------

loc_401311:				; CODE XREF: sub_401180+19Ej
		test	dl, dl
		jz	short loc_401320

loc_401315:				; CODE XREF: sub_401180+177j
		add	eax, 1
		movzx	edx, byte ptr [eax]
		cmp	dl, 20h
		jle	short loc_401311

loc_401320:				; CODE XREF: sub_401180+173j
					; sub_401180+193j
		movzx	edx, [ebp+var_2C]
		test	[ebp+var_30], 1
		mov	ds:dword_4093E4, eax
		mov	eax, 0Ah
		mov	ds:dword_4093EC, 400000h
		cmovnz	eax, edx
		mov	ds:dword_4093E8, eax

loc_401344:				; CODE XREF: sub_401180+164j
		mov	edx, ds:dword_409004
		xor	ebx, ebx
		lea	eax, ds:4[edx*4]
		mov	[ebp+var_6C], edx
		mov	[esp+88h+dwMilliseconds], eax ;	Size
		call	malloc
		mov	edi, ds:dword_409008
		mov	[ebp-70h], eax
		mov	eax, [ebp+var_6C]
		test	eax, eax
		jle	short loc_4013AA
		xchg	ax, ax

loc_401370:				; CODE XREF: sub_401180+225j
		mov	eax, [edi+ebx*4]
		mov	[esp+88h+dwMilliseconds], eax ;	Str
		call	strlen
		lea	esi, [eax+1]
		mov	[esp+88h+dwMilliseconds], esi ;	Size
		call	malloc
		mov	edx, [ebp-70h]
		mov	[edx+ebx*4], eax
		mov	edx, [edi+ebx*4]
		add	ebx, 1
		mov	[esp+88h+Size],	esi ; Size
		mov	[esp+88h+dwMilliseconds], eax ;	Dst
		mov	[esp+88h+lpProcName], edx ; Src
		call	memcpy
		cmp	ebx, [ebp+var_6C]
		jnz	short loc_401370
		shl	ebx, 2

loc_4013AA:				; CODE XREF: sub_401180+1ECj
		mov	eax, [ebp-70h]
		mov	dword ptr [eax+ebx], 0
		mov	ds:dword_409008, eax
		call	sub_406100
		mov	eax, ds:__initenv
		mov	edx, ds:dword_40900C
		mov	[eax], edx
		mov	eax, ds:dword_40900C
		mov	[esp+88h+Size],	eax
		mov	eax, ds:dword_409008
		mov	[esp+88h+lpProcName], eax
		mov	eax, ds:dword_409004
		mov	[esp+88h+dwMilliseconds], eax
		call	sub_404D28
		mov	esi, ds:dword_409014
		test	esi, esi
		mov	ds:dword_409010, eax
		jz	loc_4014A7
		mov	ebx, ds:dword_409000
		test	ebx, ebx
		jnz	short loc_401411
		call	_cexit
		mov	eax, ds:dword_409010

loc_401411:				; CODE XREF: sub_401180+285j
		lea	esp, [ebp-0Ch]
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_401420:				; CODE XREF: sub_401180+82j
		mov	eax, ds:dword_409408
		mov	ebx, 1
		cmp	eax, 1
		jnz	loc_401243

loc_401433:				; CODE XREF: sub_401180+BDj
		mov	[esp+88h+dwMilliseconds], 1Fh
		call	_amsg_exit
		mov	eax, ds:dword_409408
		cmp	eax, 1
		jnz	loc_401268
		lea	esi, [esi+0]

loc_401450:				; CODE XREF: sub_401180+E2j
		mov	[esp+88h+lpProcName], offset dword_40C008
		mov	[esp+88h+dwMilliseconds], offset dword_40C000
		call	_initterm
		mov	ds:dword_409408, 2
		jmp	loc_401268
; ---------------------------------------------------------------------------

loc_401473:				; CODE XREF: sub_401180+68j
		mov	[esp+88h+dwMilliseconds], edx ;	lpStartupInfo
		call	ds:GetStartupInfoA
		sub	esp, 4
		jmp	loc_4011EE
; ---------------------------------------------------------------------------

loc_401484:				; CODE XREF: sub_401180+CAj
		mov	ds:dword_409408, 1
		mov	[esp+88h+lpProcName], offset dword_40C018
		mov	[esp+88h+dwMilliseconds], offset dword_40C00C
		call	_initterm
		jmp	loc_40125A
; ---------------------------------------------------------------------------

loc_4014A7:				; CODE XREF: sub_401180+277j
		mov	[esp+88h+dwMilliseconds], eax ;	Code
		call	exit
sub_401180	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 0Ch
		mov	ds:dword_40905C, 1
		call	sub_406120
		add	esp, 0Ch
		jmp	sub_401180
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public start
start		proc near
		sub	esp, 0Ch
		mov	ds:dword_40905C, 0
		call	sub_406120
		add	esp, 0Ch
		jmp	sub_401180
start		endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4014F0	proc near		; CODE XREF: sub_406640+6p

lpModuleName	= dword	ptr -18h
lpProcName	= dword	ptr -14h

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	eax, dword_407120
		test	eax, eax
		jz	short locret_40153B
		mov	[esp+18h+lpModuleName],	offset ModuleName ; "libgcj-12.dll"
		call	ds:GetModuleHandleA
		mov	edx, 0
		sub	esp, 4
		test	eax, eax
		jz	short loc_40152E
		mov	[esp+18h+lpProcName], offset a_jv_registercl ; "_Jv_RegisterClasses"
		mov	[esp+18h+lpModuleName],	eax ; hModule
		call	ds:GetProcAddress
		sub	esp, 8
		mov	edx, eax

loc_40152E:				; CODE XREF: sub_4014F0+26j
		test	edx, edx
		jz	short locret_40153B
		mov	[esp+18h+lpModuleName],	offset dword_407120
		call	edx

locret_40153B:				; CODE XREF: sub_4014F0+Dj
					; sub_4014F0+40j
		leave
		retn
sub_4014F0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_401540()
sub_401540	proc near		; DATA XREF: sub_406640+Bo
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_401540	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401550	proc near		; CODE XREF: sub_4015FD+1Bp
					; sub_4015FD+4Ap ...

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	eax, [ebp+arg_4]
		jbe	short loc_40157E
		mov	eax, [ebp+arg_0]
		mov	edx, [eax]
		mov	eax, [ebp+arg_4]
		add	eax, edx
		movzx	eax, word ptr [eax]
		mov	edx, eax
		rol	dx, 8
		mov	eax, [ebp+arg_8]
		mov	[eax], dx
		mov	eax, 1
		jmp	short loc_40158B
; ---------------------------------------------------------------------------

loc_40157E:				; CODE XREF: sub_401550+Cj
		mov	eax, [ebp+arg_8]
		mov	word ptr [eax],	0
		mov	eax, 0

loc_40158B:				; CODE XREF: sub_401550+2Cj
		pop	ebp
		retn
sub_401550	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40158D	proc near		; CODE XREF: sub_4017D4+1Dp
					; sub_4017D4+53p ...

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	eax, [ebp+arg_4]
		jbe	short loc_4015ED
		mov	eax, [ebp+arg_0]
		mov	eax, [eax]
		add	eax, [ebp+arg_4]
		mov	eax, [eax]
		mov	edx, eax
		shl	edx, 18h
		mov	eax, [ebp+arg_0]
		mov	eax, [eax]
		add	eax, [ebp+arg_4]
		mov	eax, [eax]
		and	eax, 0FF00h
		shl	eax, 8
		or	edx, eax
		mov	eax, [ebp+arg_0]
		mov	eax, [eax]
		add	eax, [ebp+arg_4]
		mov	eax, [eax]
		and	eax, 0FF0000h
		shr	eax, 8
		or	edx, eax
		mov	eax, [ebp+arg_0]
		mov	eax, [eax]
		add	eax, [ebp+arg_4]
		mov	eax, [eax]
		shr	eax, 18h
		or	edx, eax
		mov	eax, [ebp+arg_8]
		mov	[eax], edx
		mov	eax, 1
		jmp	short loc_4015FB
; ---------------------------------------------------------------------------

loc_4015ED:				; CODE XREF: sub_40158D+Cj
		mov	eax, [ebp+arg_8]
		mov	dword ptr [eax], 0
		mov	eax, 0

loc_4015FB:				; CODE XREF: sub_40158D+5Ej
		pop	ebp
		retn
sub_40158D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4015FD	proc near		; CODE XREF: sub_401EBD+Cp

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 1Ch
		lea	eax, [ebp+var_2]
		mov	[esp+1Ch+var_14], eax
		mov	[esp+1Ch+var_18], 0
		mov	eax, [ebp+arg_0]
		mov	[esp+1Ch+var_1C], eax
		call	sub_401550
		test	eax, eax
		jz	short loc_40162B
		movzx	eax, [ebp+var_2]
		cmp	ax, 1
		jz	short loc_401632

loc_40162B:				; CODE XREF: sub_4015FD+22j
		mov	eax, 0
		jmp	short locret_401665
; ---------------------------------------------------------------------------

loc_401632:				; CODE XREF: sub_4015FD+2Cj
		lea	eax, [ebp+var_4]
		mov	[esp+1Ch+var_14], eax
		mov	[esp+1Ch+var_18], 2
		mov	eax, [ebp+arg_0]
		mov	[esp+1Ch+var_1C], eax
		call	sub_401550
		test	eax, eax
		jz	short loc_401659
		movzx	eax, [ebp+var_4]
		test	ax, ax
		jz	short loc_401660

loc_401659:				; CODE XREF: sub_4015FD+51j
		mov	eax, 0
		jmp	short locret_401665
; ---------------------------------------------------------------------------

loc_401660:				; CODE XREF: sub_4015FD+5Aj
		mov	eax, 1

locret_401665:				; CODE XREF: sub_4015FD+33j
					; sub_4015FD+61j
		leave
		retn
sub_4015FD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401667	proc near		; CODE XREF: sub_4017D4+70p
					; sub_4019A1+68p ...

var_5		= byte ptr -5
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 10h
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	eax, [ebp+arg_4]
		ja	short loc_401682
		mov	eax, 0
		jmp	locret_401719
; ---------------------------------------------------------------------------

loc_401682:				; CODE XREF: sub_401667+Fj
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+0Ch]
		and	eax, 2
		test	eax, eax
		jz	loc_401714
		mov	[ebp+var_4], 0
		jmp	short loc_4016F8
; ---------------------------------------------------------------------------

loc_40169C:				; CODE XREF: sub_401667+98j
		mov	eax, [ebp+var_4]
		mov	edx, eax
		add	edx, [ebp+arg_4]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	edx, eax
		jb	short loc_4016B5
		mov	eax, 0
		jmp	short locret_401719
; ---------------------------------------------------------------------------

loc_4016B5:				; CODE XREF: sub_401667+45j
		mov	eax, [ebp+arg_0]
		mov	edx, [eax]
		mov	eax, [ebp+var_4]
		add	eax, [ebp+arg_4]
		add	eax, edx
		movzx	eax, byte ptr [eax]
		mov	[ebp+var_5], al
		cmp	[ebp+var_5], 0
		jz	short loc_401703
		mov	eax, ds:g_ascii_table
		mov	eax, [eax]
		movzx	edx, [ebp+var_5]
		movzx	edx, dl
		add	edx, edx
		add	eax, edx
		movzx	eax, word ptr [eax]
		movzx	eax, ax
		and	eax, 10h
		test	eax, eax
		jnz	short loc_4016F4
		mov	eax, 0
		jmp	short locret_401719
; ---------------------------------------------------------------------------

loc_4016F4:				; CODE XREF: sub_401667+84j
		add	[ebp+var_4], 1

loc_4016F8:				; CODE XREF: sub_401667+33j
		cmp	[ebp+var_4], 3FFh
		jle	short loc_40169C
		jmp	short loc_401704
; ---------------------------------------------------------------------------

loc_401703:				; CODE XREF: sub_401667+65j
		nop

loc_401704:				; CODE XREF: sub_401667+9Aj
		cmp	[ebp+var_4], 3FFh
		jle	short loc_401714
		mov	eax, 0
		jmp	short locret_401719
; ---------------------------------------------------------------------------

loc_401714:				; CODE XREF: sub_401667+26j
					; sub_401667+A4j
		mov	eax, 1

locret_401719:				; CODE XREF: sub_401667+16j
					; sub_401667+4Cj ...
		leave
		retn
sub_401667	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40171B	proc near		; CODE XREF: sub_4019A1+A7p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_D		= byte ptr -0Dh
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	eax, [ebp+arg_4]
		ja	short loc_401736
		mov	eax, 0
		jmp	locret_4017D2
; ---------------------------------------------------------------------------

loc_401736:				; CODE XREF: sub_40171B+Fj
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+0Ch]
		and	eax, 2
		test	eax, eax
		jz	loc_4017CD
		mov	[ebp+var_C], 0
		jmp	short loc_401786
; ---------------------------------------------------------------------------

loc_401750:				; CODE XREF: sub_40171B+72j
		mov	eax, [ebp+var_C]
		mov	edx, eax
		add	edx, [ebp+arg_4]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	edx, eax
		jb	short loc_401769
		mov	eax, 0
		jmp	short locret_4017D2
; ---------------------------------------------------------------------------

loc_401769:				; CODE XREF: sub_40171B+45j
		mov	eax, [ebp+arg_0]
		mov	edx, [eax]
		mov	eax, [ebp+var_C]
		add	eax, [ebp+arg_4]
		add	eax, edx
		movzx	eax, byte ptr [eax]
		mov	[ebp+var_D], al
		cmp	[ebp+var_D], 0
		jz	short loc_401791
		add	[ebp+var_C], 1

loc_401786:				; CODE XREF: sub_40171B+33j
		cmp	[ebp+var_C], 3FFh
		jle	short loc_401750
		jmp	short loc_401792
; ---------------------------------------------------------------------------

loc_401791:				; CODE XREF: sub_40171B+65j
		nop

loc_401792:				; CODE XREF: sub_40171B+74j
		cmp	[ebp+var_C], 3FFh
		jle	short loc_4017A2
		mov	eax, 0
		jmp	short locret_4017D2
; ---------------------------------------------------------------------------

loc_4017A2:				; CODE XREF: sub_40171B+7Ej
		mov	eax, [ebp+arg_0]
		mov	eax, [eax]
		add	eax, [ebp+arg_4]
		mov	[esp+28h+var_20], 0
		mov	[esp+28h+var_24], 0FFFFFFFFh
		mov	[esp+28h+var_28], eax
		call	g_utf8_validate
		test	eax, eax
		jnz	short loc_4017CD
		mov	eax, 0
		jmp	short locret_4017D2
; ---------------------------------------------------------------------------

loc_4017CD:				; CODE XREF: sub_40171B+26j
					; sub_40171B+A9j
		mov	eax, 1

locret_4017D2:				; CODE XREF: sub_40171B+16j
					; sub_40171B+4Cj ...
		leave
		retn
sub_40171B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4017D4	proc near		; CODE XREF: sub_401EBD+76p

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 1Ch
		mov	eax, [ebp+arg_0]
		add	eax, 8
		mov	[esp+1Ch+var_14], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+1Ch+var_18], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+1Ch+var_1C], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401801
		mov	eax, 0
		jmp	short locret_40186A
; ---------------------------------------------------------------------------

loc_401801:				; CODE XREF: sub_4017D4+24j
		mov	[ebp+var_4], 0
		jmp	short loc_401858
; ---------------------------------------------------------------------------

loc_40180A:				; CODE XREF: sub_4017D4+8Fj
		mov	eax, [ebp+var_4]
		shl	eax, 2
		add	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		lea	eax, [ebp+var_8]
		mov	[esp+1Ch+var_14], eax
		mov	[esp+1Ch+var_18], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+1Ch+var_1C], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401837
		mov	eax, 0
		jmp	short locret_40186A
; ---------------------------------------------------------------------------

loc_401837:				; CODE XREF: sub_4017D4+5Aj
		mov	eax, [ebp+var_8]
		mov	[esp+1Ch+var_18], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+1Ch+var_1C], eax
		call	sub_401667
		test	eax, eax
		jnz	short loc_401854
		mov	eax, 0
		jmp	short locret_40186A
; ---------------------------------------------------------------------------

loc_401854:				; CODE XREF: sub_4017D4+77j
		add	[ebp+var_4], 1

loc_401858:				; CODE XREF: sub_4017D4+34j
		mov	edx, [ebp+var_4]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		cmp	edx, eax
		jb	short loc_40180A
		mov	eax, 1

locret_40186A:				; CODE XREF: sub_4017D4+2Bj
					; sub_4017D4+61j ...
		leave
		retn
sub_4017D4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40186C	proc near		; CODE XREF: sub_401B62+65p

var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_2C		= byte ptr -2Ch
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 48h
		lea	eax, [ebp+var_C]
		mov	[esp+48h+var_40], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+48h+var_44], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+var_48], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401899
		mov	eax, 0
		jmp	locret_401930
; ---------------------------------------------------------------------------

loc_401899:				; CODE XREF: sub_40186C+21j
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		lea	eax, [ebp+var_10]
		mov	[esp+48h+var_40], eax
		mov	[esp+48h+var_44], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+var_48], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_4018C0
		mov	eax, 0
		jmp	short locret_401930
; ---------------------------------------------------------------------------

loc_4018C0:				; CODE XREF: sub_40186C+4Bj
		mov	eax, [ebp+var_C]
		test	eax, eax
		jz	short loc_4018CE
		mov	eax, 0
		jmp	short locret_401930
; ---------------------------------------------------------------------------

loc_4018CE:				; CODE XREF: sub_40186C+59j
		mov	eax, [ebp+var_10]
		add	eax, [ebp+arg_4]
		lea	edx, [eax+8]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	edx, eax
		jb	short loc_4018E8
		mov	eax, 0
		jmp	short locret_401930
; ---------------------------------------------------------------------------

loc_4018E8:				; CODE XREF: sub_40186C+73j
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+0Ch]
		and	eax, 4
		test	eax, eax
		jz	short loc_40192B
		mov	eax, [ebp+arg_0]
		mov	eax, [eax]
		mov	edx, [ebp+arg_4]
		add	edx, 8
		add	edx, eax
		mov	eax, [ebp+var_10]
		mov	[esp+48h+var_3C], 0
		mov	[esp+48h+var_40], edx
		mov	[esp+48h+var_44], eax
		lea	eax, [ebp+var_2C]
		mov	[esp+48h+var_48], eax
		call	gdk_pixdata_deserialize
		test	eax, eax
		jnz	short loc_40192B
		mov	eax, 0
		jmp	short locret_401930
; ---------------------------------------------------------------------------

loc_40192B:				; CODE XREF: sub_40186C+87j
					; sub_40186C+B6j
		mov	eax, 1

locret_401930:				; CODE XREF: sub_40186C+28j
					; sub_40186C+52j ...
		leave
		retn
sub_40186C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401932	proc near		; CODE XREF: sub_401A71+92p

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	edx, eax
		jb	short loc_40194C
		mov	eax, 0
		jmp	short loc_401951
; ---------------------------------------------------------------------------

loc_40194C:				; CODE XREF: sub_401932+11j
		mov	eax, 1

loc_401951:				; CODE XREF: sub_401932+18j
		pop	ebp
		retn
sub_401932	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401953	proc near		; CODE XREF: sub_401A71+B6p

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 1Ch
		lea	eax, [ebp+var_4]
		mov	[esp+1Ch+var_14], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+1Ch+var_18], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+1Ch+var_1C], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_40197D
		mov	eax, 0
		jmp	short locret_40199F
; ---------------------------------------------------------------------------

loc_40197D:				; CODE XREF: sub_401953+21j
		mov	eax, [ebp+var_4]
		shl	eax, 2
		add	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		cmp	edx, eax
		jb	short loc_40199A
		mov	eax, 0
		jmp	short locret_40199F
; ---------------------------------------------------------------------------

loc_40199A:				; CODE XREF: sub_401953+3Ej
		mov	eax, 1

locret_40199F:				; CODE XREF: sub_401953+28j
					; sub_401953+45j
		leave
		retn
sub_401953	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4019A1	proc near		; CODE XREF: sub_401A71+DAp

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		lea	eax, [ebp+var_10]
		mov	[esp+28h+var_20], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_4019CE
		mov	eax, 0
		jmp	locret_401A6F
; ---------------------------------------------------------------------------

loc_4019CE:				; CODE XREF: sub_4019A1+21j
		mov	[ebp+var_C], 0
		jmp	loc_401A5C
; ---------------------------------------------------------------------------

loc_4019DA:				; CODE XREF: sub_4019A1+C3j
		mov	eax, [ebp+var_C]
		shl	eax, 3
		add	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		lea	eax, [ebp+var_14]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		mov	eax, [ebp+var_14]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401667
		test	eax, eax
		jnz	short loc_401A19
		mov	eax, 0
		jmp	short locret_401A6F
; ---------------------------------------------------------------------------

loc_401A19:				; CODE XREF: sub_4019A1+6Fj
		mov	eax, [ebp+var_C]
		shl	eax, 3
		add	eax, [ebp+arg_4]
		lea	edx, [eax+8]
		lea	eax, [ebp+var_14]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		mov	eax, [ebp+var_14]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40171B
		test	eax, eax
		jnz	short loc_401A58
		mov	eax, 0
		jmp	short locret_401A6F
; ---------------------------------------------------------------------------

loc_401A58:				; CODE XREF: sub_4019A1+AEj
		add	[ebp+var_C], 1

loc_401A5C:				; CODE XREF: sub_4019A1+34j
		mov	edx, [ebp+var_C]
		mov	eax, [ebp+var_10]
		cmp	edx, eax
		jb	loc_4019DA
		mov	eax, 1

locret_401A6F:				; CODE XREF: sub_4019A1+28j
					; sub_4019A1+76j ...
		leave
		retn
sub_4019A1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401A71	proc near		; CODE XREF: sub_401B62+89p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		lea	eax, [ebp+var_C]
		mov	[esp+28h+var_20], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401A9E
		mov	eax, 0
		jmp	locret_401B60
; ---------------------------------------------------------------------------

loc_401A9E:				; CODE XREF: sub_401A71+21j
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		lea	eax, [ebp+var_10]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401AC8
		mov	eax, 0
		jmp	locret_401B60
; ---------------------------------------------------------------------------

loc_401AC8:				; CODE XREF: sub_401A71+4Bj
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+8]
		lea	eax, [ebp+var_14]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401AEF
		mov	eax, 0
		jmp	short locret_401B60
; ---------------------------------------------------------------------------

loc_401AEF:				; CODE XREF: sub_401A71+75j
		mov	eax, [ebp+var_C]
		test	eax, eax
		jz	short loc_401B13
		mov	eax, [ebp+var_C]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401932
		test	eax, eax
		jnz	short loc_401B13
		mov	eax, 0
		jmp	short locret_401B60
; ---------------------------------------------------------------------------

loc_401B13:				; CODE XREF: sub_401A71+83j
					; sub_401A71+99j
		mov	eax, [ebp+var_10]
		test	eax, eax
		jz	short loc_401B37
		mov	eax, [ebp+var_10]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401953
		test	eax, eax
		jnz	short loc_401B37
		mov	eax, 0
		jmp	short locret_401B60
; ---------------------------------------------------------------------------

loc_401B37:				; CODE XREF: sub_401A71+A7j
					; sub_401A71+BDj
		mov	eax, [ebp+var_14]
		test	eax, eax
		jz	short loc_401B5B
		mov	eax, [ebp+var_14]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_4019A1
		test	eax, eax
		jnz	short loc_401B5B
		mov	eax, 0
		jmp	short locret_401B60
; ---------------------------------------------------------------------------

loc_401B5B:				; CODE XREF: sub_401A71+CBj
					; sub_401A71+E1j
		mov	eax, 1

locret_401B60:				; CODE XREF: sub_401A71+28j
					; sub_401A71+52j ...
		leave
		retn
sub_401A71	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401B62	proc near		; CODE XREF: sub_401C02+B8p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		lea	eax, [ebp+var_C]
		mov	[esp+28h+var_20], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401B8C
		mov	eax, 0
		jmp	short locret_401C00
; ---------------------------------------------------------------------------

loc_401B8C:				; CODE XREF: sub_401B62+21j
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		lea	eax, [ebp+var_10]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401BB3
		mov	eax, 0
		jmp	short locret_401C00
; ---------------------------------------------------------------------------

loc_401BB3:				; CODE XREF: sub_401B62+48j
		mov	eax, [ebp+var_C]
		test	eax, eax
		jz	short loc_401BD7
		mov	eax, [ebp+var_C]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40186C
		test	eax, eax
		jnz	short loc_401BD7
		mov	eax, 0
		jmp	short locret_401C00
; ---------------------------------------------------------------------------

loc_401BD7:				; CODE XREF: sub_401B62+56j
					; sub_401B62+6Cj
		mov	eax, [ebp+var_10]
		test	eax, eax
		jz	short loc_401BFB
		mov	eax, [ebp+var_10]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401A71
		test	eax, eax
		jnz	short loc_401BFB
		mov	eax, 0
		jmp	short locret_401C00
; ---------------------------------------------------------------------------

loc_401BFB:				; CODE XREF: sub_401B62+7Aj
					; sub_401B62+90j
		mov	eax, 1

locret_401C00:				; CODE XREF: sub_401B62+28j
					; sub_401B62+4Fj ...
		leave
		retn
sub_401B62	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401C02	proc near		; CODE XREF: sub_401CD1+49p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		lea	eax, [ebp+var_A]
		mov	[esp+28h+var_20], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401550
		test	eax, eax
		jnz	short loc_401C2F
		mov	eax, 0
		jmp	locret_401CCF
; ---------------------------------------------------------------------------

loc_401C2F:				; CODE XREF: sub_401C02+21j
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+2]
		lea	eax, [ebp+var_C]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401550
		test	eax, eax
		jnz	short loc_401C56
		mov	eax, 0
		jmp	short locret_401CCF
; ---------------------------------------------------------------------------

loc_401C56:				; CODE XREF: sub_401C02+4Bj
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		lea	eax, [ebp+var_10]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401C7D
		mov	eax, 0
		jmp	short locret_401CCF
; ---------------------------------------------------------------------------

loc_401C7D:				; CODE XREF: sub_401C02+72j
		movzx	eax, [ebp+var_A]
		movzx	edx, ax
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		cmp	edx, eax
		jb	short loc_401C95
		mov	eax, 0
		jmp	short locret_401CCF
; ---------------------------------------------------------------------------

loc_401C95:				; CODE XREF: sub_401C02+8Aj
		movzx	eax, [ebp+var_C]
		cmp	ax, 0Fh
		jbe	short loc_401CA6
		mov	eax, 0
		jmp	short locret_401CCF
; ---------------------------------------------------------------------------

loc_401CA6:				; CODE XREF: sub_401C02+9Bj
		mov	eax, [ebp+var_10]
		test	eax, eax
		jz	short loc_401CCA
		mov	eax, [ebp+var_10]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401B62
		test	eax, eax
		jnz	short loc_401CCA
		mov	eax, 0
		jmp	short locret_401CCF
; ---------------------------------------------------------------------------

loc_401CCA:				; CODE XREF: sub_401C02+A9j
					; sub_401C02+BFj
		mov	eax, 1

locret_401CCF:				; CODE XREF: sub_401C02+28j
					; sub_401C02+52j ...
		leave
		retn
sub_401C02	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401CD1	proc near		; CODE XREF: sub_401D3F+A8p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		lea	eax, [ebp+var_10]
		mov	[esp+28h+var_20], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401CFB
		mov	eax, 0
		jmp	short locret_401D3D
; ---------------------------------------------------------------------------

loc_401CFB:				; CODE XREF: sub_401CD1+21j
		mov	[ebp+var_C], 0
		jmp	short loc_401D2E
; ---------------------------------------------------------------------------

loc_401D04:				; CODE XREF: sub_401CD1+65j
		mov	eax, [ebp+var_C]
		shl	eax, 3
		add	eax, [ebp+arg_4]
		add	eax, 4
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401C02
		test	eax, eax
		jnz	short loc_401D2A
		mov	eax, 0
		jmp	short locret_401D3D
; ---------------------------------------------------------------------------

loc_401D2A:				; CODE XREF: sub_401CD1+50j
		add	[ebp+var_C], 1

loc_401D2E:				; CODE XREF: sub_401CD1+31j
		mov	edx, [ebp+var_C]
		mov	eax, [ebp+var_10]
		cmp	edx, eax
		jb	short loc_401D04
		mov	eax, 1

locret_401D3D:				; CODE XREF: sub_401CD1+28j
					; sub_401CD1+57j
		leave
		retn
sub_401CD1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401D3F	proc near		; CODE XREF: sub_401D3F+CDp
					; sub_401E23+75p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		lea	eax, [ebp+var_C]
		mov	[esp+28h+var_20], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401D6C
		mov	eax, 0
		jmp	locret_401E21
; ---------------------------------------------------------------------------

loc_401D6C:				; CODE XREF: sub_401D3F+21j
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		lea	eax, [ebp+var_10]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401D96
		mov	eax, 0
		jmp	locret_401E21
; ---------------------------------------------------------------------------

loc_401D96:				; CODE XREF: sub_401D3F+4Bj
		mov	eax, [ebp+arg_4]
		lea	edx, [eax+8]
		lea	eax, [ebp+var_14]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401DBD
		mov	eax, 0
		jmp	short locret_401E21
; ---------------------------------------------------------------------------

loc_401DBD:				; CODE XREF: sub_401D3F+75j
		mov	eax, [ebp+var_10]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401667
		test	eax, eax
		jnz	short loc_401DDA
		mov	eax, 0
		jmp	short locret_401E21
; ---------------------------------------------------------------------------

loc_401DDA:				; CODE XREF: sub_401D3F+92j
		mov	eax, [ebp+var_14]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401CD1
		test	eax, eax
		jnz	short loc_401DF7
		mov	eax, 0
		jmp	short locret_401E21
; ---------------------------------------------------------------------------

loc_401DF7:				; CODE XREF: sub_401D3F+AFj
		mov	eax, [ebp+var_C]
		cmp	eax, 0FFFFFFFFh
		jz	short loc_401E1C
		mov	eax, [ebp+var_C]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401D3F
		test	eax, eax
		jnz	short loc_401E1C
		mov	eax, 0
		jmp	short locret_401E21
; ---------------------------------------------------------------------------

loc_401E1C:				; CODE XREF: sub_401D3F+BEj
					; sub_401D3F+D4j
		mov	eax, 1

locret_401E21:				; CODE XREF: sub_401D3F+28j
					; sub_401D3F+52j ...
		leave
		retn
sub_401D3F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401E23	proc near		; CODE XREF: sub_401EBD+93p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		lea	eax, [ebp+var_10]
		mov	[esp+28h+var_20], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401E4D
		mov	eax, 0
		jmp	short locret_401EBB
; ---------------------------------------------------------------------------

loc_401E4D:				; CODE XREF: sub_401E23+21j
		mov	[ebp+var_C], 0
		jmp	short loc_401EAC
; ---------------------------------------------------------------------------

loc_401E56:				; CODE XREF: sub_401E23+91j
		mov	eax, [ebp+var_C]
		shl	eax, 2
		add	eax, [ebp+arg_4]
		lea	edx, [eax+4]
		lea	eax, [ebp+var_14]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], edx
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401E83
		mov	eax, 0
		jmp	short locret_401EBB
; ---------------------------------------------------------------------------

loc_401E83:				; CODE XREF: sub_401E23+57j
		mov	eax, [ebp+var_14]
		cmp	eax, 0FFFFFFFFh
		jz	short loc_401EA8
		mov	eax, [ebp+var_14]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401D3F
		test	eax, eax
		jnz	short loc_401EA8
		mov	eax, 0
		jmp	short locret_401EBB
; ---------------------------------------------------------------------------

loc_401EA8:				; CODE XREF: sub_401E23+66j
					; sub_401E23+7Cj
		add	[ebp+var_C], 1

loc_401EAC:				; CODE XREF: sub_401E23+31j
		mov	edx, [ebp+var_C]
		mov	eax, [ebp+var_10]
		cmp	edx, eax
		jb	short loc_401E56
		mov	eax, 1

locret_401EBB:				; CODE XREF: sub_401E23+28j
					; sub_401E23+5Ej ...
		leave
		retn
sub_401E23	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401EBD	proc near		; CODE XREF: sub_40448F+61p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_4015FD
		test	eax, eax
		jnz	short loc_401EDC
		mov	eax, 0
		jmp	locret_401F65
; ---------------------------------------------------------------------------

loc_401EDC:				; CODE XREF: sub_401EBD+13j
		lea	eax, [ebp+var_C]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], 4
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401F01
		mov	eax, 0
		jmp	short locret_401F65
; ---------------------------------------------------------------------------

loc_401F01:				; CODE XREF: sub_401EBD+3Bj
		lea	eax, [ebp+var_10]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], 8
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40158D
		test	eax, eax
		jnz	short loc_401F26
		mov	eax, 0
		jmp	short locret_401F65
; ---------------------------------------------------------------------------

loc_401F26:				; CODE XREF: sub_401EBD+60j
		mov	eax, [ebp+var_10]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_4017D4
		test	eax, eax
		jnz	short loc_401F43
		mov	eax, 0
		jmp	short locret_401F65
; ---------------------------------------------------------------------------

loc_401F43:				; CODE XREF: sub_401EBD+7Dj
		mov	eax, [ebp+var_C]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_401E23
		test	eax, eax
		jnz	short loc_401F60
		mov	eax, 0
		jmp	short locret_401F65
; ---------------------------------------------------------------------------

loc_401F60:				; CODE XREF: sub_401EBD+9Aj
		mov	eax, 1

locret_401F65:				; CODE XREF: sub_401EBD+1Aj
					; sub_401EBD+42j ...
		leave
		retn
sub_401EBD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401F67	proc near		; CODE XREF: sub_404D28+21Cp

var_88		= dword	ptr -88h
var_84		= dword	ptr -84h
var_80		= dword	ptr -80h
var_70		= byte ptr -70h
var_4C		= dword	ptr -4Ch
var_40		= byte ptr -40h
var_1C		= dword	ptr -1Ch
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 88h
		lea	eax, [ebp+var_40]
		mov	[esp+88h+var_84], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+var_88], eax
		call	g_stat
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jns	short loc_401F92
		mov	eax, 1
		jmp	short locret_401FEB
; ---------------------------------------------------------------------------

loc_401F92:				; CODE XREF: sub_401F67+22j
		mov	[esp+88h+var_80], 0
		mov	[esp+88h+var_84], offset aIconTheme_cach ; "icon-theme.cache"
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+var_88], eax
		call	g_build_filename
		mov	[ebp+var_10], eax
		lea	eax, [ebp+var_70]
		mov	[esp+88h+var_84], eax
		mov	eax, [ebp+var_10]
		mov	[esp+88h+var_88], eax
		call	g_stat
		mov	[ebp+var_C], eax
		mov	eax, [ebp+var_10]
		mov	[esp+88h+var_88], eax
		call	g_free
		cmp	[ebp+var_C], 0
		jns	short loc_401FDD
		mov	eax, 0
		jmp	short locret_401FEB
; ---------------------------------------------------------------------------

loc_401FDD:				; CODE XREF: sub_401F67+6Dj
		mov	edx, [ebp+var_4C]
		mov	eax, [ebp+var_1C]
		cmp	edx, eax
		setnl	al
		movzx	eax, al

locret_401FEB:				; CODE XREF: sub_401F67+29j
					; sub_401F67+74j
		leave
		retn
sub_401F67	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401FED	proc near		; CODE XREF: sub_404D28+1C3p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	[esp+28h+var_20], 0
		mov	[esp+28h+var_24], offset aIndex_theme ;	"index.theme"
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_build_filename
		mov	[ebp+var_C], eax
		mov	[esp+28h+var_24], 1
		mov	eax, [ebp+var_C]
		mov	[esp+28h+var_28], eax
		call	g_file_test_utf8
		mov	[ebp+var_10], eax
		mov	eax, [ebp+var_C]
		mov	[esp+28h+var_28], eax
		call	g_free
		mov	eax, [ebp+var_10]
		leave
		retn
sub_401FED	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402037	proc near		; DATA XREF: sub_402B69+329o

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_10], eax
		mov	eax, [ebp+arg_8]
		mov	[ebp+var_14], eax
		mov	[ebp+var_C], 0
		mov	eax, [ebp+var_10]
		mov	eax, [eax]
		cmp	eax, 8
		jnz	short loc_402077
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_free
		mov	eax, [ebp+var_10]
		mov	[esp+28h+var_28], eax
		call	g_free
		mov	eax, 1
		jmp	short locret_4020DD
; ---------------------------------------------------------------------------

loc_402077:				; CODE XREF: sub_402037+21j
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+var_14]
		mov	[esp+28h+var_28], eax
		call	g_hash_table_lookup
		mov	[ebp+var_18], eax
		cmp	[ebp+var_18], 0
		jz	short loc_402099
		mov	[ebp+var_C], 1

loc_402099:				; CODE XREF: sub_402037+59j
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+var_18]
		mov	[esp+28h+var_28], eax
		call	g_list_prepend
		mov	[ebp+var_18], eax
		mov	eax, [ebp+var_18]
		mov	[esp+28h+var_20], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+var_14]
		mov	[esp+28h+var_28], eax
		call	g_hash_table_insert
		cmp	[ebp+var_C], 0
		jz	short loc_4020D8
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_free

loc_4020D8:				; CODE XREF: sub_402037+94j
		mov	eax, 1

locret_4020DD:				; CODE XREF: sub_402037+3Ej
		leave
		retn
sub_402037	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4020DF	proc near		; CODE XREF: sub_402969+13Cp

Str		= dword	ptr -68h
Val		= dword	ptr -64h
var_60		= dword	ptr -60h
var_5C		= dword	ptr -5Ch
var_58		= dword	ptr -58h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	ebx
		sub	esp, 64h
		mov	[ebp+var_40], 0
		call	g_key_file_new
		mov	[ebp+var_1C], eax
		mov	[esp+68h+Val], 2Ch
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_set_list_separator
		lea	eax, [ebp+var_40]
		mov	[esp+68h+var_5C], eax
		mov	[esp+68h+var_60], 2
		mov	eax, [ebp+arg_0]
		mov	[esp+68h+Val], eax
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_load_from_file
		mov	eax, [ebp+var_40]
		test	eax, eax
		jz	short loc_402150
		mov	eax, [ebp+var_40]
		mov	[esp+68h+Str], eax
		call	g_error_free
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_free
		mov	eax, 0
		jmp	loc_4024DD
; ---------------------------------------------------------------------------

loc_402150:				; CODE XREF: sub_4020DF+4Fj
		mov	[esp+68h+Val], 2Ch
		mov	[esp+68h+Str], 1
		call	g_malloc0_n
		mov	[ebp+var_20], eax
		mov	[esp+68h+var_58], 0
		lea	eax, [ebp+var_3C]
		mov	[esp+68h+var_5C], eax
		mov	[esp+68h+var_60], offset aEmbeddedtextre ; "EmbeddedTextRectangle"
		mov	[esp+68h+Val], offset aIconData	; "Icon	Data"
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_get_integer_list
		mov	[ebp+var_24], eax
		cmp	[ebp+var_24], 0
		jz	short loc_4021E5
		mov	eax, [ebp+var_3C]
		cmp	eax, 4
		jnz	short loc_4021DA
		mov	eax, [ebp+var_20]
		mov	dword ptr [eax], 1
		mov	eax, [ebp+var_24]
		mov	edx, [eax]
		mov	eax, [ebp+var_20]
		mov	[eax+4], edx
		mov	eax, [ebp+var_24]
		mov	edx, [eax+4]
		mov	eax, [ebp+var_20]
		mov	[eax+8], edx
		mov	eax, [ebp+var_24]
		mov	edx, [eax+8]
		mov	eax, [ebp+var_20]
		mov	[eax+0Ch], edx
		mov	eax, [ebp+var_24]
		mov	edx, [eax+0Ch]
		mov	eax, [ebp+var_20]
		mov	[eax+10h], edx

loc_4021DA:				; CODE XREF: sub_4020DF+C1j
		mov	eax, [ebp+var_24]
		mov	[esp+68h+Str], eax
		call	g_free

loc_4021E5:				; CODE XREF: sub_4020DF+B9j
		mov	[esp+68h+var_5C], 0
		mov	[esp+68h+var_60], offset aAttachpoints ; "AttachPoints"
		mov	[esp+68h+Val], offset aIconData	; "Icon	Data"
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_get_string
		mov	[ebp+var_28], eax
		cmp	[ebp+var_28], 0
		jz	loc_402318
		mov	[esp+68h+var_60], 0FFFFFFFFh
		mov	[esp+68h+Val], offset asc_408090 ; "|"
		mov	eax, [ebp+var_28]
		mov	[esp+68h+Str], eax
		call	g_strsplit
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+Str], eax
		call	g_strv_length
		mov	edx, eax
		mov	eax, [ebp+var_20]
		mov	[eax+14h], edx
		mov	eax, [ebp+var_20]
		mov	eax, [eax+14h]
		add	eax, eax
		mov	[esp+68h+Val], 4
		mov	[esp+68h+Str], eax
		call	g_malloc_n
		mov	edx, eax
		mov	eax, [ebp+var_20]
		mov	[eax+18h], edx
		mov	[ebp+var_C], 0
		jmp	short loc_4022E4
; ---------------------------------------------------------------------------

loc_40226F:				; CODE XREF: sub_4020DF+21Dj
		mov	eax, [ebp+var_C]
		shl	eax, 2
		add	eax, [ebp+var_2C]
		mov	eax, [eax]
		mov	[esp+68h+Val], 2Ch ; Val
		mov	[esp+68h+Str], eax ; Str
		call	strchr
		mov	[ebp+var_30], eax
		cmp	[ebp+var_30], 0
		jz	short loc_4022E0
		mov	eax, [ebp+var_30]
		mov	byte ptr [eax],	0
		add	[ebp+var_30], 1
		mov	eax, [ebp+var_20]
		mov	edx, [eax+18h]
		mov	eax, [ebp+var_C]
		shl	eax, 3
		lea	ebx, [edx+eax]
		mov	eax, [ebp+var_C]
		shl	eax, 2
		add	eax, [ebp+var_2C]
		mov	eax, [eax]
		mov	[esp+68h+Str], eax ; Str
		call	atoi
		mov	[ebx], eax
		mov	eax, [ebp+var_20]
		mov	eax, [eax+18h]
		mov	edx, [ebp+var_C]
		shl	edx, 3
		add	edx, 4
		lea	ebx, [eax+edx]
		mov	eax, [ebp+var_30]
		mov	[esp+68h+Str], eax ; Str
		call	atoi
		mov	[ebx], eax

loc_4022E0:				; CODE XREF: sub_4020DF+1B2j
		add	[ebp+var_C], 1

loc_4022E4:				; CODE XREF: sub_4020DF+18Ej
		mov	eax, [ebp+var_C]
		shl	eax, 2
		add	eax, [ebp+var_2C]
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_402302
		mov	eax, [ebp+var_20]
		mov	eax, [eax+14h]
		cmp	eax, [ebp+var_C]
		jg	loc_40226F

loc_402302:				; CODE XREF: sub_4020DF+212j
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+Str], eax
		call	g_strfreev
		mov	eax, [ebp+var_28]
		mov	[esp+68h+Str], eax
		call	g_free

loc_402318:				; CODE XREF: sub_4020DF+130j
		lea	eax, [ebp+var_40]
		mov	[esp+68h+var_5C], eax
		lea	eax, [ebp+var_44]
		mov	[esp+68h+var_60], eax
		mov	[esp+68h+Val], offset aIconData	; "Icon	Data"
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_get_keys
		mov	[ebp+var_34], eax
		mov	eax, [ebp+var_44]
		add	eax, eax
		add	eax, 1
		mov	[esp+68h+Val], 4
		mov	[esp+68h+Str], eax
		call	g_malloc0_n
		mov	edx, eax
		mov	eax, [ebp+var_20]
		mov	[eax+20h], edx
		mov	eax, [ebp+var_20]
		mov	dword ptr [eax+1Ch], 0
		mov	[ebp+var_C], 0
		jmp	loc_4024AC
; ---------------------------------------------------------------------------

loc_402372:				; CODE XREF: sub_4020DF+3D5j
		mov	eax, [ebp+var_C]
		shl	eax, 2
		add	eax, [ebp+var_34]
		mov	eax, [eax]
		mov	[esp+68h+Val], offset aDisplayname ; "DisplayName"
		mov	[esp+68h+Str], eax
		call	g_str_has_prefix
		test	eax, eax
		jz	loc_4024A8
		mov	[ebp+var_18], 0
		mov	eax, [ebp+var_C]
		shl	eax, 2
		add	eax, [ebp+var_34]
		mov	eax, [eax]
		mov	[esp+68h+Val], 5Bh ; Val
		mov	[esp+68h+Str], eax ; Str
		call	strchr
		mov	[ebp+var_38], eax
		cmp	[ebp+var_38], 0
		jz	short loc_4023D6
		mov	[esp+68h+Val], 5Dh ; Val
		mov	eax, [ebp+var_38]
		mov	[esp+68h+Str], eax ; Str
		call	strchr
		mov	[ebp+var_18], eax

loc_4023D6:				; CODE XREF: sub_4020DF+2DFj
		cmp	[ebp+var_38], 0
		jz	short loc_402435
		cmp	[ebp+var_18], 0
		jz	short loc_402435
		mov	edx, [ebp+var_18]
		mov	eax, [ebp+var_38]
		mov	ecx, edx
		sub	ecx, eax
		mov	eax, ecx
		sub	eax, 1
		mov	edx, [ebp+var_38]
		add	edx, 1
		mov	[esp+68h+Val], eax
		mov	[esp+68h+Str], edx
		call	g_strndup
		mov	[ebp+var_10], eax
		mov	[esp+68h+var_58], 0
		mov	eax, [ebp+var_10]
		mov	[esp+68h+var_5C], eax
		mov	[esp+68h+var_60], offset aDisplayname ;	"DisplayName"
		mov	[esp+68h+Val], offset aIconData	; "Icon	Data"
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_get_locale_string
		mov	[ebp+var_14], eax
		jmp	short loc_40246A
; ---------------------------------------------------------------------------

loc_402435:				; CODE XREF: sub_4020DF+2FBj
					; sub_4020DF+301j
		mov	[esp+68h+Str], offset aC ; "C"
		call	g_strdup
		mov	[ebp+var_10], eax
		mov	[esp+68h+var_5C], 0
		mov	[esp+68h+var_60], offset aDisplayname ;	"DisplayName"
		mov	[esp+68h+Val], offset aIconData	; "Icon	Data"
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_get_string
		mov	[ebp+var_14], eax

loc_40246A:				; CODE XREF: sub_4020DF+354j
		mov	eax, [ebp+var_20]
		mov	edx, [eax+20h]
		mov	eax, [ebp+var_20]
		mov	eax, [eax+1Ch]
		shl	eax, 3
		add	edx, eax
		mov	eax, [ebp+var_10]
		mov	[edx], eax
		mov	eax, [ebp+var_20]
		mov	edx, [eax+20h]
		mov	eax, [ebp+var_20]
		mov	eax, [eax+1Ch]
		shl	eax, 3
		add	eax, 4
		add	edx, eax
		mov	eax, [ebp+var_14]
		mov	[edx], eax
		mov	eax, [ebp+var_20]
		mov	eax, [eax+1Ch]
		lea	edx, [eax+1]
		mov	eax, [ebp+var_20]
		mov	[eax+1Ch], edx

loc_4024A8:				; CODE XREF: sub_4020DF+2B0j
		add	[ebp+var_C], 1

loc_4024AC:				; CODE XREF: sub_4020DF+28Ej
		mov	edx, [ebp+var_C]
		mov	eax, [ebp+var_44]
		cmp	edx, eax
		jb	loc_402372
		mov	eax, [ebp+var_34]
		mov	[esp+68h+Str], eax
		call	g_strfreev
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_key_file_free
		mov	eax, [ebp+var_20]
		mov	dword ptr [eax+28h], 0FFFFFFFFh
		mov	eax, [ebp+var_20]

loc_4024DD:				; CODE XREF: sub_4020DF+6Cj
		add	esp, 64h
		pop	ebx
		pop	ebp
		retn
sub_4020DF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4024E3	proc near		; CODE XREF: sub_402737+88p
					; sub_402969+64p

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 10h
		mov	[ebp+var_C], 0
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_8], eax
		jmp	loc_40260B
; ---------------------------------------------------------------------------

loc_402501:				; CODE XREF: sub_4024E3+130j
		mov	eax, [ebp+var_4]
		movzx	eax, byte ptr [eax]
		cmp	al, 5Ch
		jnz	short loc_402527
		cmp	[ebp+var_C], 0
		jnz	short loc_40251B
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax],	5Ch
		add	[ebp+var_8], 1

loc_40251B:				; CODE XREF: sub_4024E3+2Cj
		mov	[ebp+var_C], 1
		jmp	loc_402607
; ---------------------------------------------------------------------------

loc_402527:				; CODE XREF: sub_4024E3+26j
		cmp	[ebp+var_C], 0
		jz	loc_4025F1
		mov	eax, [ebp+var_4]
		movzx	eax, byte ptr [eax]
		cmp	al, 2Eh
		jnz	loc_4025F1
		mov	eax, [ebp+var_4]
		add	eax, 1
		movzx	eax, byte ptr [eax]
		cmp	al, 5Ch
		jz	short loc_402559
		mov	eax, [ebp+var_4]
		add	eax, 1
		movzx	eax, byte ptr [eax]
		test	al, al
		jnz	short loc_402570

loc_402559:				; CODE XREF: sub_4024E3+67j
		mov	eax, [ebp+var_4]
		add	eax, 1
		movzx	eax, byte ptr [eax]
		test	al, al
		jz	loc_40261B
		add	[ebp+var_4], 1
		jmp	short loc_4025EF
; ---------------------------------------------------------------------------

loc_402570:				; CODE XREF: sub_4024E3+74j
		mov	eax, [ebp+var_4]
		add	eax, 1
		movzx	eax, byte ptr [eax]
		cmp	al, 2Eh
		jnz	short loc_4025D7
		mov	eax, [ebp+var_4]
		add	eax, 2
		movzx	eax, byte ptr [eax]
		cmp	al, 5Ch
		jz	short loc_402597
		mov	eax, [ebp+var_4]
		add	eax, 2
		movzx	eax, byte ptr [eax]
		test	al, al
		jnz	short loc_4025D7

loc_402597:				; CODE XREF: sub_4024E3+A5j
		mov	eax, [ebp+arg_0]
		add	eax, 1
		cmp	eax, [ebp+var_8]
		jnb	short loc_4025C4
		sub	[ebp+var_8], 1
		jmp	short loc_4025AC
; ---------------------------------------------------------------------------

loc_4025A8:				; CODE XREF: sub_4024E3+DFj
		sub	[ebp+var_8], 1

loc_4025AC:				; CODE XREF: sub_4024E3+C3j
		mov	eax, [ebp+arg_0]
		add	eax, 1
		cmp	eax, [ebp+var_8]
		jnb	short loc_4025C4
		mov	eax, [ebp+var_8]
		sub	eax, 1
		movzx	eax, byte ptr [eax]
		cmp	al, 5Ch
		jnz	short loc_4025A8

loc_4025C4:				; CODE XREF: sub_4024E3+BDj
					; sub_4024E3+D2j
		mov	eax, [ebp+var_4]
		add	eax, 2
		movzx	eax, byte ptr [eax]
		test	al, al
		jz	short loc_40261E
		add	[ebp+var_4], 2
		jmp	short loc_4025EF
; ---------------------------------------------------------------------------

loc_4025D7:				; CODE XREF: sub_4024E3+98j
					; sub_4024E3+B2j
		mov	eax, [ebp+var_4]
		movzx	edx, byte ptr [eax]
		mov	eax, [ebp+var_8]
		mov	[eax], dl
		add	[ebp+var_8], 1
		mov	[ebp+var_C], 0
		jmp	short loc_402607
; ---------------------------------------------------------------------------

loc_4025EF:				; CODE XREF: sub_4024E3+8Bj
					; sub_4024E3+F2j
		jmp	short loc_402607
; ---------------------------------------------------------------------------

loc_4025F1:				; CODE XREF: sub_4024E3+48j
					; sub_4024E3+56j
		mov	eax, [ebp+var_4]
		movzx	edx, byte ptr [eax]
		mov	eax, [ebp+var_8]
		mov	[eax], dl
		add	[ebp+var_8], 1
		mov	[ebp+var_C], 0

loc_402607:				; CODE XREF: sub_4024E3+3Fj
					; sub_4024E3+10Aj ...
		add	[ebp+var_4], 1

loc_40260B:				; CODE XREF: sub_4024E3+19j
		mov	eax, [ebp+var_4]
		movzx	eax, byte ptr [eax]
		test	al, al
		jnz	loc_402501
		jmp	short loc_40261F
; ---------------------------------------------------------------------------

loc_40261B:				; CODE XREF: sub_4024E3+81j
		nop
		jmp	short loc_40261F
; ---------------------------------------------------------------------------

loc_40261E:				; CODE XREF: sub_4024E3+ECj
		nop

loc_40261F:				; CODE XREF: sub_4024E3+136j
					; sub_4024E3+139j
		mov	eax, [ebp+arg_0]
		add	eax, 1
		cmp	eax, [ebp+var_8]
		jnb	short loc_40263B
		mov	eax, [ebp+var_8]
		sub	eax, 1
		movzx	eax, byte ptr [eax]
		cmp	al, 5Ch
		jnz	short loc_40263B
		sub	[ebp+var_8], 1

loc_40263B:				; CODE XREF: sub_4024E3+145j
					; sub_4024E3+152j
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax],	0
		leave
		retn
sub_4024E3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_402643(char *)
sub_402643	proc near		; CODE XREF: sub_402737+70p
					; sub_402969+4Cp

Str1		= dword	ptr -28h
Str2		= dword	ptr -24h
var_20		= dword	ptr -20h
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	[ebp+var_C], 0
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+Str1],	eax
		call	g_strdup
		mov	[ebp+var_C], eax
		jmp	loc_4026EC
; ---------------------------------------------------------------------------

loc_402663:				; CODE XREF: sub_402643+BEj
		mov	[esp+28h+Str2],	0
		mov	eax, [ebp+var_C]
		mov	[esp+28h+Str1],	eax
		call	g_file_read_link
		mov	[ebp+var_10], eax
		cmp	[ebp+var_10], 0
		jz	loc_402709
		mov	eax, [ebp+var_10]
		mov	[esp+28h+Str1],	eax
		call	g_path_is_absolute
		test	eax, eax
		jz	short loc_40269A
		mov	eax, [ebp+var_10]
		mov	[ebp+var_C], eax
		jmp	short loc_4026EC
; ---------------------------------------------------------------------------

loc_40269A:				; CODE XREF: sub_402643+4Dj
		mov	eax, [ebp+var_C]
		mov	[esp+28h+Str1],	eax
		call	g_path_get_dirname
		mov	[ebp+var_14], eax
		mov	[esp+28h+var_20], 0
		mov	eax, [ebp+var_10]
		mov	[esp+28h+Str2],	eax
		mov	eax, [ebp+var_14]
		mov	[esp+28h+Str1],	eax
		call	g_build_filename
		mov	[ebp+var_18], eax
		mov	eax, [ebp+var_14]
		mov	[esp+28h+Str1],	eax
		call	g_free
		mov	eax, [ebp+var_10]
		mov	[esp+28h+Str1],	eax
		call	g_free
		mov	eax, [ebp+var_C]
		mov	[esp+28h+Str1],	eax
		call	g_free
		mov	eax, [ebp+var_18]
		mov	[ebp+var_C], eax

loc_4026EC:				; CODE XREF: sub_402643+1Bj
					; sub_402643+55j
		mov	[esp+28h+Str2],	2
		mov	eax, [ebp+var_C]
		mov	[esp+28h+Str1],	eax
		call	g_file_test_utf8
		test	eax, eax
		jnz	loc_402663
		jmp	short loc_40270A
; ---------------------------------------------------------------------------

loc_402709:				; CODE XREF: sub_402643+3Aj
		nop

loc_40270A:				; CODE XREF: sub_402643+C4j
		mov	eax, [ebp+var_C]
		mov	[esp+28h+Str2],	eax ; Str2
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+Str1],	eax ; Str1
		call	strcmp
		test	eax, eax
		jnz	short loc_402732
		mov	eax, [ebp+var_C]
		mov	[esp+28h+Str1],	eax
		call	g_free
		mov	[ebp+var_C], 0

loc_402732:				; CODE XREF: sub_402643+DBj
		mov	eax, [ebp+var_C]
		leave
		retn
sub_402643	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_402737(int, char *)
sub_402737	proc near		; CODE XREF: sub_402B69+2CCp

var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 38h
		mov	eax, dword_407000
		test	eax, eax
		jnz	locret_402967
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		test	eax, eax
		jnz	locret_402967
		mov	[esp+38h+var_34], offset a_png ; ".png"
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	g_str_has_suffix
		test	eax, eax
		jnz	short loc_40278A
		mov	[esp+38h+var_34], offset a_xpm ; ".xpm"
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	g_str_has_suffix
		test	eax, eax
		jz	locret_402967

loc_40278A:				; CODE XREF: sub_402737+36j
		mov	eax, ds:dword_409030
		mov	edx, [ebp+arg_4]
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_lookup
		mov	[ebp+var_C], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax ;	char *
		call	sub_402643
		mov	[ebp+var_10], eax
		cmp	[ebp+var_10], 0
		jz	loc_40288B
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	sub_4024E3
		mov	eax, ds:dword_409030
		mov	edx, [ebp+var_10]
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_lookup
		mov	[ebp+var_14], eax
		cmp	[ebp+var_C], 0
		jz	short loc_402823
		cmp	[ebp+var_14], 0
		jz	short loc_402823
		mov	eax, [ebp+var_C]
		cmp	eax, [ebp+var_14]
		jz	short loc_402823
		mov	[esp+38h+var_38], offset aDifferentIdata ; "different idatas found for symlinked '%"...
		call	libintl_gettext
		mov	edx, [ebp+var_10]
		mov	[esp+38h+var_28], edx
		mov	edx, [ebp+arg_4]
		mov	[esp+38h+var_2C], edx
		mov	[esp+38h+var_30], eax
		mov	[esp+38h+var_34], 4
		mov	[esp+38h+var_38], offset aGtk ;	"Gtk"
		call	g_log

loc_402821:				; CODE XREF: sub_402737:loc_402821j
		jmp	short loc_402821
; ---------------------------------------------------------------------------

loc_402823:				; CODE XREF: sub_402737+A8j
					; sub_402737+AEj ...
		cmp	[ebp+var_C], 0
		jz	short loc_402854
		cmp	[ebp+var_14], 0
		jnz	short loc_402854
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	edx, eax
		mov	eax, ds:dword_409030
		mov	ecx, [ebp+var_C]
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_insert

loc_402854:				; CODE XREF: sub_402737+F0j
					; sub_402737+F6j
		cmp	[ebp+var_C], 0
		jnz	short loc_40288B
		cmp	[ebp+var_14], 0
		jz	short loc_40288B
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	edx, eax
		mov	eax, ds:dword_409030
		mov	ecx, [ebp+var_14]
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_insert
		mov	eax, [ebp+var_14]
		mov	[ebp+var_C], eax

loc_40288B:				; CODE XREF: sub_402737+7Cj
					; sub_402737+121j ...
		cmp	[ebp+var_C], 0
		jnz	short loc_4028F8
		mov	[esp+38h+var_34], 28h
		mov	[esp+38h+var_38], 1
		call	g_malloc0_n
		mov	[ebp+var_C], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	edx, eax
		mov	eax, ds:dword_409030
		mov	ecx, [ebp+var_C]
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_insert
		cmp	[ebp+var_10], 0
		jz	short loc_4028F8
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	edx, eax
		mov	eax, ds:dword_409030
		mov	ecx, [ebp+var_C]
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_insert

loc_4028F8:				; CODE XREF: sub_402737+158j
					; sub_402737+19Aj
		mov	eax, [ebp+var_C]
		mov	eax, [eax+1Ch]
		test	eax, eax
		jnz	short loc_402953
		mov	[esp+38h+var_34], 0
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	gdk_pixbuf_new_from_file_utf8
		mov	[ebp+var_18], eax
		cmp	[ebp+var_18], 0
		jz	short loc_402953
		mov	eax, [ebp+var_C]
		mov	[esp+38h+var_30], 0
		mov	edx, [ebp+var_18]
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	gdk_pixdata_from_pixbuf
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		add	eax, 8
		mov	edx, eax
		mov	eax, [ebp+var_C]
		mov	[eax+24h], edx
		mov	eax, [ebp+var_C]
		mov	dword ptr [eax+1Ch], 1

loc_402953:				; CODE XREF: sub_402737+1C9j
					; sub_402737+1E5j
		mov	eax, [ebp+arg_0]
		mov	edx, [ebp+var_C]
		mov	[eax+8], edx
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	g_free

locret_402967:				; CODE XREF: sub_402737+Dj
					; sub_402737+1Bj ...
		leave
		retn
sub_402737	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_402969(int, char *)
sub_402969	proc near		; CODE XREF: sub_402B69+2DEp

var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 38h
		mov	[esp+38h+var_34], offset a_icon	; ".icon"
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	g_str_has_suffix
		test	eax, eax
		jz	locret_402B11
		mov	[ebp+var_C], 0
		mov	[ebp+var_10], 0
		mov	eax, ds:dword_409034
		mov	edx, [ebp+arg_4]
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_lookup
		mov	[ebp+var_C], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax ;	char *
		call	sub_402643
		mov	[ebp+var_10], eax
		cmp	[ebp+var_10], 0
		jz	loc_402A99
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	sub_4024E3
		mov	eax, ds:dword_409034
		mov	edx, [ebp+var_10]
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_lookup
		mov	[ebp+var_14], eax
		cmp	[ebp+var_C], 0
		jz	short loc_402A31
		cmp	[ebp+var_14], 0
		jz	short loc_402A31
		mov	eax, [ebp+var_C]
		cmp	eax, [ebp+var_14]
		jz	short loc_402A31
		mov	[esp+38h+var_38], offset aDifferentIdata ; "different idatas found for symlinked '%"...
		call	libintl_gettext
		mov	edx, [ebp+var_10]
		mov	[esp+38h+var_28], edx
		mov	edx, [ebp+arg_4]
		mov	[esp+38h+var_2C], edx
		mov	[esp+38h+var_30], eax
		mov	[esp+38h+var_34], 4
		mov	[esp+38h+var_38], offset aGtk ;	"Gtk"
		call	g_log

loc_402A2F:				; CODE XREF: sub_402969:loc_402A2Fj
		jmp	short loc_402A2F
; ---------------------------------------------------------------------------

loc_402A31:				; CODE XREF: sub_402969+84j
					; sub_402969+8Aj ...
		cmp	[ebp+var_C], 0
		jz	short loc_402A62
		cmp	[ebp+var_14], 0
		jnz	short loc_402A62
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	edx, eax
		mov	eax, ds:dword_409034
		mov	ecx, [ebp+var_C]
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_insert

loc_402A62:				; CODE XREF: sub_402969+CCj
					; sub_402969+D2j
		cmp	[ebp+var_C], 0
		jnz	short loc_402A99
		cmp	[ebp+var_14], 0
		jz	short loc_402A99
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	edx, eax
		mov	eax, ds:dword_409034
		mov	ecx, [ebp+var_14]
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_insert
		mov	eax, [ebp+var_14]
		mov	[ebp+var_C], eax

loc_402A99:				; CODE XREF: sub_402969+58j
					; sub_402969+FDj ...
		cmp	[ebp+var_C], 0
		jnz	short loc_402AFD
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	sub_4020DF
		mov	[ebp+var_C], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	edx, eax
		mov	eax, ds:dword_409034
		mov	ecx, [ebp+var_C]
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_insert
		cmp	[ebp+var_10], 0
		jz	short loc_402AFD
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	edx, eax
		mov	eax, ds:dword_409034
		mov	ecx, [ebp+var_C]
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], edx
		mov	[esp+38h+var_38], eax
		call	g_hash_table_insert

loc_402AFD:				; CODE XREF: sub_402969+134j
					; sub_402969+16Dj
		mov	eax, [ebp+arg_0]
		mov	edx, [ebp+var_C]
		mov	[eax+10h], edx
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	g_free

locret_402B11:				; CODE XREF: sub_402969+1Bj
		leave
		retn
sub_402969	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402B13	proc near		; CODE XREF: sub_404D28+238p

var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 10h
		cmp	[ebp+arg_0], 0
		jz	short loc_402B66
		mov	[ebp+var_4], 0
		jmp	short loc_402B55
; ---------------------------------------------------------------------------

loc_402B28:				; CODE XREF: sub_402B13+4Fj
		mov	eax, [ebp+var_4]
		mov	edx, [ebp+arg_0]
		add	eax, edx
		movzx	eax, byte ptr [eax]
		cmp	al, 5Ch
		jz	short loc_402B46
		mov	eax, [ebp+var_4]
		mov	edx, [ebp+arg_0]
		add	eax, edx
		movzx	eax, byte ptr [eax]
		cmp	al, 2Fh
		jnz	short loc_402B51

loc_402B46:				; CODE XREF: sub_402B13+22j
		mov	eax, [ebp+var_4]
		mov	edx, [ebp+arg_0]
		add	eax, edx
		mov	byte ptr [eax],	2Fh

loc_402B51:				; CODE XREF: sub_402B13+31j
		add	[ebp+var_4], 1

loc_402B55:				; CODE XREF: sub_402B13+13j
		mov	eax, [ebp+var_4]
		mov	edx, [ebp+arg_0]
		add	eax, edx
		movzx	eax, byte ptr [eax]
		test	al, al
		jnz	short loc_402B28
		jmp	short locret_402B67
; ---------------------------------------------------------------------------

loc_402B66:				; CODE XREF: sub_402B13+Aj
		nop

locret_402B67:				; CODE XREF: sub_402B13+51j
		leave
		retn
sub_402B13	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402B69	proc near		; CODE XREF: sub_402B69+121p
					; sub_404598+1BDp

Str		= dword	ptr -68h
var_64		= dword	ptr -64h
var_60		= dword	ptr -60h
var_5C		= dword	ptr -5Ch
var_58		= dword	ptr -58h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h

		push	ebp
		mov	ebp, esp
		sub	esp, 68h
		mov	[ebp+var_C], 0
		mov	[ebp+var_10], 0FFFFh
		mov	[esp+68h+var_5C], 0
		mov	eax, [ebp+arg_4]
		mov	[esp+68h+var_60], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+68h+var_64], eax
		mov	[esp+68h+Str], offset asc_4080EA ; "/"
		call	g_build_path
		mov	[ebp+var_20], eax
		mov	[esp+68h+var_60], 0
		mov	[esp+68h+var_64], 0
		mov	eax, [ebp+var_20]
		mov	[esp+68h+Str], eax
		call	g_dir_open_utf8
		mov	[ebp+var_24], eax
		cmp	[ebp+var_24], 0
		jnz	short loc_402BCE
		mov	eax, [ebp+arg_C]
		jmp	locret_402EB3
; ---------------------------------------------------------------------------

loc_402BCE:				; CODE XREF: sub_402B69+5Bj
		mov	[esp+68h+var_64], offset loc_4050B8
		mov	[esp+68h+Str], offset loc_4050C0
		call	g_hash_table_new
		mov	[ebp+var_28], eax
		jmp	loc_402E68
; ---------------------------------------------------------------------------

loc_402BEA:				; CODE XREF: sub_402B69+311j
		mov	[ebp+var_14], 0
		mov	[esp+68h+var_60], 0
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+var_64], eax
		mov	eax, [ebp+var_20]
		mov	[esp+68h+Str], eax
		call	g_build_filename
		mov	[ebp+var_30], eax
		mov	[esp+68h+var_64], 4
		mov	eax, [ebp+var_30]
		mov	[esp+68h+Str], eax
		call	g_file_test_utf8
		mov	[ebp+var_34], eax
		cmp	[ebp+var_34], 0
		jz	short loc_402CA2
		cmp	[ebp+arg_4], 0
		jz	short loc_402C57
		mov	[esp+68h+var_5C], 0
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+var_60], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+68h+var_64], eax
		mov	[esp+68h+Str], offset asc_4080EA ; "/"
		call	g_build_path
		mov	[ebp+var_1C], eax
		jmp	short loc_402C65
; ---------------------------------------------------------------------------

loc_402C57:				; CODE XREF: sub_402B69+C5j
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+Str], eax
		call	g_strdup
		mov	[ebp+var_1C], eax

loc_402C65:				; CODE XREF: sub_402B69+ECj
		mov	eax, [ebp+arg_10]
		add	eax, 1
		mov	[esp+68h+var_58], eax
		mov	eax, [ebp+arg_C]
		mov	[esp+68h+var_5C], eax
		mov	eax, [ebp+arg_8]
		mov	[esp+68h+var_60], eax
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+var_64], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+68h+Str], eax
		call	sub_402B69
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_1C]
		mov	[esp+68h+Str], eax
		call	g_free
		jmp	loc_402E68
; ---------------------------------------------------------------------------

loc_402CA2:				; CODE XREF: sub_402B69+BFj
		cmp	[ebp+arg_4], 0
		jz	loc_402E64
		mov	[esp+68h+var_64], 1
		mov	eax, [ebp+var_30]
		mov	[esp+68h+Str], eax
		call	g_file_test_utf8
		mov	[ebp+var_34], eax
		cmp	[ebp+var_34], 0
		jz	loc_402E57
		mov	[esp+68h+var_64], offset a_png ; ".png"
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+Str], eax
		call	g_str_has_suffix
		test	eax, eax
		jz	short loc_402CE9
		or	[ebp+var_14], 4
		jmp	short loc_402D3E
; ---------------------------------------------------------------------------

loc_402CE9:				; CODE XREF: sub_402B69+178j
		mov	[esp+68h+var_64], offset a_svg ; ".svg"
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+Str], eax
		call	g_str_has_suffix
		test	eax, eax
		jz	short loc_402D06
		or	[ebp+var_14], 2
		jmp	short loc_402D3E
; ---------------------------------------------------------------------------

loc_402D06:				; CODE XREF: sub_402B69+195j
		mov	[esp+68h+var_64], offset a_xpm ; ".xpm"
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+Str], eax
		call	g_str_has_suffix
		test	eax, eax
		jz	short loc_402D23
		or	[ebp+var_14], 1
		jmp	short loc_402D3E
; ---------------------------------------------------------------------------

loc_402D23:				; CODE XREF: sub_402B69+1B2j
		mov	[esp+68h+var_64], offset a_icon	; ".icon"
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+Str], eax
		call	g_str_has_suffix
		test	eax, eax
		jz	short loc_402D3E
		or	[ebp+var_14], 8

loc_402D3E:				; CODE XREF: sub_402B69+17Ej
					; sub_402B69+19Bj ...
		cmp	[ebp+var_14], 0
		jz	loc_402E67
		mov	eax, [ebp+var_2C]
		mov	[esp+68h+Str], eax
		call	g_strdup
		mov	[ebp+var_38], eax
		mov	[esp+68h+var_64], 2Eh ;	Ch
		mov	eax, [ebp+var_38]
		mov	[esp+68h+Str], eax ; Str
		call	strrchr
		mov	[ebp+var_3C], eax
		mov	eax, [ebp+var_3C]
		mov	byte ptr [eax],	0
		mov	eax, [ebp+var_38]
		mov	[esp+68h+var_64], eax
		mov	eax, [ebp+var_28]
		mov	[esp+68h+Str], eax
		call	g_hash_table_lookup
		mov	[ebp+var_18], eax
		cmp	[ebp+var_18], 0
		jnz	loc_402E19
		cmp	[ebp+var_C], 0
		jnz	short loc_402DD8
		mov	[ebp+var_C], 1
		cmp	[ebp+arg_4], 0
		jz	short loc_402DD1
		mov	eax, [ebp+arg_C]
		mov	[esp+68h+Str], eax
		call	g_list_length
		mov	[ebp+var_10], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+68h+Str], eax
		call	g_strdup
		mov	[esp+68h+var_64], eax
		mov	eax, [ebp+arg_C]
		mov	[esp+68h+Str], eax
		call	g_list_append
		mov	[ebp+arg_C], eax
		jmp	short loc_402DD8
; ---------------------------------------------------------------------------

loc_402DD1:				; CODE XREF: sub_402B69+239j
		mov	[ebp+var_10], 0FFFFh

loc_402DD8:				; CODE XREF: sub_402B69+22Cj
					; sub_402B69+266j
		mov	[esp+68h+var_64], 18h
		mov	[esp+68h+Str], 1
		call	g_malloc0_n
		mov	[ebp+var_18], eax
		mov	edx, [ebp+var_10]
		mov	eax, [ebp+var_18]
		mov	[eax+4], edx
		mov	eax, [ebp+var_38]
		mov	[esp+68h+Str], eax
		call	g_strdup
		mov	edx, [ebp+var_18]
		mov	[esp+68h+var_60], edx
		mov	[esp+68h+var_64], eax
		mov	eax, [ebp+var_28]
		mov	[esp+68h+Str], eax
		call	g_hash_table_insert

loc_402E19:				; CODE XREF: sub_402B69+222j
		mov	eax, [ebp+var_18]
		mov	eax, [eax]
		mov	edx, eax
		or	edx, [ebp+var_14]
		mov	eax, [ebp+var_18]
		mov	[eax], edx
		mov	eax, [ebp+var_30]
		mov	[esp+68h+var_64], eax ;	char *
		mov	eax, [ebp+var_18]
		mov	[esp+68h+Str], eax ; int
		call	sub_402737
		mov	eax, [ebp+var_30]
		mov	[esp+68h+var_64], eax ;	char *
		mov	eax, [ebp+var_18]
		mov	[esp+68h+Str], eax ; int
		call	sub_402969
		mov	eax, [ebp+var_38]
		mov	[esp+68h+Str], eax
		call	g_free

loc_402E57:				; CODE XREF: sub_402B69+15Dj
		mov	eax, [ebp+var_30]
		mov	[esp+68h+Str], eax
		call	g_free
		jmp	short loc_402E68
; ---------------------------------------------------------------------------

loc_402E64:				; CODE XREF: sub_402B69+13Dj
		nop
		jmp	short loc_402E68
; ---------------------------------------------------------------------------

loc_402E67:				; CODE XREF: sub_402B69+1D9j
		nop

loc_402E68:				; CODE XREF: sub_402B69+7Cj
					; sub_402B69+134j ...
		mov	eax, [ebp+var_24]
		mov	[esp+68h+Str], eax
		call	g_dir_read_name_utf8
		mov	[ebp+var_2C], eax
		cmp	[ebp+var_2C], 0
		jnz	loc_402BEA
		mov	eax, [ebp+var_24]
		mov	[esp+68h+Str], eax
		call	g_dir_close
		mov	eax, [ebp+arg_8]
		mov	[esp+68h+var_60], eax
		mov	[esp+68h+var_64], offset sub_402037
		mov	eax, [ebp+var_28]
		mov	[esp+68h+Str], eax
		call	g_hash_table_foreach_remove
		mov	eax, [ebp+var_28]
		mov	[esp+68h+Str], eax
		call	g_hash_table_destroy
		mov	eax, [ebp+arg_C]

locret_402EB3:				; CODE XREF: sub_402B69+60j
		leave
		retn
sub_402B69	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402EB5	proc near		; CODE XREF: sub_402F05+12p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 10h
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_4], eax
		mov	eax, [ebp+var_4]
		movzx	eax, byte ptr [eax]
		movsx	eax, al
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_402F00
		add	[ebp+var_4], 1
		jmp	short loc_402EF6
; ---------------------------------------------------------------------------

loc_402ED9:				; CODE XREF: sub_402EB5+49j
		mov	eax, [ebp+var_8]
		shl	eax, 5
		mov	edx, eax
		sub	edx, [ebp+var_8]
		mov	eax, [ebp+var_4]
		movzx	eax, byte ptr [eax]
		movsx	eax, al
		add	eax, edx
		mov	[ebp+var_8], eax
		add	[ebp+var_4], 1

loc_402EF6:				; CODE XREF: sub_402EB5+22j
		mov	eax, [ebp+var_4]
		movzx	eax, byte ptr [eax]
		test	al, al
		jnz	short loc_402ED9

loc_402F00:				; CODE XREF: sub_402EB5+1Cj
		mov	eax, [ebp+var_8]
		leave
		retn
sub_402EB5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402F05	proc near		; DATA XREF: sub_40434A+4Ao

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_8]
		mov	[ebp+var_C], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_402EB5
		mov	edx, [ebp+var_C]
		mov	edx, [edx]
		mov	ecx, edx
		mov	edx, 0
		div	ecx
		mov	[ebp+var_10], edx
		mov	[esp+28h+var_24], 10h
		mov	[esp+28h+var_28], 1
		call	g_malloc0_n
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_14]
		mov	dword ptr [eax], 0
		mov	eax, [ebp+var_14]
		mov	edx, [ebp+arg_0]
		mov	[eax+4], edx
		mov	eax, [ebp+var_14]
		mov	edx, [ebp+arg_4]
		mov	[eax+8], edx
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_402F88
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	eax, edx
		mov	edx, [eax]
		mov	eax, [ebp+var_14]
		mov	[eax], edx

loc_402F88:				; CODE XREF: sub_402F05+6Cj
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	edx, eax
		mov	eax, [ebp+var_14]
		mov	[edx], eax
		mov	eax, 1
		leave
		retn
sub_402F05	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402FA2	proc near		; CODE XREF: sub_4031BF+266p
					; sub_4031BF+37Ap ...

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	eax, ds:dword_409038
		mov	edx, [ebp+arg_0]
		mov	[esp+18h+var_14], edx
		mov	[esp+18h+var_18], eax
		call	g_hash_table_lookup
		leave
		retn
sub_402FA2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402FBE	proc near		; CODE XREF: sub_4031BF+2DAp
					; sub_4031BF+41Dp ...

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	edx, [ebp+arg_4]
		mov	eax, ds:dword_409038
		mov	[esp+18h+var_10], edx
		mov	edx, [ebp+arg_0]
		mov	[esp+18h+var_14], edx
		mov	[esp+18h+var_18], eax
		call	g_hash_table_insert
		leave
		retn
sub_402FBE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_402FE1(FILE *, char *)
sub_402FE1	proc near		; CODE XREF: sub_4031BF+43Cp
					; sub_403A2C+213p ...

Dest		= dword	ptr -38h
Source		= dword	ptr -34h
Count		= dword	ptr -30h
File		= dword	ptr -2Ch
var_1C		= dword	ptr -1Ch
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
Size		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		push	edi
		sub	esp, 34h
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_1C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_1C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		add	eax, 4
		and	eax, 0FFFFFFFCh
		mov	[ebp+Size], eax
		mov	eax, [ebp+Size]
		mov	[esp+38h+Dest],	eax
		call	g_malloc0
		mov	[ebp+var_10], eax
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+var_10]
		mov	[esp+38h+Source], edx ;	Source
		mov	[esp+38h+Dest],	eax ; Dest
		call	strcpy
		mov	edx, [ebp+Size]
		mov	eax, [ebp+var_10]
		mov	ecx, [ebp+arg_0]
		mov	[esp+38h+File],	ecx ; File
		mov	[esp+38h+Count], 1 ; Count
		mov	[esp+38h+Source], edx ;	Size
		mov	[esp+38h+Dest],	eax ; Str
		call	fwrite
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_10]
		mov	[esp+38h+Dest],	eax
		call	g_free
		cmp	[ebp+var_14], 1
		setz	al
		movzx	eax, al
		add	esp, 34h
		pop	edi
		pop	ebp
		retn
sub_402FE1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_40306F(FILE *, int)
sub_40306F	proc near		; CODE XREF: sub_4031BF+123p
					; sub_4031BF+13Fp ...

Str		= dword	ptr -38h
Size		= dword	ptr -34h
Count		= dword	ptr -30h
File		= dword	ptr -2Ch
var_1C		= word ptr -1Ch
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 38h
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_1C], ax
		movzx	eax, [ebp+var_1C]
		rol	ax, 8
		mov	[ebp+var_1C], ax
		lea	eax, [ebp+var_1C]
		mov	edx, [ebp+arg_0]
		mov	[esp+38h+File],	edx ; File
		mov	[esp+38h+Count], 1 ; Count
		mov	[esp+38h+Size],	2 ; Size
		mov	[esp+38h+Str], eax ; Str
		call	fwrite
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 1
		setz	al
		movzx	eax, al
		leave
		retn
sub_40306F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_4030B9(FILE *, int)
sub_4030B9	proc near		; CODE XREF: sub_40311D+1Ap
					; sub_40311D+4Cp ...

Str		= dword	ptr -28h
Size		= dword	ptr -24h
Count		= dword	ptr -20h
File		= dword	ptr -1Ch
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_4]
		mov	edx, eax
		shl	edx, 18h
		mov	eax, [ebp+arg_4]
		and	eax, 0FF00h
		shl	eax, 8
		or	edx, eax
		mov	eax, [ebp+arg_4]
		and	eax, 0FF0000h
		shr	eax, 8
		or	edx, eax
		mov	eax, [ebp+arg_4]
		shr	eax, 18h
		or	eax, edx
		mov	[ebp+arg_4], eax
		lea	eax, [ebp+arg_4]
		mov	edx, [ebp+arg_0]
		mov	[esp+28h+File],	edx ; File
		mov	[esp+28h+Count], 1 ; Count
		mov	[esp+28h+Size],	4 ; Size
		mov	[esp+28h+Str], eax ; Str
		call	fwrite
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 1
		setz	al
		movzx	eax, al
		leave
		retn
sub_4030B9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_40311D(FILE *, int)
sub_40311D	proc near		; CODE XREF: sub_403A2C+4A6p

Str		= dword	ptr -28h
Size		= dword	ptr -24h
Count		= dword	ptr -20h
File		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_C], eax
		mov	[esp+28h+Size],	0 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+Str], eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403147
		mov	eax, 0
		jmp	short locret_4031BD
; ---------------------------------------------------------------------------

loc_403147:				; CODE XREF: sub_40311D+21j
		lea	eax, [ebp+var_18]
		mov	[esp+28h+Size],	eax
		mov	eax, [ebp+var_C]
		mov	[esp+28h+Str], eax
		call	gdk_pixdata_serialize
		mov	[ebp+var_10], eax
		mov	eax, [ebp+var_18]
		mov	[esp+28h+Size],	eax ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+Str], eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403184
		mov	eax, [ebp+var_10]
		mov	[esp+28h+Str], eax
		call	g_free
		mov	eax, 0
		jmp	short locret_4031BD
; ---------------------------------------------------------------------------

loc_403184:				; CODE XREF: sub_40311D+53j
		mov	edx, [ebp+var_18]
		mov	eax, [ebp+var_10]
		mov	ecx, [ebp+arg_0]
		mov	[esp+28h+File],	ecx ; File
		mov	[esp+28h+Count], 1 ; Count
		mov	[esp+28h+Size],	edx ; Size
		mov	[esp+28h+Str], eax ; Str
		call	fwrite
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_10]
		mov	[esp+28h+Str], eax
		call	g_free
		cmp	[ebp+var_14], 1
		setz	al
		movzx	eax, al

locret_4031BD:				; CODE XREF: sub_40311D+28j
					; sub_40311D+65j
		leave
		retn
sub_40311D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_4031BF(FILE *, int, int)
sub_4031BF	proc near		; CODE XREF: sub_403A2C+4DBp

File		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	edi
		sub	esp, 44h
		mov	eax, [ebp+arg_8]
		add	eax, 0Ch
		mov	[ebp+var_C], eax
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_4031FE
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_4031F8
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_4031F8:				; CODE XREF: sub_4031BF+2Dj
		add	[ebp+var_C], 8
		jmp	short loc_40321F
; ---------------------------------------------------------------------------

loc_4031FE:				; CODE XREF: sub_4031BF+17j
		mov	[esp+48h+var_44], 0 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_40321F
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_40321F:				; CODE XREF: sub_4031BF+3Dj
					; sub_4031BF+54j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+14h]
		test	eax, eax
		jle	short loc_40325A
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403249
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_403249:				; CODE XREF: sub_4031BF+7Ej
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+14h]
		add	eax, 1
		shl	eax, 2
		add	[ebp+var_C], eax
		jmp	short loc_40327B
; ---------------------------------------------------------------------------

loc_40325A:				; CODE XREF: sub_4031BF+68j
		mov	[esp+48h+var_44], 0 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_40327B
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_40327B:				; CODE XREF: sub_4031BF+99j
					; sub_4031BF+B0j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+1Ch]
		test	eax, eax
		jle	short loc_4032A5
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_4032C6
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_4032A5:				; CODE XREF: sub_4031BF+C4j
		mov	[esp+48h+var_44], 0 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_4032C6
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_4032C6:				; CODE XREF: sub_4031BF+DAj
					; sub_4031BF+FBj
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_403349
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		movzx	eax, ax
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_40306F
		test	eax, eax
		jz	short loc_40333F
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+8]
		movzx	eax, ax
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_40306F
		test	eax, eax
		jz	short loc_40333F
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+0Ch]
		movzx	eax, ax
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_40306F
		test	eax, eax
		jz	short loc_40333F
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+10h]
		movzx	eax, ax
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_40306F
		test	eax, eax
		jnz	short loc_403349

loc_40333F:				; CODE XREF: sub_4031BF+12Aj
					; sub_4031BF+146j ...
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_403349:				; CODE XREF: sub_4031BF+10Ej
					; sub_4031BF+17Ej
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+14h]
		test	eax, eax
		jle	short loc_4033C0
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+14h]
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403376
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_403376:				; CODE XREF: sub_4031BF+1ABj
		mov	[ebp+var_10], 0
		jmp	short loc_4033B3
; ---------------------------------------------------------------------------

loc_40337F:				; CODE XREF: sub_4031BF+1FFj
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+18h]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		movzx	eax, ax
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_40306F
		test	eax, eax
		jnz	short loc_4033AF
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_4033AF:				; CODE XREF: sub_4031BF+1E4j
		add	[ebp+var_10], 1

loc_4033B3:				; CODE XREF: sub_4031BF+1BEj
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+14h]
		add	eax, eax
		cmp	eax, [ebp+var_10]
		jg	short loc_40337F

loc_4033C0:				; CODE XREF: sub_4031BF+192j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+1Ch]
		test	eax, eax
		jle	loc_403620
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+1Ch]
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_4033F1
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_4033F1:				; CODE XREF: sub_4031BF+226j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+1Ch]
		shl	eax, 3
		add	eax, 4
		add	[ebp+var_C], eax
		mov	eax, [ebp+var_C]
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], 0
		jmp	loc_4034CD
; ---------------------------------------------------------------------------

loc_403412:				; CODE XREF: sub_4031BF+319j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	[esp+48h+File],	eax
		call	sub_402FA2
		mov	[ebp+var_18], eax
		cmp	[ebp+var_18], 0
		jz	short loc_403439
		cmp	[ebp+var_18], 0FFFFFFFFh
		jnz	short loc_4034A0

loc_403439:				; CODE XREF: sub_4031BF+272j
		mov	eax, [ebp+var_14]
		mov	[ebp+var_18], eax
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	[ebp+var_1C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_1C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		add	eax, 4
		mov	edx, eax
		and	edx, 0FFFFFFFCh
		mov	eax, [ebp+var_14]
		add	eax, edx
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_18]
		mov	edx, eax
		neg	edx
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+20h]
		mov	ecx, [ebp+var_10]
		shl	ecx, 2
		add	eax, ecx
		mov	eax, [eax]
		mov	[esp+48h+var_44], edx
		mov	[esp+48h+File],	eax
		call	sub_402FBE
		jmp	short loc_4034A9
; ---------------------------------------------------------------------------

loc_4034A0:				; CODE XREF: sub_4031BF+278j
		cmp	[ebp+var_18], 0
		jns	short loc_4034A9
		neg	[ebp+var_18]

loc_4034A9:				; CODE XREF: sub_4031BF+2DFj
					; sub_4031BF+2E5j
		mov	eax, [ebp+var_18]
		mov	[esp+48h+var_44], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_4034C9
		mov	eax, 0
		jmp	loc_403625
; ---------------------------------------------------------------------------

loc_4034C9:				; CODE XREF: sub_4031BF+2FEj
		add	[ebp+var_10], 1

loc_4034CD:				; CODE XREF: sub_4031BF+24Ej
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+1Ch]
		add	eax, eax
		cmp	eax, [ebp+var_10]
		jg	loc_403412
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; File
		call	ftell
		cmp	eax, [ebp+var_C]
		jz	short loc_40351A
		mov	[esp+48h+var_38], offset aOfsFtellCache	; "ofs == ftell	(cache)"
		mov	[esp+48h+var_3C], offset aWrite_icon_dat ; "write_icon_data"
		mov	[esp+48h+var_40], 3ADh
		mov	[esp+48h+var_44], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+48h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_40351A:				; CODE XREF: sub_4031BF+32Dj
		mov	[ebp+var_10], 0
		jmp	loc_40360F
; ---------------------------------------------------------------------------

loc_403526:				; CODE XREF: sub_4031BF+45Bj
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	[esp+48h+File],	eax
		call	sub_402FA2
		mov	[ebp+var_18], eax
		cmp	[ebp+var_18], 0
		jz	short loc_40354D
		cmp	[ebp+var_18], 0FFFFFFFFh
		jnz	short loc_403579

loc_40354D:				; CODE XREF: sub_4031BF+386j
		mov	[esp+48h+var_38], offset aTmp20Tmp21 ; "tmp2 !=	0 && tmp2 != -1"
		mov	[esp+48h+var_3C], offset aWrite_icon_dat ; "write_icon_data"
		mov	[esp+48h+var_40], 3B1h
		mov	[esp+48h+var_44], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+48h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_403579:				; CODE XREF: sub_4031BF+38Cj
		cmp	[ebp+var_18], 0
		jns	loc_40360B
		neg	[ebp+var_18]
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; File
		call	ftell
		cmp	eax, [ebp+var_18]
		jz	short loc_4035C2
		mov	[esp+48h+var_38], offset aTmp2FtellCache ; "tmp2 == ftell (cache)"
		mov	[esp+48h+var_3C], offset aWrite_icon_dat ; "write_icon_data"
		mov	[esp+48h+var_40], 3B5h
		mov	[esp+48h+var_44], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+48h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_4035C2:				; CODE XREF: sub_4031BF+3D5j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	edx, [ebp+var_18]
		mov	[esp+48h+var_44], edx
		mov	[esp+48h+File],	eax
		call	sub_402FBE
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_10]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	[esp+48h+var_44], eax ;	char *
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+File],	eax ; FILE *
		call	sub_402FE1
		test	eax, eax
		jnz	short loc_40360B
		mov	eax, 0
		jmp	short loc_403625
; ---------------------------------------------------------------------------

loc_40360B:				; CODE XREF: sub_4031BF+3BEj
					; sub_4031BF+443j
		add	[ebp+var_10], 1

loc_40360F:				; CODE XREF: sub_4031BF+362j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+1Ch]
		add	eax, eax
		cmp	eax, [ebp+var_10]
		jg	loc_403526

loc_403620:				; CODE XREF: sub_4031BF+209j
		mov	eax, 1

loc_403625:				; CODE XREF: sub_4031BF+34j
					; sub_4031BF+5Bj ...
		add	esp, 44h
		pop	edi
		pop	ebp
		retn
sub_4031BF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_40362B(FILE *, int)
sub_40362B	proc near		; CODE XREF: sub_40434A+6Bp
					; sub_40434A+11Ap

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	[esp+18h+var_14], 1 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+18h+var_18], eax ;	FILE *
		call	sub_40306F
		test	eax, eax
		jz	short loc_403693
		mov	[esp+18h+var_14], 0 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+18h+var_18], eax ;	FILE *
		call	sub_40306F
		test	eax, eax
		jz	short loc_403693
		mov	[esp+18h+var_14], 0Ch ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+18h+var_18], eax ;	FILE *
		call	sub_4030B9
		test	eax, eax
		jz	short loc_403693
		mov	eax, [ebp+arg_4]
		mov	[esp+18h+var_14], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+18h+var_18], eax ;	FILE *
		call	sub_4030B9
		test	eax, eax
		jz	short loc_403693
		mov	eax, 1
		jmp	short locret_403698
; ---------------------------------------------------------------------------

loc_403693:				; CODE XREF: sub_40362B+1Bj
					; sub_40362B+32j ...
		mov	eax, 0

locret_403698:				; CODE XREF: sub_40362B+66j
		leave
		retn
sub_40362B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40369A	proc near		; CODE XREF: sub_403901+21p
					; sub_403A2C+37Dp

var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_1C		= dword	ptr -1Ch
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	edi
		push	ebx
		sub	esp, 40h
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+14h]
		test	eax, eax
		jnz	loc_403837
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+10h]
		test	eax, eax
		jz	loc_403837
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+10h]
		mov	eax, [eax+28h]
		test	eax, eax
		jns	loc_403837
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+10h]
		mov	[ebp+var_10], eax
		mov	eax, [ebp+var_10]
		mov	dword ptr [eax+28h], 0
		mov	eax, [ebp+var_10]
		mov	eax, [eax]
		test	eax, eax
		jnz	short loc_4036FF
		mov	eax, [ebp+var_10]
		mov	eax, [eax+14h]
		test	eax, eax
		jg	short loc_4036FF
		mov	eax, [ebp+var_10]
		mov	eax, [eax+1Ch]
		test	eax, eax
		jle	short loc_40370E

loc_4036FF:				; CODE XREF: sub_40369A+4Fj
					; sub_40369A+59j
		mov	eax, [ebp+var_10]
		mov	eax, [eax+28h]
		lea	edx, [eax+0Ch]
		mov	eax, [ebp+var_10]
		mov	[eax+28h], edx

loc_40370E:				; CODE XREF: sub_40369A+63j
		mov	eax, [ebp+var_10]
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_403726
		mov	eax, [ebp+var_10]
		mov	eax, [eax+28h]
		lea	edx, [eax+8]
		mov	eax, [ebp+var_10]
		mov	[eax+28h], edx

loc_403726:				; CODE XREF: sub_40369A+7Bj
		mov	eax, [ebp+var_10]
		mov	eax, [eax+14h]
		test	eax, eax
		jle	short loc_40374A
		mov	eax, [ebp+var_10]
		mov	edx, [eax+28h]
		mov	eax, [ebp+var_10]
		mov	eax, [eax+14h]
		add	eax, 1
		shl	eax, 2
		add	edx, eax
		mov	eax, [ebp+var_10]
		mov	[eax+28h], edx

loc_40374A:				; CODE XREF: sub_40369A+94j
		mov	eax, [ebp+var_10]
		mov	eax, [eax+1Ch]
		test	eax, eax
		jle	loc_40381F
		mov	eax, [ebp+var_10]
		mov	edx, [eax+28h]
		mov	eax, [ebp+var_10]
		mov	eax, [eax+1Ch]
		shl	eax, 3
		add	eax, 4
		add	edx, eax
		mov	eax, [ebp+var_10]
		mov	[eax+28h], edx
		mov	[ebp+var_C], 0
		jmp	loc_403807
; ---------------------------------------------------------------------------

loc_40377E:				; CODE XREF: sub_40369A+17Fj
		mov	eax, [ebp+var_10]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_C]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	[esp+48h+var_48], eax
		call	sub_402FA2
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jnz	short loc_403803
		mov	eax, [ebp+var_10]
		mov	eax, [eax+28h]
		mov	ebx, eax
		mov	eax, [ebp+var_10]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_C]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	[ebp+var_1C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_1C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		add	eax, 4
		and	eax, 0FFFFFFFCh
		add	eax, ebx
		mov	edx, eax
		mov	eax, [ebp+var_10]
		mov	[eax+28h], edx
		mov	eax, [ebp+var_10]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_C]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	[esp+48h+var_44], 0FFFFFFFFh
		mov	[esp+48h+var_48], eax
		call	sub_402FBE

loc_403803:				; CODE XREF: sub_40369A+103j
		add	[ebp+var_C], 1

loc_403807:				; CODE XREF: sub_40369A+DFj
		mov	eax, [ebp+var_10]
		mov	eax, [eax+20h]
		mov	edx, [ebp+var_C]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		test	eax, eax
		jnz	loc_40377E

loc_40381F:				; CODE XREF: sub_40369A+B8j
		mov	eax, [ebp+var_10]
		mov	eax, [eax+28h]
		mov	edx, eax
		mov	eax, [ebp+arg_0]
		mov	[eax+14h], edx
		mov	eax, [ebp+var_10]
		mov	dword ptr [eax+28h], 0

loc_403837:				; CODE XREF: sub_40369A+10j
					; sub_40369A+1Ej ...
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+14h]
		and	eax, 3
		test	eax, eax
		jz	short loc_403870
		mov	[esp+48h+var_38], offset aImageIcon_data ; "image->icon_data_size % 4 == 0"
		mov	[esp+48h+var_3C], offset aGet_image_meta ; "get_image_meta_data_size"
		mov	[esp+48h+var_40], 402h
		mov	[esp+48h+var_44], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+48h+var_48], offset aGtk ;	"Gtk"
		call	g_assertion_message_expr

loc_403870:				; CODE XREF: sub_40369A+1A8j
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+14h]
		add	esp, 40h
		pop	ebx
		pop	edi
		pop	ebp
		retn
sub_40369A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40387D	proc near		; CODE XREF: sub_403901+13p
					; sub_403A2C+36Fp

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+0Ch]
		test	eax, eax
		jnz	short loc_4038C0
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		test	eax, eax
		jz	short loc_4038C0
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		mov	eax, [eax+1Ch]
		test	eax, eax
		jz	short loc_4038C0
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		mov	edx, [eax+24h]
		mov	eax, [ebp+arg_0]
		mov	[eax+0Ch], edx
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		mov	dword ptr [eax+24h], 0

loc_4038C0:				; CODE XREF: sub_40387D+Ej
					; sub_40387D+18j ...
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+0Ch]
		and	eax, 3
		test	eax, eax
		jz	short loc_4038F9
		mov	[esp+28h+var_18], offset aImagePixel_dat ; "image->pixel_data_size % 4 == 0"
		mov	[esp+28h+var_1C], offset aGet_image_pixe ; "get_image_pixel_data_size"
		mov	[esp+28h+var_20], 41Bh
		mov	[esp+28h+var_24], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+28h+var_28], offset aGtk ;	"Gtk"
		call	g_assertion_message_expr

loc_4038F9:				; CODE XREF: sub_40387D+4Ej
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+0Ch]
		leave
		retn
sub_40387D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_403901	proc near		; CODE XREF: sub_40394D+BCp
					; sub_403A2C+291p ...

var_28		= dword	ptr -28h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	[ebp+var_C], 0
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40387D
		add	[ebp+var_C], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	sub_40369A
		add	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jg	short loc_403944
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		test	eax, eax
		jnz	short loc_403944
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+10h]
		test	eax, eax
		jz	short loc_403948

loc_403944:				; CODE XREF: sub_403901+2Dj
					; sub_403901+37j
		add	[ebp+var_C], 8

loc_403948:				; CODE XREF: sub_403901+41j
		mov	eax, [ebp+var_C]
		leave
		retn
sub_403901	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40394D	proc near		; CODE XREF: sub_403A2C+6Cp

var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_1C		= dword	ptr -1Ch
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	edi
		push	ebx
		sub	esp, 30h
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0Ch
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		mov	[esp+38h+var_38], eax
		call	sub_402FA2
		test	eax, eax
		jnz	short loc_4039BE
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		mov	ebx, eax
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		mov	[ebp+var_1C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_1C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		add	eax, 4
		and	eax, 0FFFFFFFCh
		add	eax, ebx
		mov	edx, eax
		mov	eax, [ebp+arg_4]
		mov	[eax], edx
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		mov	[esp+38h+var_34], 0FFFFFFFFh
		mov	[esp+38h+var_38], eax
		call	sub_402FBE

loc_4039BE:				; CODE XREF: sub_40394D+21j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		mov	ebx, eax
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		mov	[esp+38h+var_38], eax
		call	g_list_length
		shl	eax, 3
		add	eax, ebx
		add	eax, 4
		mov	edx, eax
		mov	eax, [ebp+arg_4]
		mov	[eax], edx
		mov	eax, [ebp+arg_8]
		mov	dword ptr [eax], 0
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		mov	[ebp+var_C], eax
		jmp	short loc_403A1F
; ---------------------------------------------------------------------------

loc_4039F6:				; CODE XREF: sub_40394D+D6j
		mov	eax, [ebp+var_C]
		mov	eax, [eax]
		mov	[ebp+var_10], eax
		mov	eax, [ebp+arg_8]
		mov	ebx, [eax]
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_38], eax
		call	sub_403901
		lea	edx, [ebx+eax]
		mov	eax, [ebp+arg_8]
		mov	[eax], edx
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		mov	[ebp+var_C], eax

loc_403A1F:				; CODE XREF: sub_40394D+A7j
		cmp	[ebp+var_C], 0
		jnz	short loc_4039F6
		add	esp, 30h
		pop	ebx
		pop	edi
		pop	ebp
		retn
sub_40394D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_403A2C(FILE *, int, int)
sub_403A2C	proc near		; CODE XREF: sub_403F67+F0p

File		= dword	ptr -88h
var_84		= dword	ptr -84h
var_80		= dword	ptr -80h
var_7C		= dword	ptr -7Ch
var_78		= dword	ptr -78h
var_5C		= dword	ptr -5Ch
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	edi
		push	ebx
		add	esp, 0FFFFFF80h
		jmp	loc_403F51
; ---------------------------------------------------------------------------

loc_403A39:				; CODE XREF: sub_403A2C+529j
		mov	eax, [ebp+arg_8]
		mov	ebx, [eax]
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; File
		call	ftell
		cmp	ebx, eax
		jz	short loc_403A79
		mov	[esp+88h+var_78], offset aOffsetFtellCac ; "*offset == ftell (cache)"
		mov	[esp+88h+var_7C], offset aWrite_bucket ; "write_bucket"
		mov	[esp+88h+var_80], 460h
		mov	[esp+88h+var_84], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+88h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_403A79:				; CODE XREF: sub_403A2C+1Fj
		mov	eax, [ebp+arg_8]
		mov	edx, [eax]
		mov	eax, [ebp+arg_4]
		mov	[eax+0Ch], edx
		lea	eax, [ebp+var_4C]
		mov	[esp+88h+var_80], eax
		lea	eax, [ebp+var_48]
		mov	[esp+88h+var_84], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+88h+File],	eax
		call	sub_40394D
		mov	eax, [ebp+var_48]
		and	eax, 3
		test	eax, eax
		jz	short loc_403AD3
		mov	[esp+88h+var_78], offset aNode_size40 ;	"node_size % 4 == 0"
		mov	[esp+88h+var_7C], offset aWrite_bucket ; "write_bucket"
		mov	[esp+88h+var_80], 465h
		mov	[esp+88h+var_84], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+88h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_403AD3:				; CODE XREF: sub_403A2C+79j
		mov	eax, [ebp+var_4C]
		and	eax, 3
		test	eax, eax
		jz	short loc_403B09
		mov	[esp+88h+var_78], offset aImage_data_siz ; "image_data_size % 4	== 0"
		mov	[esp+88h+var_7C], offset aWrite_bucket ; "write_bucket"
		mov	[esp+88h+var_80], 466h
		mov	[esp+88h+var_84], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+88h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_403B09:				; CODE XREF: sub_403A2C+AFj
		mov	eax, [ebp+arg_8]
		mov	edx, [eax]
		mov	eax, [ebp+var_48]
		add	eax, edx
		mov	[ebp+var_C], eax
		mov	eax, [ebp+arg_8]
		mov	edx, [eax]
		mov	eax, [ebp+var_48]
		add	edx, eax
		mov	eax, [ebp+var_4C]
		add	eax, edx
		mov	[ebp+var_24], eax
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_403B51
		mov	eax, [ebp+var_24]
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403B72
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403B51:				; CODE XREF: sub_403A2C+103j
		mov	[esp+88h+var_84], 0FFFFFFFFh ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403B72
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403B72:				; CODE XREF: sub_403A2C+119j
					; sub_403A2C+13Aj
		mov	[ebp+var_18], 0
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	[esp+88h+File],	eax
		call	sub_402FA2
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jg	short loc_403BDB
		mov	eax, [ebp+arg_8]
		mov	eax, [eax]
		add	eax, 0Ch
		mov	[ebp+var_14], eax
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	[ebp+var_5C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_5C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		add	eax, 4
		and	eax, 0FFFFFFFCh
		mov	[ebp+var_18], eax
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	edx, [ebp+var_14]
		mov	[esp+88h+var_84], edx
		mov	[esp+88h+File],	eax
		call	sub_402FBE

loc_403BDB:				; CODE XREF: sub_403A2C+162j
		mov	eax, [ebp+var_14]
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403BFB
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403BFB:				; CODE XREF: sub_403A2C+1C3j
		mov	eax, [ebp+arg_8]
		mov	eax, [eax]
		add	eax, 0Ch
		add	eax, [ebp+var_18]
		mov	[ebp+var_28], eax
		mov	eax, [ebp+var_28]
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403C29
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403C29:				; CODE XREF: sub_403A2C+1F1j
		cmp	[ebp+var_18], 0
		jle	short loc_403C52
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	[esp+88h+var_84], eax ;	char *
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_402FE1
		test	eax, eax
		jnz	short loc_403C52
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403C52:				; CODE XREF: sub_403A2C+201j
					; sub_403A2C+21Aj
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+8]
		mov	[esp+88h+File],	eax
		call	g_list_length
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403C83
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403C83:				; CODE XREF: sub_403A2C+24Bj
		mov	eax, [ebp+var_28]
		lea	edx, [eax+4]
		mov	eax, [ebp+var_2C]
		shl	eax, 3
		add	eax, edx
		mov	[ebp+var_30], eax
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+8]
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_C]
		mov	[ebp+var_10], eax
		mov	[ebp+var_1C], 0
		jmp	loc_403D6C
; ---------------------------------------------------------------------------

loc_403CAF:				; CODE XREF: sub_403A2C+346j
		mov	eax, [ebp+var_20]
		mov	eax, [eax]
		mov	[ebp+var_34], eax
		mov	eax, [ebp+var_34]
		mov	[esp+88h+File],	eax
		call	sub_403901
		mov	[ebp+var_38], eax
		mov	eax, [ebp+var_34]
		mov	eax, [eax+4]
		movzx	eax, ax
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_40306F
		test	eax, eax
		jnz	short loc_403CEB
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403CEB:				; CODE XREF: sub_403A2C+2B3j
		mov	eax, [ebp+var_34]
		mov	eax, [eax]
		movzx	eax, ax
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_40306F
		test	eax, eax
		jnz	short loc_403D10
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403D10:				; CODE XREF: sub_403A2C+2D8j
		cmp	[ebp+var_38], 0
		jle	short loc_403D3E
		mov	eax, [ebp+var_10]
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403D36
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403D36:				; CODE XREF: sub_403A2C+2FEj
		mov	eax, [ebp+var_38]
		add	[ebp+var_10], eax
		jmp	short loc_403D5F
; ---------------------------------------------------------------------------

loc_403D3E:				; CODE XREF: sub_403A2C+2E8j
		mov	[esp+88h+var_84], 0 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403D5F
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403D5F:				; CODE XREF: sub_403A2C+310j
					; sub_403A2C+327j
		mov	eax, [ebp+var_20]
		mov	eax, [eax+4]
		mov	[ebp+var_20], eax
		add	[ebp+var_1C], 1

loc_403D6C:				; CODE XREF: sub_403A2C+27Ej
		mov	eax, [ebp+var_1C]
		cmp	eax, [ebp+var_2C]
		jl	loc_403CAF
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+8]
		mov	[ebp+var_20], eax
		mov	[ebp+var_1C], 0
		jmp	loc_403F35
; ---------------------------------------------------------------------------

loc_403D8D:				; CODE XREF: sub_403A2C+50Fj
		mov	eax, [ebp+var_20]
		mov	eax, [eax]
		mov	[ebp+var_3C], eax
		mov	eax, [ebp+var_3C]
		mov	[esp+88h+File],	eax
		call	sub_40387D
		mov	[ebp+var_40], eax
		mov	eax, [ebp+var_3C]
		mov	[esp+88h+File],	eax
		call	sub_40369A
		mov	[ebp+var_44], eax
		mov	eax, [ebp+var_3C]
		mov	[esp+88h+File],	eax
		call	sub_403901
		test	eax, eax
		jz	loc_403F27
		cmp	[ebp+var_40], 0
		jle	short loc_403DFF
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+8]
		mov	edx, [ebp+var_C]
		add	edx, 8
		mov	[eax+20h], edx
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+8]
		mov	eax, [eax+20h]
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403E36
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403DFF:				; CODE XREF: sub_403A2C+39Cj
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+8]
		test	eax, eax
		jz	short loc_403E14
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+8]
		mov	eax, [eax+20h]
		jmp	short loc_403E19
; ---------------------------------------------------------------------------

loc_403E14:				; CODE XREF: sub_403A2C+3DBj
		mov	eax, 0

loc_403E19:				; CODE XREF: sub_403A2C+3E6j
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403E36
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403E36:				; CODE XREF: sub_403A2C+3C7j
					; sub_403A2C+3FEj
		cmp	[ebp+var_44], 0
		jle	short loc_403E76
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+10h]
		mov	edx, [ebp+var_40]
		mov	ecx, [ebp+var_C]
		add	edx, ecx
		add	edx, 8
		mov	[eax+24h], edx
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+10h]
		mov	eax, [eax+24h]
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403EAD
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403E76:				; CODE XREF: sub_403A2C+40Ej
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+10h]
		test	eax, eax
		jz	short loc_403E8B
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+10h]
		mov	eax, [eax+24h]
		jmp	short loc_403E90
; ---------------------------------------------------------------------------

loc_403E8B:				; CODE XREF: sub_403A2C+452j
		mov	eax, 0

loc_403E90:				; CODE XREF: sub_403A2C+45Dj
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403EAD
		mov	eax, 0
		jmp	loc_403F60
; ---------------------------------------------------------------------------

loc_403EAD:				; CODE XREF: sub_403A2C+43Ej
					; sub_403A2C+475j
		cmp	[ebp+var_40], 0
		jle	short loc_403EE2
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+8]
		mov	eax, [eax+20h]
		mov	edx, eax
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+8]
		mov	[esp+88h+var_80], edx
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_40311D
		test	eax, eax
		jnz	short loc_403EE2
		mov	eax, 0
		jmp	short loc_403F60
; ---------------------------------------------------------------------------

loc_403EE2:				; CODE XREF: sub_403A2C+485j
					; sub_403A2C+4ADj
		cmp	[ebp+var_44], 0
		jle	short loc_403F17
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+10h]
		mov	eax, [eax+24h]
		mov	edx, eax
		mov	eax, [ebp+var_3C]
		mov	eax, [eax+10h]
		mov	[esp+88h+var_80], edx ;	int
		mov	[esp+88h+var_84], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+88h+File],	eax ; FILE *
		call	sub_4031BF
		test	eax, eax
		jnz	short loc_403F17
		mov	eax, 0
		jmp	short loc_403F60
; ---------------------------------------------------------------------------

loc_403F17:				; CODE XREF: sub_403A2C+4BAj
					; sub_403A2C+4E2j
		mov	eax, [ebp+var_44]
		mov	edx, [ebp+var_40]
		add	eax, edx
		add	eax, 8
		add	[ebp+var_C], eax
		jmp	short loc_403F28
; ---------------------------------------------------------------------------

loc_403F27:				; CODE XREF: sub_403A2C+392j
		nop

loc_403F28:				; CODE XREF: sub_403A2C+4F9j
		add	[ebp+var_1C], 1
		mov	eax, [ebp+var_20]
		mov	eax, [eax+4]
		mov	[ebp+var_20], eax

loc_403F35:				; CODE XREF: sub_403A2C+35Cj
		mov	eax, [ebp+var_1C]
		cmp	eax, [ebp+var_2C]
		jl	loc_403D8D
		mov	eax, [ebp+arg_8]
		mov	edx, [ebp+var_24]
		mov	[eax], edx
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		mov	[ebp+arg_4], eax

loc_403F51:				; CODE XREF: sub_403A2C+8j
		cmp	[ebp+arg_4], 0
		jnz	loc_403A39
		mov	eax, 1

loc_403F60:				; CODE XREF: sub_403A2C+120j
					; sub_403A2C+141j ...
		sub	esp, 0FFFFFF80h
		pop	ebx
		pop	edi
		pop	ebp
		retn
sub_403A2C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_403F67(FILE *, int, int)
sub_403F67	proc near		; CODE XREF: sub_40434A+A6p

File		= dword	ptr -38h
Offset		= dword	ptr -34h
Origin		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 38h
		mov	[ebp+var_10], 0Ch
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		mov	[esp+38h+Offset], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403F96
		mov	eax, 0
		jmp	locret_404126
; ---------------------------------------------------------------------------

loc_403F96:				; CODE XREF: sub_403F67+23j
		add	[ebp+var_10], 4
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		shl	eax, 2
		add	eax, [ebp+var_10]
		mov	[ebp+var_14], eax
		mov	[ebp+var_C], 0
		jmp	short loc_403FD6
; ---------------------------------------------------------------------------

loc_403FB1:				; CODE XREF: sub_403F67+77j
		mov	[esp+38h+Offset], 0 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_403FD2
		mov	eax, 0
		jmp	locret_404126
; ---------------------------------------------------------------------------

loc_403FD2:				; CODE XREF: sub_403F67+5Fj
		add	[ebp+var_C], 1

loc_403FD6:				; CODE XREF: sub_403F67+48j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		cmp	eax, [ebp+var_C]
		jg	short loc_403FB1
		mov	[ebp+var_C], 0
		jmp	loc_40406F
; ---------------------------------------------------------------------------

loc_403FEC:				; CODE XREF: sub_403F67+110j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	edx, [ebp+var_C]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_40406A
		mov	eax, [ebp+var_14]
		and	eax, 3
		test	eax, eax
		jz	short loc_404036
		mov	[esp+38h+var_28], offset aNode_offset40	; "node_offset % 4 == 0"
		mov	[esp+38h+var_2C], offset aWrite_hash_tab ; "write_hash_table"
		mov	[esp+38h+Origin], 505h
		mov	[esp+38h+Offset], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+38h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_404036:				; CODE XREF: sub_403F67+A1j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	edx, [ebp+var_C]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		lea	edx, [ebp+var_14]
		mov	[esp+38h+Origin], edx ;	int
		mov	[esp+38h+Offset], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; FILE *
		call	sub_403A2C
		test	eax, eax
		jnz	short loc_40406B
		mov	eax, 0
		jmp	locret_404126
; ---------------------------------------------------------------------------

loc_40406A:				; CODE XREF: sub_403F67+97j
		nop

loc_40406B:				; CODE XREF: sub_403F67+F7j
		add	[ebp+var_C], 1

loc_40406F:				; CODE XREF: sub_403F67+80j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		cmp	eax, [ebp+var_C]
		jg	loc_403FEC
		mov	edx, [ebp+var_14]
		mov	eax, [ebp+arg_8]
		mov	[eax], edx
		mov	[esp+38h+Origin], 0 ; Origin
		mov	eax, [ebp+var_10]
		mov	[esp+38h+Offset], eax ;	Offset
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; File
		call	fseek
		mov	[ebp+var_C], 0
		jmp	short loc_4040FC
; ---------------------------------------------------------------------------

loc_4040A8:				; CODE XREF: sub_403F67+19Dj
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	edx, [ebp+var_C]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_4040D4
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	edx, [ebp+var_C]
		shl	edx, 2
		add	eax, edx
		mov	eax, [eax]
		mov	eax, [eax+0Ch]
		mov	[ebp+var_14], eax
		jmp	short loc_4040DB
; ---------------------------------------------------------------------------

loc_4040D4:				; CODE XREF: sub_403F67+153j
		mov	[ebp+var_14], 0FFFFFFFFh

loc_4040DB:				; CODE XREF: sub_403F67+16Bj
		mov	eax, [ebp+var_14]
		mov	[esp+38h+Offset], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_4040F8
		mov	eax, 0
		jmp	short locret_404126
; ---------------------------------------------------------------------------

loc_4040F8:				; CODE XREF: sub_403F67+188j
		add	[ebp+var_C], 1

loc_4040FC:				; CODE XREF: sub_403F67+13Fj
		mov	eax, [ebp+arg_4]
		mov	eax, [eax]
		cmp	eax, [ebp+var_C]
		jg	short loc_4040A8
		mov	[esp+38h+Origin], 2 ; Origin
		mov	[esp+38h+Offset], 0 ; Offset
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; File
		call	fseek
		mov	eax, 1

locret_404126:				; CODE XREF: sub_403F67+2Aj
					; sub_403F67+66j ...
		leave
		retn
sub_403F67	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_404128(FILE *, int, int)
sub_404128	proc near		; CODE XREF: sub_40434A+DEp

File		= dword	ptr -58h
var_54		= dword	ptr -54h
var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_2C		= dword	ptr -2Ch
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	edi
		sub	esp, 54h
		mov	eax, [ebp+arg_8]
		mov	[esp+58h+File],	eax
		call	g_list_length
		mov	[ebp+var_18], eax
		mov	eax, [ebp+var_18]
		mov	[esp+58h+var_54], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+58h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_40415D
		mov	eax, 0
		jmp	loc_404344
; ---------------------------------------------------------------------------

loc_40415D:				; CODE XREF: sub_404128+29j
		mov	eax, [ebp+var_18]
		add	eax, 1
		shl	eax, 2
		add	[ebp+arg_4], eax
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_10], eax
		mov	eax, [ebp+arg_8]
		mov	[ebp+var_C], eax
		jmp	loc_404219
; ---------------------------------------------------------------------------

loc_40417A:				; CODE XREF: sub_404128+F5j
		mov	eax, [ebp+var_C]
		mov	eax, [eax]
		mov	[ebp+var_1C], eax
		mov	eax, [ebp+var_1C]
		mov	[esp+58h+File],	eax
		call	sub_402FA2
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jz	short loc_40419C
		cmp	[ebp+var_14], 0FFFFFFFFh
		jnz	short loc_4041E7

loc_40419C:				; CODE XREF: sub_404128+6Cj
		mov	eax, [ebp+var_10]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_1C]
		mov	[ebp+var_2C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_2C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		add	eax, 4
		mov	edx, eax
		and	edx, 0FFFFFFFCh
		mov	eax, [ebp+var_10]
		add	eax, edx
		mov	[ebp+var_10], eax
		mov	eax, [ebp+var_14]
		neg	eax
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+var_1C]
		mov	[esp+58h+File],	eax
		call	sub_402FBE
		jmp	short loc_4041F0
; ---------------------------------------------------------------------------

loc_4041E7:				; CODE XREF: sub_404128+72j
		cmp	[ebp+var_14], 0
		jns	short loc_4041F0
		neg	[ebp+var_14]

loc_4041F0:				; CODE XREF: sub_404128+BDj
					; sub_404128+C3j
		mov	eax, [ebp+var_14]
		mov	[esp+58h+var_54], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+58h+File],	eax ; FILE *
		call	sub_4030B9
		test	eax, eax
		jnz	short loc_404210
		mov	eax, 0
		jmp	loc_404344
; ---------------------------------------------------------------------------

loc_404210:				; CODE XREF: sub_404128+DCj
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		mov	[ebp+var_C], eax

loc_404219:				; CODE XREF: sub_404128+4Dj
		cmp	[ebp+var_C], 0
		jnz	loc_40417A
		mov	eax, [ebp+arg_0]
		mov	[esp+58h+File],	eax ; File
		call	ftell
		cmp	eax, [ebp+arg_4]
		jz	short loc_40425F
		mov	[esp+58h+var_48], offset aOffsetFtellC_0 ; "offset == ftell (cache)"
		mov	[esp+58h+var_4C], offset aWrite_dir_inde ; "write_dir_index"
		mov	[esp+58h+var_50], 549h
		mov	[esp+58h+var_54], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+58h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_40425F:				; CODE XREF: sub_404128+109j
		mov	eax, [ebp+arg_8]
		mov	[ebp+var_C], eax
		jmp	loc_404335
; ---------------------------------------------------------------------------

loc_40426A:				; CODE XREF: sub_404128+211j
		mov	eax, [ebp+var_C]
		mov	eax, [eax]
		mov	[ebp+var_1C], eax
		mov	eax, [ebp+var_1C]
		mov	[esp+58h+File],	eax
		call	sub_402FA2
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jz	short loc_40428C
		cmp	[ebp+var_14], 0FFFFFFFFh
		jnz	short loc_4042B8

loc_40428C:				; CODE XREF: sub_404128+15Cj
		mov	[esp+58h+var_48], offset aTmp20Tmp21 ; "tmp2 !=	0 && tmp2 != -1"
		mov	[esp+58h+var_4C], offset aWrite_dir_inde ; "write_dir_index"
		mov	[esp+58h+var_50], 54Fh
		mov	[esp+58h+var_54], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+58h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_4042B8:				; CODE XREF: sub_404128+162j
		cmp	[ebp+var_14], 0
		jns	short loc_40432C
		neg	[ebp+var_14]
		mov	eax, [ebp+arg_0]
		mov	[esp+58h+File],	eax ; File
		call	ftell
		cmp	eax, [ebp+var_14]
		jz	short loc_4042FD
		mov	[esp+58h+var_48], offset aTmp2FtellCache ; "tmp2 == ftell (cache)"
		mov	[esp+58h+var_4C], offset aWrite_dir_inde ; "write_dir_index"
		mov	[esp+58h+var_50], 553h
		mov	[esp+58h+var_54], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+58h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_4042FD:				; CODE XREF: sub_404128+1A7j
		mov	eax, [ebp+var_14]
		mov	[esp+58h+var_54], eax
		mov	eax, [ebp+var_1C]
		mov	[esp+58h+File],	eax
		call	sub_402FBE
		mov	eax, [ebp+var_1C]
		mov	[esp+58h+var_54], eax ;	char *
		mov	eax, [ebp+arg_0]
		mov	[esp+58h+File],	eax ; FILE *
		call	sub_402FE1
		test	eax, eax
		jnz	short loc_40432C
		mov	eax, 0
		jmp	short loc_404344
; ---------------------------------------------------------------------------

loc_40432C:				; CODE XREF: sub_404128+194j
					; sub_404128+1FBj
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		mov	[ebp+var_C], eax

loc_404335:				; CODE XREF: sub_404128+13Dj
		cmp	[ebp+var_C], 0
		jnz	loc_40426A
		mov	eax, 1

loc_404344:				; CODE XREF: sub_404128+30j
					; sub_404128+E3j ...
		add	esp, 54h
		pop	edi
		pop	ebp
		retn
sub_404128	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_40434A(FILE *, int, int)
sub_40434A	proc near		; CODE XREF: sub_404598+215p

File		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_1C		= dword	ptr -1Ch
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 38h
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+File],	eax
		call	g_hash_table_size
		mov	[ebp+var_1C], eax
		mov	edx, 0AAAAAAABh
		mov	eax, [ebp+var_1C]
		mul	edx
		mov	eax, edx
		shr	eax, 1
		mov	[esp+38h+File],	eax
		call	g_spaced_primes_closest
		mov	[ebp+var_10], eax
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_34], 4
		mov	[esp+38h+File],	eax
		call	g_malloc0_n
		mov	[ebp+var_C], eax
		lea	eax, [ebp+var_10]
		mov	[esp+38h+var_30], eax
		mov	[esp+38h+var_34], offset sub_402F05
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+File],	eax
		call	g_hash_table_foreach_remove
		mov	[esp+38h+var_34], 0 ; int
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; FILE *
		call	sub_40362B
		test	eax, eax
		jnz	short loc_4043DC
		mov	[esp+38h+File],	offset aFailedToWriteH ; "Failed to write header\n"
		call	libintl_gettext
		mov	[esp+38h+File],	eax
		call	g_printerr
		mov	eax, 0
		jmp	locret_40448D
; ---------------------------------------------------------------------------

loc_4043DC:				; CODE XREF: sub_40434A+72j
		lea	eax, [ebp+var_14]
		mov	[esp+38h+var_30], eax ;	int
		lea	eax, [ebp+var_10]
		mov	[esp+38h+var_34], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; FILE *
		call	sub_403F67
		test	eax, eax
		jnz	short loc_404414
		mov	[esp+38h+File],	offset aFailedToWrit_0 ; "Failed to write hash table\n"
		call	libintl_gettext
		mov	[esp+38h+File],	eax
		call	g_printerr
		mov	eax, 0
		jmp	short locret_40448D
; ---------------------------------------------------------------------------

loc_404414:				; CODE XREF: sub_40434A+ADj
		mov	eax, [ebp+var_14]
		mov	edx, [ebp+arg_8]
		mov	[esp+38h+var_30], edx ;	int
		mov	[esp+38h+var_34], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; FILE *
		call	sub_404128
		test	eax, eax
		jnz	short loc_40444C
		mov	[esp+38h+File],	offset aFailedToWriteF ; "Failed to write folder index\n"
		call	libintl_gettext
		mov	[esp+38h+File],	eax
		call	g_printerr
		mov	eax, 0
		jmp	short locret_40448D
; ---------------------------------------------------------------------------

loc_40444C:				; CODE XREF: sub_40434A+E5j
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; File
		call	rewind
		mov	eax, [ebp+var_14]
		mov	[esp+38h+var_34], eax ;	int
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; FILE *
		call	sub_40362B
		test	eax, eax
		jnz	short loc_404488
		mov	[esp+38h+File],	offset aFailedToRewrit ; "Failed to rewrite header\n"
		call	libintl_gettext
		mov	[esp+38h+File],	eax
		call	g_printerr
		mov	eax, 0
		jmp	short locret_40448D
; ---------------------------------------------------------------------------

loc_404488:				; CODE XREF: sub_40434A+121j
		mov	eax, 1

locret_40448D:				; CODE XREF: sub_40434A+8Dj
					; sub_40434A+C8j ...
		leave
		retn
sub_40434A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40448F	proc near		; CODE XREF: sub_404598+2BAp
					; sub_404D28+16Dp

var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 38h
		mov	[esp+38h+var_30], 0
		mov	[esp+38h+var_34], 0
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	g_mapped_file_new
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jnz	short loc_4044C0
		mov	eax, 0
		jmp	short locret_40451B
; ---------------------------------------------------------------------------

loc_4044C0:				; CODE XREF: sub_40448F+28j
		mov	eax, [ebp+var_C]
		mov	[esp+38h+var_38], eax
		call	g_mapped_file_get_contents
		mov	[ebp+var_1C], eax
		mov	eax, [ebp+var_C]
		mov	[esp+38h+var_38], eax
		call	g_mapped_file_get_length
		mov	[ebp+var_18], eax
		mov	[ebp+var_14], 0
		mov	[ebp+var_10], 7
		lea	eax, [ebp+var_1C]
		mov	[esp+38h+var_38], eax
		call	sub_401EBD
		test	eax, eax
		jnz	short loc_40450B
		mov	eax, [ebp+var_C]
		mov	[esp+38h+var_38], eax
		call	g_mapped_file_unref
		mov	eax, 0
		jmp	short locret_40451B
; ---------------------------------------------------------------------------

loc_40450B:				; CODE XREF: sub_40448F+68j
		mov	eax, [ebp+var_C]
		mov	[esp+38h+var_38], eax
		call	g_mapped_file_unref
		mov	eax, 1

locret_40451B:				; CODE XREF: sub_40448F+2Fj
					; sub_40448F+7Aj
		leave
		retn
sub_40448F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_40451D(FILE *)
sub_40451D	proc near		; CODE XREF: sub_404598+23Bp

File		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 38h
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; File
		call	_fileno
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jns	short loc_404563
		mov	[esp+38h+var_28], offset aFd0 ;	"fd >= 0"
		mov	[esp+38h+var_2C], offset aSafe_fclose ;	"safe_fclose"
		mov	[esp+38h+var_30], 5B3h
		mov	[esp+38h+var_34], offset a____Gtk2_24_28 ; "../../gtk+-2.24.28/gtk/updateiconcache."...
		mov	[esp+38h+File],	offset aGtk ; "Gtk"
		call	g_assertion_message_expr

loc_404563:				; CODE XREF: sub_40451D+18j
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; File
		call	fflush
		cmp	eax, 0FFFFFFFFh
		jnz	short loc_40457A
		mov	eax, 0
		jmp	short locret_404596
; ---------------------------------------------------------------------------

loc_40457A:				; CODE XREF: sub_40451D+54j
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	eax ; File
		call	fclose
		cmp	eax, 0FFFFFFFFh
		jnz	short loc_404591
		mov	eax, 0
		jmp	short locret_404596
; ---------------------------------------------------------------------------

loc_404591:				; CODE XREF: sub_40451D+6Bj
		mov	eax, 1

locret_404596:				; CODE XREF: sub_40451D+5Bj
					; sub_40451D+72j
		leave
		retn
sub_40451D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_404598	proc near		; CODE XREF: sub_404D28+244p

Code		= dword	ptr -0C8h
Format		= dword	ptr -0C4h
var_C0		= dword	ptr -0C0h
var_BC		= dword	ptr -0BCh
var_B8		= dword	ptr -0B8h
var_A0		= dword	ptr -0A0h
var_9C		= dword	ptr -9Ch
var_98		= byte ptr -98h
var_74		= dword	ptr -74h
var_68		= byte ptr -68h
var_48		= dword	ptr -48h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
File		= dword	ptr -28h
FileHandle	= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	ebx
		sub	esp, 0C4h
		mov	[ebp+var_C], 0
		mov	[ebp+var_14], 0
		mov	[ebp+var_10], 0
		mov	[ebp+var_18], 180h
		mov	[esp+0C8h+var_C0], 0
		mov	[esp+0C8h+Format], offset a_iconTheme_cac ; ".icon-theme.cache"
		mov	eax, [ebp+arg_0]
		mov	[esp+0C8h+Code], eax
		call	g_build_filename
		mov	[ebp+var_1C], eax
		mov	[esp+0C8h+var_C0], 0
		mov	[esp+0C8h+Format], offset aIconTheme_cach ; "icon-theme.cache"
		mov	eax, [ebp+arg_0]
		mov	[esp+0C8h+Code], eax
		call	g_build_filename
		mov	[ebp+var_20], eax

loc_4045FA:				; CODE XREF: sub_404598+A3j
		mov	eax, [ebp+var_18]
		mov	[esp+0C8h+var_C0], eax
		mov	[esp+0C8h+Format], 8701h
		mov	eax, [ebp+var_1C]
		mov	[esp+0C8h+Code], eax
		call	g_open
		mov	[ebp+FileHandle], eax
		cmp	[ebp+FileHandle], 0FFFFFFFFh
		jnz	short loc_40467B
		mov	eax, ds:dword_409020
		test	eax, eax
		jz	short loc_40463D
		cmp	[ebp+var_10], 0
		jnz	short loc_40463D
		add	[ebp+var_10], 1
		mov	eax, [ebp+var_1C]
		mov	[esp+0C8h+Code], eax
		call	g_remove
		jmp	short loc_4045FA
; ---------------------------------------------------------------------------

loc_40463D:				; CODE XREF: sub_404598+8Cj
					; sub_404598+92j
		mov	eax, ds:_errno
		call	eax ; _errno
		mov	eax, [eax]
		mov	[esp+0C8h+Code], eax
		call	g_strerror
		mov	ebx, eax
		mov	[esp+0C8h+Code], offset	aFailedToOpenFi	; "Failed to open file %s : %s\n"
		call	libintl_gettext
		mov	[esp+0C8h+var_C0], ebx
		mov	edx, [ebp+var_1C]
		mov	[esp+0C8h+Format], edx
		mov	[esp+0C8h+Code], eax
		call	g_printerr
		mov	[esp+0C8h+Code], 1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_40467B:				; CODE XREF: sub_404598+83j
		mov	[esp+0C8h+Format], offset Format ; "wb"
		mov	eax, [ebp+FileHandle]
		mov	[esp+0C8h+Code], eax ; FileHandle
		call	_fdopen
		mov	[ebp+File], eax
		cmp	[ebp+File], 0
		jnz	short loc_4046CE
		mov	eax, ds:_errno
		call	eax ; _errno
		mov	eax, [eax]
		mov	[esp+0C8h+Code], eax
		call	g_strerror
		mov	ebx, eax
		mov	[esp+0C8h+Code], offset	aFailedToWriteC	; "Failed to write cache file: %s\n"
		call	libintl_gettext
		mov	[esp+0C8h+Format], ebx
		mov	[esp+0C8h+Code], eax
		call	g_printerr
		mov	[esp+0C8h+Code], 1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_4046CE:				; CODE XREF: sub_404598+FDj
		mov	[esp+0C8h+Format], offset loc_4050B8
		mov	[esp+0C8h+Code], offset	loc_4050C0
		call	g_hash_table_new
		mov	[ebp+var_2C], eax
		mov	[esp+0C8h+Format], offset loc_4050B8
		mov	[esp+0C8h+Code], offset	loc_4050C0
		call	g_hash_table_new
		mov	ds:dword_409030, eax
		mov	[esp+0C8h+Format], offset loc_4050B8
		mov	[esp+0C8h+Code], offset	loc_4050C0
		call	g_hash_table_new
		mov	ds:dword_409034, eax
		mov	[esp+0C8h+Format], offset loc_4050B8
		mov	[esp+0C8h+Code], offset	loc_4050C0
		call	g_hash_table_new
		mov	ds:dword_409038, eax
		mov	[esp+0C8h+var_B8], 0
		mov	[esp+0C8h+var_BC], 0
		mov	eax, [ebp+var_2C]
		mov	[esp+0C8h+var_C0], eax
		mov	[esp+0C8h+Format], 0
		mov	eax, [ebp+arg_0]
		mov	[esp+0C8h+Code], eax
		call	sub_402B69
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_2C]
		mov	[esp+0C8h+Code], eax
		call	g_hash_table_size
		test	eax, eax
		jnz	short loc_404799
		mov	eax, [ebp+File]
		mov	[esp+0C8h+Code], eax ; File
		call	fclose
		mov	eax, [ebp+var_1C]
		mov	[esp+0C8h+Code], eax
		call	g_unlink
		mov	eax, [ebp+var_20]
		mov	[esp+0C8h+Code], eax
		call	g_unlink
		mov	[esp+0C8h+Code], 0 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_404799:				; CODE XREF: sub_404598+1D2j
		mov	eax, [ebp+var_14]
		mov	[esp+0C8h+var_C0], eax ; int
		mov	eax, [ebp+var_2C]
		mov	[esp+0C8h+Format], eax ; int
		mov	eax, [ebp+File]
		mov	[esp+0C8h+Code], eax ; FILE *
		call	sub_40434A
		test	eax, eax
		jnz	short loc_4047CD
		mov	eax, [ebp+var_1C]
		mov	[esp+0C8h+Code], eax
		call	g_unlink
		mov	[esp+0C8h+Code], 1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_4047CD:				; CODE XREF: sub_404598+21Cj
		mov	eax, [ebp+File]
		mov	[esp+0C8h+Code], eax ; FILE *
		call	sub_40451D
		test	eax, eax
		jnz	short loc_40481E
		mov	eax, ds:_errno
		call	eax ; _errno
		mov	eax, [eax]
		mov	[esp+0C8h+Code], eax
		call	g_strerror
		mov	ebx, eax
		mov	[esp+0C8h+Code], offset	aFailedToWriteC	; "Failed to write cache file: %s\n"
		call	libintl_gettext
		mov	[esp+0C8h+Format], ebx
		mov	[esp+0C8h+Code], eax
		call	g_printerr
		mov	eax, [ebp+var_1C]
		mov	[esp+0C8h+Code], eax
		call	g_unlink
		mov	[esp+0C8h+Code], 1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_40481E:				; CODE XREF: sub_404598+242j
		mov	[ebp+File], 0
		mov	eax, offset g_free
		mov	[esp+0C8h+var_C0], 0
		mov	[esp+0C8h+Format], eax
		mov	eax, [ebp+var_14]
		mov	[esp+0C8h+Code], eax
		call	g_list_foreach
		mov	eax, [ebp+var_14]
		mov	[esp+0C8h+Code], eax
		call	g_list_free
		mov	eax, [ebp+var_1C]
		mov	[esp+0C8h+Code], eax
		call	sub_40448F
		test	eax, eax
		jnz	short loc_40487B
		mov	[esp+0C8h+Code], offset	aTheGeneratedCa	; "The generated cache was invalid.\n"
		call	libintl_gettext
		mov	[esp+0C8h+Code], eax
		call	g_printerr
		mov	[esp+0C8h+Code], 1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_40487B:				; CODE XREF: sub_404598+2C1j
		mov	[esp+0C8h+Format], 10h
		mov	eax, [ebp+var_20]
		mov	[esp+0C8h+Code], eax
		call	g_file_test_utf8
		test	eax, eax
		jz	loc_40492E
		mov	[esp+0C8h+var_C0], 0
		mov	[esp+0C8h+Format], offset a_bak	; ".bak"
		mov	eax, [ebp+var_20]
		mov	[esp+0C8h+Code], eax
		call	g_strconcat
		mov	[ebp+var_C], eax
		mov	eax, [ebp+var_C]
		mov	[esp+0C8h+Code], eax
		call	g_unlink
		mov	eax, [ebp+var_C]
		mov	[esp+0C8h+Format], eax
		mov	eax, [ebp+var_20]
		mov	[esp+0C8h+Code], eax
		call	g_rename
		cmp	eax, 0FFFFFFFFh
		jnz	short loc_40492E
		mov	eax, ds:_errno
		call	eax ; _errno
		mov	eax, [eax]
		mov	[ebp+var_30], eax
		mov	eax, [ebp+var_30]
		mov	[esp+0C8h+Code], eax
		call	g_strerror
		mov	ebx, eax
		mov	[esp+0C8h+Code], offset	aCouldNotRename	; "Could not rename %s to %s: %s, removing"...
		call	libintl_gettext
		mov	edx, [ebp+var_20]
		mov	[esp+0C8h+var_B8], edx
		mov	[esp+0C8h+var_BC], ebx
		mov	edx, [ebp+var_C]
		mov	[esp+0C8h+var_C0], edx
		mov	edx, [ebp+var_20]
		mov	[esp+0C8h+Format], edx
		mov	[esp+0C8h+Code], eax
		call	g_printerr
		mov	eax, [ebp+var_20]
		mov	[esp+0C8h+Code], eax
		call	g_unlink
		mov	[ebp+var_C], 0

loc_40492E:				; CODE XREF: sub_404598+2F8j
					; sub_404598+33Cj
		mov	eax, [ebp+var_20]
		mov	[esp+0C8h+Format], eax
		mov	eax, [ebp+var_1C]
		mov	[esp+0C8h+Code], eax
		call	g_rename
		cmp	eax, 0FFFFFFFFh
		jnz	loc_4049FB
		mov	eax, ds:_errno
		call	eax ; _errno
		mov	eax, [eax]
		mov	[ebp+var_34], eax
		mov	eax, [ebp+var_34]
		mov	[esp+0C8h+Code], eax
		call	g_strerror
		mov	ebx, eax
		mov	[esp+0C8h+Code], offset	aCouldNotRena_0	; "Could not rename %s to %s: %s\n"
		call	libintl_gettext
		mov	[esp+0C8h+var_BC], ebx
		mov	edx, [ebp+var_20]
		mov	[esp+0C8h+var_C0], edx
		mov	edx, [ebp+var_1C]
		mov	[esp+0C8h+Format], edx
		mov	[esp+0C8h+Code], eax
		call	g_printerr
		mov	eax, [ebp+var_1C]
		mov	[esp+0C8h+Code], eax
		call	g_unlink
		cmp	[ebp+var_C], 0
		jz	short loc_4049EF
		mov	eax, [ebp+var_20]
		mov	[esp+0C8h+Format], eax
		mov	eax, [ebp+var_C]
		mov	[esp+0C8h+Code], eax
		call	g_rename
		cmp	eax, 0FFFFFFFFh
		jnz	short loc_4049EF
		mov	eax, ds:_errno
		call	eax ; _errno
		mov	eax, [eax]
		mov	[ebp+var_34], eax
		mov	eax, [ebp+var_34]
		mov	[esp+0C8h+Code], eax
		call	g_strerror
		mov	ebx, eax
		mov	[esp+0C8h+Code], offset	aCouldNotRena_1	; "Could not rename %s back to %s: %s.\n"
		call	libintl_gettext
		mov	[esp+0C8h+var_BC], ebx
		mov	edx, [ebp+var_20]
		mov	[esp+0C8h+var_C0], edx
		mov	edx, [ebp+var_C]
		mov	[esp+0C8h+Format], edx
		mov	[esp+0C8h+Code], eax
		call	g_printerr

loc_4049EF:				; CODE XREF: sub_404598+3FFj
					; sub_404598+416j
		mov	[esp+0C8h+Code], 1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_4049FB:				; CODE XREF: sub_404598+3ABj
		cmp	[ebp+var_C], 0
		jz	short loc_404A0C
		mov	eax, [ebp+var_C]
		mov	[esp+0C8h+Code], eax
		call	g_unlink

loc_404A0C:				; CODE XREF: sub_404598+467j
		lea	eax, [ebp+var_68]
		mov	[esp+0C8h+Format], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+0C8h+Code], eax
		call	g_stat
		test	eax, eax
		js	short loc_404A3B
		lea	eax, [ebp+var_98]
		mov	[esp+0C8h+Format], eax
		mov	eax, [ebp+var_20]
		mov	[esp+0C8h+Code], eax
		call	g_stat
		test	eax, eax
		jz	short loc_404A47

loc_404A3B:				; CODE XREF: sub_404598+488j
		mov	[esp+0C8h+Code], 1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_404A47:				; CODE XREF: sub_404598+4A1j
		mov	eax, [ebp+var_48]
		mov	[ebp+var_A0], eax
		mov	eax, [ebp+var_74]
		mov	[ebp+var_9C], eax
		lea	eax, [ebp+var_A0]
		mov	[esp+0C8h+Format], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+0C8h+Code], eax
		call	g_utime
		mov	eax, ds:dword_409028
		test	eax, eax
		jnz	short loc_404A8B
		mov	[esp+0C8h+Code], offset	aCacheFileCreat	; "Cache file created successfully.\n"
		call	libintl_gettext
		mov	[esp+0C8h+Code], eax
		call	g_printerr

loc_404A8B:				; CODE XREF: sub_404598+4DDj
		add	esp, 0C4h
		pop	ebx
		pop	ebp
		retn
sub_404598	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_404A94	proc near		; CODE XREF: sub_404D28+269p

Code		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	[esp+28h+var_20], 0
		mov	[esp+28h+var_24], offset aIconTheme_cach ; "icon-theme.cache"
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+Code],	eax
		call	g_build_filename
		mov	[ebp+var_10], eax
		mov	[esp+28h+var_1C], 0
		lea	eax, [ebp+var_18]
		mov	[esp+28h+var_20], eax
		lea	eax, [ebp+var_14]
		mov	[esp+28h+var_24], eax
		mov	eax, [ebp+var_10]
		mov	[esp+28h+Code],	eax
		call	g_file_get_contents_utf8
		test	eax, eax
		jnz	short loc_404AE9
		mov	[esp+28h+Code],	1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_404AE9:				; CODE XREF: sub_404A94+47j
		mov	[esp+28h+Code],	offset aIfdef__sunpro_ ; "#ifdef __SUNPRO_C\n"
		call	g_printf
		mov	eax, Str1
		mov	[esp+28h+var_24], eax
		mov	[esp+28h+Code],	offset aPragmaAlign4S ;	"#pragma align 4 (%s)\n"
		call	g_printf
		mov	[esp+28h+Code],	offset aEndif ;	"#endif\n"
		call	g_printf
		mov	[esp+28h+Code],	offset aIfdef__gnuc__ ;	"#ifdef	__GNUC__\n"
		call	g_printf
		mov	eax, Str1
		mov	[esp+28h+var_24], eax
		mov	[esp+28h+Code],	offset aStaticConstGui ; "static const guint8 %s[] __attribute__ "...
		call	g_printf
		mov	[esp+28h+Code],	offset aElse ; "#else\n"
		call	g_printf
		mov	eax, Str1
		mov	[esp+28h+var_24], eax
		mov	[esp+28h+Code],	offset aStaticConstG_0 ; "static const guint8 %s[] = \n"
		call	g_printf
		mov	[esp+28h+Code],	offset aEndif ;	"#endif\n"
		call	g_printf
		mov	[esp+28h+Code],	offset asc_408443 ; "{\n"
		call	g_printf
		mov	[ebp+var_C], 0
		jmp	loc_404C03
; ---------------------------------------------------------------------------

loc_404B7C:				; CODE XREF: sub_404A94+17Aj
		mov	ecx, [ebp+var_C]
		mov	edx, 2AAAAAABh
		mov	eax, ecx
		imul	edx
		sar	edx, 1
		mov	eax, ecx
		sar	eax, 1Fh
		sub	edx, eax
		mov	eax, edx
		add	eax, eax
		add	eax, edx
		shl	eax, 2
		mov	edx, ecx
		sub	edx, eax
		test	edx, edx
		jnz	short loc_404BAE
		mov	[esp+28h+Code],	offset asc_408446 ; "  "
		call	g_printf

loc_404BAE:				; CODE XREF: sub_404A94+10Cj
		mov	edx, [ebp+var_14]
		mov	eax, [ebp+var_C]
		add	eax, edx
		movzx	eax, byte ptr [eax]
		movzx	eax, al
		mov	[esp+28h+var_24], eax
		mov	[esp+28h+Code],	offset a0x02x ;	"0x%02x, "
		call	g_printf
		mov	ecx, [ebp+var_C]
		mov	edx, 2AAAAAABh
		mov	eax, ecx
		imul	edx
		sar	edx, 1
		mov	eax, ecx
		sar	eax, 1Fh
		sub	edx, eax
		mov	eax, edx
		add	eax, eax
		add	eax, edx
		shl	eax, 2
		mov	edx, ecx
		sub	edx, eax
		cmp	edx, 0Bh
		jnz	short loc_404BFF
		mov	[esp+28h+Code],	offset asc_408452 ; "\n"
		call	g_printf

loc_404BFF:				; CODE XREF: sub_404A94+15Dj
		add	[ebp+var_C], 1

loc_404C03:				; CODE XREF: sub_404A94+E3j
		mov	eax, [ebp+var_C]
		mov	edx, [ebp+var_18]
		sub	edx, 1
		cmp	eax, edx
		jb	loc_404B7C
		mov	edx, [ebp+var_14]
		mov	eax, [ebp+var_C]
		add	eax, edx
		movzx	eax, byte ptr [eax]
		movzx	eax, al
		mov	[esp+28h+var_24], eax
		mov	[esp+28h+Code],	offset a0x02x_0	; "0x%02x\n};\n"
		call	g_printf
		leave
		retn
sub_404A94	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_404C34(char *)
sub_404C34	proc near		; DATA XREF: sub_404D28:loc_404D48o

Str		= dword	ptr -38h
File		= dword	ptr -34h
Count		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	ebx
		sub	esp, 34h
		mov	eax, ds:_iob
		lea	ebx, [eax+40h]
		call	g_get_prgname
		mov	[esp+38h+File],	ebx ; File
		mov	[esp+38h+Str], eax ; Str
		call	fputs
		mov	eax, ds:_iob
		lea	edx, [eax+40h]
		mov	eax, offset asc_4085A7 ; ": "
		mov	[esp+38h+var_2C], edx ;	File
		mov	[esp+38h+Count], 2 ; Count
		mov	[esp+38h+File],	1 ; Size
		mov	[esp+38h+Str], eax ; Str
		call	fwrite
		lea	eax, [ebp+var_10]
		mov	[esp+38h+Str], eax
		call	g_get_charset
		test	eax, eax
		jz	short loc_404CA5
		mov	eax, ds:_iob
		lea	edx, [eax+40h]
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+File],	edx ; File
		mov	[esp+38h+Str], eax ; Str
		call	fputs
		jmp	short loc_404D22
; ---------------------------------------------------------------------------

loc_404CA5:				; CODE XREF: sub_404C34+56j
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_1C], 0
		mov	[esp+38h+var_20], 0
		mov	[esp+38h+var_24], 0
		mov	[esp+38h+var_28], offset a? ; "?"
		mov	[esp+38h+var_2C], offset aUtf8 ; "UTF-8"
		mov	[esp+38h+Count], eax
		mov	[esp+38h+File],	0FFFFFFFFh
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+Str], eax
		call	g_convert_with_fallback
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jz	short loc_404D12
		mov	eax, ds:_iob
		lea	edx, [eax+40h]
		mov	eax, [ebp+var_C]
		mov	[esp+38h+File],	edx ; File
		mov	[esp+38h+Str], eax ; Str
		call	fputs
		mov	eax, [ebp+var_C]
		mov	[esp+38h+Str], eax
		call	g_free

loc_404D12:				; CODE XREF: sub_404C34+BAj
		mov	eax, ds:_iob
		add	eax, 40h
		mov	[esp+38h+Str], eax ; File
		call	fflush

loc_404D22:				; CODE XREF: sub_404C34+6Fj
		add	esp, 34h
		pop	ebx
		pop	ebp
		retn
sub_404C34	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_404D28	proc near		; CODE XREF: sub_401180+265p

Code		= dword	ptr -30h
Str2		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		and	esp, 0FFFFFFF0h
		sub	esp, 30h
		call	sub_406100
		mov	eax, [ebp+arg_0]
		cmp	eax, 1
		jg	short loc_404D48
		mov	eax, 0
		jmp	locret_404F9B
; ---------------------------------------------------------------------------

loc_404D48:				; CODE XREF: sub_404D28+14j
		mov	[esp+30h+Code],	offset sub_404C34
		call	g_set_printerr_handler
		mov	[esp+30h+Str2],	offset word_4085B2
		mov	[esp+30h+Code],	0
		call	libintl_setlocale
		mov	[esp+30h+Str2],	offset aHomeIntevation ; "/home/intevation/gpg4win/src/playground"...
		mov	[esp+30h+Code],	offset aGtk20 ;	"gtk20"
		call	libintl_bindtextdomain
		mov	[esp+30h+Str2],	offset aUtf8 ; "UTF-8"
		mov	[esp+30h+Code],	offset aGtk20 ;	"gtk20"
		call	libintl_bind_textdomain_codeset
		mov	[esp+30h+Code],	offset aIconpath ; "ICONPATH"
		call	g_option_context_new
		mov	[esp+30h+var_4], eax
		mov	[esp+30h+var_28], offset aGtk20	; "gtk20"
		mov	[esp+30h+Str2],	offset off_407020
		mov	eax, [esp+30h+var_4]
		mov	[esp+30h+Code],	eax
		call	g_option_context_add_main_entries
		mov	[esp+30h+var_24], 0
		lea	eax, [ebp+arg_4]
		mov	[esp+30h+var_28], eax
		lea	eax, [ebp+arg_0]
		mov	[esp+30h+Str2],	eax
		mov	eax, [esp+30h+var_4]
		mov	[esp+30h+Code],	eax
		call	g_option_context_parse
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	[esp+30h+var_8], eax
		mov	[esp+30h+var_20], 0
		mov	[esp+30h+var_24], 0
		mov	[esp+30h+var_28], 0
		mov	[esp+30h+Str2],	0FFFFFFFFh
		mov	eax, [esp+30h+var_8]
		mov	[esp+30h+Code],	eax
		call	g_locale_to_utf8
		mov	[esp+30h+var_8], eax
		mov	eax, ds:dword_40902C
		test	eax, eax
		jz	loc_404EDB
		mov	[esp+30h+var_28], 0
		mov	[esp+30h+Str2],	offset aIconTheme_cach ; "icon-theme.cache"
		mov	eax, [esp+30h+var_8]
		mov	[esp+30h+Code],	eax
		call	g_build_filename
		mov	[esp+30h+var_C], eax
		mov	[esp+30h+Str2],	1
		mov	eax, [esp+30h+var_C]
		mov	[esp+30h+Code],	eax
		call	g_file_test_utf8
		test	eax, eax
		jnz	short loc_404E8E
		mov	eax, ds:dword_409028
		test	eax, eax
		jnz	short loc_404E82
		mov	[esp+30h+Code],	offset aFileNotFoundS ;	"File not found: %s\n"
		call	libintl_gettext
		mov	edx, [esp+30h+var_C]
		mov	[esp+30h+Str2],	edx
		mov	[esp+30h+Code],	eax
		call	g_printerr

loc_404E82:				; CODE XREF: sub_404D28+13Cj
		mov	[esp+30h+Code],	1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_404E8E:				; CODE XREF: sub_404D28+133j
		mov	eax, [esp+30h+var_C]
		mov	[esp+30h+Code],	eax
		call	sub_40448F
		test	eax, eax
		jnz	short loc_404ECF
		mov	eax, ds:dword_409028
		test	eax, eax
		jnz	short loc_404EC3
		mov	[esp+30h+Code],	offset aNotAValidIconC ; "Not a	valid icon cache: %s\n"
		call	libintl_gettext
		mov	edx, [esp+30h+var_C]
		mov	[esp+30h+Str2],	edx
		mov	[esp+30h+Code],	eax
		call	g_printerr

loc_404EC3:				; CODE XREF: sub_404D28+17Dj
		mov	[esp+30h+Code],	1 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_404ECF:				; CODE XREF: sub_404D28+174j
		mov	[esp+30h+Code],	0 ; Code
		call	exit
; ---------------------------------------------------------------------------

loc_404EDB:				; CODE XREF: sub_404D28+F7j
		mov	eax, ds:dword_409024
		test	eax, eax
		jnz	short loc_404F34
		mov	eax, [esp+30h+var_8]
		mov	[esp+30h+Code],	eax
		call	sub_401FED
		test	eax, eax
		jnz	short loc_404F34
		cmp	[esp+30h+var_8], 0
		jz	short loc_404F11
		mov	[esp+30h+Code],	offset aNoThemeIndexFi ; "No theme index file.\n"
		call	libintl_gettext
		mov	[esp+30h+Code],	eax
		call	g_printerr
		jmp	short loc_404F2D
; ---------------------------------------------------------------------------

loc_404F11:				; CODE XREF: sub_404D28+1D1j
		mov	[esp+30h+Code],	offset aNoThemeIndex_0 ; "No theme index file in '%s'.\nIf you re"...
		call	libintl_gettext
		mov	edx, [esp+30h+var_8]
		mov	[esp+30h+Str2],	edx
		mov	[esp+30h+Code],	eax
		call	g_printerr

loc_404F2D:				; CODE XREF: sub_404D28+1E7j
		mov	eax, 1
		jmp	short locret_404F9B
; ---------------------------------------------------------------------------

loc_404F34:				; CODE XREF: sub_404D28+1BAj
					; sub_404D28+1CAj
		mov	eax, ds:dword_409020
		test	eax, eax
		jnz	short loc_404F54
		mov	eax, [esp+30h+var_8]
		mov	[esp+30h+Code],	eax
		call	sub_401F67
		test	eax, eax
		jz	short loc_404F54
		mov	eax, 0
		jmp	short locret_404F9B
; ---------------------------------------------------------------------------

loc_404F54:				; CODE XREF: sub_404D28+213j
					; sub_404D28+223j
		call	g_type_init
		mov	eax, [esp+30h+var_8]
		mov	[esp+30h+Code],	eax
		call	sub_402B13
		mov	eax, [esp+30h+var_8]
		mov	[esp+30h+Code],	eax
		call	sub_404598
		mov	eax, Str1
		mov	[esp+30h+Str2],	offset Str2 ; "-"
		mov	[esp+30h+Code],	eax ; Str1
		call	strcmp
		test	eax, eax
		jz	short loc_404F96
		mov	eax, [esp+30h+var_8]
		mov	[esp+30h+Code],	eax
		call	sub_404A94

loc_404F96:				; CODE XREF: sub_404D28+260j
		mov	eax, 0

locret_404F9B:				; CODE XREF: sub_404D28+1Bj
					; sub_404D28+20Aj ...
		leave
		retn
sub_404D28	endp

; ---------------------------------------------------------------------------
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION gdk_pixdata_deserialize]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION gdk_pixbuf_new_from_file_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION gdk_pixdata_from_pixbuf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION gdk_pixdata_serialize]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_type_init]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_utf8_validate]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_stat]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_build_filename]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_free]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_file_test_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_lookup]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_list_prepend]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_insert]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_key_file_new]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_key_file_set_list_separator]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_key_file_load_from_file]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_error_free]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_key_file_free]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_malloc0_n]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_key_file_get_integer_list]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_key_file_get_string]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strsplit]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_strv_length]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_malloc_n]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_strfreev]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_key_file_get_keys]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_str_has_prefix]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strndup]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_key_file_get_locale_string]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strdup]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_file_read_link]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_path_is_absolute]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_path_get_dirname]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_str_has_suffix]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_log]
		align 4

loc_4050B8:				; DATA XREF: sub_402B69:loc_402BCEo
					; sub_404598:loc_4046CEo ...
		jmp	ds:g_str_equal
; ---------------------------------------------------------------------------
		align 10h

loc_4050C0:				; DATA XREF: sub_402B69+6Do
					; sub_404598+13Eo ...
		jmp	ds:g_str_hash
; ---------------------------------------------------------------------------
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_build_path]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_open_utf8]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_new]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_list_length]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_list_append]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_read_name_utf8]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_close]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_foreach_remove]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_destroy]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_malloc0]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_assertion_message_expr]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_hash_table_size]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_spaced_primes_closest]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_printerr]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_mapped_file_new]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_mapped_file_get_contents]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_mapped_file_get_length]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_mapped_file_unref]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_open]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_remove]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strerror]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_unlink]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_list_foreach]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_list_free]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strconcat]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_rename]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_utime]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_file_get_contents_utf8]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_printf]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_get_prgname]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_get_charset]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_convert_with_fallback]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_set_printerr_handler]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_option_context_new]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_option_context_add_main_entries]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_option_context_parse]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_locale_to_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION libintl_gettext]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION libintl_setlocale]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION libintl_bindtextdomain]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION libintl_bind_textdomain_codeset]
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public TlsCallback_1
TlsCallback_1	proc near		; DATA XREF: .CRT:0040C024o

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_4]
		test	eax, eax
		jz	short loc_405230
		cmp	eax, 3
		jz	short loc_405230
		mov	eax, 1
		add	esp, 1Ch
		retn	0Ch
; ---------------------------------------------------------------------------
		align 10h

loc_405230:				; CODE XREF: TlsCallback_1+9j
					; TlsCallback_1+Ej
		mov	edx, [esp+1Ch+arg_8]
		mov	[esp+1Ch+var_18], eax
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+var_14], edx
		mov	[esp+1Ch+var_1C], eax
		call	sub_406420
		mov	eax, 1
		add	esp, 1Ch
		retn	0Ch
TlsCallback_1	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public TlsCallback_0
TlsCallback_0	proc near		; CODE XREF: sub_401180+113p
					; DATA XREF: .rdata:off_40877Co ...

lpLibFileName	= dword	ptr -1Ch
lpProcName	= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		push	ebx
		sub	esp, 18h
		mov	edx, ds:_winmajor
		mov	eax, [esp+1Ch+arg_4]
		cmp	dword ptr [edx], 3
		jbe	short loc_4052A4
		cmp	dword_407110, 2
		jz	short loc_405286
		mov	dword_407110, 2

loc_405286:				; CODE XREF: TlsCallback_0+1Aj
		cmp	eax, 2
		jz	loc_405393
		cmp	eax, 1
		jz	loc_405332

loc_405298:				; CODE XREF: TlsCallback_0+EEj
					; TlsCallback_0+13Ej
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_4052A4:				; CODE XREF: TlsCallback_0+11j
		mov	ds:dword_4093F8, 1
		mov	[esp+1Ch+lpLibFileName], offset	LibFileName ; "mingwm10.dll"
		call	ds:LoadLibraryA
		sub	esp, 4
		test	eax, eax
		mov	ds:hLibModule, eax
		jz	loc_4053C3
		mov	ebx, ds:GetProcAddress
		mov	[esp+1Ch+lpProcName], offset a__mingwthr_rem ; "__mingwthr_remove_key_dtor"
		mov	[esp+1Ch+lpLibFileName], eax ; hModule
		call	ebx ; GetProcAddress
		mov	ds:dword_4093F4, eax
		mov	eax, ds:hLibModule
		sub	esp, 8
		mov	[esp+1Ch+lpProcName], offset a__mingwthr_key ; "__mingwthr_key_dtor"
		mov	[esp+1Ch+lpLibFileName], eax ; hModule
		call	ebx ; GetProcAddress
		mov	edx, ds:hLibModule
		sub	esp, 8
		test	edx, edx
		mov	ds:dword_4093F0, eax
		jz	loc_4053C3
		mov	ecx, ds:dword_4093F4
		test	ecx, ecx
		jz	short loc_405353
		test	eax, eax
		jz	short loc_405353
		mov	dword_407110, 1
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_405332:				; CODE XREF: TlsCallback_0+32j
		mov	eax, [esp+1Ch+arg_8]
		mov	[esp+1Ch+lpProcName], 1
		mov	[esp+1Ch+var_14], eax
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+lpLibFileName], eax
		call	sub_406420
		jmp	loc_405298
; ---------------------------------------------------------------------------

loc_405353:				; CODE XREF: TlsCallback_0+B6j
					; TlsCallback_0+BAj
		mov	ds:dword_4093F0, 0
		mov	ds:dword_4093F4, 0
		mov	[esp+1Ch+lpLibFileName], edx ; hLibModule
		call	ds:FreeLibrary
		sub	esp, 4

loc_405373:				; CODE XREF: TlsCallback_0+177j
		mov	ds:hLibModule, 0
		mov	eax, 1
		mov	dword_407110, 0
		add	esp, 18h
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_405393:				; CODE XREF: TlsCallback_0+29j
		mov	ebx, offset dword_40C030
		cmp	ebx, offset dword_40C030
		jz	loc_405298

loc_4053A4:				; CODE XREF: TlsCallback_0+155j
		mov	eax, [ebx]
		test	eax, eax
		jz	short loc_4053AC
		call	eax

loc_4053AC:				; CODE XREF: TlsCallback_0+148j
		add	ebx, 4
		cmp	ebx, offset dword_40C030
		jnz	short loc_4053A4
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_4053C3:				; CODE XREF: TlsCallback_0+65j
					; TlsCallback_0+A8j
		mov	ds:dword_4093F0, 0
		mov	ds:dword_4093F4, 0
		jmp	short loc_405373
TlsCallback_0	endp

; ---------------------------------------------------------------------------
		align 10h
		xor	eax, eax
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4053F0	proc near		; DATA XREF: .CRT:0040C014o
		mov	eax, ds:__lconv_init
		jmp	eax
sub_4053F0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405400	proc near		; CODE XREF: sub_405420+10p
					; sub_405420+36p ...

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		retn
sub_405400	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405410	proc near		; CODE XREF: sub_401060+59p
					; sub_405420+71p ...

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		retn
sub_405410	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_405420(_onexit_t)
sub_405420	proc near		; CODE XREF: sub_4054E0+Ap

Func		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
arg_0		= dword	ptr  4

		push	ebx
		sub	esp, 28h
		mov	eax, ds:dword_409400
		mov	ebx, [esp+2Ch+arg_0]
		mov	[esp+2Ch+Func],	eax
		call	sub_405400
		cmp	eax, 0FFFFFFFFh
		mov	[esp+2Ch+var_14], eax
		jz	loc_4054C0
		mov	[esp+2Ch+Func],	8
		call	_lock
		mov	eax, ds:dword_409400
		mov	[esp+2Ch+Func],	eax
		call	sub_405400
		mov	[esp+2Ch+var_14], eax
		mov	eax, ds:dword_4093FC
		mov	[esp+2Ch+Func],	eax
		call	sub_405400
		mov	[esp+2Ch+Func],	ebx
		mov	[esp+2Ch+var_10], eax
		lea	eax, [esp+2Ch+var_10]
		mov	[esp+2Ch+var_24], eax
		lea	eax, [esp+2Ch+var_14]
		mov	[esp+2Ch+var_28], eax
		call	__dllonexit
		mov	ebx, eax
		mov	eax, [esp+2Ch+var_14]
		mov	[esp+2Ch+Func],	eax
		call	sub_405410
		mov	ds:dword_409400, eax
		mov	eax, [esp+2Ch+var_10]
		mov	[esp+2Ch+Func],	eax
		call	sub_405410
		mov	[esp+2Ch+Func],	8
		mov	ds:dword_4093FC, eax
		call	_unlock
		add	esp, 28h
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_4054C0:				; CODE XREF: sub_405420+1Cj
		mov	[esp+2Ch+Func],	ebx ; Func
		call	ds:_onexit
		add	esp, 28h
		mov	ebx, eax
		mov	eax, ebx
		pop	ebx
		retn
sub_405420	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_4054E0(_onexit_t)
sub_4054E0	proc near		; CODE XREF: sub_406100-27p
					; sub_406640+12p

var_1C		= dword	ptr -1Ch
arg_0		= dword	ptr  4

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+var_1C], eax ;	_onexit_t
		call	sub_405420
		cmp	eax, 1
		sbb	eax, eax
		add	esp, 1Ch
		retn
sub_4054E0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; LONG __stdcall TopLevelExceptionFilter(struct	_EXCEPTION_POINTERS *ExceptionInfo)
TopLevelExceptionFilter	proc near	; DATA XREF: sub_401180+11Do

var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_10		= dword	ptr -10h
ExceptionInfo	= dword	ptr  4

		push	esi
		push	ebx
		sub	esp, 24h
		mov	ebx, [esp+2Ch+ExceptionInfo]
		mov	eax, [ebx]
		mov	eax, [eax]
		cmp	eax, 0C0000091h
		ja	short loc_405557
		cmp	eax, 0C000008Dh
		jb	short loc_405584

loc_40551B:				; CODE XREF: TopLevelExceptionFilter+6Aj
		mov	esi, 1

loc_405520:				; CODE XREF: TopLevelExceptionFilter+C7j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 8
		call	signal
		cmp	eax, 1
		jz	loc_405650
		test	eax, eax
		jz	short loc_40556C
		mov	[esp+2Ch+var_2C], 8
		call	eax
		mov	eax, 0FFFFFFFFh

loc_40554F:				; CODE XREF: TopLevelExceptionFilter+120j
					; TopLevelExceptionFilter+13Ej	...
		add	esp, 24h
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_405557:				; CODE XREF: TopLevelExceptionFilter+12j
		cmp	eax, 0C0000094h
		jz	short loc_4055C5
		cmp	eax, 0C0000096h
		jz	short loc_405592
		cmp	eax, 0C0000093h
		jz	short loc_40551B

loc_40556C:				; CODE XREF: TopLevelExceptionFilter+3Fj
					; TopLevelExceptionFilter+90j ...
		mov	eax, ds:dword_409064
		test	eax, eax
		jz	loc_405643
		mov	[esp+2Ch+ExceptionInfo], ebx
		add	esp, 24h
		pop	ebx
		pop	esi
		jmp	eax
; ---------------------------------------------------------------------------

loc_405584:				; CODE XREF: TopLevelExceptionFilter+19j
		cmp	eax, 0C0000005h
		jz	short loc_4055D0
		cmp	eax, 0C000001Dh
		jnz	short loc_40556C

loc_405592:				; CODE XREF: TopLevelExceptionFilter+63j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 4
		call	signal
		cmp	eax, 1
		jz	short loc_405607
		test	eax, eax
		jz	short loc_40556C
		mov	[esp+2Ch+var_2C], 4
		call	eax
		add	esp, 24h
		mov	eax, 0FFFFFFFFh
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_4055C5:				; CODE XREF: TopLevelExceptionFilter+5Cj
		xor	esi, esi
		jmp	loc_405520
; ---------------------------------------------------------------------------
		align 10h

loc_4055D0:				; CODE XREF: TopLevelExceptionFilter+89j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 0Bh
		call	signal
		cmp	eax, 1
		jz	short loc_405625
		test	eax, eax
		jz	loc_40556C
		mov	[esp+2Ch+var_2C], 0Bh
		call	eax
		add	esp, 24h
		mov	eax, 0FFFFFFFFh
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_405607:				; CODE XREF: TopLevelExceptionFilter+A9j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 4
		call	signal
		mov	eax, 0FFFFFFFFh
		jmp	loc_40554F
; ---------------------------------------------------------------------------

loc_405625:				; CODE XREF: TopLevelExceptionFilter+E7j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 0Bh
		call	signal
		mov	eax, 0FFFFFFFFh
		jmp	loc_40554F
; ---------------------------------------------------------------------------

loc_405643:				; CODE XREF: TopLevelExceptionFilter+73j
		xor	eax, eax
		jmp	loc_40554F
; ---------------------------------------------------------------------------
		align 10h

loc_405650:				; CODE XREF: TopLevelExceptionFilter+37j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 8
		call	signal
		test	esi, esi
		mov	eax, 0FFFFFFFFh
		jz	loc_40554F
		mov	[esp+2Ch+var_10], eax
		call	sub_406070
		mov	eax, [esp+2Ch+var_10]
		jmp	loc_40554F
TopLevelExceptionFilter	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 3Ch
		mov	eax, ds:dword_409068
		fld	qword ptr [esp+48h]
		fld	qword ptr [esp+50h]
		fld	qword ptr [esp+58h]
		test	eax, eax
		jz	short loc_4056D1
		fxch	st(2)
		mov	edx, [esp+40h]
		fstp	qword ptr [esp+18h]
		fstp	qword ptr [esp+20h]
		fstp	qword ptr [esp+28h]
		mov	[esp+10h], edx
		mov	edx, [esp+44h]
		mov	[esp+14h], edx
		lea	edx, [esp+10h]
		mov	[esp], edx
		call	eax ; dword_409068
		jmp	short loc_4056D7
; ---------------------------------------------------------------------------

loc_4056D1:				; CODE XREF: .text:004056A6j
		fstp	st
		fstp	st
		fstp	st

loc_4056D7:				; CODE XREF: .text:004056CFj
		add	esp, 3Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4056E0	proc near		; CODE XREF: sub_401060+F7p

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		mov	ds:dword_409068, eax
		jmp	__setusermatherr
sub_4056E0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4056F0	proc near		; DATA XREF: sub_401060:loc_401150o

File		= dword	ptr -3Ch
Format		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= qword	ptr -2Ch
var_24		= qword	ptr -24h
var_1C		= qword	ptr -1Ch
arg_0		= dword	ptr  4

		sub	esp, 3Ch
		mov	edx, offset aUnknownError ; "Unknown error"
		mov	eax, [esp+3Ch+arg_0]
		mov	ecx, [eax]
		sub	ecx, 1
		cmp	ecx, 5
		ja	short loc_40570D
		mov	edx, ds:off_40889C[ecx*4]

loc_40570D:				; CODE XREF: sub_4056F0+14j
		fld	qword ptr [eax+18h]
		fstp	[esp+3Ch+var_1C]
		fld	qword ptr [eax+10h]
		fstp	[esp+3Ch+var_24]
		fld	qword ptr [eax+8]
		fstp	[esp+3Ch+var_2C]
		mov	eax, [eax+4]
		mov	[esp+3Ch+var_34], edx
		mov	[esp+3Ch+Format], offset a_matherrSInSGG ; "_matherr():	%s in %s(%g, %g)  (retval=%"...
		mov	[esp+3Ch+var_30], eax
		mov	eax, ds:_iob
		add	eax, 40h
		mov	[esp+3Ch+File],	eax ; File
		call	fprintf
		xor	eax, eax
		add	esp, 3Ch
		retn
sub_4056F0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405750	proc near		; CODE XREF: sub_401060+75p
		xor	eax, eax
		retn
sub_405750	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

; int __cdecl sub_405760(char *Format, char ArgList)
sub_405760	proc near		; CODE XREF: sub_4057C0+1DDp
					; sub_4057C0+204p ...

Str		= dword	ptr -1Ch
Size		= dword	ptr -18h
Count		= dword	ptr -14h
File		= dword	ptr -10h
Format		= dword	ptr  4
ArgList		= byte ptr  8

		push	ebx
		sub	esp, 18h
		mov	eax, ds:_iob
		mov	[esp+1Ch+Count], 1Bh ; Count
		lea	ebx, [esp+1Ch+ArgList]
		mov	[esp+1Ch+Size],	1 ; Size
		mov	[esp+1Ch+Str], offset aMingwW64Runtim ;	"Mingw-w64 runtime failure:\n"
		add	eax, 40h
		mov	[esp+1Ch+File],	eax ; File
		call	fwrite
		mov	eax, [esp+1Ch+Format]
		mov	[esp+1Ch+Count], ebx ; ArgList
		mov	[esp+1Ch+Size],	eax ; Format
		mov	eax, ds:_iob
		add	eax, 40h
		mov	[esp+1Ch+Str], eax ; File
		call	vfprintf
		call	abort
sub_405760	endp

; ---------------------------------------------------------------------------
		jmp	short sub_4057C0
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __thiscall sub_4057C0(size_t Size)
sub_4057C0	proc near		; CODE XREF: .text:004057B1j
					; sub_405A00+B8p ...

lpAddress	= dword	ptr -7Ch
lpBuffer	= dword	ptr -78h
dwLength	= dword	ptr -74h
lpflOldProtect	= dword	ptr -70h
var_64		= dword	ptr -64h
Src		= dword	ptr -60h
var_58		= _MEMORY_BASIC_INFORMATION ptr	-58h
Buffer		= _MEMORY_BASIC_INFORMATION ptr	-3Ch
flOldProtect	= dword	ptr -20h

		push	ebp
		mov	ebp, ecx
		push	edi
		push	esi
		push	ebx
		mov	ebx, eax
		sub	esp, 6Ch
		mov	ecx, ds:dword_409074
		mov	[esp+7Ch+Src], edx
		test	ecx, ecx
		jle	loc_4059A2
		mov	eax, ds:dword_409070
		xor	esi, esi

loc_4057E4:				; CODE XREF: sub_4057C0+41j
		mov	edx, [eax+4]
		cmp	ebx, edx
		jb	short loc_4057F9
		mov	edi, [eax+8]
		add	edx, [edi+8]
		cmp	ebx, edx
		jb	loc_4058D0

loc_4057F9:				; CODE XREF: sub_4057C0+29j
		add	esi, 1
		add	eax, 0Ch
		cmp	esi, ecx
		jnz	short loc_4057E4

loc_405803:				; CODE XREF: sub_4057C0+1E4j
		mov	[esp+7Ch+lpAddress], ebx
		call	sub_405DC0
		test	eax, eax
		mov	edi, eax
		jz	loc_4059C9
		lea	edx, [esi+esi*2]
		mov	esi, ds:dword_409070
		shl	edx, 2
		add	esi, edx
		mov	[esi+8], eax
		mov	dword ptr [esi], 0
		mov	[esp+7Ch+var_64], edx
		call	sub_405EA0
		mov	edx, [esp+7Ch+var_64]
		add	eax, [edi+0Ch]
		mov	[esi+4], eax
		lea	eax, [esp+7Ch+Buffer]
		mov	esi, ds:VirtualQuery
		mov	[esp+7Ch+lpBuffer], eax	; lpBuffer
		mov	eax, ds:dword_409070
		mov	[esp+7Ch+dwLength], 1Ch	; dwLength
		mov	eax, [eax+edx+4]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		mov	edx, [esp+7Ch+var_64]
		jz	loc_4059A9
		mov	eax, [esp+7Ch+Buffer.Protect]
		cmp	eax, 4
		jnz	loc_405951

loc_40587F:				; CODE XREF: sub_4057C0+194j
					; sub_4057C0+1C6j
		add	ds:dword_409074, 1

loc_405886:				; CODE XREF: sub_4057C0+116j
		lea	eax, [esp+7Ch+var_58]
		mov	[esp+7Ch+dwLength], 1Ch	; dwLength
		mov	[esp+7Ch+lpBuffer], eax	; lpBuffer
		mov	[esp+7Ch+lpAddress], ebx ; lpAddress
		call	esi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		jz	loc_4059D9
		mov	eax, [esp+7Ch+var_58.Protect]
		cmp	eax, 4
		jnz	short loc_4058D8

loc_4058AF:				; CODE XREF: sub_4057C0+11Bj
		mov	eax, [esp+7Ch+Src]
		mov	[esp+7Ch+dwLength], ebp	; Size
		mov	[esp+7Ch+lpAddress], ebx ; Dst
		mov	[esp+7Ch+lpBuffer], eax	; Src
		call	memcpy

loc_4058C3:				; CODE XREF: sub_4057C0+162j
					; sub_4057C0+167j
		add	esp, 6Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_4058D0:				; CODE XREF: sub_4057C0+33j
		mov	esi, ds:VirtualQuery
		jmp	short loc_405886
; ---------------------------------------------------------------------------

loc_4058D8:				; CODE XREF: sub_4057C0+EDj
		cmp	eax, 40h
		jz	short loc_4058AF
		mov	eax, [esp+7Ch+var_58.RegionSize]
		lea	edi, [esp+7Ch+flOldProtect]
		mov	esi, ds:VirtualProtect
		mov	[esp+7Ch+lpflOldProtect], edi ;	lpflOldProtect
		mov	[esp+7Ch+dwLength], 40h	; flNewProtect
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+var_58.BaseAddress]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualProtect
		sub	esp, 10h
		mov	eax, [esp+7Ch+Src]
		mov	[esp+7Ch+dwLength], ebp	; Size
		mov	[esp+7Ch+lpAddress], ebx ; Dst
		mov	[esp+7Ch+lpBuffer], eax	; Src
		call	memcpy
		mov	eax, [esp+7Ch+var_58.Protect]
		cmp	eax, 40h
		jz	short loc_4058C3
		cmp	eax, 4
		jz	short loc_4058C3
		mov	eax, [esp+7Ch+flOldProtect]
		mov	[esp+7Ch+lpflOldProtect], edi ;	lpflOldProtect
		mov	[esp+7Ch+dwLength], eax	; flNewProtect
		mov	eax, [esp+7Ch+var_58.RegionSize]
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+var_58.BaseAddress]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualProtect
		sub	esp, 10h
		add	esp, 6Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------

loc_405951:				; CODE XREF: sub_4057C0+B9j
		cmp	eax, 40h
		jz	loc_40587F
		mov	eax, [esp+7Ch+Buffer.RegionSize]
		add	edx, ds:dword_409070
		mov	[esp+7Ch+dwLength], 40h	; flNewProtect
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+Buffer.BaseAddress]
		mov	[esp+7Ch+lpflOldProtect], edx ;	lpflOldProtect
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	ds:VirtualProtect
		sub	esp, 10h
		test	eax, eax
		jnz	loc_40587F
		call	ds:GetLastError
		mov	[esp+7Ch+lpAddress], offset aVirtualprotect ; "	 VirtualProtect	failed with code 0x%x"
		mov	[esp+7Ch+lpBuffer], eax	; ArgList
		call	sub_405760
; ---------------------------------------------------------------------------

loc_4059A2:				; CODE XREF: sub_4057C0+17j
		xor	esi, esi
		jmp	loc_405803
; ---------------------------------------------------------------------------

loc_4059A9:				; CODE XREF: sub_4057C0+ACj
		mov	eax, ds:dword_409070
		mov	eax, [eax+edx+4]
		mov	[esp+7Ch+dwLength], eax
		mov	eax, [edi+8]
		mov	[esp+7Ch+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		mov	[esp+7Ch+lpBuffer], eax	; ArgList
		call	sub_405760
; ---------------------------------------------------------------------------

loc_4059C9:				; CODE XREF: sub_4057C0+4Fj
		mov	[esp+7Ch+lpBuffer], ebx	; ArgList
		mov	[esp+7Ch+lpAddress], offset aAddressPHasNoI ; "Address %p has no image-section"
		call	sub_405760
; ---------------------------------------------------------------------------

loc_4059D9:				; CODE XREF: sub_4057C0+E0j
		mov	[esp+7Ch+dwLength], ebx
		mov	[esp+7Ch+lpBuffer], 1Ch	; ArgList
		mov	[esp+7Ch+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		call	sub_405760
sub_4057C0	endp

; ---------------------------------------------------------------------------
		db 0EBh	; 
		db  0Dh
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_405A00	proc near		; CODE XREF: sub_401180:loc_401298p

lpAddress	= dword	ptr -58h
lpBuffer	= dword	ptr -54h
dwLength	= dword	ptr -50h
lpflOldProtect	= dword	ptr -4Ch
Buffer		= _MEMORY_BASIC_INFORMATION ptr	-3Ch
var_20		= dword	ptr -20h
flOldProtect	= dword	ptr -1Ch

		push	ebp
		mov	ebp, esp
		push	edi
		push	esi
		push	ebx
		sub	esp, 4Ch
		mov	eax, ds:dword_40906C
		test	eax, eax
		jz	short loc_405A20

loc_405A12:				; CODE XREF: sub_405A00+66j
					; sub_405A00+96j ...
		lea	esp, [ebp-0Ch]
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_405A20:				; CODE XREF: sub_405A00+10j
		mov	ds:dword_40906C, 1
		call	sub_405E00
		lea	eax, [eax+eax*2]
		lea	eax, ds:1Eh[eax*4]
		and	eax, 0FFFFFFF0h
		call	sub_4064C0
		mov	ds:dword_409074, 0
		sub	esp, eax
		lea	eax, [esp+58h+Buffer.BaseAddress+3]
		and	eax, 0FFFFFFF0h
		mov	ds:dword_409070, eax
		mov	eax, offset dword_4089CC
		sub	eax, offset dword_4089CC
		cmp	eax, 7
		jle	short loc_405A12
		cmp	eax, 0Bh
		mov	ebx, offset dword_4089CC
		jle	loc_405B60
		mov	eax, ds:dword_4089CC
		test	eax, eax
		jnz	short loc_405A90
		mov	eax, ds:dword_4089D0
		test	eax, eax
		jz	loc_405B4C
		lea	esi, [esi+0]

loc_405A90:				; CODE XREF: sub_405A00+7Dj
					; sub_405A00+164j ...
		cmp	ebx, offset dword_4089CC
		jnb	loc_405A12
		mov	esi, 400000h

loc_405AA1:				; CODE XREF: sub_405A00+C3j
		mov	eax, [ebx+4]
		mov	ecx, 4		; Size
		add	eax, esi
		mov	edx, [eax]
		add	edx, [ebx]
		add	ebx, 8
		mov	[ebp+flOldProtect], edx
		lea	edx, [ebp+flOldProtect]
		call	sub_4057C0
		cmp	ebx, offset dword_4089CC
		jb	short loc_405AA1

loc_405AC5:				; CODE XREF: sub_405A00+24Bj
		mov	ecx, ds:dword_409074
		test	ecx, ecx
		jle	loc_405A12
		xor	ebx, ebx
		xor	esi, esi
		mov	edi, ds:VirtualQuery
		jmp	short loc_405AF2
; ---------------------------------------------------------------------------
		align 10h

loc_405AE0:				; CODE XREF: sub_405A00+FDj
					; sub_405A00+14Aj
		add	esi, 1
		add	ebx, 0Ch
		cmp	esi, ds:dword_409074
		jge	loc_405A12

loc_405AF2:				; CODE XREF: sub_405A00+DDj
		mov	eax, ds:dword_409070
		add	eax, ebx
		mov	edx, [eax]
		test	edx, edx
		jz	short loc_405AE0
		lea	edx, [ebp+Buffer]
		mov	[esp+58h+dwLength], 1Ch	; dwLength
		mov	[esp+58h+lpBuffer], edx	; lpBuffer
		mov	eax, [eax+4]
		mov	[esp+58h+lpAddress], eax ; lpAddress
		call	edi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		jz	loc_405C72
		lea	eax, [ebp+flOldProtect]
		mov	[esp+58h+lpflOldProtect], eax ;	lpflOldProtect
		mov	eax, ds:dword_409070
		mov	eax, [eax+ebx]
		mov	[esp+58h+dwLength], eax	; flNewProtect
		mov	eax, [ebp+Buffer.RegionSize]
		mov	[esp+58h+lpBuffer], eax	; dwSize
		mov	eax, [ebp+Buffer.BaseAddress]
		mov	[esp+58h+lpAddress], eax ; lpAddress
		call	ds:VirtualProtect
		sub	esp, 10h
		jmp	short loc_405AE0
; ---------------------------------------------------------------------------

loc_405B4C:				; CODE XREF: sub_405A00+86j
		mov	eax, ds:dword_4089D4
		test	eax, eax
		jnz	short loc_405B75
		mov	ebx, offset dword_4089D8
		lea	esi, [esi+0]

loc_405B60:				; CODE XREF: sub_405A00+70j
		mov	edi, [ebx]
		test	edi, edi
		jnz	loc_405A90
		mov	esi, [ebx+4]
		test	esi, esi
		jnz	loc_405A90

loc_405B75:				; CODE XREF: sub_405A00+153j
		mov	eax, [ebx+8]
		cmp	eax, 1
		jnz	loc_405C95
		add	ebx, 0Ch
		cmp	ebx, offset dword_4089CC
		jnb	loc_405A12

loc_405B90:				; CODE XREF: sub_405A00+245j
		movzx	edx, byte ptr [ebx+8]
		mov	eax, 400000h
		mov	ecx, [ebx]
		add	eax, [ebx+4]
		cmp	edx, 10h
		mov	esi, [ecx+400000h]
		jz	short loc_405BEA
		cmp	edx, 20h
		jz	short loc_405C20
		cmp	edx, 8
		jz	short loc_405BCA
		mov	[esp+58h+lpBuffer], edx	; ArgList
		mov	[esp+58h+lpAddress], offset aUnknownPseudoR ; "	 Unknown pseudo	relocation bit size %d"...
		mov	[ebp+var_20], 0
		call	sub_405760
; ---------------------------------------------------------------------------

loc_405BCA:				; CODE XREF: sub_405A00+1B1j
		movzx	edi, byte ptr [eax]
		test	edi, 80h
		jz	short loc_405BF5
		or	edi, 0FFFFFF00h
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		mov	[ebp+var_20], esi
		jmp	short loc_405C11
; ---------------------------------------------------------------------------

loc_405BEA:				; CODE XREF: sub_405A00+1A7j
		movzx	edi, word ptr [eax]
		test	edi, 8000h
		jnz	short loc_405C50

loc_405BF5:				; CODE XREF: sub_405A00+1D3j
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		cmp	edx, 10h
		mov	[ebp+var_20], esi
		jz	short loc_405C63
		cmp	edx, 20h
		jz	short loc_405C2F
		cmp	edx, 8
		jnz	short loc_405C3C

loc_405C11:				; CODE XREF: sub_405A00+1E8j
		mov	ecx, 1		; Size
		lea	edx, [ebp+var_20]
		call	sub_4057C0
		jmp	short loc_405C3C
; ---------------------------------------------------------------------------

loc_405C20:				; CODE XREF: sub_405A00+1ACj
		mov	edx, [eax]
		sub	edx, ecx
		sub	edx, 400000h
		add	edx, esi
		mov	[ebp+var_20], edx

loc_405C2F:				; CODE XREF: sub_405A00+20Aj
		mov	ecx, 4		; Size
		lea	edx, [ebp+var_20]
		call	sub_4057C0

loc_405C3C:				; CODE XREF: sub_405A00+20Fj
					; sub_405A00+21Ej ...
		add	ebx, 0Ch
		cmp	ebx, offset dword_4089CC
		jb	loc_405B90
		jmp	loc_405AC5
; ---------------------------------------------------------------------------

loc_405C50:				; CODE XREF: sub_405A00+1F3j
		or	edi, 0FFFF0000h
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		mov	[ebp+var_20], esi

loc_405C63:				; CODE XREF: sub_405A00+205j
		mov	ecx, 2		; Size
		lea	edx, [ebp+var_20]
		call	sub_4057C0
		jmp	short loc_405C3C
; ---------------------------------------------------------------------------

loc_405C72:				; CODE XREF: sub_405A00+11Bj
		add	ebx, ds:dword_409070
		mov	eax, [ebx+4]
		mov	[esp+58h+dwLength], eax
		mov	eax, [ebx+8]
		mov	eax, [eax+8]
		mov	[esp+58h+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		mov	[esp+58h+lpBuffer], eax	; ArgList
		call	sub_405760
; ---------------------------------------------------------------------------

loc_405C95:				; CODE XREF: sub_405A00+17Bj
		mov	[esp+58h+lpBuffer], eax	; ArgList
		mov	[esp+58h+lpAddress], offset aUnknownPseud_0 ; "	 Unknown pseudo	relocation protocol ve"...
		call	sub_405760
sub_405A00	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405CB0	proc near		; CODE XREF: .text:00405D51p
					; sub_405DC0+Ap ...

arg_0		= dword	ptr  4

		mov	edx, [esp+arg_0]
		xor	eax, eax
		cmp	word ptr [edx],	5A4Dh
		jz	short loc_405CC0

locret_405CBD:				; CODE XREF: sub_405CB0+19j
		rep retn
; ---------------------------------------------------------------------------
		align 10h

loc_405CC0:				; CODE XREF: sub_405CB0+Bj
		add	edx, [edx+3Ch]
		cmp	dword ptr [edx], 4550h
		jnz	short locret_405CBD
		xor	eax, eax
		cmp	word ptr [edx+18h], 10Bh
		setz	al
		retn
sub_405CB0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405CE0	proc near		; CODE XREF: sub_405DC0+2Bp
					; .text:00405F04p ...

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		push	esi
		xor	eax, eax
		push	ebx
		mov	edx, [esp+8+arg_0]
		mov	ebx, [esp+8+arg_4]
		add	edx, [edx+3Ch]
		movzx	esi, word ptr [edx+6]
		movzx	ecx, word ptr [edx+14h]
		test	esi, esi
		jz	short loc_405D1E
		movzx	ecx, cx
		lea	eax, [edx+ecx+18h]
		xor	edx, edx

loc_405D04:				; CODE XREF: sub_405CE0+3Aj
		mov	ecx, [eax+0Ch]
		cmp	ecx, ebx
		ja	short loc_405D12
		add	ecx, [eax+8]
		cmp	ebx, ecx
		jb	short loc_405D1E

loc_405D12:				; CODE XREF: sub_405CE0+29j
		add	edx, 1
		add	eax, 28h
		cmp	edx, esi
		jb	short loc_405D04
		xor	eax, eax

loc_405D1E:				; CODE XREF: sub_405CE0+19j
					; sub_405CE0+30j
		pop	ebx
		pop	esi
		retn
sub_405CE0	endp

; ---------------------------------------------------------------------------
		jmp	short loc_405D30
; ---------------------------------------------------------------------------
		align 10h

loc_405D30:				; CODE XREF: .text:00405D21j
		push	ebp
		push	edi
		push	esi
		push	ebx
		xor	ebx, ebx
		sub	esp, 1Ch
		mov	edi, [esp+30h]
		mov	[esp], edi
		call	strlen
		cmp	eax, 8
		ja	short loc_405DA3
		mov	dword ptr [esp], 400000h
		call	sub_405CB0
		test	eax, eax
		jz	short loc_405DA3
		mov	eax, ds:40003Ch
		movzx	ebp, word ptr [eax+400006h]
		movzx	edx, word ptr [eax+400014h]
		add	eax, 400000h
		test	ebp, ebp
		jz	short loc_405DA3
		movzx	edx, dx
		xor	esi, esi
		lea	ebx, [eax+edx+18h]
		jmp	short loc_405D8B
; ---------------------------------------------------------------------------

loc_405D81:				; CODE XREF: .text:00405DA1j
		add	esi, 1
		add	ebx, 28h
		cmp	esi, ebp
		jnb	short loc_405DB0

loc_405D8B:				; CODE XREF: .text:00405D7Fj
		mov	dword ptr [esp+8], 8
		mov	[esp+4], edi
		mov	[esp], ebx
		call	strncmp
		test	eax, eax
		jnz	short loc_405D81

loc_405DA3:				; CODE XREF: .text:00405D48j
					; .text:00405D58j ...
		add	esp, 1Ch
		mov	eax, ebx
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_405DB0:				; CODE XREF: .text:00405D89j
		add	esp, 1Ch
		xor	ebx, ebx
		mov	eax, ebx
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405DC0	proc near		; CODE XREF: sub_4057C0+46p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		sub	esp, 8
		mov	[esp+8+var_8], 400000h
		call	sub_405CB0
		mov	edx, eax
		xor	eax, eax
		test	edx, edx
		jz	short loc_405DF0
		mov	eax, [esp+8+arg_0]
		mov	[esp+8+var_8], 400000h
		sub	eax, 400000h
		mov	[esp+8+var_4], eax
		call	sub_405CE0

loc_405DF0:				; CODE XREF: sub_405DC0+15j
		add	esp, 8
		retn
sub_405DC0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405E00	proc near		; CODE XREF: sub_405A00+2Ap

var_4		= dword	ptr -4

		sub	esp, 4
		mov	[esp+4+var_4], 400000h
		call	sub_405CB0
		xor	edx, edx
		test	eax, eax
		jz	short loc_405E21
		mov	eax, ds:40003Ch
		movzx	edx, word ptr [eax+400006h]

loc_405E21:				; CODE XREF: sub_405E00+13j
		mov	eax, edx
		add	esp, 4
		retn
sub_405E00	endp

; ---------------------------------------------------------------------------
		align 10h
		push	esi
		push	ebx
		sub	esp, 4
		mov	dword ptr [esp], 400000h
		mov	ebx, [esp+10h]
		call	sub_405CB0
		xor	edx, edx
		test	eax, eax
		jz	short loc_405E89
		mov	eax, ds:40003Ch
		movzx	ecx, word ptr [eax+400006h]
		movzx	esi, word ptr [eax+400014h]
		add	eax, 400000h
		test	ecx, ecx
		jz	short loc_405E89
		movzx	esi, si
		lea	edx, [eax+esi+18h]
		xor	eax, eax

loc_405E70:				; CODE XREF: .text:00405E85j
		test	byte ptr [edx+27h], 20h
		jz	short loc_405E7D
		test	ebx, ebx
		jz	short loc_405E89
		sub	ebx, 1

loc_405E7D:				; CODE XREF: .text:00405E74j
		add	eax, 1
		add	edx, 28h
		cmp	eax, ecx
		jb	short loc_405E70
		xor	edx, edx

loc_405E89:				; CODE XREF: .text:00405E49j
					; .text:00405E65j ...
		add	esp, 4
		mov	eax, edx
		pop	ebx
		pop	esi
		retn
; ---------------------------------------------------------------------------
		jmp	short sub_405EA0
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405EA0	proc near		; CODE XREF: sub_4057C0+70p
					; .text:00405E91j

var_4		= dword	ptr -4

		sub	esp, 4
		mov	[esp+4+var_4], 400000h
		call	sub_405CB0
		xor	edx, edx
		test	eax, eax
		mov	eax, 400000h
		cmovnz	edx, eax
		add	esp, 4
		mov	eax, edx
		retn
sub_405EA0	endp

; ---------------------------------------------------------------------------
		jmp	short loc_405ED0
; ---------------------------------------------------------------------------
		align 10h

loc_405ED0:				; CODE XREF: .text:00405EC1j
		push	ebx
		xor	ebx, ebx
		sub	esp, 8
		mov	dword ptr [esp], 400000h
		call	sub_405CB0
		test	eax, eax
		jnz	short loc_405EF0

loc_405EE6:				; CODE XREF: .text:00405F0Bj
		add	esp, 8
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_405EF0:				; CODE XREF: .text:00405EE4j
		mov	eax, [esp+10h]
		mov	dword ptr [esp], 400000h
		sub	eax, 400000h
		mov	[esp+4], eax
		call	sub_405CE0
		test	eax, eax
		jz	short loc_405EE6
		mov	ebx, [eax+24h]
		add	esp, 8
		not	ebx
		shr	ebx, 1Fh
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405F20	proc near		; CODE XREF: sub_405FB0+1Ap

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
arg_0		= dword	ptr  4

		push	edi
		xor	edi, edi
		push	esi
		push	ebx
		sub	esp, 8
		mov	[esp+14h+var_14], 400000h
		mov	ebx, [esp+14h+arg_0]
		call	sub_405CB0
		test	eax, eax
		jz	short loc_405F91
		mov	eax, ds:40003Ch
		mov	esi, [eax+400080h]
		test	esi, esi
		jz	short loc_405F91
		mov	[esp+14h+var_10], esi
		mov	[esp+14h+var_14], 400000h
		call	sub_405CE0
		test	eax, eax
		jz	short loc_405F91
		add	esi, 400000h
		jnz	short loc_405F76
		jmp	short loc_405F91
; ---------------------------------------------------------------------------
		align 10h

loc_405F70:				; CODE XREF: sub_405F20+66j
		sub	ebx, 1
		add	esi, 14h

loc_405F76:				; CODE XREF: sub_405F20+45j
		mov	edx, [esi+4]
		test	edx, edx
		jnz	short loc_405F84
		mov	eax, [esi+0Ch]
		test	eax, eax
		jz	short loc_405FA0

loc_405F84:				; CODE XREF: sub_405F20+5Bj
		test	ebx, ebx
		jg	short loc_405F70
		mov	edi, [esi+0Ch]
		add	edi, 400000h

loc_405F91:				; CODE XREF: sub_405F20+1Aj
					; sub_405F20+29j ...
		add	esp, 8
		mov	eax, edi
		pop	ebx
		pop	esi
		pop	edi
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_405FA0:				; CODE XREF: sub_405F20+62j
		add	esp, 8
		xor	edi, edi
		mov	eax, edi
		pop	ebx
		pop	esi
		pop	edi
		retn
sub_405F20	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_405FB0	proc near		; CODE XREF: sub_401180+132p

lpModuleName	= dword	ptr -1Ch

		push	ebx
		sub	esp, 18h
		mov	eax, ds:dword_409078
		test	eax, eax
		jz	short loc_405FC2

loc_405FBD:				; CODE XREF: sub_405FB0+97j
					; sub_405FB0+B5j
		add	esp, 18h
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_405FC2:				; CODE XREF: sub_405FB0+Bj
		xor	eax, eax

loc_405FC4:				; CODE XREF: sub_405FB0+82j
		mov	[esp+1Ch+lpModuleName],	eax
		lea	ebx, [eax+1]
		call	sub_405F20
		test	eax, eax
		jz	short loc_406050
		movzx	edx, byte ptr [eax]
		cmp	dl, 4Dh
		jz	short loc_405FE0
		cmp	dl, 6Dh
		jnz	short loc_406030

loc_405FE0:				; CODE XREF: sub_405FB0+29j
		movzx	edx, byte ptr [eax+1]
		cmp	dl, 53h
		jz	short loc_405FEE
		cmp	dl, 73h
		jnz	short loc_406030

loc_405FEE:				; CODE XREF: sub_405FB0+37j
		movzx	edx, byte ptr [eax+2]
		cmp	dl, 56h
		jz	short loc_405FFC
		cmp	dl, 76h
		jnz	short loc_406030

loc_405FFC:				; CODE XREF: sub_405FB0+45j
		movzx	edx, byte ptr [eax+3]
		cmp	dl, 43h
		jz	short loc_40600A
		cmp	dl, 63h
		jnz	short loc_406030

loc_40600A:				; CODE XREF: sub_405FB0+53j
		movzx	edx, byte ptr [eax+4]
		cmp	dl, 52h
		jz	short loc_406018
		cmp	dl, 72h
		jnz	short loc_406030

loc_406018:				; CODE XREF: sub_405FB0+61j
		movzx	edx, byte ptr [eax+5]
		cmp	dl, 54h
		jz	short loc_406034
		cmp	dl, 74h
		jz	short loc_406034
		sub	edx, 30h
		cmp	dl, 9
		jbe	short loc_406034
		xchg	ax, ax

loc_406030:				; CODE XREF: sub_405FB0+2Ej
					; sub_405FB0+3Cj ...
		mov	eax, ebx
		jmp	short loc_405FC4
; ---------------------------------------------------------------------------

loc_406034:				; CODE XREF: sub_405FB0+6Fj
					; sub_405FB0+74j ...
		mov	[esp+1Ch+lpModuleName],	eax ; lpModuleName
		call	ds:GetModuleHandleA
		sub	esp, 4
		test	eax, eax
		mov	ds:dword_409078, eax
		jnz	loc_405FBD
		lea	esi, [esi+0]

loc_406050:				; CODE XREF: sub_405FB0+21j
		mov	[esp+1Ch+lpModuleName],	offset aMsvcrt_dll ; "msvcrt.dll"
		call	ds:LoadLibraryW
		sub	esp, 4
		mov	ds:dword_409078, eax
		jmp	loc_405FBD
sub_405FB0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_406070	proc near		; CODE XREF: sub_401180:loc_4012D8p
					; TopLevelExceptionFilter+175p
		fninit
		retn
sub_406070	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_406080()
sub_406080	proc near		; DATA XREF: sub_406100:loc_4060D2o
		sub	esp, 0Ch
		mov	eax, off_40710C
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_4060A7
		xchg	ax, ax

loc_406090:				; CODE XREF: sub_406080+25j
		call	eax
		mov	eax, off_40710C
		lea	edx, [eax+4]
		mov	eax, [eax+4]
		mov	off_40710C, edx
		test	eax, eax
		jnz	short loc_406090

loc_4060A7:				; CODE XREF: sub_406080+Cj
		add	esp, 0Ch
		retn
sub_406080	endp

; ---------------------------------------------------------------------------
		align 10h
; START	OF FUNCTION CHUNK FOR sub_406100

loc_4060B0:				; CODE XREF: sub_406100+1Aj
		push	ebx
		sub	esp, 18h
		mov	ebx, ds:dword_406660
		cmp	ebx, 0FFFFFFFFh
		jz	short loc_4060E3

loc_4060BF:				; CODE XREF: sub_406100-9j
		test	ebx, ebx
		jz	short loc_4060D2

loc_4060C3:				; CODE XREF: sub_406100-30j
		call	ds:dword_406660[ebx*4]
		sub	ebx, 1
		lea	esi, [esi+0]
		jnz	short loc_4060C3

loc_4060D2:				; CODE XREF: sub_406100-3Fj
		mov	[esp+1Ch+var_1C], offset sub_406080 ; _onexit_t
		call	sub_4054E0
		add	esp, 18h
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_4060E3:				; CODE XREF: sub_406100-43j
		xor	ebx, ebx
		jmp	short loc_4060E9
; ---------------------------------------------------------------------------

loc_4060E7:				; CODE XREF: sub_406100-Bj
		mov	ebx, eax

loc_4060E9:				; CODE XREF: sub_406100-1Bj
		lea	eax, [ebx+1]
		mov	edx, ds:dword_406660[eax*4]
		test	edx, edx
		jnz	short loc_4060E7
		jmp	short loc_4060BF
; END OF FUNCTION CHUNK	FOR sub_406100
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_406100	proc near		; CODE XREF: sub_401180+239p
					; sub_404D28+9p

var_1C		= dword	ptr -1Ch

; FUNCTION CHUNK AT 004060B0 SIZE 00000049 BYTES

		mov	ecx, ds:dword_40907C
		test	ecx, ecx
		jz	short loc_406110
		rep retn
; ---------------------------------------------------------------------------
		align 10h

loc_406110:				; CODE XREF: sub_406100+8j
		mov	ds:dword_40907C, 1
		jmp	short loc_4060B0
sub_406100	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_406120	proc near		; CODE XREF: .text:004014BDp start+Dp

lpSystemTimeAsFileTime=	dword ptr -4Ch
var_30		= dword	ptr -30h
SystemTimeAsFileTime= _FILETIME	ptr -2Ch
PerformanceCount= LARGE_INTEGER	ptr -24h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4

		sub	esp, 4Ch
		mov	eax, dword_407118
		mov	[esp+4Ch+var_10], ebx
		mov	[esp+4Ch+var_C], esi
		mov	[esp+4Ch+var_8], edi
		cmp	eax, 0BB40E64Eh
		mov	[esp+4Ch+var_4], ebp
		mov	[esp+4Ch+SystemTimeAsFileTime.dwLowDateTime], 0
		mov	[esp+4Ch+SystemTimeAsFileTime.dwHighDateTime], 0
		jz	short loc_406170
		not	eax
		mov	dword_40711C, eax

loc_406156:				; CODE XREF: sub_406120+BDj
		mov	ebx, [esp+4Ch+var_10]
		mov	esi, [esp+4Ch+var_C]
		mov	edi, [esp+4Ch+var_8]
		mov	ebp, [esp+4Ch+var_4]
		add	esp, 4Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_406170:				; CODE XREF: sub_406120+2Dj
		lea	eax, [esp+4Ch+SystemTimeAsFileTime]
		mov	[esp+4Ch+lpSystemTimeAsFileTime], eax ;	lpSystemTimeAsFileTime
		call	ds:GetSystemTimeAsFileTime
		sub	esp, 4
		mov	eax, [esp+4Ch+SystemTimeAsFileTime.dwHighDateTime]
		mov	ebp, [esp+4Ch+SystemTimeAsFileTime.dwLowDateTime]
		mov	[esp+4Ch+var_30], eax
		call	ds:GetCurrentProcessId
		mov	edi, eax
		call	ds:GetCurrentThreadId
		mov	esi, eax
		call	ds:GetTickCount
		mov	ebx, eax
		lea	eax, [esp+4Ch+PerformanceCount]
		mov	[esp+4Ch+lpSystemTimeAsFileTime], eax ;	lpPerformanceCount
		call	ds:QueryPerformanceCounter
		sub	esp, 4
		xor	ebp, [esp+4Ch+var_30]
		xor	ebp, dword ptr [esp+4Ch+PerformanceCount]
		xor	ebp, dword ptr [esp+4Ch+PerformanceCount+4]
		xor	ebp, edi
		xor	ebp, esi
		xor	ebp, ebx
		mov	eax, ebp
		cmp	ebp, 0BB40E64Eh
		not	eax
		jz	short loc_4061E2

loc_4061D2:				; CODE XREF: sub_406120+CCj
		mov	dword_407118, ebp
		mov	dword_40711C, eax
		jmp	loc_406156
; ---------------------------------------------------------------------------

loc_4061E2:				; CODE XREF: sub_406120+B0j
		mov	eax, 44BF19B0h
		mov	ebp, 0BB40E64Fh
		jmp	short loc_4061D2
sub_406120	endp

; ---------------------------------------------------------------------------
		align 10h
		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+4]
		lea	edx, [ebp+4]
		mov	ds:dword_409144, edx
		mov	ds:dword_409360, 0C0000409h
		mov	ds:dword_409364, 1
		mov	ds:dword_409138, eax
		mov	ds:dword_40936C, eax
		mov	eax, [ebp+8]
		mov	dword ptr [esp], 0
		mov	ds:dword_40912C, eax
		mov	eax, dword_407118
		mov	[ebp-10h], eax
		mov	eax, dword_40711C
		mov	[ebp-0Ch], eax
		call	ds:SetUnhandledExceptionFilter
		sub	esp, 4
		mov	dword ptr [esp], offset	off_4089C4
		call	ds:UnhandledExceptionFilter
		sub	esp, 4
		call	ds:GetCurrentProcess
		mov	dword ptr [esp+4], 0C0000409h
		mov	[esp], eax
		call	ds:TerminateProcess
		sub	esp, 8
		call	abort
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_406280	proc near		; CODE XREF: sub_406420+79p
					; sub_406420:loc_4064B2p

lpCriticalSection= dword ptr -2Ch

		push	ebp
		push	edi
		push	esi
		push	ebx
		sub	esp, 1Ch
		mov	[esp+2Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:EnterCriticalSection
		mov	ebx, ds:dword_4093DC
		sub	esp, 4
		test	ebx, ebx
		jz	short loc_4062D5
		mov	ebp, ds:TlsGetValue
		mov	edi, ds:GetLastError
		lea	esi, [esi+0]

loc_4062B0:				; CODE XREF: sub_406280+53j
		mov	eax, [ebx]
		mov	[esp+2Ch+lpCriticalSection], eax ; dwTlsIndex
		call	ebp ; TlsGetValue
		sub	esp, 4
		mov	esi, eax
		call	edi ; GetLastError
		test	eax, eax
		jnz	short loc_4062CE
		test	esi, esi
		jz	short loc_4062CE
		mov	eax, [ebx+4]
		mov	[esp+2Ch+lpCriticalSection], esi
		call	eax

loc_4062CE:				; CODE XREF: sub_406280+40j
					; sub_406280+44j
		mov	ebx, [ebx+8]
		test	ebx, ebx
		jnz	short loc_4062B0

loc_4062D5:				; CODE XREF: sub_406280+1Fj
		mov	[esp+2Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4
		add	esp, 1Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
sub_406280	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 1Ch
		mov	eax, ds:dword_4093C0
		mov	[esp+14h], ebx
		xor	ebx, ebx
		mov	[esp+18h], esi
		test	eax, eax
		jnz	short loc_406314

loc_406306:				; CODE XREF: .text:0040637Cj
		mov	eax, ebx
		mov	esi, [esp+18h]
		mov	ebx, [esp+14h]
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_406314:				; CODE XREF: .text:00406304j
		mov	dword ptr [esp+4], 0Ch
		mov	dword ptr [esp], 1
		call	calloc
		test	eax, eax
		mov	esi, eax
		jz	short loc_406377
		mov	eax, [esp+20h]
		mov	dword ptr [esp], offset	CriticalSection
		mov	[esi], eax
		mov	eax, [esp+24h]
		mov	[esi+4], eax
		call	ds:EnterCriticalSection
		mov	eax, ds:dword_4093DC
		mov	ds:dword_4093DC, esi
		mov	[esi+8], eax
		sub	esp, 4
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		mov	eax, ebx
		sub	esp, 4
		mov	ebx, [esp+14h]
		mov	esi, [esp+18h]
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_406377:				; CODE XREF: .text:0040632Cj
		mov	ebx, 0FFFFFFFFh
		jmp	short loc_406306
; ---------------------------------------------------------------------------
		align 10h
		push	ebx
		sub	esp, 18h
		mov	eax, ds:dword_4093C0
		mov	ebx, [esp+20h]
		test	eax, eax
		jnz	short loc_406398
		add	esp, 18h
		xor	eax, eax
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_406398:				; CODE XREF: .text:0040638Fj
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:EnterCriticalSection
		mov	edx, ds:dword_4093DC
		sub	esp, 4
		test	edx, edx
		jz	short loc_4063CF
		mov	eax, [edx]
		cmp	eax, ebx
		jnz	short loc_4063C8
		jmp	short loc_406406
; ---------------------------------------------------------------------------
		align 10h

loc_4063C0:				; CODE XREF: .text:004063CDj
		mov	ecx, [eax]
		cmp	ecx, ebx
		jz	short loc_4063E6
		mov	edx, eax

loc_4063C8:				; CODE XREF: .text:004063B6j
		mov	eax, [edx+8]
		test	eax, eax
		jnz	short loc_4063C0

loc_4063CF:				; CODE XREF: .text:004063B0j
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4

loc_4063DF:				; CODE XREF: .text:00406404j
		add	esp, 18h
		xor	eax, eax
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_4063E6:				; CODE XREF: .text:004063C4j
		mov	ecx, [eax+8]
		mov	[edx+8], ecx

loc_4063EC:				; CODE XREF: .text:00406410j
		mov	[esp], eax
		call	free
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4
		jmp	short loc_4063DF
; ---------------------------------------------------------------------------

loc_406406:				; CODE XREF: .text:004063B8j
		mov	eax, [edx+8]
		mov	ds:dword_4093DC, eax
		mov	eax, edx
		jmp	short loc_4063EC
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_406420	proc near		; CODE XREF: TlsCallback_1+33p
					; TlsCallback_0+E9p

lpCriticalSection= dword ptr -1Ch
arg_4		= dword	ptr  8

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_4]
		cmp	eax, 1
		jz	short loc_406470
		jb	short loc_406440
		cmp	eax, 3
		jz	short loc_406490

loc_406433:				; CODE XREF: sub_406420+31j
					; sub_406420+4Dj ...
		mov	eax, 1
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_406440:				; CODE XREF: sub_406420+Cj
		mov	eax, ds:dword_4093C0
		test	eax, eax
		jnz	short loc_4064B2

loc_406449:				; CODE XREF: sub_406420+97j
		mov	eax, ds:dword_4093C0
		cmp	eax, 1
		jnz	short loc_406433
		mov	ds:dword_4093C0, 0
		mov	[esp+1Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:DeleteCriticalSection
		sub	esp, 4
		jmp	short loc_406433
; ---------------------------------------------------------------------------
		align 10h

loc_406470:				; CODE XREF: sub_406420+Aj
		mov	eax, ds:dword_4093C0
		test	eax, eax
		jz	short loc_4064A0

loc_406479:				; CODE XREF: sub_406420+90j
		mov	ds:dword_4093C0, 1
		mov	eax, 1
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_406490:				; CODE XREF: sub_406420+11j
		mov	eax, ds:dword_4093C0
		test	eax, eax
		jz	short loc_406433
		call	sub_406280
		jmp	short loc_406433
; ---------------------------------------------------------------------------

loc_4064A0:				; CODE XREF: sub_406420+57j
		mov	[esp+1Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:InitializeCriticalSection
		sub	esp, 4
		jmp	short loc_406479
; ---------------------------------------------------------------------------

loc_4064B2:				; CODE XREF: sub_406420+27j
		call	sub_406280
		jmp	short loc_406449
sub_406420	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4064C0	proc near		; CODE XREF: sub_401180+19p
					; sub_405A00+3Cp

arg_0		= byte ptr  4

		push	ecx
		push	eax
		cmp	eax, 1000h
		lea	ecx, [esp+8+arg_0]
		jb	short loc_4064E2

loc_4064CD:				; CODE XREF: sub_4064C0+20j
		sub	ecx, 1000h
		or	dword ptr [ecx], 0
		sub	eax, 1000h
		cmp	eax, 1000h
		ja	short loc_4064CD

loc_4064E2:				; CODE XREF: sub_4064C0+Bj
		sub	ecx, eax
		or	dword ptr [ecx], 0
		pop	eax
		pop	ecx
		retn
sub_4064C0	endp

; ---------------------------------------------------------------------------
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _fileno]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _fdopen]
		align 10h
		mov	eax, [esp+0Ch]
		mov	edx, [esp+8]
		mov	ecx, [esp+4]
		lock cmpxchg [ecx], edx
		retn
; ---------------------------------------------------------------------------
		jmp	short sub_406520
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_406520	proc near		; CODE XREF: sub_401180+A7p
					; .text:00406511j

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		mov	eax, [esp+arg_8]
		mov	edx, [esp+arg_4]
		mov	ecx, [esp+arg_0]
		lock cmpxchg [ecx], edx
		retn	0Ch
sub_406520	endp

; ---------------------------------------------------------------------------
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __getmainargs]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION __set_app_type]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION memcpy]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION malloc]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION strlen]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _cexit]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION _amsg_exit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _initterm]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION exit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION strchr]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION atoi]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION strcmp]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION strrchr]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION strcpy]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION ftell]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION fseek]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION rewind]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION fflush]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION fclose]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION fwrite]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION fputs]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _lock]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __dllonexit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _unlock]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION signal]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION __setusermatherr]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION fprintf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION vfprintf]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION abort]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION strncmp]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION calloc]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION free]
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_406640	proc near		; DATA XREF: .text:00406664o

var_18		= dword	ptr -18h

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		call	sub_4014F0
		mov	[esp+18h+var_18], offset sub_401540 ; _onexit_t
		call	sub_4054E0
		leave
		retn
sub_406640	endp

; ---------------------------------------------------------------------------
		align 10h
dword_406660	dd 0FFFFFFFFh		; DATA XREF: sub_406100-4Cr
					; sub_406100:loc_4060C3r ...
		dd offset sub_406640
		dd 0
		dd 0FFFFFFFFh
dword_406670	dd 64h dup(0)		; DATA XREF: .data:off_40710Co
		dd 200h	dup(?)
_text		ends

; Section 2. (virtual address 00007000)
; Virtual size			: 00000124 (	292.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00005C00
; Flags	C0600040: Data Readable	Writable
; Alignment	: 32 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
; Segment alignment '32byte' can not be represented in assembly
_data		segment	para public 'DATA' use32
		assume cs:_data
		;org 407000h
dword_407000	dd 1			; DATA XREF: sub_402737+6r
					; .data:00407068o ...
; char *Str1
Str1		dd offset Str2		; DATA XREF: sub_404A94+61r
					; sub_404A94+8Er ...
					; "-"
		align 20h
off_407020	dd offset aForce	; DATA XREF: sub_404D28+80o
					; "force"
		dd 66h,	2 dup(0)
		dd offset dword_409020
		dd offset aOverwriteAnExi ; "Overwrite an existing cache, even if up"...
		dd 0
		dd offset aIgnoreThemeInd ; "ignore-theme-index"
		dd 74h,	2 dup(0)
		dd offset dword_409024
		dd offset aDonTCheckForTh ; "Don't check for the existence of index."...
		align 8
		dd offset aIndexOnly	; "index-only"
		dd 69h,	2 dup(0)
		dd offset dword_407000
		dd offset aDonTIncludeIma ; "Don't include image data in the cache"
		dd 0
		dd offset aIncludeImageDa ; "include-image-data"
		dd 0
		dd 4, 0
		dd offset dword_407000
		dd offset aIncludeImage_0 ; "Include image data	in the cache"
		align 10h
		dd offset aSource	; "source"
		dd 63h,	0
		dd 1, 407004h, 408547h,	40855Eh, 408563h, 71h, 2 dup(0)
		dd offset dword_409028
		dd offset aTurnOffVerbose ; "Turn off verbose output"
		align 8
		dd offset aValidate	; "validate"
		dd 76h,	2 dup(0)
		dd offset dword_40902C
		dd offset aValidateExisti ; "Validate existing icon cache"
		align 40h
		dd 0FFh, 2 dup(0FFFFFFFFh)
off_40710C	dd offset dword_406670	; DATA XREF: sub_406080+3r
					; sub_406080+12r ...
dword_407110	dd 2			; DATA XREF: TlsCallback_0+13r
					; TlsCallback_0+1Cw ...
dword_407114	dd 0FFFFFFFFh		; DATA XREF: sub_401060+7Ar
dword_407118	dd 0BB40E64Eh		; DATA XREF: sub_406120+3r
					; sub_406120:loc_4061D2w ...
dword_40711C	dd 44BF19B1h		; DATA XREF: sub_406120+31w
					; sub_406120+B8w ...
dword_407120	dd 0			; DATA XREF: sub_4014F0+6r
					; sub_4014F0+42o
		align 1000h
_data		ends

; Section 3. (virtual address 00008000)
; Virtual size			: 000009CC (   2508.)
; Section size in file		: 00000A00 (   2560.)
; Offset to raw	data for section: 00005E00
; Flags	40300040: Data Readable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 408000h
; CHAR ProcName[]
ProcName	db '_set_invalid_parameter_handler',0 ; DATA XREF: sub_401180+137o
		align 10h
; CHAR ModuleName[]
ModuleName	db 'libgcj-12.dll',0    ; DATA XREF: sub_4014F0+Fo
; CHAR a_jv_registercl[]
a_jv_registercl	db '_Jv_RegisterClasses',0 ; DATA XREF: sub_4014F0+28o
		align 4
; char Str2[]
Str2		db '-',0                ; DATA XREF: sub_404D28+24Eo
					; .data:Str1o
aIconTheme_cach	db 'icon-theme.cache',0 ; DATA XREF: sub_401F67+33o
					; sub_404598+4Co ...
aIndex_theme	db 'index.theme',0      ; DATA XREF: sub_401FED+Eo
aEmbeddedtextre	db 'EmbeddedTextRectangle',0 ; DATA XREF: sub_4020DF+97o
aIconData	db 'Icon Data',0        ; DATA XREF: sub_4020DF+9Fo
					; sub_4020DF+116o ...
aAttachpoints	db 'AttachPoints',0     ; DATA XREF: sub_4020DF+10Eo
asc_408090	db '|',0                ; DATA XREF: sub_4020DF+13Eo
aDisplayname	db 'DisplayName',0      ; DATA XREF: sub_4020DF+29Eo
					; sub_4020DF+336o ...
aC		db 'C',0                ; DATA XREF: sub_4020DF:loc_402435o
a_png		db '.png',0             ; DATA XREF: sub_402737+21o
					; sub_402B69+163o
a_xpm		db '.xpm',0             ; DATA XREF: sub_402737+38o
					; sub_402B69:loc_402D06o
		align 4
aDifferentIdata	db 'different idatas found for symlinked ',27h,'%s',27h,' and ',27h,'%s',27h,0Ah,0
					; DATA XREF: sub_402737+B8o
					; sub_402969+94o
aGtk		db 'Gtk',0              ; DATA XREF: sub_402737+DEo
					; sub_402969+BAo ...
a_icon		db '.icon',0            ; DATA XREF: sub_402969+6o
					; sub_402B69:loc_402D23o
asc_4080EA	db '/',0                ; DATA XREF: sub_402B69+2Ao
					; sub_402B69+DDo
a_svg		db '.svg',0             ; DATA XREF: sub_402B69:loc_402CE9o
aOfsFtellCache	db 'ofs == ftell (cache)',0 ; DATA XREF: sub_4031BF+32Fo
		align 4
a____Gtk2_24_28	db '../../gtk+-2.24.28/gtk/updateiconcache.c',0 ; DATA XREF: sub_4031BF+347o
					; sub_4031BF+3A6o ...
aTmp20Tmp21	db 'tmp2 != 0 && tmp2 != -1',0 ; DATA XREF: sub_4031BF:loc_40354Do
					; sub_404128:loc_40428Co
aTmp2FtellCache	db 'tmp2 == ftell (cache)',0 ; DATA XREF: sub_4031BF+3D7o
					; sub_404128+1A9o
		align 10h
aImageIcon_data	db 'image->icon_data_size % 4 == 0',0 ; DATA XREF: sub_40369A+1AAo
		align 10h
aImagePixel_dat	db 'image->pixel_data_size % 4 == 0',0 ; DATA XREF: sub_40387D+50o
aOffsetFtellCac	db '*offset == ftell (cache)',0 ; DATA XREF: sub_403A2C+21o
aNode_size40	db 'node_size % 4 == 0',0 ; DATA XREF: sub_403A2C+7Bo
aImage_data_siz	db 'image_data_size % 4 == 0',0 ; DATA XREF: sub_403A2C+B1o
aNode_offset40	db 'node_offset % 4 == 0',0 ; DATA XREF: sub_403F67+A3o
aOffsetFtellC_0	db 'offset == ftell (cache)',0 ; DATA XREF: sub_404128+10Bo
aFailedToWriteH	db 'Failed to write header',0Ah,0 ; DATA XREF: sub_40434A+74o
aFailedToWrit_0	db 'Failed to write hash table',0Ah,0 ; DATA XREF: sub_40434A+AFo
aFailedToWriteF	db 'Failed to write folder index',0Ah,0 ; DATA XREF: sub_40434A+E7o
aFailedToRewrit	db 'Failed to rewrite header',0Ah,0 ; DATA XREF: sub_40434A+123o
aFd0		db 'fd >= 0',0          ; DATA XREF: sub_40451D+1Ao
a_iconTheme_cac	db '.icon-theme.cache',0 ; DATA XREF: sub_404598+2Eo
aFailedToOpenFi	db 'Failed to open file %s : %s',0Ah,0 ; DATA XREF: sub_404598+B8o
; char Format[]
Format		db 'wb',0               ; DATA XREF: sub_404598:loc_40467Bo
aFailedToWriteC	db 'Failed to write cache file: %s',0Ah,0 ; DATA XREF: sub_404598+112o
					; sub_404598+257o
aTheGeneratedCa	db 'The generated cache was invalid.',0Ah,0 ; DATA XREF: sub_404598+2C3o
a_bak		db '.bak',0             ; DATA XREF: sub_404598+306o
		align 10h
aCouldNotRename	db 'Could not rename %s to %s: %s, removing %s then.',0Ah,0
					; DATA XREF: sub_404598+357o
		align 4
aCouldNotRena_0	db 'Could not rename %s to %s: %s',0Ah,0 ; DATA XREF: sub_404598+3CAo
		align 4
aCouldNotRena_1	db 'Could not rename %s back to %s: %s.',0Ah,0 ; DATA XREF: sub_404598+431o
		align 4
aCacheFileCreat	db 'Cache file created successfully.',0Ah,0 ; DATA XREF: sub_404598+4DFo
aIfdef__sunpro_	db '#ifdef __SUNPRO_C',0Ah,0 ; DATA XREF: sub_404A94:loc_404AE9o
aPragmaAlign4S	db '#pragma align 4 (%s)',0Ah,0 ; DATA XREF: sub_404A94+6Ao
aEndif		db '#endif',0Ah,0       ; DATA XREF: sub_404A94+76o
					; sub_404A94+C4o
aIfdef__gnuc__	db '#ifdef __GNUC__',0Ah,0 ; DATA XREF: sub_404A94+82o
aStaticConstGui	db 'static const guint8 %s[] __attribute__ ((__aligned__ (4))) = ',0Ah,0
					; DATA XREF: sub_404A94+97o
aElse		db '#else',0Ah,0        ; DATA XREF: sub_404A94+A3o
aStaticConstG_0	db 'static const guint8 %s[] = ',0Ah,0 ; DATA XREF: sub_404A94+B8o
asc_408443	db '{',0Ah,0            ; DATA XREF: sub_404A94+D0o
asc_408446	db '  ',0               ; DATA XREF: sub_404A94+10Eo
a0x02x		db '0x%02x, ',0         ; DATA XREF: sub_404A94+12Co
asc_408452	db 0Ah,0		; DATA XREF: sub_404A94+15Fo
a0x02x_0	db '0x%02x',0Ah         ; DATA XREF: sub_404A94+192o
		db '};',0Ah,0
aForce		db 'force',0            ; DATA XREF: .data:off_407020o
		align 4
aOverwriteAnExi	db 'Overwrite an existing cache, even if up to date',0
					; DATA XREF: .data:00407034o
aIgnoreThemeInd	db 'ignore-theme-index',0 ; DATA XREF: .data:0040703Co
		align 4
aDonTCheckForTh	db 'Don',27h,'t check for the existence of index.theme',0
					; DATA XREF: .data:00407050o
aIndexOnly	db 'index-only',0       ; DATA XREF: .data:00407058o
aDonTIncludeIma	db 'Don',27h,'t include image data in the cache',0
					; DATA XREF: .data:0040706Co
aIncludeImageDa	db 'include-image-data',0 ; DATA XREF: .data:00407074o
		align 10h
aIncludeImage_0	db 'Include image data in the cache',0 ; DATA XREF: .data:00407088o
aSource		db 'source',0           ; DATA XREF: .data:00407090o
aOutputACHeader	db 'Output a C header file',0
aName		db 'NAME',0
aQuiet		db 'quiet',0
aTurnOffVerbose	db 'Turn off verbose output',0 ; DATA XREF: .data:004070C0o
aValidate	db 'validate',0         ; DATA XREF: .data:004070C8o
aValidateExisti	db 'Validate existing icon cache',0 ; DATA XREF: .data:004070DCo
asc_4085A7	db ': ',0               ; DATA XREF: sub_404C34+28o
a?		db '?',0                ; DATA XREF: sub_404C34+8Co
aUtf8		db 'UTF-8',0            ; DATA XREF: sub_404C34+94o
					; sub_404D28+54o
word_4085B2	dw 0			; DATA XREF: sub_404D28+2Co
aHomeIntevation	db '/home/intevation/gpg4win/src/playground/install/pkgs/gtk+-2.24.28'
					; DATA XREF: sub_404D28+40o
		db '/share/locale',0
aGtk20		db 'gtk20',0            ; DATA XREF: sub_404D28+48o
					; sub_404D28+5Co ...
aIconpath	db 'ICONPATH',0         ; DATA XREF: sub_404D28+68o
aFileNotFoundS	db 'File not found: %s',0Ah,0 ; DATA XREF: sub_404D28+13Eo
aNotAValidIconC	db 'Not a valid icon cache: %s',0Ah,0 ; DATA XREF: sub_404D28+17Fo
aNoThemeIndexFi	db 'No theme index file.',0Ah,0 ; DATA XREF: sub_404D28+1D3o
aNoThemeIndex_0	db 'No theme index file in ',27h,'%s',27h,'.',0Ah
					; DATA XREF: sub_404D28:loc_404F11o
		db 'If you really want to create an icon cache here, use --ignore-the'
		db 'me-index.',0Ah,0
aSafe_fclose	db 'safe_fclose',0      ; DATA XREF: sub_40451D+22o
aWrite_dir_inde	db 'write_dir_index',0  ; DATA XREF: sub_404128+113o
					; sub_404128+16Co ...
aWrite_hash_tab	db 'write_hash_table',0 ; DATA XREF: sub_403F67+ABo
aWrite_bucket	db 'write_bucket',0     ; DATA XREF: sub_403A2C+29o
					; sub_403A2C+83o ...
aGet_image_pixe	db 'get_image_pixel_data_size',0 ; DATA XREF: sub_40387D+58o
aGet_image_meta	db 'get_image_meta_data_size',0 ; DATA XREF: sub_40369A+1B2o
aWrite_icon_dat	db 'write_icon_data',0  ; DATA XREF: sub_4031BF+337o
					; sub_4031BF+396o ...
		align 10h
; CHAR LibFileName[]
LibFileName	db 'mingwm10.dll',0     ; DATA XREF: TlsCallback_0+4Eo
; CHAR a__mingwthr_rem[]
a__mingwthr_rem	db '__mingwthr_remove_key_dtor',0 ; DATA XREF: TlsCallback_0+71o
; CHAR a__mingwthr_key[]
a__mingwthr_key	db '__mingwthr_key_dtor',0 ; DATA XREF: TlsCallback_0+8Bo
off_40877C	dd offset TlsCallback_0	; DATA XREF: sub_401180:loc_401273r
aUnknownError	db 'Unknown error',0    ; DATA XREF: sub_4056F0+3o
		align 10h
; char a_matherrSInSGG[]
a_matherrSInSGG	db '_matherr(): %s in %s(%g, %g)  (retval=%g)',0Ah,0
					; DATA XREF: sub_4056F0+39o
		align 4
aArgumentDomain	db 'Argument domain error (DOMAIN)',0 ; DATA XREF: .rdata:off_40889Co
aArgumentSingul	db 'Argument singularity (SIGN)',0 ; DATA XREF: .rdata:004088A0o
		align 4
aOverflowRangeE	db 'Overflow range error (OVERFLOW)',0 ; DATA XREF: .rdata:004088A4o
aTheResultIsToo	db 'The result is too small to be represented (UNDERFLOW)',0
					; DATA XREF: .rdata:004088A8o
		align 10h
aTotalLossOfSig	db 'Total loss of significance (TLOSS)',0 ; DATA XREF: .rdata:004088ACo
		align 4
aPartialLossOfS	db 'Partial loss of significance (PLOSS)',0 ; DATA XREF: .rdata:004088B0o
		align 4
off_40889C	dd offset aArgumentDomain ; DATA XREF: sub_4056F0+16r
					; "Argument domain error (DOMAIN)"
		dd offset aArgumentSingul ; "Argument singularity (SIGN)"
		dd offset aOverflowRangeE ; "Overflow range error (OVERFLOW)"
		dd offset aTheResultIsToo ; "The result	is too small to	be represent"...
		dd offset aTotalLossOfSig ; "Total loss	of significance	(TLOSS)"
		dd offset aPartialLossOfS ; "Partial loss of significance (PLOSS)"
aMingwW64Runtim	db 'Mingw-w64 runtime failure:',0Ah,0 ; DATA XREF: sub_405760+1Do
; char aAddressPHasNoI[]
aAddressPHasNoI	db 'Address %p has no image-section',0 ; DATA XREF: sub_4057C0+20Do
; char aVirtualqueryFa[]
aVirtualqueryFa	db '  VirtualQuery failed for %d bytes at address %p',0
					; DATA XREF: sub_4057C0+1F9o
					; sub_4057C0+225o ...
		align 4
; char aVirtualprotect[]
aVirtualprotect	db '  VirtualProtect failed with code 0x%x',0 ; DATA XREF: sub_4057C0+1D2o
		align 4
; char aUnknownPseud_0[]
aUnknownPseud_0	db '  Unknown pseudo relocation protocol version %d.',0Ah,0
					; DATA XREF: sub_405A00+299o
		align 10h
; char aUnknownPseudoR[]
aUnknownPseudoR	db '  Unknown pseudo relocation bit size %d.',0Ah,0
					; DATA XREF: sub_405A00+1B7o
		align 4
; const	WCHAR aMsvcrt_dll
aMsvcrt_dll:				; DATA XREF: sub_405FB0:loc_406050o
		unicode	0, <msvcrt.dll>,0
		align 4
off_4089C4	dd offset dword_409360	; DATA XREF: .text:00406248o
		dd offset dword_409080
dword_4089CC	dd 0			; DATA XREF: sub_405A00+59o
					; sub_405A00+5Eo ...
dword_4089D0	dd 0			; DATA XREF: sub_405A00+7Fr
dword_4089D4	dd 0			; DATA XREF: sub_405A00:loc_405B4Cr
dword_4089D8	dd 0Ah dup(0)		; DATA XREF: sub_405A00+155o
		align 800h
_rdata		ends

; Section 4. (virtual address 00009000)
; Virtual size			: 0000041C (   1052.)
; Section size in file		: 00000000 (	  0.)
; Offset to raw	data for section: 00000000
; Flags	C0600080: Bss Readable Writable
; Alignment	: 32 bytes
; ===========================================================================

; Segment type:	Uninitialized
; Segment permissions: Read/Write
; Segment alignment '32byte' can not be represented in assembly
_bss		segment	para public 'BSS' use32
		assume cs:_bss
		;org 409000h
		assume es:nothing, ss:nothing, ds:_data, fs:nothing, gs:nothing
dword_409000	dd ?			; DATA XREF: sub_401180+D0w
					; sub_401180+27Dr
dword_409004	dd ?			; DATA XREF: sub_401010+2Ao
					; sub_401180:loc_401344r ...
dword_409008	dd ?			; DATA XREF: sub_401010+18o
					; sub_401180+1DEr ...
dword_40900C	dd ?			; DATA XREF: sub_401010+10o
					; sub_401180+243r ...
dword_409010	dd ?			; DATA XREF: sub_401180+272w
					; sub_401180+28Cr
dword_409014	dd ?			; DATA XREF: sub_401060:loc_401098w
					; sub_401180+26Ar
dword_409018	dd ?			; DATA XREF: sub_401010+8o
					; sub_401010+20w
dword_40901C	dd ?			; DATA XREF: sub_401010+3Aw
dword_409020	dd ?			; DATA XREF: sub_404598+85r
					; sub_404D28:loc_404F34r ...
dword_409024	dd ?			; DATA XREF: sub_404D28:loc_404EDBr
					; .data:0040704Co
dword_409028	dd ?			; DATA XREF: sub_404598+4D6r
					; sub_404D28+135r ...
dword_40902C	dd ?			; DATA XREF: sub_404D28+F0r
					; .data:004070D8o
dword_409030	dd ?			; DATA XREF: sub_402737:loc_40278Ar
					; sub_402737+8Dr ...
dword_409034	dd ?			; DATA XREF: sub_402969+2Fr
					; sub_402969+69r ...
dword_409038	dd ?			; DATA XREF: sub_402FA2+6r
					; sub_402FBE+9r ...
dword_40903C	dd ?			; DATA XREF: sub_401010+3r
dword_409040	dd ?			; DATA XREF: sub_401010+25r
dword_409044	dd ?			; DATA XREF: sub_401060+22w
dword_409048	dd ?			; DATA XREF: sub_401060+18w
dword_40904C	dd ?			; DATA XREF: sub_401060+Ew
TlsIndex	dd ?			; DATA XREF: .tls:TlsIndex_ptro
; HMODULE hLibModule
hLibModule	dd ?			; DATA XREF: TlsCallback_0+60w
					; TlsCallback_0+83r ...
dword_409058	dd ?			; DATA XREF: sub_401060+2Cw
dword_40905C	dd ?			; DATA XREF: sub_401060+3Dr
					; sub_401180+61r ...
dword_409060	dd ?			; DATA XREF: sub_401060+5Er
dword_409064	dd ?			; DATA XREF: sub_401180+12Dw
					; TopLevelExceptionFilter:loc_40556Cr
dword_409068	dd ?			; DATA XREF: .text:00405693r
					; sub_4056E0+4w
dword_40906C	dd ?			; DATA XREF: sub_405A00+9r
					; sub_405A00:loc_405A20w
dword_409070	dd ?			; DATA XREF: sub_4057C0+1Dr
					; sub_4057C0+58r ...
dword_409074	dd ?			; DATA XREF: sub_4057C0+Br
					; sub_4057C0:loc_40587Fw ...
dword_409078	dd ?			; DATA XREF: sub_405FB0+4r
					; sub_405FB0+92w ...
dword_40907C	dd ?			; DATA XREF: sub_406100r
					; sub_406100:loc_406110w
dword_409080	dd 2Bh dup(?)		; DATA XREF: .rdata:004089C8o
dword_40912C	dd ?			; DATA XREF: .text:0040622Aw
		dd 2 dup(?)
dword_409138	dd ?			; DATA XREF: .text:00406216w
		dd 2 dup(?)
dword_409144	dd ?			; DATA XREF: .text:004061FCw
		dd 86h dup(?)
dword_409360	dd ?			; DATA XREF: .text:00406202w
					; .rdata:off_4089C4o
dword_409364	dd ?			; DATA XREF: .text:0040620Cw
		dd ?
dword_40936C	dd ?			; DATA XREF: .text:0040621Bw
		dd 14h dup(?)
dword_4093C0	dd ?			; DATA XREF: .text:004062F3r
					; .text:00406384r ...
; struct _RTL_CRITICAL_SECTION CriticalSection
CriticalSection	_RTL_CRITICAL_SECTION <?> ; DATA XREF: sub_406280+7o
					; sub_406280:loc_4062D5o ...
dword_4093DC	dd ?			; DATA XREF: sub_406280+14r
					; .text:00406348r ...
		dd ?
dword_4093E4	dd ?			; DATA XREF: sub_401180+1A8w
dword_4093E8	dd ?			; DATA XREF: sub_401180+1BFw
dword_4093EC	dd ?			; DATA XREF: sub_401180+1B2w
dword_4093F0	dd ?			; DATA XREF: TlsCallback_0+A3w
					; TlsCallback_0:loc_405353w ...
dword_4093F4	dd ?			; DATA XREF: TlsCallback_0+7Ew
					; TlsCallback_0+AEr ...
dword_4093F8	dd ?			; DATA XREF: TlsCallback_0:loc_4052A4w
dword_4093FC	dd ?			; DATA XREF: sub_401060+64w
					; sub_405420+3Fr ...
dword_409400	dd ?			; DATA XREF: sub_401060+69w
					; sub_405420+4r ...
dword_409404	dd ?			; DATA XREF: sub_401180+A0o
					; sub_401180+ECw
dword_409408	dd ?			; DATA XREF: sub_401180+B3r
					; sub_401180:loc_401243r ...
		align 1000h
_bss		ends

;
; Imports from libgdk_pixbuf-2.0-0.dll
;
; Section 5. (virtual address 0000A000)
; Virtual size			: 00001228 (   4648.)
; Section size in file		: 00001400 (   5120.)
; Offset to raw	data for section: 00006800
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Externs
; _idata
		extrn __imp_gdk_pixbuf_new_from_file_utf8:dword
					; DATA XREF: gdk_pixbuf_new_from_file_utf8r
		extrn __imp_gdk_pixdata_deserialize:dword
					; DATA XREF: gdk_pixdata_deserializer
		extrn __imp_gdk_pixdata_from_pixbuf:dword
					; DATA XREF: gdk_pixdata_from_pixbufr
		extrn __imp_gdk_pixdata_serialize:dword	; DATA XREF: gdk_pixdata_serializer

;
; Imports from libintl-8.dll
;
		extrn __imp_libintl_bind_textdomain_codeset:dword
					; DATA XREF: libintl_bind_textdomain_codesetr
		extrn __imp_libintl_bindtextdomain:dword
					; DATA XREF: libintl_bindtextdomainr
		extrn __imp_libintl_gettext:dword ; DATA XREF: libintl_gettextr
		extrn __imp_libintl_setlocale:dword ; DATA XREF: libintl_setlocaler

;
; Imports from libglib-2.0-0.dll
;
		extrn g_ascii_table:dword ; DATA XREF: sub_401667+67r
		extrn __imp_g_assertion_message_expr:dword
					; DATA XREF: g_assertion_message_exprr
		extrn __imp_g_build_filename:dword ; DATA XREF:	g_build_filenamer
		extrn __imp_g_build_path:dword ; DATA XREF: g_build_pathr
		extrn __imp_g_convert_with_fallback:dword
					; DATA XREF: g_convert_with_fallbackr
		extrn __imp_g_dir_close:dword ;	DATA XREF: g_dir_closer
		extrn __imp_g_dir_open_utf8:dword ; DATA XREF: g_dir_open_utf8r
		extrn __imp_g_dir_read_name_utf8:dword ; DATA XREF: g_dir_read_name_utf8r
		extrn __imp_g_error_free:dword ; DATA XREF: g_error_freer
		extrn __imp_g_file_get_contents_utf8:dword
					; DATA XREF: g_file_get_contents_utf8r
		extrn __imp_g_file_read_link:dword ; DATA XREF:	g_file_read_linkr
		extrn __imp_g_file_test_utf8:dword ; DATA XREF:	g_file_test_utf8r
		extrn __imp_g_free:dword ; DATA	XREF: g_freer
		extrn __imp_g_get_charset:dword	; DATA XREF: g_get_charsetr
		extrn __imp_g_get_prgname:dword	; DATA XREF: g_get_prgnamer
		extrn __imp_g_hash_table_destroy:dword ; DATA XREF: g_hash_table_destroyr
		extrn __imp_g_hash_table_foreach_remove:dword
					; DATA XREF: g_hash_table_foreach_remover
		extrn __imp_g_hash_table_insert:dword ;	DATA XREF: g_hash_table_insertr
		extrn __imp_g_hash_table_lookup:dword ;	DATA XREF: g_hash_table_lookupr
		extrn __imp_g_hash_table_new:dword ; DATA XREF:	g_hash_table_newr
		extrn __imp_g_hash_table_size:dword ; DATA XREF: g_hash_table_sizer
		extrn __imp_g_key_file_free:dword ; DATA XREF: g_key_file_freer
		extrn __imp_g_key_file_get_integer_list:dword
					; DATA XREF: g_key_file_get_integer_listr
		extrn __imp_g_key_file_get_keys:dword ;	DATA XREF: g_key_file_get_keysr
		extrn __imp_g_key_file_get_locale_string:dword
					; DATA XREF: g_key_file_get_locale_stringr
		extrn __imp_g_key_file_get_string:dword	; DATA XREF: g_key_file_get_stringr
		extrn __imp_g_key_file_load_from_file:dword
					; DATA XREF: g_key_file_load_from_filer
		extrn __imp_g_key_file_new:dword ; DATA	XREF: g_key_file_newr
		extrn __imp_g_key_file_set_list_separator:dword
					; DATA XREF: g_key_file_set_list_separatorr
		extrn __imp_g_list_append:dword	; DATA XREF: g_list_appendr
		extrn __imp_g_list_foreach:dword ; DATA	XREF: g_list_foreachr
		extrn __imp_g_list_free:dword ;	DATA XREF: g_list_freer
		extrn __imp_g_list_length:dword	; DATA XREF: g_list_lengthr
		extrn __imp_g_list_prepend:dword ; DATA	XREF: g_list_prependr
		extrn __imp_g_locale_to_utf8:dword ; DATA XREF:	g_locale_to_utf8r
		extrn __imp_g_log:dword	; DATA XREF: g_logr
		extrn __imp_g_malloc0:dword ; DATA XREF: g_malloc0r
		extrn __imp_g_malloc0_n:dword ;	DATA XREF: g_malloc0_nr
		extrn __imp_g_malloc_n:dword ; DATA XREF: g_malloc_nr
		extrn __imp_g_mapped_file_get_contents:dword
					; DATA XREF: g_mapped_file_get_contentsr
		extrn __imp_g_mapped_file_get_length:dword
					; DATA XREF: g_mapped_file_get_lengthr
		extrn __imp_g_mapped_file_new:dword ; DATA XREF: g_mapped_file_newr
		extrn __imp_g_mapped_file_unref:dword ;	DATA XREF: g_mapped_file_unrefr
		extrn __imp_g_open:dword ; DATA	XREF: g_openr
		extrn __imp_g_option_context_add_main_entries:dword
					; DATA XREF: g_option_context_add_main_entriesr
		extrn __imp_g_option_context_new:dword ; DATA XREF: g_option_context_newr
		extrn __imp_g_option_context_parse:dword
					; DATA XREF: g_option_context_parser
		extrn __imp_g_path_get_dirname:dword ; DATA XREF: g_path_get_dirnamer
		extrn __imp_g_path_is_absolute:dword ; DATA XREF: g_path_is_absoluter
		extrn __imp_g_printerr:dword ; DATA XREF: g_printerrr
		extrn __imp_g_printf:dword ; DATA XREF:	g_printfr
		extrn __imp_g_remove:dword ; DATA XREF:	g_remover
		extrn __imp_g_rename:dword ; DATA XREF:	g_renamer
		extrn __imp_g_set_printerr_handler:dword
					; DATA XREF: g_set_printerr_handlerr
		extrn __imp_g_spaced_primes_closest:dword
					; DATA XREF: g_spaced_primes_closestr
		extrn __imp_g_stat:dword ; DATA	XREF: g_statr
		extrn g_str_equal:dword	; DATA XREF: .text:loc_4050B8r
		extrn __imp_g_str_has_prefix:dword ; DATA XREF:	g_str_has_prefixr
		extrn __imp_g_str_has_suffix:dword ; DATA XREF:	g_str_has_suffixr
		extrn g_str_hash:dword	; DATA XREF: .text:loc_4050C0r
		extrn __imp_g_strconcat:dword ;	DATA XREF: g_strconcatr
		extrn __imp_g_strdup:dword ; DATA XREF:	g_strdupr
		extrn __imp_g_strerror:dword ; DATA XREF: g_strerrorr
		extrn __imp_g_strfreev:dword ; DATA XREF: g_strfreevr
		extrn __imp_g_strndup:dword ; DATA XREF: g_strndupr
		extrn __imp_g_strsplit:dword ; DATA XREF: g_strsplitr
		extrn __imp_g_strv_length:dword	; DATA XREF: g_strv_lengthr
		extrn __imp_g_unlink:dword ; DATA XREF:	g_unlinkr
		extrn __imp_g_utf8_validate:dword ; DATA XREF: g_utf8_validater
		extrn __imp_g_utime:dword ; DATA XREF: g_utimer

;
; Imports from libgobject-2.0-0.dll
;
		extrn __imp_g_type_init:dword ;	DATA XREF: g_type_initr

;
; Imports from KERNEL32.dll
;
; void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn DeleteCriticalSection:dword ; CODE XREF: sub_406420+44p
					; DATA XREF: sub_406420+44r
; void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn EnterCriticalSection:dword ; CODE	XREF: sub_406280+Ep
					; .text:00406342p ...
; BOOL __stdcall FreeLibrary(HMODULE hLibModule)
		extrn FreeLibrary:dword	; CODE XREF: TlsCallback_0+10Ap
					; DATA XREF: TlsCallback_0+10Ar
; HANDLE __stdcall GetCurrentProcess()
		extrn GetCurrentProcess:dword ;	CODE XREF: .text:00406258p
					; DATA XREF: .text:00406258r
; DWORD	__stdcall GetCurrentProcessId()
		extrn GetCurrentProcessId:dword	; CODE XREF: sub_406120+6Cp
					; DATA XREF: sub_406120+6Cr
; DWORD	__stdcall GetCurrentThreadId()
		extrn GetCurrentThreadId:dword ; CODE XREF: sub_406120+74p
					; DATA XREF: sub_406120+74r
; DWORD	__stdcall GetLastError()
		extrn GetLastError:dword ; CODE	XREF: sub_4057C0+1CCp
					; sub_406280+3Cp
					; DATA XREF: ...
; HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName)
		extrn GetModuleHandleA:dword ; CODE XREF: sub_4014F0+16p
					; sub_405FB0+87p
					; DATA XREF: ...
; FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName)
		extrn GetProcAddress:dword ; CODE XREF:	sub_401180+142p
					; sub_4014F0+33p ...
; void __stdcall GetStartupInfoA(LPSTARTUPINFOA	lpStartupInfo)
		extrn GetStartupInfoA:dword ; CODE XREF: sub_401180+2F6p
					; DATA XREF: sub_401180+2F6r
; void __stdcall GetSystemTimeAsFileTime(LPFILETIME lpSystemTimeAsFileTime)
		extrn GetSystemTimeAsFileTime:dword ; CODE XREF: sub_406120+57p
					; DATA XREF: sub_406120+57r
; DWORD	__stdcall GetTickCount()
		extrn GetTickCount:dword ; CODE	XREF: sub_406120+7Cp
					; DATA XREF: sub_406120+7Cr
; void __stdcall InitializeCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn InitializeCriticalSection:dword ;	CODE XREF: sub_406420+87p
					; DATA XREF: sub_406420+87r
; void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn LeaveCriticalSection:dword ; CODE	XREF: sub_406280+5Cp
					; .text:00406360p ...
; HMODULE __stdcall LoadLibraryA(LPCSTR	lpLibFileName)
		extrn LoadLibraryA:dword ; CODE	XREF: TlsCallback_0+55p
					; DATA XREF: TlsCallback_0+55r
; HMODULE __stdcall LoadLibraryW(LPCWSTR lpLibFileName)
		extrn LoadLibraryW:dword ; CODE	XREF: sub_405FB0+A7p
					; DATA XREF: sub_405FB0+A7r
; BOOL __stdcall QueryPerformanceCounter(LARGE_INTEGER *lpPerformanceCount)
		extrn QueryPerformanceCounter:dword ; CODE XREF: sub_406120+8Bp
					; DATA XREF: sub_406120+8Br
; LPTOP_LEVEL_EXCEPTION_FILTER __stdcall SetUnhandledExceptionFilter(LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter)
		extrn SetUnhandledExceptionFilter:dword	; CODE XREF: sub_401180+124p
					; .text:0040623Fp
					; DATA XREF: ...
; void __stdcall Sleep(DWORD dwMilliseconds)
		extrn Sleep:dword	; CODE XREF: sub_401180+8Fp
					; DATA XREF: sub_401180+74r
; BOOL __stdcall TerminateProcess(HANDLE hProcess, UINT	uExitCode)
		extrn TerminateProcess:dword ; CODE XREF: .text:00406269p
					; DATA XREF: .text:00406269r
; LPVOID __stdcall TlsGetValue(DWORD dwTlsIndex)
		extrn TlsGetValue:dword	; CODE XREF: sub_406280+35p
					; DATA XREF: sub_406280+21r
; LONG __stdcall UnhandledExceptionFilter(struct _EXCEPTION_POINTERS *ExceptionInfo)
		extrn UnhandledExceptionFilter:dword ; CODE XREF: .text:0040624Fp
					; DATA XREF: .text:0040624Fr
; BOOL __stdcall VirtualProtect(LPVOID lpAddress, SIZE_T dwSize, DWORD flNewProtect, PDWORD lpflOldProtect)
		extrn VirtualProtect:dword ; CODE XREF:	sub_4057C0+142p
					; sub_4057C0+184p ...
; SIZE_T __stdcall VirtualQuery(LPCVOID	lpAddress, PMEMORY_BASIC_INFORMATION lpBuffer, SIZE_T dwLength)
		extrn VirtualQuery:dword ; CODE	XREF: sub_4057C0+A1p
					; sub_4057C0+D9p ...

;
; Imports from msvcrt.dll
;
; FILE *__cdecl	_fdopen(int FileHandle,	const char *Format)
		extrn __imp__fdopen:dword ; DATA XREF: _fdopenr
; int __cdecl _fileno(FILE *File)
		extrn __imp__fileno:dword ; DATA XREF: _filenor

;
; Imports from msvcrt.dll
;
		extrn __imp___dllonexit:dword ;	DATA XREF: __dllonexitr
		extrn __imp___getmainargs:dword	; DATA XREF: __getmainargsr
		extrn __initenv:dword	; DATA XREF: sub_401180+23Er
		extrn __lconv_init:dword ; DATA	XREF: sub_4053F0r
		extrn __imp___set_app_type:dword ; DATA	XREF: __set_app_typer
		extrn __imp___setusermatherr:dword ; DATA XREF:	__setusermatherrr
		extrn _acmdln:dword	; DATA XREF: sub_401180+166r
		extrn __imp__amsg_exit:dword ; DATA XREF: _amsg_exitr
		extrn __imp__cexit:dword ; DATA	XREF: _cexitr
; int *__cdecl errno()
		extrn _errno:dword	; CODE XREF: sub_404598+AAp
					; sub_404598+104p ...
; int fmode
		extrn _fmode:dword	; DATA XREF: sub_401060+6Er
		extrn __imp__initterm:dword ; DATA XREF: _inittermr
		extrn _iob:dword	; DATA XREF: sub_404C34+7r
					; sub_404C34+20r ...
		extrn __imp__lock:dword	; DATA XREF: _lockr
; _onexit_t __cdecl onexit(_onexit_t Func)
		extrn _onexit:dword	; CODE XREF: sub_405420+A3p
					; DATA XREF: sub_405420+A3r
		extrn __imp__unlock:dword ; DATA XREF: _unlockr
		extrn _winmajor:dword	; DATA XREF: TlsCallback_0+4r
; void __cdecl abort()
		extrn __imp_abort:dword	; DATA XREF: abortr
; int __cdecl atoi(const char *Str)
		extrn __imp_atoi:dword	; DATA XREF: atoir
; void *__cdecl	calloc(size_t NumOfElements, size_t SizeOfElements)
		extrn __imp_calloc:dword ; DATA	XREF: callocr
; void __cdecl __noreturn exit(int Code)
		extrn __imp_exit:dword	; DATA XREF: exitr
; int __cdecl fclose(FILE *File)
		extrn __imp_fclose:dword ; DATA	XREF: fcloser
; int __cdecl fflush(FILE *File)
		extrn __imp_fflush:dword ; DATA	XREF: fflushr
; int fprintf(FILE *File, const	char *Format, ...)
		extrn __imp_fprintf:dword ; DATA XREF: fprintfr
; int __cdecl fputs(const char *Str, FILE *File)
		extrn __imp_fputs:dword	; DATA XREF: fputsr
; void __cdecl free(void *Memory)
		extrn __imp_free:dword	; DATA XREF: freer
; int __cdecl fseek(FILE *File,	__int32	Offset,	int Origin)
		extrn __imp_fseek:dword	; DATA XREF: fseekr
; __int32 __cdecl ftell(FILE *File)
		extrn __imp_ftell:dword	; DATA XREF: ftellr
; size_t __cdecl fwrite(const void *Str, size_t	Size, size_t Count, FILE *File)
		extrn __imp_fwrite:dword ; DATA	XREF: fwriter
; void *__cdecl	malloc(size_t Size)
		extrn __imp_malloc:dword ; DATA	XREF: mallocr
; void *__cdecl	memcpy(void *Dst, const	void *Src, size_t Size)
		extrn __imp_memcpy:dword ; DATA	XREF: memcpyr
; void __cdecl rewind(FILE *File)
		extrn __imp_rewind:dword ; DATA	XREF: rewindr
		extrn __imp_signal:dword ; DATA	XREF: signalr
; char *__cdecl	strchr(const char *Str,	int Val)
		extrn __imp_strchr:dword ; DATA	XREF: strchrr
; int __cdecl strcmp(const char	*Str1, const char *Str2)
		extrn __imp_strcmp:dword ; DATA	XREF: strcmpr
; char *__cdecl	strcpy(char *Dest, const char *Source)
		extrn __imp_strcpy:dword ; DATA	XREF: strcpyr
; size_t __cdecl strlen(const char *Str)
		extrn __imp_strlen:dword ; DATA	XREF: strlenr
; int __cdecl strncmp(const char *Str1,	const char *Str2, size_t MaxCount)
		extrn __imp_strncmp:dword ; DATA XREF: strncmpr
; char *__cdecl	strrchr(const char *Str, int Ch)
		extrn __imp_strrchr:dword ; DATA XREF: strrchrr
; int __cdecl vfprintf(FILE *File, const char *Format, va_list ArgList)
		extrn __imp_vfprintf:dword ; DATA XREF:	vfprintfr


; Section 6. (virtual address 0000C000)
; Virtual size			: 00000034 (	 52.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00007C00
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_CRT		segment	dword public 'DATA' use32
		assume cs:_CRT
		;org 40C000h
dword_40C000	dd 0			; DATA XREF: sub_401180+2D8o
		dd offset sub_401010
dword_40C008	dd 0			; DATA XREF: sub_401180:loc_401450o
dword_40C00C	dd 0			; DATA XREF: sub_401180+316o
		dd offset sub_401060
		dd offset sub_4053F0
dword_40C018	dd 2 dup(0)		; DATA XREF: sub_401180+30Eo
TlsCallbacks	dd offset TlsCallback_0	; DATA XREF: .tls:TlsCallbacks_ptro
		dd offset TlsCallback_1
		dd 0
		align 10h
dword_40C030	dd 74h dup(0)		; DATA XREF: TlsCallback_0:loc_405393o
					; TlsCallback_0+138o ...
		align 1000h
_CRT		ends

; Section 7. (virtual address 0000D000)
; Virtual size			: 00000020 (	 32.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00007E00
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_tls		segment	dword public 'DATA' use32
		assume cs:_tls
		;org 40D000h
TlsDirectory	dd offset TlsStart
TlsEnd_ptr	dd offset TlsEnd
TlsIndex_ptr	dd offset TlsIndex
TlsCallbacks_ptr dd offset TlsCallbacks
TlsSizeOfZeroFill dd 0
TlsCharacteristics dd 0
		db 0
TlsStart	db 3 dup(0)		; DATA XREF: .tls:TlsDirectoryo
TlsEnd		dd 79h dup(0)		; DATA XREF: .tls:TlsEnd_ptro
		align 1000h
_tls		ends


		end start
