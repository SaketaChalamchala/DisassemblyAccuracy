;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	B6FBE6964844A190634ED326A5B63289
; Input	CRC32 :	66DD340A

; File Name   :	C:\compspace\compare\gpg\dlls\original\gdk-pixbuf-query-loaders.exe
; Format      :	Portable executable for	80386 (PE)
; Imagebase   :	400000
; Section 1. (virtual address 00001000)
; Virtual size			: 00002524 (   9508.)
; Section size in file		: 00002600 (   9728.)
; Offset to raw	data for section: 00000400
; Flags	60500060: Text Data Executable Readable
; Alignment	: 16 bytes

		include	uni.inc	; see unicode subdir of	ida for	info on	unicode

		.686p
		.mmx
		.model flat

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 401000h
		assume es:nothing, ss:nothing, ds:_data, fs:nothing, gs:nothing
; [00000002 BYTES: COLLAPSED FUNCTION nullsub_1]
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401010	proc near		; DATA XREF: .CRT:00408004o

var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch

		sub	esp, 2Ch
		mov	eax, ds:dword_406028
		mov	[esp+2Ch+var_1C], offset dword_406018
		mov	[esp+2Ch+var_24], offset dword_40600C
		mov	[esp+2Ch+var_28], offset dword_406008
		mov	ds:dword_406018, eax
		mov	eax, ds:dword_40602C
		mov	[esp+2Ch+var_2C], offset dword_406004
		mov	[esp+2Ch+var_20], eax
		call	__getmainargs
		mov	ds:dword_40601C, eax
		add	esp, 2Ch
		retn
sub_401010	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_401060	proc near		; DATA XREF: .CRT:00408010o

var_1C		= dword	ptr -1Ch

		sub	esp, 1Ch
		xor	eax, eax
		cmp	word ptr ds:400000h, 5A4Dh
		mov	ds:dword_406038, 1
		mov	ds:dword_406034, 1
		mov	ds:dword_406030, 1
		mov	ds:dword_406044, 1
		jz	short loc_401100

loc_401098:				; CODE XREF: sub_401060+B6j
					; sub_401060+C8j ...
		mov	ds:dword_406014, eax
		mov	eax, ds:dword_406048
		test	eax, eax
		jz	short loc_4010F0
		mov	[esp+1Ch+var_1C], 2
		call	__set_app_type

loc_4010B2:				; CODE XREF: sub_401060+9Cj
		mov	[esp+1Ch+var_1C], 0FFFFFFFFh
		call	sub_402310
		mov	edx, ds:dword_40604C
		mov	ds:dword_4063FC, eax
		mov	ds:dword_406400, eax
		mov	eax, ds:_fmode
		mov	[eax], edx
		call	sub_402650
		cmp	dword_404014, 1
		jz	short loc_401150
		xor	eax, eax
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_4010F0:				; CODE XREF: sub_401060+44j
		mov	[esp+1Ch+var_1C], 1
		call	__set_app_type
		jmp	short loc_4010B2
; ---------------------------------------------------------------------------
		align 10h

loc_401100:				; CODE XREF: sub_401060+36j
		mov	edx, ds:40003Ch
		cmp	dword ptr [edx+400000h], 4550h
		lea	ecx, [edx+400000h]
		jnz	short loc_401098
		movzx	edx, word ptr [ecx+18h]
		cmp	dx, 10Bh
		jz	short loc_401162
		cmp	dx, 20Bh
		jnz	loc_401098
		cmp	dword ptr [ecx+84h], 0Eh
		jbe	loc_401098
		mov	edx, [ecx+0F8h]
		xor	eax, eax
		test	edx, edx
		setnz	al
		jmp	loc_401098
; ---------------------------------------------------------------------------
		align 10h

loc_401150:				; CODE XREF: sub_401060+81j
		mov	[esp+1Ch+var_1C], offset sub_4025F0
		call	sub_4025E0
		xor	eax, eax
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_401162:				; CODE XREF: sub_401060+C1j
		cmp	dword ptr [ecx+74h], 0Eh
		jbe	loc_401098
		mov	ecx, [ecx+0E8h]
		xor	eax, eax
		test	ecx, ecx
		setnz	al
		jmp	loc_401098
sub_401060	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401180	proc near		; CODE XREF: .text:004014C5j start+15j

dwMilliseconds	= dword	ptr -88h
lpProcName	= dword	ptr -84h
Size		= dword	ptr -80h
var_6D		= byte ptr -6Dh
var_6C		= dword	ptr -6Ch
var_5C		= byte ptr -5Ch
var_30		= byte ptr -30h
var_2C		= word ptr -2Ch

		push	ebp
		xor	eax, eax
		mov	ebp, esp
		mov	ecx, 11h
		push	edi
		push	esi
		lea	edx, [ebp+var_5C]
		push	ebx
		mov	edi, edx
		sub	esp, 7Ch
		rep stosd
		mov	al, 30h
		call	sub_4033C0
		sub	esp, eax
		lea	eax, [esp+88h+var_6D]
		and	eax, 0FFFFFFF0h
		mov	dword ptr [eax], 0CCCCCCCCh
		mov	dword ptr [eax+4], 0CCCCCCCCh
		mov	dword ptr [eax+8], 0CCCCCCCCh
		mov	dword ptr [eax+0Ch], 0CCCCCCCCh
		mov	dword ptr [eax+10h], 0CCCCCCCCh
		mov	dword ptr [eax+14h], 0CCCCCCCCh
		mov	dword ptr [eax+18h], 0CCCCCCCCh
		mov	dword ptr [eax+1Ch], 0CCCCCCCCh
		and	esp, 0FFFFFFF0h
		mov	eax, ds:dword_406048
		test	eax, eax
		jnz	loc_401473

loc_4011EE:				; CODE XREF: sub_401180+2FFj
		mov	eax, large fs:18h
		mov	esi, ds:Sleep
		mov	ebx, [eax+4]
		jmp	short loc_401214
; ---------------------------------------------------------------------------
		align 10h

loc_401200:				; CODE XREF: sub_401180+B1j
		cmp	eax, ebx
		jz	loc_401420
		mov	[esp+88h+dwMilliseconds], 3E8h ; dwMilliseconds
		call	esi ; Sleep
		sub	esp, 4

loc_401214:				; CODE XREF: sub_401180+7Dj
		mov	[esp+88h+Size],	0
		mov	[esp+88h+lpProcName], ebx
		mov	[esp+88h+dwMilliseconds], offset dword_406404
		call	sub_403410
		sub	esp, 0Ch
		test	eax, eax
		jnz	short loc_401200
		mov	eax, ds:dword_406408
		xor	ebx, ebx
		cmp	eax, 1
		jz	loc_401433

loc_401243:				; CODE XREF: sub_401180+2ADj
		mov	eax, ds:dword_406408
		test	eax, eax
		jz	loc_401484
		mov	ds:dword_406000, 1

loc_40125A:				; CODE XREF: sub_401180+322j
		mov	eax, ds:dword_406408
		cmp	eax, 1
		jz	loc_401450

loc_401268:				; CODE XREF: sub_401180+2C7j
					; sub_401180+2EEj
		test	ebx, ebx
		jnz	short loc_401273
		lock xchg ebx, ds:dword_406404

loc_401273:				; CODE XREF: sub_401180+EAj
		mov	eax, ds:off_4053C8
		test	eax, eax
		jz	short loc_401298
		mov	[esp+88h+Size],	0
		mov	[esp+88h+lpProcName], 2
		mov	[esp+88h+dwMilliseconds], 0
		call	eax ; TlsCallback_0
		sub	esp, 0Ch

loc_401298:				; CODE XREF: sub_401180+FAj
		call	sub_402900
		mov	[esp+88h+dwMilliseconds], offset TopLevelExceptionFilter ; lpTopLevelExceptionFilter
		call	ds:SetUnhandledExceptionFilter
		sub	esp, 4
		mov	ds:dword_406050, eax
		call	sub_402EB0
		mov	[esp+88h+lpProcName], offset ProcName ;	"_set_invalid_parameter_handler"
		mov	[esp+88h+dwMilliseconds], eax ;	hModule
		call	ds:GetProcAddress
		sub	esp, 8
		test	eax, eax
		jz	short loc_4012D8
		mov	[esp+88h+dwMilliseconds], offset nullsub_1
		call	eax

loc_4012D8:				; CODE XREF: sub_401180+14Dj
		call	sub_402F70
		mov	eax, ds:dword_406048
		test	eax, eax
		jz	short loc_401344
		mov	eax, ds:_acmdln
		xor	ecx, ecx
		mov	eax, [eax]
		jmp	short loc_4012FC
; ---------------------------------------------------------------------------

loc_4012F1:				; CODE XREF: sub_401180+182j
		test	dl, dl
		jz	short loc_401320
		test	cl, cl
		jz	short loc_401315

loc_4012F9:				; CODE XREF: sub_401180+18Fj
		add	eax, 1

loc_4012FC:				; CODE XREF: sub_401180+16Fj
		movzx	edx, byte ptr [eax]
		cmp	dl, 20h
		jle	short loc_4012F1
		mov	ebx, ecx
		xor	ebx, 1
		cmp	dl, 22h
		cmovz	ecx, ebx
		jmp	short loc_4012F9
; ---------------------------------------------------------------------------

loc_401311:				; CODE XREF: sub_401180+19Ej
		test	dl, dl
		jz	short loc_401320

loc_401315:				; CODE XREF: sub_401180+177j
		add	eax, 1
		movzx	edx, byte ptr [eax]
		cmp	dl, 20h
		jle	short loc_401311

loc_401320:				; CODE XREF: sub_401180+173j
					; sub_401180+193j
		movzx	edx, [ebp+var_2C]
		test	[ebp+var_30], 1
		mov	ds:dword_4063E4, eax
		mov	eax, 0Ah
		mov	ds:dword_4063EC, 400000h
		cmovnz	eax, edx
		mov	ds:dword_4063E8, eax

loc_401344:				; CODE XREF: sub_401180+164j
		mov	edx, ds:dword_406004
		xor	ebx, ebx
		lea	eax, ds:4[edx*4]
		mov	[ebp+var_6C], edx
		mov	[esp+88h+dwMilliseconds], eax ;	Size
		call	malloc
		mov	edi, ds:dword_406008
		mov	[ebp-70h], eax
		mov	eax, [ebp+var_6C]
		test	eax, eax
		jle	short loc_4013AA
		xchg	ax, ax

loc_401370:				; CODE XREF: sub_401180+225j
		mov	eax, [edi+ebx*4]
		mov	[esp+88h+dwMilliseconds], eax ;	Str
		call	strlen
		lea	esi, [eax+1]
		mov	[esp+88h+dwMilliseconds], esi ;	Size
		call	malloc
		mov	edx, [ebp-70h]
		mov	[edx+ebx*4], eax
		mov	edx, [edi+ebx*4]
		add	ebx, 1
		mov	[esp+88h+Size],	esi ; Size
		mov	[esp+88h+dwMilliseconds], eax ;	Dst
		mov	[esp+88h+lpProcName], edx ; Src
		call	memcpy
		cmp	ebx, [ebp+var_6C]
		jnz	short loc_401370
		shl	ebx, 2

loc_4013AA:				; CODE XREF: sub_401180+1ECj
		mov	eax, [ebp-70h]
		mov	dword ptr [eax+ebx], 0
		mov	ds:dword_406008, eax
		call	sub_403000
		mov	eax, ds:__initenv
		mov	edx, ds:dword_40600C
		mov	[eax], edx
		mov	eax, ds:dword_40600C
		mov	[esp+88h+Size],	eax
		mov	eax, ds:dword_406008
		mov	[esp+88h+lpProcName], eax
		mov	eax, ds:dword_406004
		mov	[esp+88h+dwMilliseconds], eax
		call	sub_401BB7
		mov	esi, ds:dword_406014
		test	esi, esi
		mov	ds:dword_406010, eax
		jz	loc_4014A7
		mov	ebx, ds:dword_406000
		test	ebx, ebx
		jnz	short loc_401411
		call	_cexit
		mov	eax, ds:dword_406010

loc_401411:				; CODE XREF: sub_401180+285j
		lea	esp, [ebp-0Ch]
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_401420:				; CODE XREF: sub_401180+82j
		mov	eax, ds:dword_406408
		mov	ebx, 1
		cmp	eax, 1
		jnz	loc_401243

loc_401433:				; CODE XREF: sub_401180+BDj
		mov	[esp+88h+dwMilliseconds], 1Fh
		call	_amsg_exit
		mov	eax, ds:dword_406408
		cmp	eax, 1
		jnz	loc_401268
		lea	esi, [esi+0]

loc_401450:				; CODE XREF: sub_401180+E2j
		mov	[esp+88h+lpProcName], offset dword_408008
		mov	[esp+88h+dwMilliseconds], offset dword_408000
		call	_initterm
		mov	ds:dword_406408, 2
		jmp	loc_401268
; ---------------------------------------------------------------------------

loc_401473:				; CODE XREF: sub_401180+68j
		mov	[esp+88h+dwMilliseconds], edx ;	lpStartupInfo
		call	ds:GetStartupInfoA
		sub	esp, 4
		jmp	loc_4011EE
; ---------------------------------------------------------------------------

loc_401484:				; CODE XREF: sub_401180+CAj
		mov	ds:dword_406408, 1
		mov	[esp+88h+lpProcName], offset dword_408018
		mov	[esp+88h+dwMilliseconds], offset dword_40800C
		call	_initterm
		jmp	loc_40125A
; ---------------------------------------------------------------------------

loc_4014A7:				; CODE XREF: sub_401180+277j
		mov	[esp+88h+dwMilliseconds], eax ;	Code
		call	exit
sub_401180	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 0Ch
		mov	ds:dword_406048, 1
		call	sub_403020
		add	esp, 0Ch
		jmp	sub_401180
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public start
start		proc near
		sub	esp, 0Ch
		mov	ds:dword_406048, 0
		call	sub_403020
		add	esp, 0Ch
		jmp	sub_401180
start		endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4014F0	proc near		; CODE XREF: sub_4034F0+6p

lpModuleName	= dword	ptr -18h
lpProcName	= dword	ptr -14h

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	eax, dword_404020
		test	eax, eax
		jz	short locret_40153B
		mov	[esp+18h+lpModuleName],	offset ModuleName ; "libgcj-12.dll"
		call	ds:GetModuleHandleA
		mov	edx, 0
		sub	esp, 4
		test	eax, eax
		jz	short loc_40152E
		mov	[esp+18h+lpProcName], offset a_jv_registercl ; "_Jv_RegisterClasses"
		mov	[esp+18h+lpModuleName],	eax ; hModule
		call	ds:GetProcAddress
		sub	esp, 8
		mov	edx, eax

loc_40152E:				; CODE XREF: sub_4014F0+26j
		test	edx, edx
		jz	short locret_40153B
		mov	[esp+18h+lpModuleName],	offset dword_404020
		call	edx

locret_40153B:				; CODE XREF: sub_4014F0+Dj
					; sub_4014F0+40j
		leave
		retn
sub_4014F0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_401540()
sub_401540	proc near		; DATA XREF: sub_4034F0+Bo
		push	ebp
		mov	ebp, esp
		pop	ebp
		retn
sub_401540	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401550	proc near		; CODE XREF: sub_401780+193p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_C		= byte ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_C], al
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		lea	edx, [eax+1]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		cmp	edx, eax
		jnb	short loc_40159E
		mov	eax, [ebp+arg_0]
		mov	edx, [eax]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		lea	ecx, [edx+eax]
		movzx	edx, [ebp+var_C]
		mov	[ecx], dl
		lea	edx, [eax+1]
		mov	eax, [ebp+arg_0]
		mov	[eax+4], edx
		mov	eax, [ebp+arg_0]
		mov	edx, [eax]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+4]
		add	eax, edx
		mov	byte ptr [eax],	0
		jmp	short loc_4015B9
; ---------------------------------------------------------------------------

loc_40159E:				; CODE XREF: sub_401550+1Dj
		movsx	eax, [ebp+var_C]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], 0FFFFFFFFh
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_string_insert_c

loc_4015B9:				; CODE XREF: sub_401550+4Cj
		mov	eax, [ebp+arg_0]
		leave
		retn
sub_401550	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4015BE	proc near		; CODE XREF: sub_401780+130p
					; sub_401780+156p

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	[esp+28h+var_24], offset byte_405044
		mov	eax, [ebp+arg_4]
		mov	[esp+28h+var_28], eax
		call	g_strescape
		mov	[ebp+var_C], eax
		mov	eax, [ebp+var_C]
		mov	[esp+28h+var_20], eax
		mov	[esp+28h+var_24], offset aS ; "\"%s\" "
		mov	eax, [ebp+arg_0]
		mov	[esp+28h+var_28], eax
		call	g_string_append_printf
		mov	eax, [ebp+var_C]
		mov	[esp+28h+var_28], eax
		call	g_free
		leave
		retn
sub_4015BE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401601	proc near		; CODE XREF: sub_40191F+139p

Str		= dword	ptr -38h
Control		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	edi
		sub	esp, 34h
		mov	[ebp+var_10], offset byte_405044
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+4]
		mov	[ebp+var_C], eax
		jmp	loc_4016C3
; ---------------------------------------------------------------------------

loc_40161D:				; CODE XREF: sub_401601+C9j
		mov	eax, [ebp+var_C]
		mov	eax, [eax]
		mov	[ebp+var_1C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_1C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jnz	short loc_401653
		mov	[ebp+var_10], offset aEmptyPattern ; "empty pattern"
		jmp	loc_40174F
; ---------------------------------------------------------------------------

loc_401653:				; CODE XREF: sub_401601+44j
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		test	eax, eax
		jz	short loc_4016BF
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		mov	[ebp+var_1C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_1C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		mov	[ebp+var_18], eax
		mov	eax, [ebp+var_18]
		cmp	eax, [ebp+var_14]
		jz	short loc_401696
		mov	[ebp+var_10], offset aMaskLengthMism ; "mask length mismatch"
		jmp	loc_40174F
; ---------------------------------------------------------------------------

loc_401696:				; CODE XREF: sub_401601+87j
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		mov	[esp+38h+Control], offset Control ; " !xzn*"
		mov	[esp+38h+Str], eax ; Str
		call	strspn
		mov	edx, [ebp+var_18]
		cmp	eax, edx
		jnb	short loc_4016BF
		mov	[ebp+var_10], offset aBadCharInMask ; "bad char	in mask"
		jmp	loc_40174F
; ---------------------------------------------------------------------------

loc_4016BF:				; CODE XREF: sub_401601+5Aj
					; sub_401601+B0j
		add	[ebp+var_C], 0Ch

loc_4016C3:				; CODE XREF: sub_401601+17j
		mov	eax, [ebp+var_C]
		mov	eax, [eax]
		test	eax, eax
		jnz	loc_40161D
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+10h]
		test	eax, eax
		jnz	short loc_4016F7
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+18h]
		test	eax, eax
		jnz	short loc_4016F7
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+24h]
		test	eax, eax
		jnz	short loc_4016F7
		mov	[ebp+var_10], offset aNoLoadMethodIm ; "no load	method implemented"
		jmp	short loc_40174F
; ---------------------------------------------------------------------------

loc_4016F7:				; CODE XREF: sub_401601+D7j
					; sub_401601+E1j ...
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+18h]
		test	eax, eax
		jz	short loc_40171E
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+1Ch]
		test	eax, eax
		jz	short loc_401715
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+20h]
		test	eax, eax
		jnz	short loc_40171E

loc_401715:				; CODE XREF: sub_401601+108j
		mov	[ebp+var_10], offset aIncrementalLoa ; "incremental loading support incomplete"
		jmp	short loc_40174F
; ---------------------------------------------------------------------------

loc_40171E:				; CODE XREF: sub_401601+FEj
					; sub_401601+112j
		mov	eax, [ebp+arg_4]
		mov	eax, [eax+18h]
		and	eax, 1
		test	al, al
		jz	short loc_401748
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+28h]
		test	eax, eax
		jnz	short loc_401748
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+2Ch]
		test	eax, eax
		jnz	short loc_401748
		mov	[ebp+var_10], offset aLoaderClaimsTo ; "loader claims to support saving	but doe"...
		jmp	short loc_40174F
; ---------------------------------------------------------------------------

loc_401748:				; CODE XREF: sub_401601+128j
					; sub_401601+132j ...
		mov	eax, 1
		jmp	short loc_40177A
; ---------------------------------------------------------------------------

loc_40174F:				; CODE XREF: sub_401601+4Dj
					; sub_401601+90j ...
		mov	eax, ds:_iob
		lea	edx, [eax+40h]
		mov	eax, [ebp+var_10]
		mov	[esp+38h+var_2C], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_30], eax
		mov	[esp+38h+Control], offset aLoaderSanityCh ; "Loader sanity check failed	for %s:	%s\n"
		mov	[esp+38h+Str], edx
		call	g_fprintf
		mov	eax, 0

loc_40177A:				; CODE XREF: sub_401601+14Cj
		add	esp, 34h
		pop	edi
		pop	ebp
		retn
sub_401601	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401780	proc near		; CODE XREF: sub_40191F+156p

var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	esi
		push	ebx
		sub	esp, 30h
		mov	eax, [ebp+arg_4]
		mov	[esp+38h+var_30], eax
		mov	[esp+38h+var_34], offset aS_0 ;	"\"%s\"\n"
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	g_string_append_printf
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+20h]
		test	eax, eax
		jz	short loc_4017B4
		mov	eax, [ebp+arg_8]
		mov	edx, [eax+20h]
		jmp	short loc_4017B9
; ---------------------------------------------------------------------------

loc_4017B4:				; CODE XREF: sub_401780+2Aj
		mov	edx, offset byte_405044

loc_4017B9:				; CODE XREF: sub_401780+32j
		mov	eax, [ebp+arg_8]
		mov	esi, [eax+0Ch]
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+8]
		test	eax, eax
		jz	short loc_4017D1
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+8]
		jmp	short loc_4017D6
; ---------------------------------------------------------------------------

loc_4017D1:				; CODE XREF: sub_401780+47j
		mov	eax, offset aGdkPixbuf ; "gdk-pixbuf"

loc_4017D6:				; CODE XREF: sub_401780+4Fj
		mov	ecx, [ebp+arg_8]
		mov	ebx, [ecx+18h]
		mov	ecx, [ebp+arg_8]
		mov	ecx, [ecx]
		mov	[esp+38h+var_20], edx
		mov	[esp+38h+var_24], esi
		mov	[esp+38h+var_28], eax
		mov	[esp+38h+var_2C], ebx
		mov	[esp+38h+var_30], ecx
		mov	[esp+38h+var_34], offset aSUSSS	; "\"%s\" %u \"%s\" \"%s\" \"%s\"\n"
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	g_string_append_printf
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+10h]
		mov	[ebp+var_10], eax
		jmp	short loc_401833
; ---------------------------------------------------------------------------

loc_401813:				; CODE XREF: sub_401780+BAj
		mov	eax, [ebp+var_10]
		mov	eax, [eax]
		mov	[esp+38h+var_30], eax
		mov	[esp+38h+var_34], offset aS ; "\"%s\" "
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	g_string_append_printf
		add	[ebp+var_10], 4

loc_401833:				; CODE XREF: sub_401780+91j
		mov	eax, [ebp+var_10]
		mov	eax, [eax]
		test	eax, eax
		jnz	short loc_401813
		mov	[esp+38h+var_34], offset asc_405158 ; "\"\"\n"
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	g_string_append
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+14h]
		mov	[ebp+var_14], eax
		jmp	short loc_40187A
; ---------------------------------------------------------------------------

loc_40185A:				; CODE XREF: sub_401780+101j
		mov	eax, [ebp+var_14]
		mov	eax, [eax]
		mov	[esp+38h+var_30], eax
		mov	[esp+38h+var_34], offset aS ; "\"%s\" "
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	g_string_append_printf
		add	[ebp+var_14], 4

loc_40187A:				; CODE XREF: sub_401780+D8j
		mov	eax, [ebp+var_14]
		mov	eax, [eax]
		test	eax, eax
		jnz	short loc_40185A
		mov	[esp+38h+var_34], offset asc_405158 ; "\"\"\n"
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	g_string_append
		mov	eax, [ebp+arg_8]
		mov	eax, [eax+4]
		mov	[ebp+var_C], eax
		jmp	short loc_4018FC
; ---------------------------------------------------------------------------

loc_4018A1:				; CODE XREF: sub_401780+183j
		mov	eax, [ebp+var_C]
		mov	eax, [eax]
		mov	[esp+38h+var_34], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	sub_4015BE
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		test	eax, eax
		jz	short loc_4018C7
		mov	eax, [ebp+var_C]
		mov	eax, [eax+4]
		jmp	short loc_4018CC
; ---------------------------------------------------------------------------

loc_4018C7:				; CODE XREF: sub_401780+13Dj
		mov	eax, offset byte_405044

loc_4018CC:				; CODE XREF: sub_401780+145j
		mov	[esp+38h+var_34], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	sub_4015BE
		mov	eax, [ebp+var_C]
		mov	eax, [eax+8]
		mov	[esp+38h+var_30], eax
		mov	[esp+38h+var_34], offset aD ; "%d\n"
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	g_string_append_printf
		add	[ebp+var_C], 0Ch

loc_4018FC:				; CODE XREF: sub_401780+11Fj
		mov	eax, [ebp+var_C]
		mov	eax, [eax]
		test	eax, eax
		jnz	short loc_4018A1
		mov	[esp+38h+var_34], 0Ah
		mov	eax, [ebp+arg_0]
		mov	[esp+38h+var_38], eax
		call	sub_401550
		add	esp, 30h
		pop	ebx
		pop	esi
		pop	ebp
		retn
sub_401780	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_40191F	proc near		; CODE XREF: sub_401BB7+33Bp
					; sub_401BB7+3C5p

var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 48h
		mov	eax, [ebp+arg_8]
		mov	[esp+48h+var_48], eax
		call	g_path_is_absolute
		test	eax, eax
		jz	short loc_401944
		mov	eax, [ebp+arg_8]
		mov	[esp+48h+var_48], eax
		call	g_strdup
		mov	[ebp+var_C], eax
		jmp	short loc_401961
; ---------------------------------------------------------------------------

loc_401944:				; CODE XREF: sub_40191F+13j
		mov	[esp+48h+var_40], 0
		mov	eax, [ebp+arg_8]
		mov	[esp+48h+var_44], eax
		mov	eax, [ebp+arg_4]
		mov	[esp+48h+var_48], eax
		call	g_build_filename
		mov	[ebp+var_C], eax

loc_401961:				; CODE XREF: sub_40191F+23j
		mov	[esp+48h+var_44], 0
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_48], eax
		call	g_module_open_utf8
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jz	loc_401A92
		lea	eax, [ebp+var_28]
		mov	[esp+48h+var_40], eax
		mov	[esp+48h+var_44], offset aFill_info ; "fill_info"
		mov	eax, [ebp+var_14]
		mov	[esp+48h+var_48], eax
		call	g_module_symbol
		test	eax, eax
		jz	loc_401A92
		lea	eax, [ebp+var_2C]
		mov	[esp+48h+var_40], eax
		mov	[esp+48h+var_44], offset aFill_vtable ;	"fill_vtable"
		mov	eax, [ebp+var_14]
		mov	[esp+48h+var_48], eax
		call	g_module_symbol
		test	eax, eax
		jz	loc_401A92
		mov	eax, [ebp+var_C]
		mov	[ebp+var_10], eax
		jmp	short loc_4019E1
; ---------------------------------------------------------------------------

loc_4019CD:				; CODE XREF: sub_40191F+CAj
		mov	eax, [ebp+var_10]
		movzx	eax, byte ptr [eax]
		cmp	al, 5Ch
		jnz	short loc_4019DD
		mov	eax, [ebp+var_10]
		mov	byte ptr [eax],	2Fh

loc_4019DD:				; CODE XREF: sub_40191F+B6j
		add	[ebp+var_10], 1

loc_4019E1:				; CODE XREF: sub_40191F+ACj
		mov	eax, [ebp+var_10]
		movzx	eax, byte ptr [eax]
		test	al, al
		jnz	short loc_4019CD
		mov	[esp+48h+var_44], 24h
		mov	[esp+48h+var_48], 1
		call	g_malloc0_n
		mov	[ebp+var_18], eax
		mov	[esp+48h+var_44], 44h
		mov	[esp+48h+var_48], 1
		call	g_malloc0_n
		mov	[ebp+var_1C], eax
		mov	eax, [ebp+var_1C]
		mov	edx, [ebp+var_14]
		mov	[eax+8], edx
		mov	eax, [ebp+var_28]
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		mov	[ebp+var_24], eax
		mov	eax, [ebp+var_18]
		mov	[esp+48h+var_48], eax
		mov	eax, [ebp+var_20]
		call	eax
		mov	eax, [ebp+var_1C]
		mov	[esp+48h+var_48], eax
		mov	eax, [ebp+var_24]
		call	eax
		mov	eax, [ebp+var_1C]
		mov	[esp+48h+var_40], eax
		mov	eax, [ebp+var_18]
		mov	[esp+48h+var_44], eax
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_48], eax
		call	sub_401601
		test	eax, eax
		jz	short loc_401A7A
		mov	eax, [ebp+var_18]
		mov	[esp+48h+var_40], eax
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_44], eax
		mov	eax, [ebp+arg_0]
		mov	[esp+48h+var_48], eax
		call	sub_401780

loc_401A7A:				; CODE XREF: sub_40191F+140j
		mov	eax, [ebp+var_18]
		mov	[esp+48h+var_48], eax
		call	g_free
		mov	eax, [ebp+var_1C]
		mov	[esp+48h+var_48], eax
		call	g_free
		jmp	short loc_401AE2
; ---------------------------------------------------------------------------

loc_401A92:				; CODE XREF: sub_40191F+5Cj
					; sub_40191F+7Ej ...
		cmp	[ebp+var_14], 0
		jnz	short loc_401AC3
		call	g_module_error
		mov	edx, ds:_iob
		add	edx, 40h
		mov	[esp+48h+var_3C], eax
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_40], eax
		mov	[esp+48h+var_44], offset aG_module_openF ; "g_module_open() failed for %s: %s\n"
		mov	[esp+48h+var_48], edx
		call	g_fprintf
		jmp	short loc_401AE2
; ---------------------------------------------------------------------------

loc_401AC3:				; CODE XREF: sub_40191F+177j
		mov	eax, ds:_iob
		lea	edx, [eax+40h]
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_40], eax
		mov	[esp+48h+var_44], offset aCannotLoadLoad ; "Cannot load	loader %s\n"
		mov	[esp+48h+var_48], edx
		call	g_fprintf

loc_401AE2:				; CODE XREF: sub_40191F+171j
					; sub_40191F+1A2j
		cmp	[ebp+var_14], 0
		jz	short loc_401AF3
		mov	eax, [ebp+var_14]
		mov	[esp+48h+var_48], eax
		call	g_module_close

loc_401AF3:				; CODE XREF: sub_40191F+1C7j
		mov	eax, [ebp+var_C]
		mov	[esp+48h+var_48], eax
		call	g_free
		leave
		retn
sub_40191F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401B00	proc near		; CODE XREF: sub_401B27+Fp

var_18		= dword	ptr -18h

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	eax, ds:dword_406024
		test	eax, eax
		jnz	short loc_401B20
		mov	[esp+18h+var_18], 0
		call	g_win32_get_package_installation_directory_of_module
		mov	ds:dword_406024, eax

loc_401B20:				; CODE XREF: sub_401B00+Dj
		mov	eax, ds:dword_406024
		leave
		retn
sub_401B00	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401B27	proc near		; CODE XREF: sub_401B5F+23p

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	eax, ds:dword_406020
		test	eax, eax
		jnz	short loc_401B58
		call	sub_401B00
		mov	[esp+18h+var_10], 0
		mov	[esp+18h+var_14], offset aLib ;	"lib"
		mov	[esp+18h+var_18], eax
		call	g_build_filename
		mov	ds:dword_406020, eax

loc_401B58:				; CODE XREF: sub_401B27+Dj
		mov	eax, ds:dword_406020
		leave
		retn
sub_401B27	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401B5F	proc near		; CODE XREF: sub_401BB7+1C2p

var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_C		= dword	ptr -0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 38h
		mov	[esp+38h+var_38], offset aGdk_pixbuf_mod ; "GDK_PIXBUF_MODULE_FILE"
		call	g_getenv_utf8
		mov	[esp+38h+var_38], eax
		call	g_strdup
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jnz	short loc_401BB2
		call	sub_401B27
		mov	[esp+38h+var_28], 0
		mov	[esp+38h+var_2C], offset aLoaders_cache	; "loaders.cache"
		mov	[esp+38h+var_30], offset a2_10_0 ; "2.10.0"
		mov	[esp+38h+var_34], offset aGdkPixbuf2_0 ; "gdk-pixbuf-2.0"
		mov	[esp+38h+var_38], eax
		call	g_build_filename
		mov	[ebp+var_C], eax

loc_401BB2:				; CODE XREF: sub_401B5F+21j
		mov	eax, [ebp+var_C]
		leave
		retn
sub_401B5F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_401BB7	proc near		; CODE XREF: sub_401180+265p

var_854		= dword	ptr -854h
var_850		= dword	ptr -850h
var_84C		= dword	ptr -84Ch
var_82C		= dword	ptr -82Ch
Filename	= word ptr -824h
var_54		= dword	ptr -54h
var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
Str		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
hModule		= dword	ptr -0Ch
lpFilename	= dword	ptr -8
nSize		= dword	ptr -4
var_s0		= dword	ptr  0
var_s4		= dword	ptr  4
arg_0		= byte ptr  0Ch

		lea	ecx, [esp-8+arg_0]
		and	esp, 0FFFFFFF0h
		push	dword ptr [ecx-4]
		push	ebp
		mov	ebp, esp
		push	edi
		push	esi
		push	ebx
		push	ecx
		sub	esp, 848h
		mov	ebx, ecx
		call	sub_403000
		mov	[ebp+var_20], 0
		mov	[ebp+var_24], 1
		mov	[esp+854h+var_84C], 46h
		mov	[esp+854h+var_850], offset aHomeIntevation ; "/home/intevation/gpg4win/src/playground"...
		mov	[esp+854h+var_854], offset aHomeIntevati_0 ; "/home/intevation/gpg4win/src/playground"...
		call	g_ascii_strncasecmp
		test	eax, eax
		jnz	loc_401D34
		mov	eax, 2Fh
		cmp	al, 5Ch
		jz	short loc_401C1D
		mov	eax, 2Fh
		cmp	al, 2Fh
		jnz	loc_401D34

loc_401C1D:				; CODE XREF: sub_401BB7+57j
		mov	[esp+0Ch+nSize], 3E8h ;	nSize
		lea	eax, [ebp+Filename]
		mov	[esp+0Ch+lpFilename], eax ; lpFilename
		mov	[esp+0Ch+hModule], 0 ; hModule
		mov	eax, ds:GetModuleFileNameW
		call	eax ; GetModuleFileNameW
		sub	esp, 0Ch
		mov	[esp+0Ch+var_s4], 0
		mov	[esp+0Ch+var_s0], 0
		mov	[esp+0Ch+nSize], 0
		mov	[esp+0Ch+lpFilename], 0FFFFFFFFh
		lea	eax, [ebp+Filename]
		mov	[esp+0Ch+hModule], eax
		call	g_utf16_to_utf8
		mov	[ebp+Str], eax
		mov	[esp+0Ch+lpFilename], 5Ch ; Ch
		mov	eax, [ebp+Str]
		mov	[esp+0Ch+hModule], eax ; Str
		call	strrchr
		mov	[ebp+var_34], eax
		mov	eax, [ebp+var_34]
		mov	byte ptr [eax],	0
		mov	[esp+0Ch+lpFilename], 5Ch ; Ch
		mov	eax, [ebp+Str]
		mov	[esp+0Ch+hModule], eax ; Str
		call	strrchr
		mov	[ebp+var_34], eax
		cmp	[ebp+var_34], 0
		jz	short loc_401CDD
		mov	eax, [ebp+var_34]
		add	eax, 1
		mov	[esp+0Ch+lpFilename], offset a_libs ; ".libs"
		mov	[esp+0Ch+hModule], eax
		call	g_ascii_strcasecmp
		test	eax, eax
		jz	short loc_401CDD
		mov	eax, [ebp+var_34]
		add	eax, 1
		mov	[esp+0Ch+lpFilename], offset aGdkPixbuf	; "gdk-pixbuf"
		mov	[esp+0Ch+hModule], eax
		call	g_ascii_strcasecmp
		test	eax, eax
		jnz	short loc_401CE6

loc_401CDD:				; CODE XREF: sub_401BB7+F0j
					; sub_401BB7+10Aj
		mov	[ebp+var_28], offset aHomeIntevati_0 ; "/home/intevation/gpg4win/src/playground"...
		jmp	short loc_401D3B
; ---------------------------------------------------------------------------

loc_401CE6:				; CODE XREF: sub_401BB7+124j
		cmp	[ebp+var_34], 0
		jz	short loc_401D0C
		mov	eax, [ebp+var_34]
		add	eax, 1
		mov	[esp+0Ch+lpFilename], offset aBin ; "bin"
		mov	[esp+0Ch+hModule], eax
		call	g_ascii_strcasecmp
		test	eax, eax
		jnz	short loc_401D0C
		mov	eax, [ebp+var_34]
		mov	byte ptr [eax],	0

loc_401D0C:				; CODE XREF: sub_401BB7+133j
					; sub_401BB7+14Dj
		mov	[esp+0Ch+var_s0], 0
		mov	[esp+0Ch+nSize], 405283h
		mov	[esp+0Ch+lpFilename], offset asc_4052AF	; "/"
		mov	eax, [ebp+Str]
		mov	[esp+0Ch+hModule], eax
		call	g_strconcat
		mov	[ebp+var_28], eax
		jmp	short loc_401D3B
; ---------------------------------------------------------------------------

loc_401D34:				; CODE XREF: sub_401BB7+4Aj
					; sub_401BB7+60j
		mov	[ebp+var_28], offset aHomeIntevati_0 ; "/home/intevation/gpg4win/src/playground"...

loc_401D3B:				; CODE XREF: sub_401BB7+12Dj
					; sub_401BB7+17Bj
		mov	[esp+0Ch+hModule], 50h
		call	g_type_ensure
		cmp	dword ptr [ebx], 1
		jle	short loc_401D88
		mov	eax, [ebx+4]
		add	eax, 4
		mov	eax, [eax]
		mov	edx, eax
		mov	eax, offset aUpdateCache ; "--update-cache"
		mov	ecx, 0Fh
		mov	esi, edx
		mov	edi, eax
		repe cmpsb
		setnbe	dl
		setb	al
		mov	ecx, edx
		sub	cl, al
		mov	eax, ecx
		movsx	eax, al
		test	eax, eax
		jnz	short loc_401D88
		call	sub_401B5F
		mov	[ebp+var_20], eax
		mov	[ebp+var_24], 2

loc_401D88:				; CODE XREF: sub_401BB7+193j
					; sub_401BB7+1C0j
		mov	[esp+0Ch+hModule], offset byte_405044
		call	g_string_new
		mov	[ebp+var_38], eax
		call	g_get_prgname
		mov	[ebp+var_3C], eax
		cmp	[ebp+var_3C], 0
		jz	short loc_401DAA
		mov	eax, [ebp+var_3C]
		jmp	short loc_401DAF
; ---------------------------------------------------------------------------

loc_401DAA:				; CODE XREF: sub_401BB7+1ECj
		mov	eax, offset aGdkPixbufQuery ; "gdk-pixbuf-query-loaders"

loc_401DAF:				; CODE XREF: sub_401BB7+1F1j
		mov	[esp+0Ch+var_s0], offset a2_30_8 ; "2.30.8"
		mov	[esp+0Ch+nSize], eax
		mov	[esp+0Ch+lpFilename], offset aGdkpixbufImage ; "# GdkPixbuf Image Loader Modules file\n"...
		mov	eax, [ebp+var_38]
		mov	[esp+0Ch+hModule], eax
		call	g_string_append_printf
		mov	eax, [ebx]
		cmp	eax, [ebp+var_24]
		jnz	loc_401F1C
		mov	[esp+0Ch+hModule], offset aGdk_pixbuf_m_0 ; "GDK_PIXBUF_MODULEDIR"
		call	g_getenv_utf8
		mov	[ebp+var_2C], eax
		cmp	[ebp+var_2C], 0
		jz	short loc_401E26
		mov	eax, [ebp+var_2C]
		movzx	eax, byte ptr [eax]
		test	al, al
		jz	short loc_401E26
		mov	[esp+0Ch+var_s4], 0
		mov	[esp+0Ch+var_s0], 0
		mov	[esp+0Ch+nSize], 0
		mov	[esp+0Ch+lpFilename], 0FFFFFFFFh
		mov	eax, [ebp+var_2C]
		mov	[esp+0Ch+hModule], eax
		call	g_locale_to_utf8
		mov	[ebp+var_2C], eax

loc_401E26:				; CODE XREF: sub_401BB7+235j
					; sub_401BB7+23Fj
		cmp	[ebp+var_2C], 0
		jz	short loc_401E36
		mov	eax, [ebp+var_2C]
		movzx	eax, byte ptr [eax]
		test	al, al
		jnz	short loc_401E3C

loc_401E36:				; CODE XREF: sub_401BB7+273j
		mov	eax, [ebp+var_28]
		mov	[ebp+var_2C], eax

loc_401E3C:				; CODE XREF: sub_401BB7+27Dj
		mov	eax, [ebp+var_2C]
		mov	[esp+0Ch+nSize], eax
		mov	[esp+0Ch+lpFilename], offset aLoaderdirS ; "# LoaderDir	= %s\n#\n"
		mov	eax, [ebp+var_38]
		mov	[esp+0Ch+hModule], eax
		call	g_string_append_printf
		mov	[esp+0Ch+nSize], 0
		mov	[esp+0Ch+lpFilename], 0
		mov	eax, [ebp+var_2C]
		mov	[esp+0Ch+hModule], eax
		call	g_dir_open_utf8
		mov	[ebp+var_40], eax
		cmp	[ebp+var_40], 0
		jz	loc_401F97
		jmp	short loc_401EF7
; ---------------------------------------------------------------------------

loc_401E80:				; CODE XREF: sub_401BB7+352j
		mov	eax, [ebp+var_44]
		mov	[ebp+var_82C], 0FFFFFFFFh
		mov	edx, eax
		mov	eax, 0
		mov	ecx, [ebp+var_82C]
		mov	edi, edx
		repne scasb
		mov	eax, ecx
		not	eax
		sub	eax, 1
		mov	[ebp+var_48], eax
		mov	eax, [ebp+var_48]
		cmp	eax, 4
		jbe	short loc_401EF7
		mov	eax, [ebp+var_48]
		sub	eax, 4
		add	eax, [ebp+var_44]
		mov	edx, eax
		mov	eax, offset a_dll ; ".dll"
		mov	ecx, 5
		mov	esi, edx
		mov	edi, eax
		repe cmpsb
		setnbe	dl
		setb	al
		mov	ecx, edx
		sub	cl, al
		mov	eax, ecx
		movsx	eax, al
		test	eax, eax
		jnz	short loc_401EF7
		mov	eax, [ebp+var_44]
		mov	[esp+0Ch+nSize], eax
		mov	eax, [ebp+var_2C]
		mov	[esp+0Ch+lpFilename], eax
		mov	eax, [ebp+var_38]
		mov	[esp+0Ch+hModule], eax
		call	sub_40191F

loc_401EF7:				; CODE XREF: sub_401BB7+2C7j
					; sub_401BB7+2F7j ...
		mov	eax, [ebp+var_40]
		mov	[esp+0Ch+hModule], eax
		call	g_dir_read_name_utf8
		mov	[ebp+var_44], eax
		cmp	[ebp+var_44], 0
		jnz	loc_401E80
		mov	eax, [ebp+var_40]
		mov	[esp+0Ch+hModule], eax
		call	g_dir_close
		jmp	short loc_401F97
; ---------------------------------------------------------------------------

loc_401F1C:				; CODE XREF: sub_401BB7+21Cj
		call	g_get_current_dir_utf8
		mov	[ebp+var_4C], eax
		mov	eax, [ebp+var_24]
		mov	[ebp+var_1C], eax
		jmp	short loc_401F85
; ---------------------------------------------------------------------------

loc_401F2C:				; CODE XREF: sub_401BB7+3D3j
		mov	eax, [ebp+var_1C]
		shl	eax, 2
		add	eax, [ebx+4]
		mov	eax, [eax]
		mov	[ebp+var_50], eax
		mov	[esp+0Ch+var_s4], 0
		mov	[esp+0Ch+var_s0], 0
		mov	[esp+0Ch+nSize], 0
		mov	[esp+0Ch+lpFilename], 0FFFFFFFFh
		mov	eax, [ebp+var_50]
		mov	[esp+0Ch+hModule], eax
		call	g_locale_to_utf8
		mov	[ebp+var_50], eax
		mov	eax, [ebp+var_50]
		mov	[esp+0Ch+nSize], eax
		mov	eax, [ebp+var_4C]
		mov	[esp+0Ch+lpFilename], eax
		mov	eax, [ebp+var_38]
		mov	[esp+0Ch+hModule], eax
		call	sub_40191F
		add	[ebp+var_1C], 1

loc_401F85:				; CODE XREF: sub_401BB7+373j
		mov	eax, [ebp+var_1C]
		cmp	eax, [ebx]
		jl	short loc_401F2C
		mov	eax, [ebp+var_4C]
		mov	[esp+0Ch+hModule], eax
		call	g_free

loc_401F97:				; CODE XREF: sub_401BB7+2C1j
					; sub_401BB7+363j
		cmp	[ebp+var_20], 0
		jz	short loc_401FF0
		mov	[ebp+var_54], 0
		mov	eax, [ebp+var_38]
		mov	eax, [eax]
		lea	edx, [ebp+var_54]
		mov	[esp+0Ch+var_s0], edx
		mov	[esp+0Ch+nSize], 0FFFFFFFFh
		mov	[esp+0Ch+lpFilename], eax
		mov	eax, [ebp+var_20]
		mov	[esp+0Ch+hModule], eax
		call	g_file_set_contents
		test	eax, eax
		jnz	short loc_402005
		mov	eax, [ebp+var_54]
		mov	eax, [eax+8]
		mov	edx, ds:_iob
		add	edx, 40h
		mov	[esp+0Ch+nSize], eax
		mov	[esp+0Ch+lpFilename], offset aS_1 ; "%s\n"
		mov	[esp+0Ch+hModule], edx
		call	g_fprintf
		jmp	short loc_402005
; ---------------------------------------------------------------------------

loc_401FF0:				; CODE XREF: sub_401BB7+3E4j
		mov	eax, [ebp+var_38]
		mov	eax, [eax]
		mov	[esp+0Ch+lpFilename], eax
		mov	[esp+0Ch+hModule], offset aS_1 ; "%s\n"
		call	g_print

loc_402005:				; CODE XREF: sub_401BB7+412j
					; sub_401BB7+437j
		mov	eax, 0
		lea	esp, [ebp-10h]
		pop	ecx
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		lea	esp, [ecx-4]
		retn
sub_401BB7	endp

; ---------------------------------------------------------------------------
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_module_open_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_module_symbol]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_module_error]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_module_close]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_type_ensure]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_string_insert_c]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strescape]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_string_append_printf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_free]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_fprintf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_string_append]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_path_is_absolute]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strdup]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_build_filename]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_malloc0_n]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_win32_get_package_installation_directory_of_module]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_getenv_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_ascii_strncasecmp]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_utf16_to_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_ascii_strcasecmp]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_strconcat]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_string_new]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_get_prgname]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_locale_to_utf8]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_open_utf8]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_read_name_utf8]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_dir_close]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_get_current_dir_utf8]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION g_file_set_contents]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION g_print]
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public TlsCallback_1
TlsCallback_1	proc near		; DATA XREF: .CRT:00408024o

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_4]
		test	eax, eax
		jz	short loc_402130
		cmp	eax, 3
		jz	short loc_402130
		mov	eax, 1
		add	esp, 1Ch
		retn	0Ch
; ---------------------------------------------------------------------------
		align 10h

loc_402130:				; CODE XREF: TlsCallback_1+9j
					; TlsCallback_1+Ej
		mov	edx, [esp+1Ch+arg_8]
		mov	[esp+1Ch+var_18], eax
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+var_14], edx
		mov	[esp+1Ch+var_1C], eax
		call	sub_403320
		mov	eax, 1
		add	esp, 1Ch
		retn	0Ch
TlsCallback_1	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


		public TlsCallback_0
TlsCallback_0	proc near		; CODE XREF: sub_401180+113p
					; DATA XREF: .rdata:off_4053C8o ...

lpLibFileName	= dword	ptr -1Ch
lpProcName	= dword	ptr -18h
var_14		= dword	ptr -14h
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		push	ebx
		sub	esp, 18h
		mov	edx, ds:_winmajor
		mov	eax, [esp+1Ch+arg_4]
		cmp	dword ptr [edx], 3
		jbe	short loc_4021A4
		cmp	dword_404010, 2
		jz	short loc_402186
		mov	dword_404010, 2

loc_402186:				; CODE XREF: TlsCallback_0+1Aj
		cmp	eax, 2
		jz	loc_402293
		cmp	eax, 1
		jz	loc_402232

loc_402198:				; CODE XREF: TlsCallback_0+EEj
					; TlsCallback_0+13Ej
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_4021A4:				; CODE XREF: TlsCallback_0+11j
		mov	ds:dword_4063F8, 1
		mov	[esp+1Ch+lpLibFileName], offset	LibFileName ; "mingwm10.dll"
		call	ds:LoadLibraryA
		sub	esp, 4
		test	eax, eax
		mov	ds:hLibModule, eax
		jz	loc_4022C3
		mov	ebx, ds:GetProcAddress
		mov	[esp+1Ch+lpProcName], offset a__mingwthr_rem ; "__mingwthr_remove_key_dtor"
		mov	[esp+1Ch+lpLibFileName], eax ; hModule
		call	ebx ; GetProcAddress
		mov	ds:dword_4063F4, eax
		mov	eax, ds:hLibModule
		sub	esp, 8
		mov	[esp+1Ch+lpProcName], offset a__mingwthr_key ; "__mingwthr_key_dtor"
		mov	[esp+1Ch+lpLibFileName], eax ; hModule
		call	ebx ; GetProcAddress
		mov	edx, ds:hLibModule
		sub	esp, 8
		test	edx, edx
		mov	ds:dword_4063F0, eax
		jz	loc_4022C3
		mov	ecx, ds:dword_4063F4
		test	ecx, ecx
		jz	short loc_402253
		test	eax, eax
		jz	short loc_402253
		mov	dword_404010, 1
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_402232:				; CODE XREF: TlsCallback_0+32j
		mov	eax, [esp+1Ch+arg_8]
		mov	[esp+1Ch+lpProcName], 1
		mov	[esp+1Ch+var_14], eax
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+lpLibFileName], eax
		call	sub_403320
		jmp	loc_402198
; ---------------------------------------------------------------------------

loc_402253:				; CODE XREF: TlsCallback_0+B6j
					; TlsCallback_0+BAj
		mov	ds:dword_4063F0, 0
		mov	ds:dword_4063F4, 0
		mov	[esp+1Ch+lpLibFileName], edx ; hLibModule
		call	ds:FreeLibrary
		sub	esp, 4

loc_402273:				; CODE XREF: TlsCallback_0+177j
		mov	ds:hLibModule, 0
		mov	eax, 1
		mov	dword_404010, 0
		add	esp, 18h
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_402293:				; CODE XREF: TlsCallback_0+29j
		mov	ebx, offset dword_408030
		cmp	ebx, offset dword_408030
		jz	loc_402198

loc_4022A4:				; CODE XREF: TlsCallback_0+155j
		mov	eax, [ebx]
		test	eax, eax
		jz	short loc_4022AC
		call	eax

loc_4022AC:				; CODE XREF: TlsCallback_0+148j
		add	ebx, 4
		cmp	ebx, offset dword_408030
		jnz	short loc_4022A4
		add	esp, 18h
		mov	eax, 1
		pop	ebx
		retn	0Ch
; ---------------------------------------------------------------------------

loc_4022C3:				; CODE XREF: TlsCallback_0+65j
					; TlsCallback_0+A8j
		mov	ds:dword_4063F0, 0
		mov	ds:dword_4063F4, 0
		jmp	short loc_402273
TlsCallback_0	endp

; ---------------------------------------------------------------------------
		align 10h
		xor	eax, eax
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4022F0	proc near		; DATA XREF: .CRT:00408014o
		mov	eax, ds:__lconv_init
		jmp	eax
sub_4022F0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402300	proc near		; CODE XREF: sub_402320+10p
					; sub_402320+36p ...

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		retn
sub_402300	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402310	proc near		; CODE XREF: sub_401060+59p
					; sub_402320+71p ...

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		retn
sub_402310	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_402320(_onexit_t)
sub_402320	proc near		; CODE XREF: sub_4023E0+Ap

Func		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
arg_0		= dword	ptr  4

		push	ebx
		sub	esp, 28h
		mov	eax, ds:dword_406400
		mov	ebx, [esp+2Ch+arg_0]
		mov	[esp+2Ch+Func],	eax
		call	sub_402300
		cmp	eax, 0FFFFFFFFh
		mov	[esp+2Ch+var_14], eax
		jz	loc_4023C0
		mov	[esp+2Ch+Func],	8
		call	_lock
		mov	eax, ds:dword_406400
		mov	[esp+2Ch+Func],	eax
		call	sub_402300
		mov	[esp+2Ch+var_14], eax
		mov	eax, ds:dword_4063FC
		mov	[esp+2Ch+Func],	eax
		call	sub_402300
		mov	[esp+2Ch+Func],	ebx
		mov	[esp+2Ch+var_10], eax
		lea	eax, [esp+2Ch+var_10]
		mov	[esp+2Ch+var_24], eax
		lea	eax, [esp+2Ch+var_14]
		mov	[esp+2Ch+var_28], eax
		call	__dllonexit
		mov	ebx, eax
		mov	eax, [esp+2Ch+var_14]
		mov	[esp+2Ch+Func],	eax
		call	sub_402310
		mov	ds:dword_406400, eax
		mov	eax, [esp+2Ch+var_10]
		mov	[esp+2Ch+Func],	eax
		call	sub_402310
		mov	[esp+2Ch+Func],	8
		mov	ds:dword_4063FC, eax
		call	_unlock
		add	esp, 28h
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_4023C0:				; CODE XREF: sub_402320+1Cj
		mov	[esp+2Ch+Func],	ebx ; Func
		call	ds:_onexit
		add	esp, 28h
		mov	ebx, eax
		mov	eax, ebx
		pop	ebx
		retn
sub_402320	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_4023E0(_onexit_t)
sub_4023E0	proc near		; CODE XREF: sub_403000-27p
					; sub_4034F0+12p

var_1C		= dword	ptr -1Ch
arg_0		= dword	ptr  4

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_0]
		mov	[esp+1Ch+var_1C], eax ;	_onexit_t
		call	sub_402320
		cmp	eax, 1
		sbb	eax, eax
		add	esp, 1Ch
		retn
sub_4023E0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; LONG __stdcall TopLevelExceptionFilter(struct	_EXCEPTION_POINTERS *ExceptionInfo)
TopLevelExceptionFilter	proc near	; DATA XREF: sub_401180+11Do

var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_10		= dword	ptr -10h
ExceptionInfo	= dword	ptr  4

		push	esi
		push	ebx
		sub	esp, 24h
		mov	ebx, [esp+2Ch+ExceptionInfo]
		mov	eax, [ebx]
		mov	eax, [eax]
		cmp	eax, 0C0000091h
		ja	short loc_402457
		cmp	eax, 0C000008Dh
		jb	short loc_402484

loc_40241B:				; CODE XREF: TopLevelExceptionFilter+6Aj
		mov	esi, 1

loc_402420:				; CODE XREF: TopLevelExceptionFilter+C7j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 8
		call	signal
		cmp	eax, 1
		jz	loc_402550
		test	eax, eax
		jz	short loc_40246C
		mov	[esp+2Ch+var_2C], 8
		call	eax
		mov	eax, 0FFFFFFFFh

loc_40244F:				; CODE XREF: TopLevelExceptionFilter+120j
					; TopLevelExceptionFilter+13Ej	...
		add	esp, 24h
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_402457:				; CODE XREF: TopLevelExceptionFilter+12j
		cmp	eax, 0C0000094h
		jz	short loc_4024C5
		cmp	eax, 0C0000096h
		jz	short loc_402492
		cmp	eax, 0C0000093h
		jz	short loc_40241B

loc_40246C:				; CODE XREF: TopLevelExceptionFilter+3Fj
					; TopLevelExceptionFilter+90j ...
		mov	eax, ds:dword_406050
		test	eax, eax
		jz	loc_402543
		mov	[esp+2Ch+ExceptionInfo], ebx
		add	esp, 24h
		pop	ebx
		pop	esi
		jmp	eax
; ---------------------------------------------------------------------------

loc_402484:				; CODE XREF: TopLevelExceptionFilter+19j
		cmp	eax, 0C0000005h
		jz	short loc_4024D0
		cmp	eax, 0C000001Dh
		jnz	short loc_40246C

loc_402492:				; CODE XREF: TopLevelExceptionFilter+63j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 4
		call	signal
		cmp	eax, 1
		jz	short loc_402507
		test	eax, eax
		jz	short loc_40246C
		mov	[esp+2Ch+var_2C], 4
		call	eax
		add	esp, 24h
		mov	eax, 0FFFFFFFFh
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_4024C5:				; CODE XREF: TopLevelExceptionFilter+5Cj
		xor	esi, esi
		jmp	loc_402420
; ---------------------------------------------------------------------------
		align 10h

loc_4024D0:				; CODE XREF: TopLevelExceptionFilter+89j
		mov	[esp+2Ch+var_28], 0
		mov	[esp+2Ch+var_2C], 0Bh
		call	signal
		cmp	eax, 1
		jz	short loc_402525
		test	eax, eax
		jz	loc_40246C
		mov	[esp+2Ch+var_2C], 0Bh
		call	eax
		add	esp, 24h
		mov	eax, 0FFFFFFFFh
		pop	ebx
		pop	esi
		retn	4
; ---------------------------------------------------------------------------

loc_402507:				; CODE XREF: TopLevelExceptionFilter+A9j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 4
		call	signal
		mov	eax, 0FFFFFFFFh
		jmp	loc_40244F
; ---------------------------------------------------------------------------

loc_402525:				; CODE XREF: TopLevelExceptionFilter+E7j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 0Bh
		call	signal
		mov	eax, 0FFFFFFFFh
		jmp	loc_40244F
; ---------------------------------------------------------------------------

loc_402543:				; CODE XREF: TopLevelExceptionFilter+73j
		xor	eax, eax
		jmp	loc_40244F
; ---------------------------------------------------------------------------
		align 10h

loc_402550:				; CODE XREF: TopLevelExceptionFilter+37j
		mov	[esp+2Ch+var_28], 1
		mov	[esp+2Ch+var_2C], 8
		call	signal
		test	esi, esi
		mov	eax, 0FFFFFFFFh
		jz	loc_40244F
		mov	[esp+2Ch+var_10], eax
		call	sub_402F70
		mov	eax, [esp+2Ch+var_10]
		jmp	loc_40244F
TopLevelExceptionFilter	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 3Ch
		mov	eax, ds:dword_406054
		fld	qword ptr [esp+48h]
		fld	qword ptr [esp+50h]
		fld	qword ptr [esp+58h]
		test	eax, eax
		jz	short loc_4025D1
		fxch	st(2)
		mov	edx, [esp+40h]
		fstp	qword ptr [esp+18h]
		fstp	qword ptr [esp+20h]
		fstp	qword ptr [esp+28h]
		mov	[esp+10h], edx
		mov	edx, [esp+44h]
		mov	[esp+14h], edx
		lea	edx, [esp+10h]
		mov	[esp], edx
		call	eax ; dword_406054
		jmp	short loc_4025D7
; ---------------------------------------------------------------------------

loc_4025D1:				; CODE XREF: .text:004025A6j
		fstp	st
		fstp	st
		fstp	st

loc_4025D7:				; CODE XREF: .text:004025CFj
		add	esp, 3Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4025E0	proc near		; CODE XREF: sub_401060+F7p

arg_0		= dword	ptr  4

		mov	eax, [esp+arg_0]
		mov	ds:dword_406054, eax
		jmp	__setusermatherr
sub_4025E0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4025F0	proc near		; DATA XREF: sub_401060:loc_401150o

File		= dword	ptr -3Ch
Format		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= qword	ptr -2Ch
var_24		= qword	ptr -24h
var_1C		= qword	ptr -1Ch
arg_0		= dword	ptr  4

		sub	esp, 3Ch
		mov	edx, offset aUnknownError ; "Unknown error"
		mov	eax, [esp+3Ch+arg_0]
		mov	ecx, [eax]
		sub	ecx, 1
		cmp	ecx, 5
		ja	short loc_40260D
		mov	edx, ds:off_4054E8[ecx*4]

loc_40260D:				; CODE XREF: sub_4025F0+14j
		fld	qword ptr [eax+18h]
		fstp	[esp+3Ch+var_1C]
		fld	qword ptr [eax+10h]
		fstp	[esp+3Ch+var_24]
		fld	qword ptr [eax+8]
		fstp	[esp+3Ch+var_2C]
		mov	eax, [eax+4]
		mov	[esp+3Ch+var_34], edx
		mov	[esp+3Ch+Format], offset Format	; "_matherr(): %s in %s(%g, %g)	 (retval=%"...
		mov	[esp+3Ch+var_30], eax
		mov	eax, ds:_iob
		add	eax, 40h
		mov	[esp+3Ch+File],	eax ; File
		call	fprintf
		xor	eax, eax
		add	esp, 3Ch
		retn
sub_4025F0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402650	proc near		; CODE XREF: sub_401060+75p
		xor	eax, eax
		retn
sub_402650	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

; int __cdecl sub_402660(char *Format, char ArgList)
sub_402660	proc near		; CODE XREF: sub_4026C0+1DDp
					; sub_4026C0+204p ...

Str		= dword	ptr -1Ch
Size		= dword	ptr -18h
Count		= dword	ptr -14h
File		= dword	ptr -10h
Format		= dword	ptr  4
ArgList		= byte ptr  8

		push	ebx
		sub	esp, 18h
		mov	eax, ds:_iob
		mov	[esp+1Ch+Count], 1Bh ; Count
		lea	ebx, [esp+1Ch+ArgList]
		mov	[esp+1Ch+Size],	1 ; Size
		mov	[esp+1Ch+Str], offset aMingwW64Runtim ;	"Mingw-w64 runtime failure:\n"
		add	eax, 40h
		mov	[esp+1Ch+File],	eax ; File
		call	fwrite
		mov	eax, [esp+1Ch+Format]
		mov	[esp+1Ch+Count], ebx ; ArgList
		mov	[esp+1Ch+Size],	eax ; Format
		mov	eax, ds:_iob
		add	eax, 40h
		mov	[esp+1Ch+Str], eax ; File
		call	vfprintf
		call	abort
sub_402660	endp

; ---------------------------------------------------------------------------
		jmp	short sub_4026C0
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __thiscall sub_4026C0(size_t Size)
sub_4026C0	proc near		; CODE XREF: .text:004026B1j
					; sub_402900+B8p ...

lpAddress	= dword	ptr -7Ch
lpBuffer	= dword	ptr -78h
dwLength	= dword	ptr -74h
lpflOldProtect	= dword	ptr -70h
var_64		= dword	ptr -64h
Src		= dword	ptr -60h
var_58		= _MEMORY_BASIC_INFORMATION ptr	-58h
Buffer		= _MEMORY_BASIC_INFORMATION ptr	-3Ch
flOldProtect	= dword	ptr -20h

		push	ebp
		mov	ebp, ecx
		push	edi
		push	esi
		push	ebx
		mov	ebx, eax
		sub	esp, 6Ch
		mov	ecx, ds:dword_406060
		mov	[esp+7Ch+Src], edx
		test	ecx, ecx
		jle	loc_4028A2
		mov	eax, ds:dword_40605C
		xor	esi, esi

loc_4026E4:				; CODE XREF: sub_4026C0+41j
		mov	edx, [eax+4]
		cmp	ebx, edx
		jb	short loc_4026F9
		mov	edi, [eax+8]
		add	edx, [edi+8]
		cmp	ebx, edx
		jb	loc_4027D0

loc_4026F9:				; CODE XREF: sub_4026C0+29j
		add	esi, 1
		add	eax, 0Ch
		cmp	esi, ecx
		jnz	short loc_4026E4

loc_402703:				; CODE XREF: sub_4026C0+1E4j
		mov	[esp+7Ch+lpAddress], ebx
		call	sub_402CC0
		test	eax, eax
		mov	edi, eax
		jz	loc_4028C9
		lea	edx, [esi+esi*2]
		mov	esi, ds:dword_40605C
		shl	edx, 2
		add	esi, edx
		mov	[esi+8], eax
		mov	dword ptr [esi], 0
		mov	[esp+7Ch+var_64], edx
		call	sub_402DA0
		mov	edx, [esp+7Ch+var_64]
		add	eax, [edi+0Ch]
		mov	[esi+4], eax
		lea	eax, [esp+7Ch+Buffer]
		mov	esi, ds:VirtualQuery
		mov	[esp+7Ch+lpBuffer], eax	; lpBuffer
		mov	eax, ds:dword_40605C
		mov	[esp+7Ch+dwLength], 1Ch	; dwLength
		mov	eax, [eax+edx+4]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		mov	edx, [esp+7Ch+var_64]
		jz	loc_4028A9
		mov	eax, [esp+7Ch+Buffer.Protect]
		cmp	eax, 4
		jnz	loc_402851

loc_40277F:				; CODE XREF: sub_4026C0+194j
					; sub_4026C0+1C6j
		add	ds:dword_406060, 1

loc_402786:				; CODE XREF: sub_4026C0+116j
		lea	eax, [esp+7Ch+var_58]
		mov	[esp+7Ch+dwLength], 1Ch	; dwLength
		mov	[esp+7Ch+lpBuffer], eax	; lpBuffer
		mov	[esp+7Ch+lpAddress], ebx ; lpAddress
		call	esi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		jz	loc_4028D9
		mov	eax, [esp+7Ch+var_58.Protect]
		cmp	eax, 4
		jnz	short loc_4027D8

loc_4027AF:				; CODE XREF: sub_4026C0+11Bj
		mov	eax, [esp+7Ch+Src]
		mov	[esp+7Ch+dwLength], ebp	; Size
		mov	[esp+7Ch+lpAddress], ebx ; Dst
		mov	[esp+7Ch+lpBuffer], eax	; Src
		call	memcpy

loc_4027C3:				; CODE XREF: sub_4026C0+162j
					; sub_4026C0+167j
		add	esp, 6Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_4027D0:				; CODE XREF: sub_4026C0+33j
		mov	esi, ds:VirtualQuery
		jmp	short loc_402786
; ---------------------------------------------------------------------------

loc_4027D8:				; CODE XREF: sub_4026C0+EDj
		cmp	eax, 40h
		jz	short loc_4027AF
		mov	eax, [esp+7Ch+var_58.RegionSize]
		lea	edi, [esp+7Ch+flOldProtect]
		mov	esi, ds:VirtualProtect
		mov	[esp+7Ch+lpflOldProtect], edi ;	lpflOldProtect
		mov	[esp+7Ch+dwLength], 40h	; flNewProtect
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+var_58.BaseAddress]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualProtect
		sub	esp, 10h
		mov	eax, [esp+7Ch+Src]
		mov	[esp+7Ch+dwLength], ebp	; Size
		mov	[esp+7Ch+lpAddress], ebx ; Dst
		mov	[esp+7Ch+lpBuffer], eax	; Src
		call	memcpy
		mov	eax, [esp+7Ch+var_58.Protect]
		cmp	eax, 40h
		jz	short loc_4027C3
		cmp	eax, 4
		jz	short loc_4027C3
		mov	eax, [esp+7Ch+flOldProtect]
		mov	[esp+7Ch+lpflOldProtect], edi ;	lpflOldProtect
		mov	[esp+7Ch+dwLength], eax	; flNewProtect
		mov	eax, [esp+7Ch+var_58.RegionSize]
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+var_58.BaseAddress]
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	esi ; VirtualProtect
		sub	esp, 10h
		add	esp, 6Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------

loc_402851:				; CODE XREF: sub_4026C0+B9j
		cmp	eax, 40h
		jz	loc_40277F
		mov	eax, [esp+7Ch+Buffer.RegionSize]
		add	edx, ds:dword_40605C
		mov	[esp+7Ch+dwLength], 40h	; flNewProtect
		mov	[esp+7Ch+lpBuffer], eax	; dwSize
		mov	eax, [esp+7Ch+Buffer.BaseAddress]
		mov	[esp+7Ch+lpflOldProtect], edx ;	lpflOldProtect
		mov	[esp+7Ch+lpAddress], eax ; lpAddress
		call	ds:VirtualProtect
		sub	esp, 10h
		test	eax, eax
		jnz	loc_40277F
		call	ds:GetLastError
		mov	[esp+7Ch+lpAddress], offset aVirtualprotect ; "	 VirtualProtect	failed with code 0x%x"
		mov	[esp+7Ch+lpBuffer], eax	; ArgList
		call	sub_402660
; ---------------------------------------------------------------------------

loc_4028A2:				; CODE XREF: sub_4026C0+17j
		xor	esi, esi
		jmp	loc_402703
; ---------------------------------------------------------------------------

loc_4028A9:				; CODE XREF: sub_4026C0+ACj
		mov	eax, ds:dword_40605C
		mov	eax, [eax+edx+4]
		mov	[esp+7Ch+dwLength], eax
		mov	eax, [edi+8]
		mov	[esp+7Ch+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		mov	[esp+7Ch+lpBuffer], eax	; ArgList
		call	sub_402660
; ---------------------------------------------------------------------------

loc_4028C9:				; CODE XREF: sub_4026C0+4Fj
		mov	[esp+7Ch+lpBuffer], ebx	; ArgList
		mov	[esp+7Ch+lpAddress], offset aAddressPHasNoI ; "Address %p has no image-section"
		call	sub_402660
; ---------------------------------------------------------------------------

loc_4028D9:				; CODE XREF: sub_4026C0+E0j
		mov	[esp+7Ch+dwLength], ebx
		mov	[esp+7Ch+lpBuffer], 1Ch	; ArgList
		mov	[esp+7Ch+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		call	sub_402660
sub_4026C0	endp

; ---------------------------------------------------------------------------
		db 0EBh	; 
		db  0Dh
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_402900	proc near		; CODE XREF: sub_401180:loc_401298p

lpAddress	= dword	ptr -58h
lpBuffer	= dword	ptr -54h
dwLength	= dword	ptr -50h
lpflOldProtect	= dword	ptr -4Ch
Buffer		= _MEMORY_BASIC_INFORMATION ptr	-3Ch
var_20		= dword	ptr -20h
flOldProtect	= dword	ptr -1Ch

		push	ebp
		mov	ebp, esp
		push	edi
		push	esi
		push	ebx
		sub	esp, 4Ch
		mov	eax, ds:dword_406058
		test	eax, eax
		jz	short loc_402920

loc_402912:				; CODE XREF: sub_402900+66j
					; sub_402900+96j ...
		lea	esp, [ebp-0Ch]
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402920:				; CODE XREF: sub_402900+10j
		mov	ds:dword_406058, 1
		call	sub_402D00
		lea	eax, [eax+eax*2]
		lea	eax, ds:1Eh[eax*4]
		and	eax, 0FFFFFFF0h
		call	sub_4033C0
		mov	ds:dword_406060, 0
		sub	esp, eax
		lea	eax, [esp+58h+Buffer.BaseAddress+3]
		and	eax, 0FFFFFFF0h
		mov	ds:dword_40605C, eax
		mov	eax, offset dword_405618
		sub	eax, offset dword_405618
		cmp	eax, 7
		jle	short loc_402912
		cmp	eax, 0Bh
		mov	ebx, offset dword_405618
		jle	loc_402A60
		mov	eax, ds:dword_405618
		test	eax, eax
		jnz	short loc_402990
		mov	eax, ds:dword_40561C
		test	eax, eax
		jz	loc_402A4C
		lea	esi, [esi+0]

loc_402990:				; CODE XREF: sub_402900+7Dj
					; sub_402900+164j ...
		cmp	ebx, offset dword_405618
		jnb	loc_402912
		mov	esi, 400000h

loc_4029A1:				; CODE XREF: sub_402900+C3j
		mov	eax, [ebx+4]
		mov	ecx, 4		; Size
		add	eax, esi
		mov	edx, [eax]
		add	edx, [ebx]
		add	ebx, 8
		mov	[ebp+flOldProtect], edx
		lea	edx, [ebp+flOldProtect]
		call	sub_4026C0
		cmp	ebx, offset dword_405618
		jb	short loc_4029A1

loc_4029C5:				; CODE XREF: sub_402900+24Bj
		mov	ecx, ds:dword_406060
		test	ecx, ecx
		jle	loc_402912
		xor	ebx, ebx
		xor	esi, esi
		mov	edi, ds:VirtualQuery
		jmp	short loc_4029F2
; ---------------------------------------------------------------------------
		align 10h

loc_4029E0:				; CODE XREF: sub_402900+FDj
					; sub_402900+14Aj
		add	esi, 1
		add	ebx, 0Ch
		cmp	esi, ds:dword_406060
		jge	loc_402912

loc_4029F2:				; CODE XREF: sub_402900+DDj
		mov	eax, ds:dword_40605C
		add	eax, ebx
		mov	edx, [eax]
		test	edx, edx
		jz	short loc_4029E0
		lea	edx, [ebp+Buffer]
		mov	[esp+58h+dwLength], 1Ch	; dwLength
		mov	[esp+58h+lpBuffer], edx	; lpBuffer
		mov	eax, [eax+4]
		mov	[esp+58h+lpAddress], eax ; lpAddress
		call	edi ; VirtualQuery
		sub	esp, 0Ch
		test	eax, eax
		jz	loc_402B72
		lea	eax, [ebp+flOldProtect]
		mov	[esp+58h+lpflOldProtect], eax ;	lpflOldProtect
		mov	eax, ds:dword_40605C
		mov	eax, [eax+ebx]
		mov	[esp+58h+dwLength], eax	; flNewProtect
		mov	eax, [ebp+Buffer.RegionSize]
		mov	[esp+58h+lpBuffer], eax	; dwSize
		mov	eax, [ebp+Buffer.BaseAddress]
		mov	[esp+58h+lpAddress], eax ; lpAddress
		call	ds:VirtualProtect
		sub	esp, 10h
		jmp	short loc_4029E0
; ---------------------------------------------------------------------------

loc_402A4C:				; CODE XREF: sub_402900+86j
		mov	eax, ds:dword_405620
		test	eax, eax
		jnz	short loc_402A75
		mov	ebx, offset dword_405624
		lea	esi, [esi+0]

loc_402A60:				; CODE XREF: sub_402900+70j
		mov	edi, [ebx]
		test	edi, edi
		jnz	loc_402990
		mov	esi, [ebx+4]
		test	esi, esi
		jnz	loc_402990

loc_402A75:				; CODE XREF: sub_402900+153j
		mov	eax, [ebx+8]
		cmp	eax, 1
		jnz	loc_402B95
		add	ebx, 0Ch
		cmp	ebx, offset dword_405618
		jnb	loc_402912

loc_402A90:				; CODE XREF: sub_402900+245j
		movzx	edx, byte ptr [ebx+8]
		mov	eax, 400000h
		mov	ecx, [ebx]
		add	eax, [ebx+4]
		cmp	edx, 10h
		mov	esi, [ecx+400000h]
		jz	short loc_402AEA
		cmp	edx, 20h
		jz	short loc_402B20
		cmp	edx, 8
		jz	short loc_402ACA
		mov	[esp+58h+lpBuffer], edx	; ArgList
		mov	[esp+58h+lpAddress], offset aUnknownPseudoR ; "	 Unknown pseudo	relocation bit size %d"...
		mov	[ebp+var_20], 0
		call	sub_402660
; ---------------------------------------------------------------------------

loc_402ACA:				; CODE XREF: sub_402900+1B1j
		movzx	edi, byte ptr [eax]
		test	edi, 80h
		jz	short loc_402AF5
		or	edi, 0FFFFFF00h
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		mov	[ebp+var_20], esi
		jmp	short loc_402B11
; ---------------------------------------------------------------------------

loc_402AEA:				; CODE XREF: sub_402900+1A7j
		movzx	edi, word ptr [eax]
		test	edi, 8000h
		jnz	short loc_402B50

loc_402AF5:				; CODE XREF: sub_402900+1D3j
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		cmp	edx, 10h
		mov	[ebp+var_20], esi
		jz	short loc_402B63
		cmp	edx, 20h
		jz	short loc_402B2F
		cmp	edx, 8
		jnz	short loc_402B3C

loc_402B11:				; CODE XREF: sub_402900+1E8j
		mov	ecx, 1		; Size
		lea	edx, [ebp+var_20]
		call	sub_4026C0
		jmp	short loc_402B3C
; ---------------------------------------------------------------------------

loc_402B20:				; CODE XREF: sub_402900+1ACj
		mov	edx, [eax]
		sub	edx, ecx
		sub	edx, 400000h
		add	edx, esi
		mov	[ebp+var_20], edx

loc_402B2F:				; CODE XREF: sub_402900+20Aj
		mov	ecx, 4		; Size
		lea	edx, [ebp+var_20]
		call	sub_4026C0

loc_402B3C:				; CODE XREF: sub_402900+20Fj
					; sub_402900+21Ej ...
		add	ebx, 0Ch
		cmp	ebx, offset dword_405618
		jb	loc_402A90
		jmp	loc_4029C5
; ---------------------------------------------------------------------------

loc_402B50:				; CODE XREF: sub_402900+1F3j
		or	edi, 0FFFF0000h
		sub	edi, ecx
		sub	edi, 400000h
		add	esi, edi
		mov	[ebp+var_20], esi

loc_402B63:				; CODE XREF: sub_402900+205j
		mov	ecx, 2		; Size
		lea	edx, [ebp+var_20]
		call	sub_4026C0
		jmp	short loc_402B3C
; ---------------------------------------------------------------------------

loc_402B72:				; CODE XREF: sub_402900+11Bj
		add	ebx, ds:dword_40605C
		mov	eax, [ebx+4]
		mov	[esp+58h+dwLength], eax
		mov	eax, [ebx+8]
		mov	eax, [eax+8]
		mov	[esp+58h+lpAddress], offset aVirtualqueryFa ; "	 VirtualQuery failed for %d bytes at a"...
		mov	[esp+58h+lpBuffer], eax	; ArgList
		call	sub_402660
; ---------------------------------------------------------------------------

loc_402B95:				; CODE XREF: sub_402900+17Bj
		mov	[esp+58h+lpBuffer], eax	; ArgList
		mov	[esp+58h+lpAddress], offset aUnknownPseud_0 ; "	 Unknown pseudo	relocation protocol ve"...
		call	sub_402660
sub_402900	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402BB0	proc near		; CODE XREF: .text:00402C51p
					; sub_402CC0+Ap ...

arg_0		= dword	ptr  4

		mov	edx, [esp+arg_0]
		xor	eax, eax
		cmp	word ptr [edx],	5A4Dh
		jz	short loc_402BC0

locret_402BBD:				; CODE XREF: sub_402BB0+19j
		rep retn
; ---------------------------------------------------------------------------
		align 10h

loc_402BC0:				; CODE XREF: sub_402BB0+Bj
		add	edx, [edx+3Ch]
		cmp	dword ptr [edx], 4550h
		jnz	short locret_402BBD
		xor	eax, eax
		cmp	word ptr [edx+18h], 10Bh
		setz	al
		retn
sub_402BB0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402BE0	proc near		; CODE XREF: sub_402CC0+2Bp
					; .text:00402E04p ...

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		push	esi
		xor	eax, eax
		push	ebx
		mov	edx, [esp+8+arg_0]
		mov	ebx, [esp+8+arg_4]
		add	edx, [edx+3Ch]
		movzx	esi, word ptr [edx+6]
		movzx	ecx, word ptr [edx+14h]
		test	esi, esi
		jz	short loc_402C1E
		movzx	ecx, cx
		lea	eax, [edx+ecx+18h]
		xor	edx, edx

loc_402C04:				; CODE XREF: sub_402BE0+3Aj
		mov	ecx, [eax+0Ch]
		cmp	ecx, ebx
		ja	short loc_402C12
		add	ecx, [eax+8]
		cmp	ebx, ecx
		jb	short loc_402C1E

loc_402C12:				; CODE XREF: sub_402BE0+29j
		add	edx, 1
		add	eax, 28h
		cmp	edx, esi
		jb	short loc_402C04
		xor	eax, eax

loc_402C1E:				; CODE XREF: sub_402BE0+19j
					; sub_402BE0+30j
		pop	ebx
		pop	esi
		retn
sub_402BE0	endp

; ---------------------------------------------------------------------------
		jmp	short loc_402C30
; ---------------------------------------------------------------------------
		align 10h

loc_402C30:				; CODE XREF: .text:00402C21j
		push	ebp
		push	edi
		push	esi
		push	ebx
		xor	ebx, ebx
		sub	esp, 1Ch
		mov	edi, [esp+30h]
		mov	[esp], edi
		call	strlen
		cmp	eax, 8
		ja	short loc_402CA3
		mov	dword ptr [esp], 400000h
		call	sub_402BB0
		test	eax, eax
		jz	short loc_402CA3
		mov	eax, ds:40003Ch
		movzx	ebp, word ptr [eax+400006h]
		movzx	edx, word ptr [eax+400014h]
		add	eax, 400000h
		test	ebp, ebp
		jz	short loc_402CA3
		movzx	edx, dx
		xor	esi, esi
		lea	ebx, [eax+edx+18h]
		jmp	short loc_402C8B
; ---------------------------------------------------------------------------

loc_402C81:				; CODE XREF: .text:00402CA1j
		add	esi, 1
		add	ebx, 28h
		cmp	esi, ebp
		jnb	short loc_402CB0

loc_402C8B:				; CODE XREF: .text:00402C7Fj
		mov	dword ptr [esp+8], 8
		mov	[esp+4], edi
		mov	[esp], ebx
		call	strncmp
		test	eax, eax
		jnz	short loc_402C81

loc_402CA3:				; CODE XREF: .text:00402C48j
					; .text:00402C58j ...
		add	esp, 1Ch
		mov	eax, ebx
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402CB0:				; CODE XREF: .text:00402C89j
		add	esp, 1Ch
		xor	ebx, ebx
		mov	eax, ebx
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402CC0	proc near		; CODE XREF: sub_4026C0+46p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		sub	esp, 8
		mov	[esp+8+var_8], 400000h
		call	sub_402BB0
		mov	edx, eax
		xor	eax, eax
		test	edx, edx
		jz	short loc_402CF0
		mov	eax, [esp+8+arg_0]
		mov	[esp+8+var_8], 400000h
		sub	eax, 400000h
		mov	[esp+8+var_4], eax
		call	sub_402BE0

loc_402CF0:				; CODE XREF: sub_402CC0+15j
		add	esp, 8
		retn
sub_402CC0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402D00	proc near		; CODE XREF: sub_402900+2Ap

var_4		= dword	ptr -4

		sub	esp, 4
		mov	[esp+4+var_4], 400000h
		call	sub_402BB0
		xor	edx, edx
		test	eax, eax
		jz	short loc_402D21
		mov	eax, ds:40003Ch
		movzx	edx, word ptr [eax+400006h]

loc_402D21:				; CODE XREF: sub_402D00+13j
		mov	eax, edx
		add	esp, 4
		retn
sub_402D00	endp

; ---------------------------------------------------------------------------
		align 10h
		push	esi
		push	ebx
		sub	esp, 4
		mov	dword ptr [esp], 400000h
		mov	ebx, [esp+10h]
		call	sub_402BB0
		xor	edx, edx
		test	eax, eax
		jz	short loc_402D89
		mov	eax, ds:40003Ch
		movzx	ecx, word ptr [eax+400006h]
		movzx	esi, word ptr [eax+400014h]
		add	eax, 400000h
		test	ecx, ecx
		jz	short loc_402D89
		movzx	esi, si
		lea	edx, [eax+esi+18h]
		xor	eax, eax

loc_402D70:				; CODE XREF: .text:00402D85j
		test	byte ptr [edx+27h], 20h
		jz	short loc_402D7D
		test	ebx, ebx
		jz	short loc_402D89
		sub	ebx, 1

loc_402D7D:				; CODE XREF: .text:00402D74j
		add	eax, 1
		add	edx, 28h
		cmp	eax, ecx
		jb	short loc_402D70
		xor	edx, edx

loc_402D89:				; CODE XREF: .text:00402D49j
					; .text:00402D65j ...
		add	esp, 4
		mov	eax, edx
		pop	ebx
		pop	esi
		retn
; ---------------------------------------------------------------------------
		jmp	short sub_402DA0
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402DA0	proc near		; CODE XREF: sub_4026C0+70p
					; .text:00402D91j

var_4		= dword	ptr -4

		sub	esp, 4
		mov	[esp+4+var_4], 400000h
		call	sub_402BB0
		xor	edx, edx
		test	eax, eax
		mov	eax, 400000h
		cmovnz	edx, eax
		add	esp, 4
		mov	eax, edx
		retn
sub_402DA0	endp

; ---------------------------------------------------------------------------
		jmp	short loc_402DD0
; ---------------------------------------------------------------------------
		align 10h

loc_402DD0:				; CODE XREF: .text:00402DC1j
		push	ebx
		xor	ebx, ebx
		sub	esp, 8
		mov	dword ptr [esp], 400000h
		call	sub_402BB0
		test	eax, eax
		jnz	short loc_402DF0

loc_402DE6:				; CODE XREF: .text:00402E0Bj
		add	esp, 8
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402DF0:				; CODE XREF: .text:00402DE4j
		mov	eax, [esp+10h]
		mov	dword ptr [esp], 400000h
		sub	eax, 400000h
		mov	[esp+4], eax
		call	sub_402BE0
		test	eax, eax
		jz	short loc_402DE6
		mov	ebx, [eax+24h]
		add	esp, 8
		not	ebx
		shr	ebx, 1Fh
		mov	eax, ebx
		pop	ebx
		retn
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402E20	proc near		; CODE XREF: sub_402EB0+1Ap

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
arg_0		= dword	ptr  4

		push	edi
		xor	edi, edi
		push	esi
		push	ebx
		sub	esp, 8
		mov	[esp+14h+var_14], 400000h
		mov	ebx, [esp+14h+arg_0]
		call	sub_402BB0
		test	eax, eax
		jz	short loc_402E91
		mov	eax, ds:40003Ch
		mov	esi, [eax+400080h]
		test	esi, esi
		jz	short loc_402E91
		mov	[esp+14h+var_10], esi
		mov	[esp+14h+var_14], 400000h
		call	sub_402BE0
		test	eax, eax
		jz	short loc_402E91
		add	esi, 400000h
		jnz	short loc_402E76
		jmp	short loc_402E91
; ---------------------------------------------------------------------------
		align 10h

loc_402E70:				; CODE XREF: sub_402E20+66j
		sub	ebx, 1
		add	esi, 14h

loc_402E76:				; CODE XREF: sub_402E20+45j
		mov	edx, [esi+4]
		test	edx, edx
		jnz	short loc_402E84
		mov	eax, [esi+0Ch]
		test	eax, eax
		jz	short loc_402EA0

loc_402E84:				; CODE XREF: sub_402E20+5Bj
		test	ebx, ebx
		jg	short loc_402E70
		mov	edi, [esi+0Ch]
		add	edi, 400000h

loc_402E91:				; CODE XREF: sub_402E20+1Aj
					; sub_402E20+29j ...
		add	esp, 8
		mov	eax, edi
		pop	ebx
		pop	esi
		pop	edi
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_402EA0:				; CODE XREF: sub_402E20+62j
		add	esp, 8
		xor	edi, edi
		mov	eax, edi
		pop	ebx
		pop	esi
		pop	edi
		retn
sub_402E20	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402EB0	proc near		; CODE XREF: sub_401180+132p

lpModuleName	= dword	ptr -1Ch

		push	ebx
		sub	esp, 18h
		mov	eax, ds:dword_406064
		test	eax, eax
		jz	short loc_402EC2

loc_402EBD:				; CODE XREF: sub_402EB0+97j
					; sub_402EB0+B5j
		add	esp, 18h
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_402EC2:				; CODE XREF: sub_402EB0+Bj
		xor	eax, eax

loc_402EC4:				; CODE XREF: sub_402EB0+82j
		mov	[esp+1Ch+lpModuleName],	eax
		lea	ebx, [eax+1]
		call	sub_402E20
		test	eax, eax
		jz	short loc_402F50
		movzx	edx, byte ptr [eax]
		cmp	dl, 4Dh
		jz	short loc_402EE0
		cmp	dl, 6Dh
		jnz	short loc_402F30

loc_402EE0:				; CODE XREF: sub_402EB0+29j
		movzx	edx, byte ptr [eax+1]
		cmp	dl, 53h
		jz	short loc_402EEE
		cmp	dl, 73h
		jnz	short loc_402F30

loc_402EEE:				; CODE XREF: sub_402EB0+37j
		movzx	edx, byte ptr [eax+2]
		cmp	dl, 56h
		jz	short loc_402EFC
		cmp	dl, 76h
		jnz	short loc_402F30

loc_402EFC:				; CODE XREF: sub_402EB0+45j
		movzx	edx, byte ptr [eax+3]
		cmp	dl, 43h
		jz	short loc_402F0A
		cmp	dl, 63h
		jnz	short loc_402F30

loc_402F0A:				; CODE XREF: sub_402EB0+53j
		movzx	edx, byte ptr [eax+4]
		cmp	dl, 52h
		jz	short loc_402F18
		cmp	dl, 72h
		jnz	short loc_402F30

loc_402F18:				; CODE XREF: sub_402EB0+61j
		movzx	edx, byte ptr [eax+5]
		cmp	dl, 54h
		jz	short loc_402F34
		cmp	dl, 74h
		jz	short loc_402F34
		sub	edx, 30h
		cmp	dl, 9
		jbe	short loc_402F34
		xchg	ax, ax

loc_402F30:				; CODE XREF: sub_402EB0+2Ej
					; sub_402EB0+3Cj ...
		mov	eax, ebx
		jmp	short loc_402EC4
; ---------------------------------------------------------------------------

loc_402F34:				; CODE XREF: sub_402EB0+6Fj
					; sub_402EB0+74j ...
		mov	[esp+1Ch+lpModuleName],	eax ; lpModuleName
		call	ds:GetModuleHandleA
		sub	esp, 4
		test	eax, eax
		mov	ds:dword_406064, eax
		jnz	loc_402EBD
		lea	esi, [esi+0]

loc_402F50:				; CODE XREF: sub_402EB0+21j
		mov	[esp+1Ch+lpModuleName],	offset aMsvcrt_dll ; "msvcrt.dll"
		call	ds:LoadLibraryW
		sub	esp, 4
		mov	ds:dword_406064, eax
		jmp	loc_402EBD
sub_402EB0	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_402F70	proc near		; CODE XREF: sub_401180:loc_4012D8p
					; TopLevelExceptionFilter+175p
		fninit
		retn
sub_402F70	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


; int __cdecl sub_402F80()
sub_402F80	proc near		; DATA XREF: sub_403000:loc_402FD2o
		sub	esp, 0Ch
		mov	eax, off_40400C
		mov	eax, [eax]
		test	eax, eax
		jz	short loc_402FA7
		xchg	ax, ax

loc_402F90:				; CODE XREF: sub_402F80+25j
		call	eax
		mov	eax, off_40400C
		lea	edx, [eax+4]
		mov	eax, [eax+4]
		mov	off_40400C, edx
		test	eax, eax
		jnz	short loc_402F90

loc_402FA7:				; CODE XREF: sub_402F80+Cj
		add	esp, 0Ch
		retn
sub_402F80	endp

; ---------------------------------------------------------------------------
		align 10h
; START	OF FUNCTION CHUNK FOR sub_403000

loc_402FB0:				; CODE XREF: sub_403000+1Aj
		push	ebx
		sub	esp, 18h
		mov	ebx, ds:dword_403510
		cmp	ebx, 0FFFFFFFFh
		jz	short loc_402FE3

loc_402FBF:				; CODE XREF: sub_403000-9j
		test	ebx, ebx
		jz	short loc_402FD2

loc_402FC3:				; CODE XREF: sub_403000-30j
		call	ds:dword_403510[ebx*4]
		sub	ebx, 1
		lea	esi, [esi+0]
		jnz	short loc_402FC3

loc_402FD2:				; CODE XREF: sub_403000-3Fj
		mov	[esp+1Ch+var_1C], offset sub_402F80 ; _onexit_t
		call	sub_4023E0
		add	esp, 18h
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_402FE3:				; CODE XREF: sub_403000-43j
		xor	ebx, ebx
		jmp	short loc_402FE9
; ---------------------------------------------------------------------------

loc_402FE7:				; CODE XREF: sub_403000-Bj
		mov	ebx, eax

loc_402FE9:				; CODE XREF: sub_403000-1Bj
		lea	eax, [ebx+1]
		mov	edx, ds:dword_403510[eax*4]
		test	edx, edx
		jnz	short loc_402FE7
		jmp	short loc_402FBF
; END OF FUNCTION CHUNK	FOR sub_403000
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_403000	proc near		; CODE XREF: sub_401180+239p
					; sub_401BB7+19p

var_1C		= dword	ptr -1Ch

; FUNCTION CHUNK AT 00402FB0 SIZE 00000049 BYTES

		mov	ecx, ds:dword_406068
		test	ecx, ecx
		jz	short loc_403010
		rep retn
; ---------------------------------------------------------------------------
		align 10h

loc_403010:				; CODE XREF: sub_403000+8j
		mov	ds:dword_406068, 1
		jmp	short loc_402FB0
sub_403000	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_403020	proc near		; CODE XREF: .text:004014BDp start+Dp

lpSystemTimeAsFileTime=	dword ptr -4Ch
var_30		= dword	ptr -30h
SystemTimeAsFileTime= _FILETIME	ptr -2Ch
PerformanceCount= LARGE_INTEGER	ptr -24h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4

		sub	esp, 4Ch
		mov	eax, dword_404018
		mov	[esp+4Ch+var_10], ebx
		mov	[esp+4Ch+var_C], esi
		mov	[esp+4Ch+var_8], edi
		cmp	eax, 0BB40E64Eh
		mov	[esp+4Ch+var_4], ebp
		mov	[esp+4Ch+SystemTimeAsFileTime.dwLowDateTime], 0
		mov	[esp+4Ch+SystemTimeAsFileTime.dwHighDateTime], 0
		jz	short loc_403070
		not	eax
		mov	dword_40401C, eax

loc_403056:				; CODE XREF: sub_403020+BDj
		mov	ebx, [esp+4Ch+var_10]
		mov	esi, [esp+4Ch+var_C]
		mov	edi, [esp+4Ch+var_8]
		mov	ebp, [esp+4Ch+var_4]
		add	esp, 4Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_403070:				; CODE XREF: sub_403020+2Dj
		lea	eax, [esp+4Ch+SystemTimeAsFileTime]
		mov	[esp+4Ch+lpSystemTimeAsFileTime], eax ;	lpSystemTimeAsFileTime
		call	ds:GetSystemTimeAsFileTime
		sub	esp, 4
		mov	eax, [esp+4Ch+SystemTimeAsFileTime.dwHighDateTime]
		mov	ebp, [esp+4Ch+SystemTimeAsFileTime.dwLowDateTime]
		mov	[esp+4Ch+var_30], eax
		call	ds:GetCurrentProcessId
		mov	edi, eax
		call	ds:GetCurrentThreadId
		mov	esi, eax
		call	ds:GetTickCount
		mov	ebx, eax
		lea	eax, [esp+4Ch+PerformanceCount]
		mov	[esp+4Ch+lpSystemTimeAsFileTime], eax ;	lpPerformanceCount
		call	ds:QueryPerformanceCounter
		sub	esp, 4
		xor	ebp, [esp+4Ch+var_30]
		xor	ebp, dword ptr [esp+4Ch+PerformanceCount]
		xor	ebp, dword ptr [esp+4Ch+PerformanceCount+4]
		xor	ebp, edi
		xor	ebp, esi
		xor	ebp, ebx
		mov	eax, ebp
		cmp	ebp, 0BB40E64Eh
		not	eax
		jz	short loc_4030E2

loc_4030D2:				; CODE XREF: sub_403020+CCj
		mov	dword_404018, ebp
		mov	dword_40401C, eax
		jmp	loc_403056
; ---------------------------------------------------------------------------

loc_4030E2:				; CODE XREF: sub_403020+B0j
		mov	eax, 44BF19B0h
		mov	ebp, 0BB40E64Fh
		jmp	short loc_4030D2
sub_403020	endp

; ---------------------------------------------------------------------------
		align 10h
		push	ebp
		mov	ebp, esp
		sub	esp, 28h
		mov	eax, [ebp+4]
		lea	edx, [ebp+4]
		mov	ds:dword_406144, edx
		mov	ds:dword_406360, 0C0000409h
		mov	ds:dword_406364, 1
		mov	ds:dword_406138, eax
		mov	ds:dword_40636C, eax
		mov	eax, [ebp+8]
		mov	dword ptr [esp], 0
		mov	ds:dword_40612C, eax
		mov	eax, dword_404018
		mov	[ebp-10h], eax
		mov	eax, dword_40401C
		mov	[ebp-0Ch], eax
		call	ds:SetUnhandledExceptionFilter
		sub	esp, 4
		mov	dword ptr [esp], offset	off_405610
		call	ds:UnhandledExceptionFilter
		sub	esp, 4
		call	ds:GetCurrentProcess
		mov	dword ptr [esp+4], 0C0000409h
		mov	[esp], eax
		call	ds:TerminateProcess
		sub	esp, 8
		call	abort
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_403180	proc near		; CODE XREF: sub_403320+79p
					; sub_403320:loc_4033B2p

lpCriticalSection= dword ptr -2Ch

		push	ebp
		push	edi
		push	esi
		push	ebx
		sub	esp, 1Ch
		mov	[esp+2Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:EnterCriticalSection
		mov	ebx, ds:dword_4063DC
		sub	esp, 4
		test	ebx, ebx
		jz	short loc_4031D5
		mov	ebp, ds:TlsGetValue
		mov	edi, ds:GetLastError
		lea	esi, [esi+0]

loc_4031B0:				; CODE XREF: sub_403180+53j
		mov	eax, [ebx]
		mov	[esp+2Ch+lpCriticalSection], eax ; dwTlsIndex
		call	ebp ; TlsGetValue
		sub	esp, 4
		mov	esi, eax
		call	edi ; GetLastError
		test	eax, eax
		jnz	short loc_4031CE
		test	esi, esi
		jz	short loc_4031CE
		mov	eax, [ebx+4]
		mov	[esp+2Ch+lpCriticalSection], esi
		call	eax

loc_4031CE:				; CODE XREF: sub_403180+40j
					; sub_403180+44j
		mov	ebx, [ebx+8]
		test	ebx, ebx
		jnz	short loc_4031B0

loc_4031D5:				; CODE XREF: sub_403180+1Fj
		mov	[esp+2Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4
		add	esp, 1Ch
		pop	ebx
		pop	esi
		pop	edi
		pop	ebp
		retn
sub_403180	endp

; ---------------------------------------------------------------------------
		align 10h
		sub	esp, 1Ch
		mov	eax, ds:dword_4063C0
		mov	[esp+14h], ebx
		xor	ebx, ebx
		mov	[esp+18h], esi
		test	eax, eax
		jnz	short loc_403214

loc_403206:				; CODE XREF: .text:0040327Cj
		mov	eax, ebx
		mov	esi, [esp+18h]
		mov	ebx, [esp+14h]
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_403214:				; CODE XREF: .text:00403204j
		mov	dword ptr [esp+4], 0Ch
		mov	dword ptr [esp], 1
		call	calloc
		test	eax, eax
		mov	esi, eax
		jz	short loc_403277
		mov	eax, [esp+20h]
		mov	dword ptr [esp], offset	CriticalSection
		mov	[esi], eax
		mov	eax, [esp+24h]
		mov	[esi+4], eax
		call	ds:EnterCriticalSection
		mov	eax, ds:dword_4063DC
		mov	ds:dword_4063DC, esi
		mov	[esi+8], eax
		sub	esp, 4
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		mov	eax, ebx
		sub	esp, 4
		mov	ebx, [esp+14h]
		mov	esi, [esp+18h]
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------

loc_403277:				; CODE XREF: .text:0040322Cj
		mov	ebx, 0FFFFFFFFh
		jmp	short loc_403206
; ---------------------------------------------------------------------------
		align 10h
		push	ebx
		sub	esp, 18h
		mov	eax, ds:dword_4063C0
		mov	ebx, [esp+20h]
		test	eax, eax
		jnz	short loc_403298
		add	esp, 18h
		xor	eax, eax
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_403298:				; CODE XREF: .text:0040328Fj
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:EnterCriticalSection
		mov	edx, ds:dword_4063DC
		sub	esp, 4
		test	edx, edx
		jz	short loc_4032CF
		mov	eax, [edx]
		cmp	eax, ebx
		jnz	short loc_4032C8
		jmp	short loc_403306
; ---------------------------------------------------------------------------
		align 10h

loc_4032C0:				; CODE XREF: .text:004032CDj
		mov	ecx, [eax]
		cmp	ecx, ebx
		jz	short loc_4032E6
		mov	edx, eax

loc_4032C8:				; CODE XREF: .text:004032B6j
		mov	eax, [edx+8]
		test	eax, eax
		jnz	short loc_4032C0

loc_4032CF:				; CODE XREF: .text:004032B0j
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4

loc_4032DF:				; CODE XREF: .text:00403304j
		add	esp, 18h
		xor	eax, eax
		pop	ebx
		retn
; ---------------------------------------------------------------------------

loc_4032E6:				; CODE XREF: .text:004032C4j
		mov	ecx, [eax+8]
		mov	[edx+8], ecx

loc_4032EC:				; CODE XREF: .text:00403310j
		mov	[esp], eax
		call	free
		mov	dword ptr [esp], offset	CriticalSection
		call	ds:LeaveCriticalSection
		sub	esp, 4
		jmp	short loc_4032DF
; ---------------------------------------------------------------------------

loc_403306:				; CODE XREF: .text:004032B8j
		mov	eax, [edx+8]
		mov	ds:dword_4063DC, eax
		mov	eax, edx
		jmp	short loc_4032EC
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_403320	proc near		; CODE XREF: TlsCallback_1+33p
					; TlsCallback_0+E9p

lpCriticalSection= dword ptr -1Ch
arg_4		= dword	ptr  8

		sub	esp, 1Ch
		mov	eax, [esp+1Ch+arg_4]
		cmp	eax, 1
		jz	short loc_403370
		jb	short loc_403340
		cmp	eax, 3
		jz	short loc_403390

loc_403333:				; CODE XREF: sub_403320+31j
					; sub_403320+4Dj ...
		mov	eax, 1
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_403340:				; CODE XREF: sub_403320+Cj
		mov	eax, ds:dword_4063C0
		test	eax, eax
		jnz	short loc_4033B2

loc_403349:				; CODE XREF: sub_403320+97j
		mov	eax, ds:dword_4063C0
		cmp	eax, 1
		jnz	short loc_403333
		mov	ds:dword_4063C0, 0
		mov	[esp+1Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:DeleteCriticalSection
		sub	esp, 4
		jmp	short loc_403333
; ---------------------------------------------------------------------------
		align 10h

loc_403370:				; CODE XREF: sub_403320+Aj
		mov	eax, ds:dword_4063C0
		test	eax, eax
		jz	short loc_4033A0

loc_403379:				; CODE XREF: sub_403320+90j
		mov	ds:dword_4063C0, 1
		mov	eax, 1
		add	esp, 1Ch
		retn
; ---------------------------------------------------------------------------
		align 10h

loc_403390:				; CODE XREF: sub_403320+11j
		mov	eax, ds:dword_4063C0
		test	eax, eax
		jz	short loc_403333
		call	sub_403180
		jmp	short loc_403333
; ---------------------------------------------------------------------------

loc_4033A0:				; CODE XREF: sub_403320+57j
		mov	[esp+1Ch+lpCriticalSection], offset CriticalSection ; lpCriticalSection
		call	ds:InitializeCriticalSection
		sub	esp, 4
		jmp	short loc_403379
; ---------------------------------------------------------------------------

loc_4033B2:				; CODE XREF: sub_403320+27j
		call	sub_403180
		jmp	short loc_403349
sub_403320	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_4033C0	proc near		; CODE XREF: sub_401180+19p
					; sub_402900+3Cp

arg_0		= byte ptr  4

		push	ecx
		push	eax
		cmp	eax, 1000h
		lea	ecx, [esp+8+arg_0]
		jb	short loc_4033E2

loc_4033CD:				; CODE XREF: sub_4033C0+20j
		sub	ecx, 1000h
		or	dword ptr [ecx], 0
		sub	eax, 1000h
		cmp	eax, 1000h
		ja	short loc_4033CD

loc_4033E2:				; CODE XREF: sub_4033C0+Bj
		sub	ecx, eax
		or	dword ptr [ecx], 0
		pop	eax
		pop	ecx
		retn
sub_4033C0	endp

; ---------------------------------------------------------------------------
		align 10h
		mov	eax, [esp+0Ch]
		mov	edx, [esp+8]
		mov	ecx, [esp+4]
		lock cmpxchg [ecx], edx
		retn
; ---------------------------------------------------------------------------
		jmp	short sub_403410
; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================


sub_403410	proc near		; CODE XREF: sub_401180+A7p
					; .text:00403401j

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		mov	eax, [esp+arg_8]
		mov	edx, [esp+arg_4]
		mov	ecx, [esp+arg_0]
		lock cmpxchg [ecx], edx
		retn	0Ch
sub_403410	endp

; ---------------------------------------------------------------------------
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __getmainargs]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION __set_app_type]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION memcpy]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION malloc]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION strlen]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _cexit]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION _amsg_exit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _initterm]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION exit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION strspn]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION strrchr]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _lock]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION __dllonexit]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION _unlock]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION signal]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION __setusermatherr]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION fprintf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION fwrite]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION vfprintf]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION abort]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION strncmp]
		align 4
; [00000006 BYTES: COLLAPSED FUNCTION calloc]
		align 10h
; [00000006 BYTES: COLLAPSED FUNCTION free]
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4034F0	proc near		; DATA XREF: .text:00403514o

var_18		= dword	ptr -18h

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		call	sub_4014F0
		mov	[esp+18h+var_18], offset sub_401540 ; _onexit_t
		call	sub_4023E0
		leave
		retn
sub_4034F0	endp

; ---------------------------------------------------------------------------
		align 10h
dword_403510	dd 0FFFFFFFFh		; DATA XREF: sub_403000-4Cr
					; sub_403000:loc_402FC3r ...
		dd offset sub_4034F0
		dd 0
		dd 0FFFFFFFFh
dword_403520	dd 38h dup(0)		; DATA XREF: .data:off_40400Co
		dd 280h	dup(?)
_text		ends

; Section 2. (virtual address 00004000)
; Virtual size			: 00000024 (	 36.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00002A00
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_data		segment	dword public 'DATA' use32
		assume cs:_data
		;org 404000h
		dd 0FFh, 2 dup(0FFFFFFFFh)
off_40400C	dd offset dword_403520	; DATA XREF: sub_402F80+3r
					; sub_402F80+12r ...
dword_404010	dd 2			; DATA XREF: TlsCallback_0+13r
					; TlsCallback_0+1Cw ...
dword_404014	dd 0FFFFFFFFh		; DATA XREF: sub_401060+7Ar
dword_404018	dd 0BB40E64Eh		; DATA XREF: sub_403020+3r
					; sub_403020:loc_4030D2w ...
dword_40401C	dd 44BF19B1h		; DATA XREF: sub_403020+31w
					; sub_403020+B8w ...
dword_404020	dd 0			; DATA XREF: sub_4014F0+6r
					; sub_4014F0+42o
		align 1000h
_data		ends

; Section 3. (virtual address 00005000)
; Virtual size			: 00000618 (   1560.)
; Section size in file		: 00000800 (   2048.)
; Offset to raw	data for section: 00002C00
; Flags	40300040: Data Readable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 405000h
; CHAR ProcName[]
ProcName	db '_set_invalid_parameter_handler',0 ; DATA XREF: sub_401180+137o
		align 10h
; CHAR ModuleName[]
ModuleName	db 'libgcj-12.dll',0    ; DATA XREF: sub_4014F0+Fo
; CHAR a_jv_registercl[]
a_jv_registercl	db '_Jv_RegisterClasses',0 ; DATA XREF: sub_4014F0+28o
		align 4
byte_405044	db 0			; DATA XREF: sub_4015BE+6o
					; sub_401601+7o ...
aS		db '"%s" ',0            ; DATA XREF: sub_4015BE+23o
					; sub_401780+9Co ...
aEmptyPattern	db 'empty pattern',0    ; DATA XREF: sub_401601+46o
aMaskLengthMism	db 'mask length mismatch',0 ; DATA XREF: sub_401601+89o
; char Control[]
Control		db ' !xzn*',0           ; DATA XREF: sub_401601+9Bo
aBadCharInMask	db 'bad char in mask',0 ; DATA XREF: sub_401601+B2o
aNoLoadMethodIm	db 'no load method implemented',0 ; DATA XREF: sub_401601+EDo
		align 4
aIncrementalLoa	db 'incremental loading support incomplete',0
					; DATA XREF: sub_401601:loc_401715o
		align 4
aLoaderClaimsTo	db 'loader claims to support saving but doesn',27h,'t implement save',0
					; DATA XREF: sub_401601+13Eo
		align 4
aLoaderSanityCh	db 'Loader sanity check failed for %s: %s',0Ah,0
					; DATA XREF: sub_401601+164o
aS_0		db '"%s"',0Ah,0         ; DATA XREF: sub_401780+Fo
aGdkPixbuf	db 'gdk-pixbuf',0       ; DATA XREF: sub_401780:loc_4017D1o
					; sub_401BB7+112o
aSUSSS		db '"%s" %u "%s" "%s" "%s"',0Ah,0 ; DATA XREF: sub_401780+75o
asc_405158	db '""',0Ah,0           ; DATA XREF: sub_401780+BCo
					; sub_401780+103o
aD		db '%d',0Ah,0           ; DATA XREF: sub_401780+165o
aFill_info	db 'fill_info',0        ; DATA XREF: sub_40191F+69o
aFill_vtable	db 'fill_vtable',0      ; DATA XREF: sub_40191F+8Bo
		align 4
aG_module_openF	db 'g_module_open() failed for %s: %s',0Ah,0 ; DATA XREF: sub_40191F+192o
aCannotLoadLoad	db 'Cannot load loader %s',0Ah,0 ; DATA XREF: sub_40191F+1B3o
aLib		db 'lib',0              ; DATA XREF: sub_401B27+1Co
aGdk_pixbuf_mod	db 'GDK_PIXBUF_MODULE_FILE',0 ; DATA XREF: sub_401B5F+6o
aLoaders_cache	db 'loaders.cache',0    ; DATA XREF: sub_401B5F+30o
a2_10_0		db '2.10.0',0           ; DATA XREF: sub_401B5F+38o
aGdkPixbuf2_0	db 'gdk-pixbuf-2.0',0   ; DATA XREF: sub_401B5F+40o
		align 4
aHomeIntevation	db '/home/intevation/gpg4win/src/playground/install/pkgs/gdk-pixbuf-2'
					; DATA XREF: sub_401BB7+34o
		db '.30.8',0
		align 4
aHomeIntevati_0	db '/home/intevation/gpg4win/src/playground/install/pkgs/gdk-pixbuf-2'
					; DATA XREF: sub_401BB7+3Co
					; sub_401BB7:loc_401CDDo ...
		db '.30.8/lib/gdk-pixbuf-2.0/2.10.0/loaders',0
a_libs		db '.libs',0            ; DATA XREF: sub_401BB7+F8o
aBin		db 'bin',0              ; DATA XREF: sub_401BB7+13Bo
asc_4052AF	db '/',0                ; DATA XREF: sub_401BB7+165o
aUpdateCache	db '--update-cache',0   ; DATA XREF: sub_401BB7+19Fo
aGdkPixbufQuery	db 'gdk-pixbuf-query-loaders',0 ; DATA XREF: sub_401BB7:loc_401DAAo
a2_30_8		db '2.30.8',0           ; DATA XREF: sub_401BB7:loc_401DAFo
aGdkpixbufImage	db '# GdkPixbuf Image Loader Modules file',0Ah ; DATA XREF: sub_401BB7+204o
		db '# Automatically generated file, do not edit',0Ah
		db '# Created by %s from gdk-pixbuf-%s',0Ah
		db '#',0Ah,0
aGdk_pixbuf_m_0	db 'GDK_PIXBUF_MODULEDIR',0 ; DATA XREF: sub_401BB7+222o
aLoaderdirS	db '# LoaderDir = %s',0Ah ; DATA XREF: sub_401BB7+28Co
		db '#',0Ah,0
a_dll		db '.dll',0             ; DATA XREF: sub_401BB7+304o
aS_1		db '%s',0Ah,0           ; DATA XREF: sub_401BB7+427o
					; sub_401BB7+442o
		align 4
; CHAR LibFileName[]
LibFileName	db 'mingwm10.dll',0     ; DATA XREF: TlsCallback_0+4Eo
; CHAR a__mingwthr_rem[]
a__mingwthr_rem	db '__mingwthr_remove_key_dtor',0 ; DATA XREF: TlsCallback_0+71o
; CHAR a__mingwthr_key[]
a__mingwthr_key	db '__mingwthr_key_dtor',0 ; DATA XREF: TlsCallback_0+8Bo
off_4053C8	dd offset TlsCallback_0	; DATA XREF: sub_401180:loc_401273r
aUnknownError	db 'Unknown error',0    ; DATA XREF: sub_4025F0+3o
		align 4
; char Format[]
Format		db '_matherr(): %s in %s(%g, %g)  (retval=%g)',0Ah,0
					; DATA XREF: sub_4025F0+39o
		align 4
aArgumentDomain	db 'Argument domain error (DOMAIN)',0 ; DATA XREF: .rdata:off_4054E8o
aArgumentSingul	db 'Argument singularity (SIGN)',0 ; DATA XREF: .rdata:004054ECo
		align 4
aOverflowRangeE	db 'Overflow range error (OVERFLOW)',0 ; DATA XREF: .rdata:004054F0o
aTheResultIsToo	db 'The result is too small to be represented (UNDERFLOW)',0
					; DATA XREF: .rdata:004054F4o
		align 4
aTotalLossOfSig	db 'Total loss of significance (TLOSS)',0 ; DATA XREF: .rdata:004054F8o
		align 10h
aPartialLossOfS	db 'Partial loss of significance (PLOSS)',0 ; DATA XREF: .rdata:004054FCo
		align 4
off_4054E8	dd offset aArgumentDomain ; DATA XREF: sub_4025F0+16r
					; "Argument domain error (DOMAIN)"
		dd offset aArgumentSingul ; "Argument singularity (SIGN)"
		dd offset aOverflowRangeE ; "Overflow range error (OVERFLOW)"
		dd offset aTheResultIsToo ; "The result	is too small to	be represent"...
		dd offset aTotalLossOfSig ; "Total loss	of significance	(TLOSS)"
		dd offset aPartialLossOfS ; "Partial loss of significance (PLOSS)"
aMingwW64Runtim	db 'Mingw-w64 runtime failure:',0Ah,0 ; DATA XREF: sub_402660+1Do
; char aAddressPHasNoI[]
aAddressPHasNoI	db 'Address %p has no image-section',0 ; DATA XREF: sub_4026C0+20Do
; char aVirtualqueryFa[]
aVirtualqueryFa	db '  VirtualQuery failed for %d bytes at address %p',0
					; DATA XREF: sub_4026C0+1F9o
					; sub_4026C0+225o ...
		align 10h
; char aVirtualprotect[]
aVirtualprotect	db '  VirtualProtect failed with code 0x%x',0 ; DATA XREF: sub_4026C0+1D2o
		align 4
; char aUnknownPseud_0[]
aUnknownPseud_0	db '  Unknown pseudo relocation protocol version %d.',0Ah,0
					; DATA XREF: sub_402900+299o
		align 4
; char aUnknownPseudoR[]
aUnknownPseudoR	db '  Unknown pseudo relocation bit size %d.',0Ah,0
					; DATA XREF: sub_402900+1B7o
		align 4
; const	WCHAR aMsvcrt_dll
aMsvcrt_dll:				; DATA XREF: sub_402EB0:loc_402F50o
		unicode	0, <msvcrt.dll>,0
		align 10h
off_405610	dd offset dword_406360	; DATA XREF: .text:00403148o
		dd offset dword_406080
dword_405618	dd 0			; DATA XREF: sub_402900+59o
					; sub_402900+5Eo ...
dword_40561C	dd 0			; DATA XREF: sub_402900+7Fr
dword_405620	dd 0			; DATA XREF: sub_402900:loc_402A4Cr
dword_405624	dd 77h dup(0)		; DATA XREF: sub_402900+155o
		align 1000h
_rdata		ends

; Section 4. (virtual address 00006000)
; Virtual size			: 0000041C (   1052.)
; Section size in file		: 00000000 (	  0.)
; Offset to raw	data for section: 00000000
; Flags	C0600080: Bss Readable Writable
; Alignment	: 32 bytes
; ===========================================================================

; Segment type:	Uninitialized
; Segment permissions: Read/Write
; Segment alignment '32byte' can not be represented in assembly
_bss		segment	para public 'BSS' use32
		assume cs:_bss
		;org 406000h
		assume es:nothing, ss:nothing, ds:_data, fs:nothing, gs:nothing
dword_406000	dd ?			; DATA XREF: sub_401180+D0w
					; sub_401180+27Dr
dword_406004	dd ?			; DATA XREF: sub_401010+2Ao
					; sub_401180:loc_401344r ...
dword_406008	dd ?			; DATA XREF: sub_401010+18o
					; sub_401180+1DEr ...
dword_40600C	dd ?			; DATA XREF: sub_401010+10o
					; sub_401180+243r ...
dword_406010	dd ?			; DATA XREF: sub_401180+272w
					; sub_401180+28Cr
dword_406014	dd ?			; DATA XREF: sub_401060:loc_401098w
					; sub_401180+26Ar
dword_406018	dd ?			; DATA XREF: sub_401010+8o
					; sub_401010+20w
dword_40601C	dd ?			; DATA XREF: sub_401010+3Aw
dword_406020	dd ?			; DATA XREF: sub_401B27+6r
					; sub_401B27+2Cw ...
dword_406024	dd ?			; DATA XREF: sub_401B00+6r
					; sub_401B00+1Bw ...
dword_406028	dd ?			; DATA XREF: sub_401010+3r
dword_40602C	dd ?			; DATA XREF: sub_401010+25r
dword_406030	dd ?			; DATA XREF: sub_401060+22w
dword_406034	dd ?			; DATA XREF: sub_401060+18w
dword_406038	dd ?			; DATA XREF: sub_401060+Ew
TlsIndex	dd ?			; DATA XREF: .tls:TlsIndex_ptro
; HMODULE hLibModule
hLibModule	dd ?			; DATA XREF: TlsCallback_0+60w
					; TlsCallback_0+83r ...
dword_406044	dd ?			; DATA XREF: sub_401060+2Cw
dword_406048	dd ?			; DATA XREF: sub_401060+3Dr
					; sub_401180+61r ...
dword_40604C	dd ?			; DATA XREF: sub_401060+5Er
dword_406050	dd ?			; DATA XREF: sub_401180+12Dw
					; TopLevelExceptionFilter:loc_40246Cr
dword_406054	dd ?			; DATA XREF: .text:00402593r
					; sub_4025E0+4w
dword_406058	dd ?			; DATA XREF: sub_402900+9r
					; sub_402900:loc_402920w
dword_40605C	dd ?			; DATA XREF: sub_4026C0+1Dr
					; sub_4026C0+58r ...
dword_406060	dd ?			; DATA XREF: sub_4026C0+Br
					; sub_4026C0:loc_40277Fw ...
dword_406064	dd ?			; DATA XREF: sub_402EB0+4r
					; sub_402EB0+92w ...
dword_406068	dd ?			; DATA XREF: sub_403000r
					; sub_403000:loc_403010w
		align 20h
dword_406080	dd 2Bh dup(?)		; DATA XREF: .rdata:00405614o
dword_40612C	dd ?			; DATA XREF: .text:0040312Aw
		dd 2 dup(?)
dword_406138	dd ?			; DATA XREF: .text:00403116w
		dd 2 dup(?)
dword_406144	dd ?			; DATA XREF: .text:004030FCw
		dd 86h dup(?)
dword_406360	dd ?			; DATA XREF: .text:00403102w
					; .rdata:off_405610o
dword_406364	dd ?			; DATA XREF: .text:0040310Cw
		dd ?
dword_40636C	dd ?			; DATA XREF: .text:0040311Bw
		dd 14h dup(?)
dword_4063C0	dd ?			; DATA XREF: .text:004031F3r
					; .text:00403284r ...
; struct _RTL_CRITICAL_SECTION CriticalSection
CriticalSection	_RTL_CRITICAL_SECTION <?> ; DATA XREF: sub_403180+7o
					; sub_403180:loc_4031D5o ...
dword_4063DC	dd ?			; DATA XREF: sub_403180+14r
					; .text:00403248r ...
		dd ?
dword_4063E4	dd ?			; DATA XREF: sub_401180+1A8w
dword_4063E8	dd ?			; DATA XREF: sub_401180+1BFw
dword_4063EC	dd ?			; DATA XREF: sub_401180+1B2w
dword_4063F0	dd ?			; DATA XREF: TlsCallback_0+A3w
					; TlsCallback_0:loc_402253w ...
dword_4063F4	dd ?			; DATA XREF: TlsCallback_0+7Ew
					; TlsCallback_0+AEr ...
dword_4063F8	dd ?			; DATA XREF: TlsCallback_0:loc_4021A4w
dword_4063FC	dd ?			; DATA XREF: sub_401060+64w
					; sub_402320+3Fr ...
dword_406400	dd ?			; DATA XREF: sub_401060+69w
					; sub_402320+4r ...
dword_406404	dd ?			; DATA XREF: sub_401180+A0o
					; sub_401180+ECw
dword_406408	dd ?			; DATA XREF: sub_401180+B3r
					; sub_401180:loc_401243r ...
		align 1000h
_bss		ends

;
; Imports from libglib-2.0-0.dll
;
; Section 5. (virtual address 00007000)
; Virtual size			: 00000AAC (   2732.)
; Section size in file		: 00000C00 (   3072.)
; Offset to raw	data for section: 00003400
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Externs
; _idata
		extrn __imp_g_ascii_strcasecmp:dword ; DATA XREF: g_ascii_strcasecmpr
		extrn __imp_g_ascii_strncasecmp:dword ;	DATA XREF: g_ascii_strncasecmpr
		extrn __imp_g_build_filename:dword ; DATA XREF:	g_build_filenamer
		extrn __imp_g_dir_close:dword ;	DATA XREF: g_dir_closer
		extrn __imp_g_dir_open_utf8:dword ; DATA XREF: g_dir_open_utf8r
		extrn __imp_g_dir_read_name_utf8:dword ; DATA XREF: g_dir_read_name_utf8r
		extrn __imp_g_file_set_contents:dword ;	DATA XREF: g_file_set_contentsr
		extrn __imp_g_fprintf:dword ; DATA XREF: g_fprintfr
		extrn __imp_g_free:dword ; DATA	XREF: g_freer
		extrn __imp_g_get_current_dir_utf8:dword
					; DATA XREF: g_get_current_dir_utf8r
		extrn __imp_g_get_prgname:dword	; DATA XREF: g_get_prgnamer
		extrn __imp_g_getenv_utf8:dword	; DATA XREF: g_getenv_utf8r
		extrn __imp_g_locale_to_utf8:dword ; DATA XREF:	g_locale_to_utf8r
		extrn __imp_g_malloc0_n:dword ;	DATA XREF: g_malloc0_nr
		extrn __imp_g_path_is_absolute:dword ; DATA XREF: g_path_is_absoluter
		extrn __imp_g_print:dword ; DATA XREF: g_printr
		extrn __imp_g_strconcat:dword ;	DATA XREF: g_strconcatr
		extrn __imp_g_strdup:dword ; DATA XREF:	g_strdupr
		extrn __imp_g_strescape:dword ;	DATA XREF: g_strescaper
		extrn __imp_g_string_append:dword ; DATA XREF: g_string_appendr
		extrn __imp_g_string_append_printf:dword
					; DATA XREF: g_string_append_printfr
		extrn __imp_g_string_insert_c:dword ; DATA XREF: g_string_insert_cr
		extrn __imp_g_string_new:dword ; DATA XREF: g_string_newr
		extrn __imp_g_utf16_to_utf8:dword ; DATA XREF: g_utf16_to_utf8r
		extrn __imp_g_win32_get_package_installation_directory_of_module:dword
					; DATA XREF: g_win32_get_package_installation_directory_of_moduler

;
; Imports from libgmodule-2.0-0.dll
;
		extrn __imp_g_module_close:dword ; DATA	XREF: g_module_closer
		extrn __imp_g_module_error:dword ; DATA	XREF: g_module_errorr
		extrn __imp_g_module_open_utf8:dword ; DATA XREF: g_module_open_utf8r
		extrn __imp_g_module_symbol:dword ; DATA XREF: g_module_symbolr

;
; Imports from libgobject-2.0-0.dll
;
		extrn __imp_g_type_ensure:dword	; DATA XREF: g_type_ensurer

;
; Imports from KERNEL32.dll
;
; void __stdcall DeleteCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn DeleteCriticalSection:dword ; CODE XREF: sub_403320+44p
					; DATA XREF: sub_403320+44r
; void __stdcall EnterCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn EnterCriticalSection:dword ; CODE	XREF: sub_403180+Ep
					; .text:00403242p ...
; BOOL __stdcall FreeLibrary(HMODULE hLibModule)
		extrn FreeLibrary:dword	; CODE XREF: TlsCallback_0+10Ap
					; DATA XREF: TlsCallback_0+10Ar
; HANDLE __stdcall GetCurrentProcess()
		extrn GetCurrentProcess:dword ;	CODE XREF: .text:00403158p
					; DATA XREF: .text:00403158r
; DWORD	__stdcall GetCurrentProcessId()
		extrn GetCurrentProcessId:dword	; CODE XREF: sub_403020+6Cp
					; DATA XREF: sub_403020+6Cr
; DWORD	__stdcall GetCurrentThreadId()
		extrn GetCurrentThreadId:dword ; CODE XREF: sub_403020+74p
					; DATA XREF: sub_403020+74r
; DWORD	__stdcall GetLastError()
		extrn GetLastError:dword ; CODE	XREF: sub_4026C0+1CCp
					; sub_403180+3Cp
					; DATA XREF: ...
; DWORD	__stdcall GetModuleFileNameW(HMODULE hModule, LPWSTR lpFilename, DWORD nSize)
		extrn GetModuleFileNameW:dword ; CODE XREF: sub_401BB7+84p
					; DATA XREF: sub_401BB7+7Fr
; HMODULE __stdcall GetModuleHandleA(LPCSTR lpModuleName)
		extrn GetModuleHandleA:dword ; CODE XREF: sub_4014F0+16p
					; sub_402EB0+87p
					; DATA XREF: ...
; FARPROC __stdcall GetProcAddress(HMODULE hModule, LPCSTR lpProcName)
		extrn GetProcAddress:dword ; CODE XREF:	sub_401180+142p
					; sub_4014F0+33p ...
; void __stdcall GetStartupInfoA(LPSTARTUPINFOA	lpStartupInfo)
		extrn GetStartupInfoA:dword ; CODE XREF: sub_401180+2F6p
					; DATA XREF: sub_401180+2F6r
; void __stdcall GetSystemTimeAsFileTime(LPFILETIME lpSystemTimeAsFileTime)
		extrn GetSystemTimeAsFileTime:dword ; CODE XREF: sub_403020+57p
					; DATA XREF: sub_403020+57r
; DWORD	__stdcall GetTickCount()
		extrn GetTickCount:dword ; CODE	XREF: sub_403020+7Cp
					; DATA XREF: sub_403020+7Cr
; void __stdcall InitializeCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn InitializeCriticalSection:dword ;	CODE XREF: sub_403320+87p
					; DATA XREF: sub_403320+87r
; void __stdcall LeaveCriticalSection(LPCRITICAL_SECTION lpCriticalSection)
		extrn LeaveCriticalSection:dword ; CODE	XREF: sub_403180+5Cp
					; .text:00403260p ...
; HMODULE __stdcall LoadLibraryA(LPCSTR	lpLibFileName)
		extrn LoadLibraryA:dword ; CODE	XREF: TlsCallback_0+55p
					; DATA XREF: TlsCallback_0+55r
; HMODULE __stdcall LoadLibraryW(LPCWSTR lpLibFileName)
		extrn LoadLibraryW:dword ; CODE	XREF: sub_402EB0+A7p
					; DATA XREF: sub_402EB0+A7r
; BOOL __stdcall QueryPerformanceCounter(LARGE_INTEGER *lpPerformanceCount)
		extrn QueryPerformanceCounter:dword ; CODE XREF: sub_403020+8Bp
					; DATA XREF: sub_403020+8Br
; LPTOP_LEVEL_EXCEPTION_FILTER __stdcall SetUnhandledExceptionFilter(LPTOP_LEVEL_EXCEPTION_FILTER lpTopLevelExceptionFilter)
		extrn SetUnhandledExceptionFilter:dword	; CODE XREF: sub_401180+124p
					; .text:0040313Fp
					; DATA XREF: ...
; void __stdcall Sleep(DWORD dwMilliseconds)
		extrn Sleep:dword	; CODE XREF: sub_401180+8Fp
					; DATA XREF: sub_401180+74r
; BOOL __stdcall TerminateProcess(HANDLE hProcess, UINT	uExitCode)
		extrn TerminateProcess:dword ; CODE XREF: .text:00403169p
					; DATA XREF: .text:00403169r
; LPVOID __stdcall TlsGetValue(DWORD dwTlsIndex)
		extrn TlsGetValue:dword	; CODE XREF: sub_403180+35p
					; DATA XREF: sub_403180+21r
; LONG __stdcall UnhandledExceptionFilter(struct _EXCEPTION_POINTERS *ExceptionInfo)
		extrn UnhandledExceptionFilter:dword ; CODE XREF: .text:0040314Fp
					; DATA XREF: .text:0040314Fr
; BOOL __stdcall VirtualProtect(LPVOID lpAddress, SIZE_T dwSize, DWORD flNewProtect, PDWORD lpflOldProtect)
		extrn VirtualProtect:dword ; CODE XREF:	sub_4026C0+142p
					; sub_4026C0+184p ...
; SIZE_T __stdcall VirtualQuery(LPCVOID	lpAddress, PMEMORY_BASIC_INFORMATION lpBuffer, SIZE_T dwLength)
		extrn VirtualQuery:dword ; CODE	XREF: sub_4026C0+A1p
					; sub_4026C0+D9p ...

;
; Imports from msvcrt.dll
;
		extrn __imp___dllonexit:dword ;	DATA XREF: __dllonexitr
		extrn __imp___getmainargs:dword	; DATA XREF: __getmainargsr
		extrn __initenv:dword	; DATA XREF: sub_401180+23Er
		extrn __lconv_init:dword ; DATA	XREF: sub_4022F0r
		extrn __imp___set_app_type:dword ; DATA	XREF: __set_app_typer
		extrn __imp___setusermatherr:dword ; DATA XREF:	__setusermatherrr
		extrn _acmdln:dword	; DATA XREF: sub_401180+166r
		extrn __imp__amsg_exit:dword ; DATA XREF: _amsg_exitr
		extrn __imp__cexit:dword ; DATA	XREF: _cexitr
; int fmode
		extrn _fmode:dword	; DATA XREF: sub_401060+6Er
		extrn __imp__initterm:dword ; DATA XREF: _inittermr
		extrn _iob:dword	; DATA XREF: sub_401601:loc_40174Fr
					; sub_40191F+17Er ...
		extrn __imp__lock:dword	; DATA XREF: _lockr
; _onexit_t __cdecl onexit(_onexit_t Func)
		extrn _onexit:dword	; CODE XREF: sub_402320+A3p
					; DATA XREF: sub_402320+A3r
		extrn __imp__unlock:dword ; DATA XREF: _unlockr
		extrn _winmajor:dword	; DATA XREF: TlsCallback_0+4r
; void __cdecl abort()
		extrn __imp_abort:dword	; DATA XREF: abortr
; void *__cdecl	calloc(size_t NumOfElements, size_t SizeOfElements)
		extrn __imp_calloc:dword ; DATA	XREF: callocr
; void __cdecl __noreturn exit(int Code)
		extrn __imp_exit:dword	; DATA XREF: exitr
; int fprintf(FILE *File, const	char *Format, ...)
		extrn __imp_fprintf:dword ; DATA XREF: fprintfr
; void __cdecl free(void *Memory)
		extrn __imp_free:dword	; DATA XREF: freer
; size_t __cdecl fwrite(const void *Str, size_t	Size, size_t Count, FILE *File)
		extrn __imp_fwrite:dword ; DATA	XREF: fwriter
; void *__cdecl	malloc(size_t Size)
		extrn __imp_malloc:dword ; DATA	XREF: mallocr
; void *__cdecl	memcpy(void *Dst, const	void *Src, size_t Size)
		extrn __imp_memcpy:dword ; DATA	XREF: memcpyr
		extrn __imp_signal:dword ; DATA	XREF: signalr
; size_t __cdecl strlen(const char *Str)
		extrn __imp_strlen:dword ; DATA	XREF: strlenr
; int __cdecl strncmp(const char *Str1,	const char *Str2, size_t MaxCount)
		extrn __imp_strncmp:dword ; DATA XREF: strncmpr
; char *__cdecl	strrchr(const char *Str, int Ch)
		extrn __imp_strrchr:dword ; DATA XREF: strrchrr
; size_t __cdecl strspn(const char *Str, const char *Control)
		extrn __imp_strspn:dword ; DATA	XREF: strspnr
; int __cdecl vfprintf(FILE *File, const char *Format, va_list ArgList)
		extrn __imp_vfprintf:dword ; DATA XREF:	vfprintfr


; Section 6. (virtual address 00008000)
; Virtual size			: 00000034 (	 52.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00004000
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_CRT		segment	dword public 'DATA' use32
		assume cs:_CRT
		;org 408000h
dword_408000	dd 0			; DATA XREF: sub_401180+2D8o
		dd offset sub_401010
dword_408008	dd 0			; DATA XREF: sub_401180:loc_401450o
dword_40800C	dd 0			; DATA XREF: sub_401180+316o
		dd offset sub_401060
		dd offset sub_4022F0
dword_408018	dd 2 dup(0)		; DATA XREF: sub_401180+30Eo
TlsCallbacks	dd offset TlsCallback_0	; DATA XREF: .tls:TlsCallbacks_ptro
		dd offset TlsCallback_1
		dd 0
		align 10h
dword_408030	dd 74h dup(0)		; DATA XREF: TlsCallback_0:loc_402293o
					; TlsCallback_0+138o ...
		align 1000h
_CRT		ends

; Section 7. (virtual address 00009000)
; Virtual size			: 00000020 (	 32.)
; Section size in file		: 00000200 (	512.)
; Offset to raw	data for section: 00004200
; Flags	C0300040: Data Readable	Writable
; Alignment	: 4 bytes
; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_tls		segment	dword public 'DATA' use32
		assume cs:_tls
		;org 409000h
TlsDirectory	dd offset TlsStart
TlsEnd_ptr	dd offset TlsEnd
TlsIndex_ptr	dd offset TlsIndex
TlsCallbacks_ptr dd offset TlsCallbacks
TlsSizeOfZeroFill dd 0
TlsCharacteristics dd 0
		db 0
TlsStart	db 3 dup(0)		; DATA XREF: .tls:TlsDirectoryo
TlsEnd		dd 79h dup(0)		; DATA XREF: .tls:TlsEnd_ptro
		align 1000h
_tls		ends


		end start
