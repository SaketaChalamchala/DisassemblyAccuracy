; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23918.0 

	TITLE	C:\workpace\openssl\openssl-1.0.2h\crypto\pkcs12\p12_attr.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	_PKCS12_add_localkeyid
PUBLIC	_PKCS12_add_friendlyname_asc
PUBLIC	_PKCS12_add_CSPName_asc
PUBLIC	_PKCS12_add_friendlyname_uni
PUBLIC	_PKCS8_add_keyusage
PUBLIC	_PKCS12_get_attr_gen
PUBLIC	_PKCS12_get_friendlyname
EXTRN	_sk_num:PROC
EXTRN	_sk_value:PROC
EXTRN	_OBJ_obj2nid:PROC
EXTRN	_X509at_add1_attr_by_NID:PROC
EXTRN	_OPENSSL_uni2asc:PROC
; Function compile flags: /Ogtpy
;	COMDAT _PKCS12_get_friendlyname
_TEXT	SEGMENT
_bag$ = 8						; size = 4
_PKCS12_get_friendlyname PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\pkcs12\p12_attr.c
; Line 141
	mov	eax, DWORD PTR _bag$[esp-4]
	push	156					; 0000009cH
	push	DWORD PTR [eax+8]
	call	_PKCS12_get_attr_gen
	add	esp, 8
	test	eax, eax
	jne	SHORT $LN2@PKCS12_get
$LN5@PKCS12_get:
; Line 142
	xor	eax, eax
; Line 147
	ret	0
$LN2@PKCS12_get:
; Line 143
	cmp	DWORD PTR [eax], 30			; 0000001eH
	jne	SHORT $LN5@PKCS12_get
; Line 145
	mov	eax, DWORD PTR [eax+4]
	push	DWORD PTR [eax]
	push	DWORD PTR [eax+8]
	call	_OPENSSL_uni2asc
	add	esp, 8
; Line 147
	ret	0
_PKCS12_get_friendlyname ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS12_get_attr_gen
_TEXT	SEGMENT
_attrs$ = 8						; size = 4
_attr_nid$ = 12						; size = 4
_PKCS12_get_attr_gen PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\pkcs12\p12_attr.c
; Line 121
	push	edi
; Line 124
	mov	edi, DWORD PTR _attrs$[esp]
	test	edi, edi
	jne	SHORT $LN5@PKCS12_get
; Line 125
	xor	eax, eax
	pop	edi
; Line 136
	ret	0
$LN5@PKCS12_get:
	push	ebx
	push	ebp
	push	esi
; Line 126
	push	edi
	xor	esi, esi
	call	_sk_num
	add	esp, 4
	test	eax, eax
	jle	SHORT $LN3@PKCS12_get
	mov	ebp, DWORD PTR _attr_nid$[esp+12]
$LL4@PKCS12_get:
; Line 127
	push	esi
	push	edi
	call	_sk_value
	mov	ebx, eax
; Line 128
	push	DWORD PTR [ebx]
	call	_OBJ_obj2nid
	add	esp, 12					; 0000000cH
	cmp	eax, ebp
	je	SHORT $LN11@PKCS12_get
; Line 126
	push	edi
	inc	esi
	call	_sk_num
	add	esp, 4
	cmp	esi, eax
	jl	SHORT $LL4@PKCS12_get
$LN3@PKCS12_get:
	pop	esi
	pop	ebp
	pop	ebx
; Line 135
	xor	eax, eax
	pop	edi
; Line 136
	ret	0
$LN11@PKCS12_get:
; Line 129
	push	DWORD PTR [ebx+8]
	call	_sk_num
	add	esp, 4
	test	eax, eax
	je	SHORT $LN3@PKCS12_get
; Line 130
	push	0
	push	DWORD PTR [ebx+8]
	call	_sk_value
	add	esp, 8
	pop	esi
	pop	ebp
	pop	ebx
	pop	edi
; Line 136
	ret	0
_PKCS12_get_attr_gen ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS8_add_keyusage
_TEXT	SEGMENT
_p8$ = 8						; size = 4
_us_val$ = 12						; size = 1
_usage$ = 12						; size = 4
_PKCS8_add_keyusage PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\pkcs12\p12_attr.c
; Line 81
	mov	al, BYTE PTR _usage$[esp-4]
	mov	BYTE PTR _us_val$[esp-4], al
; Line 82
	lea	eax, DWORD PTR _us_val$[esp-4]
	push	1
	push	eax
	mov	eax, DWORD PTR _p8$[esp+4]
	push	3
	add	eax, 16					; 00000010H
	push	83					; 00000053H
	push	eax
	call	_X509at_add1_attr_by_NID
	add	esp, 20					; 00000014H
	neg	eax
	sbb	eax, eax
	neg	eax
; Line 87
	ret	0
_PKCS8_add_keyusage ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS12_add_friendlyname_uni
_TEXT	SEGMENT
_bag$ = 8						; size = 4
_name$ = 12						; size = 4
_namelen$ = 16						; size = 4
_PKCS12_add_friendlyname_uni PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\pkcs12\p12_attr.c
; Line 104
	push	DWORD PTR _namelen$[esp-4]
	mov	eax, DWORD PTR _bag$[esp]
	push	DWORD PTR _name$[esp]
	add	eax, 8
	push	4098					; 00001002H
	push	156					; 0000009cH
	push	eax
	call	_X509at_add1_attr_by_NID
	add	esp, 20					; 00000014H
	neg	eax
	sbb	eax, eax
	neg	eax
; Line 109
	ret	0
_PKCS12_add_friendlyname_uni ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS12_add_CSPName_asc
_TEXT	SEGMENT
_bag$ = 8						; size = 4
_name$ = 12						; size = 4
_namelen$ = 16						; size = 4
_PKCS12_add_CSPName_asc PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\pkcs12\p12_attr.c
; Line 113
	push	DWORD PTR _namelen$[esp-4]
	mov	eax, DWORD PTR _bag$[esp]
	push	DWORD PTR _name$[esp]
	add	eax, 8
	push	4097					; 00001001H
	push	417					; 000001a1H
	push	eax
	call	_X509at_add1_attr_by_NID
	add	esp, 20					; 00000014H
	neg	eax
	sbb	eax, eax
	neg	eax
; Line 118
	ret	0
_PKCS12_add_CSPName_asc ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS12_add_friendlyname_asc
_TEXT	SEGMENT
_bag$ = 8						; size = 4
_name$ = 12						; size = 4
_namelen$ = 16						; size = 4
_PKCS12_add_friendlyname_asc PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\pkcs12\p12_attr.c
; Line 94
	push	DWORD PTR _namelen$[esp-4]
	mov	eax, DWORD PTR _bag$[esp]
	push	DWORD PTR _name$[esp]
	add	eax, 8
	push	4097					; 00001001H
	push	156					; 0000009cH
	push	eax
	call	_X509at_add1_attr_by_NID
	add	esp, 20					; 00000014H
	neg	eax
	sbb	eax, eax
	neg	eax
; Line 99
	ret	0
_PKCS12_add_friendlyname_asc ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS12_add_localkeyid
_TEXT	SEGMENT
_bag$ = 8						; size = 4
_name$ = 12						; size = 4
_namelen$ = 16						; size = 4
_PKCS12_add_localkeyid PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\pkcs12\p12_attr.c
; Line 69
	push	DWORD PTR _namelen$[esp-4]
	mov	eax, DWORD PTR _bag$[esp]
	push	DWORD PTR _name$[esp]
	add	eax, 8
	push	4
	push	157					; 0000009dH
	push	eax
	call	_X509at_add1_attr_by_NID
	add	esp, 20					; 00000014H
	neg	eax
	sbb	eax, eax
	neg	eax
; Line 74
	ret	0
_PKCS12_add_localkeyid ENDP
_TEXT	ENDS
END
