; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23918.0 

	TITLE	C:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	??_C@_07CPCPJPKL@version?$AA@			; `string'
PUBLIC	??_C@_07PLCMOKAM@pkeyalg?$AA@			; `string'
PUBLIC	??_C@_04JMMJFDFL@pkey?$AA@			; `string'
PUBLIC	??_C@_0L@HNMJPKNA@attributes?$AA@		; `string'
PUBLIC	??_C@_0BE@LDIFBBLG@PKCS8_PRIV_KEY_INFO?$AA@	; `string'
EXTRN	_ASN1_INTEGER_it:PROC
EXTRN	_X509_ALGOR_it:PROC
EXTRN	_X509_ATTRIBUTE_it:PROC
EXTRN	_ASN1_ANY_it:PROC
;	COMDAT ??_C@_0BE@LDIFBBLG@PKCS8_PRIV_KEY_INFO?$AA@
CONST	SEGMENT
??_C@_0BE@LDIFBBLG@PKCS8_PRIV_KEY_INFO?$AA@ DB 'PKCS8_PRIV_KEY_INFO', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@HNMJPKNA@attributes?$AA@
CONST	SEGMENT
??_C@_0L@HNMJPKNA@attributes?$AA@ DB 'attributes', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_04JMMJFDFL@pkey?$AA@
CONST	SEGMENT
??_C@_04JMMJFDFL@pkey?$AA@ DB 'pkey', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_07PLCMOKAM@pkeyalg?$AA@
CONST	SEGMENT
??_C@_07PLCMOKAM@pkeyalg?$AA@ DB 'pkeyalg', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_07CPCPJPKL@version?$AA@
CONST	SEGMENT
??_C@_07CPCPJPKL@version?$AA@ DB 'version', 00H		; `string'
CONST	ENDS
CONST	SEGMENT
_PKCS8_PRIV_KEY_INFO_aux DD 00H
	DD	00H
	DD	00H
	DD	00H
	DD	FLAT:_pkey_cb
	DD	00H
_PKCS8_PRIV_KEY_INFO_seq_tt DD 00H
	DD	00H
	DD	04H
	DD	FLAT:??_C@_07CPCPJPKL@version?$AA@
	DD	FLAT:_ASN1_INTEGER_it
	DD	00H
	DD	00H
	DD	08H
	DD	FLAT:??_C@_07PLCMOKAM@pkeyalg?$AA@
	DD	FLAT:_X509_ALGOR_it
	DD	00H
	DD	00H
	DD	0cH
	DD	FLAT:??_C@_04JMMJFDFL@pkey?$AA@
	DD	FLAT:_ASN1_ANY_it
	DD	08bH
	DD	00H
	DD	010H
	DD	FLAT:??_C@_0L@HNMJPKNA@attributes?$AA@
	DD	FLAT:_X509_ATTRIBUTE_it
?local_it@?1??PKCS8_PRIV_KEY_INFO_it@@9@9 DB 01H	; `PKCS8_PRIV_KEY_INFO_it'::`2'::local_it
	ORG $+3
	DD	010H
	DD	FLAT:_PKCS8_PRIV_KEY_INFO_seq_tt
	DD	04H
	DD	FLAT:_PKCS8_PRIV_KEY_INFO_aux
	DD	014H
	DD	FLAT:??_C@_0BE@LDIFBBLG@PKCS8_PRIV_KEY_INFO?$AA@
CONST	ENDS
PUBLIC	_PKCS8_PRIV_KEY_INFO_new
PUBLIC	_PKCS8_PRIV_KEY_INFO_free
PUBLIC	_d2i_PKCS8_PRIV_KEY_INFO
PUBLIC	_i2d_PKCS8_PRIV_KEY_INFO
PUBLIC	_PKCS8_PRIV_KEY_INFO_it
PUBLIC	_PKCS8_pkey_set0
PUBLIC	_PKCS8_pkey_get0
EXTRN	_OPENSSL_cleanse:PROC
EXTRN	_ASN1_TYPE_set:PROC
EXTRN	_ASN1_OCTET_STRING_new:PROC
EXTRN	_ASN1_INTEGER_set:PROC
EXTRN	_ASN1_item_new:PROC
EXTRN	_ASN1_item_free:PROC
EXTRN	_ASN1_item_d2i:PROC
EXTRN	_ASN1_item_i2d:PROC
EXTRN	_X509_ALGOR_set0:PROC
; Function compile flags: /Ogtpy
;	COMDAT _pkey_cb
_TEXT	SEGMENT
_operation$ = 8						; size = 4
_pval$ = 12						; size = 4
_it$ = 16						; size = 4
_exarg$ = 20						; size = 4
_pkey_cb PROC						; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
; Line 70
	cmp	DWORD PTR _operation$[esp-4], 2
	jne	SHORT $LN8@pkey_cb
; Line 71
	mov	eax, DWORD PTR _pval$[esp-4]
	mov	eax, DWORD PTR [eax]
; Line 73
	mov	eax, DWORD PTR [eax+12]
	test	eax, eax
	je	SHORT $LN8@pkey_cb
	cmp	DWORD PTR [eax], 4
	jne	SHORT $LN8@pkey_cb
	mov	eax, DWORD PTR [eax+4]
	test	eax, eax
	je	SHORT $LN8@pkey_cb
; Line 74
	push	DWORD PTR [eax]
	push	DWORD PTR [eax+8]
	call	_OPENSSL_cleanse
	add	esp, 8
$LN8@pkey_cb:
; Line 77
	mov	eax, 1
; Line 78
	ret	0
_pkey_cb ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS8_pkey_get0
_TEXT	SEGMENT
_ppkalg$ = 8						; size = 4
_pk$ = 12						; size = 4
_ppklen$ = 16						; size = 4
_pa$ = 20						; size = 4
_p8$ = 24						; size = 4
_PKCS8_pkey_get0 PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
; Line 126
	mov	ecx, DWORD PTR _ppkalg$[esp-4]
	mov	edx, DWORD PTR _p8$[esp-4]
	test	ecx, ecx
	je	SHORT $LN2@PKCS8_pkey
; Line 127
	mov	eax, DWORD PTR [edx+8]
	mov	eax, DWORD PTR [eax]
	mov	DWORD PTR [ecx], eax
$LN2@PKCS8_pkey:
; Line 128
	mov	ecx, DWORD PTR [edx+12]
	push	esi
	mov	eax, DWORD PTR [ecx]
	cmp	eax, 4
	jne	SHORT $LN3@PKCS8_pkey
; Line 129
	mov	DWORD PTR [edx], 0
; Line 133
	jmp	SHORT $LN12@PKCS8_pkey
$LN3@PKCS8_pkey:
; Line 134
	cmp	eax, 16					; 00000010H
	jne	SHORT $LN6@PKCS8_pkey
; Line 135
	mov	DWORD PTR [edx], 1
$LN12@PKCS8_pkey:
; Line 136
	mov	esi, DWORD PTR _pk$[esp]
	test	esi, esi
	je	SHORT $LN8@PKCS8_pkey
; Line 137
	mov	eax, DWORD PTR [ecx+4]
	mov	eax, DWORD PTR [eax+8]
	mov	DWORD PTR [esi], eax
; Line 138
	mov	eax, DWORD PTR [edx+12]
	mov	eax, DWORD PTR [eax+4]
	mov	ecx, DWORD PTR [eax]
	mov	eax, DWORD PTR _ppklen$[esp]
	mov	DWORD PTR [eax], ecx
$LN8@PKCS8_pkey:
; Line 142
	mov	ecx, DWORD PTR _pa$[esp]
	test	ecx, ecx
	je	SHORT $LN9@PKCS8_pkey
; Line 143
	mov	eax, DWORD PTR [edx+8]
	mov	DWORD PTR [ecx], eax
$LN9@PKCS8_pkey:
; Line 144
	mov	eax, 1
	pop	esi
; Line 145
	ret	0
$LN6@PKCS8_pkey:
; Line 141
	xor	eax, eax
	pop	esi
; Line 145
	ret	0
_PKCS8_pkey_get0 ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS8_pkey_set0
_TEXT	SEGMENT
_priv$ = 8						; size = 4
_aobj$ = 12						; size = 4
_version$ = 16						; size = 4
_ptype$ = 20						; size = 4
_pval$ = 24						; size = 4
_penc$ = 28						; size = 4
_penclen$ = 32						; size = 4
_PKCS8_pkey_set0 PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
; Line 94
	mov	eax, DWORD PTR _version$[esp-4]
	push	esi
	xor	esi, esi
	push	edi
	mov	edi, DWORD PTR _priv$[esp+4]
	test	eax, eax
	js	SHORT $LN3@PKCS8_pkey
; Line 95
	push	eax
	push	DWORD PTR [edi+4]
	call	_ASN1_INTEGER_set
	add	esp, 8
	test	eax, eax
	jne	SHORT $LN3@PKCS8_pkey
	pop	edi
	pop	esi
; Line 120
	ret	0
$LN3@PKCS8_pkey:
	push	ebx
; Line 98
	mov	ebx, DWORD PTR _penc$[esp+8]
	test	ebx, ebx
	je	SHORT $LN4@PKCS8_pkey
; Line 101
	call	_ASN1_OCTET_STRING_new
	mov	ecx, eax
; Line 102
	test	ecx, ecx
	je	SHORT $LN9@PKCS8_pkey
; Line 106
	mov	eax, DWORD PTR _penclen$[esp+8]
	lea	esi, DWORD PTR [ecx+8]
	mov	DWORD PTR [ecx], eax
; Line 107
	mov	edx, 16					; 00000010H
	mov	DWORD PTR [esi], ebx
	mov	eax, 4
	cmp	DWORD PTR [edi], 1
; Line 111
	push	ecx
	cmove	eax, edx
	push	eax
	push	DWORD PTR [edi+12]
	call	_ASN1_TYPE_set
	add	esp, 12					; 0000000cH
$LN4@PKCS8_pkey:
; Line 113
	push	DWORD PTR _pval$[esp+8]
	push	DWORD PTR _ptype$[esp+12]
	push	DWORD PTR _aobj$[esp+16]
	push	DWORD PTR [edi+8]
	call	_X509_ALGOR_set0
	add	esp, 16					; 00000010H
	test	eax, eax
	jne	SHORT $LN8@PKCS8_pkey
; Line 115
	test	esi, esi
	je	SHORT $LN9@PKCS8_pkey
; Line 116
	mov	DWORD PTR [esi], eax
$LN9@PKCS8_pkey:
	pop	ebx
	pop	edi
; Line 117
	xor	eax, eax
	pop	esi
; Line 120
	ret	0
$LN8@PKCS8_pkey:
	pop	ebx
	pop	edi
; Line 119
	mov	eax, 1
	pop	esi
; Line 120
	ret	0
_PKCS8_pkey_set0 ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS8_PRIV_KEY_INFO_it
_TEXT	SEGMENT
_PKCS8_PRIV_KEY_INFO_it PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
; Line 85
	mov	eax, OFFSET ?local_it@?1??PKCS8_PRIV_KEY_INFO_it@@9@9
	ret	0
_PKCS8_PRIV_KEY_INFO_it ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _i2d_PKCS8_PRIV_KEY_INFO
_TEXT	SEGMENT
_a$ = 8							; size = 4
_out$ = 12						; size = 4
_i2d_PKCS8_PRIV_KEY_INFO PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
; Line 87
	push	OFFSET ?local_it@?1??PKCS8_PRIV_KEY_INFO_it@@9@9
	push	DWORD PTR _out$[esp]
	push	DWORD PTR _a$[esp+4]
	call	_ASN1_item_i2d
	add	esp, 12					; 0000000cH
	ret	0
_i2d_PKCS8_PRIV_KEY_INFO ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _d2i_PKCS8_PRIV_KEY_INFO
_TEXT	SEGMENT
_a$ = 8							; size = 4
_in$ = 12						; size = 4
_len$ = 16						; size = 4
_d2i_PKCS8_PRIV_KEY_INFO PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
; Line 87
	push	OFFSET ?local_it@?1??PKCS8_PRIV_KEY_INFO_it@@9@9
	push	DWORD PTR _len$[esp]
	push	DWORD PTR _in$[esp+4]
	push	DWORD PTR _a$[esp+8]
	call	_ASN1_item_d2i
	add	esp, 16					; 00000010H
	ret	0
_d2i_PKCS8_PRIV_KEY_INFO ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS8_PRIV_KEY_INFO_free
_TEXT	SEGMENT
_a$ = 8							; size = 4
_PKCS8_PRIV_KEY_INFO_free PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
; Line 87
	push	OFFSET ?local_it@?1??PKCS8_PRIV_KEY_INFO_it@@9@9
	push	DWORD PTR _a$[esp]
	call	_ASN1_item_free
	add	esp, 8
	ret	0
_PKCS8_PRIV_KEY_INFO_free ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _PKCS8_PRIV_KEY_INFO_new
_TEXT	SEGMENT
_PKCS8_PRIV_KEY_INFO_new PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\p8_pkey.c
; Line 87
	push	OFFSET ?local_it@?1??PKCS8_PRIV_KEY_INFO_it@@9@9
	call	_ASN1_item_new
	add	esp, 4
	ret	0
_PKCS8_PRIV_KEY_INFO_new ENDP
_TEXT	ENDS
END
