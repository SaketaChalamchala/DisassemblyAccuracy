; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23918.0 

	TITLE	C:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	_EVP_PKEY_new_mac_key
PUBLIC	_EVP_PKEY_paramgen_init
PUBLIC	_EVP_PKEY_paramgen
PUBLIC	_EVP_PKEY_keygen_init
PUBLIC	_EVP_PKEY_keygen
PUBLIC	_EVP_PKEY_CTX_set_cb
PUBLIC	_EVP_PKEY_CTX_get_cb
PUBLIC	_EVP_PKEY_CTX_get_keygen_info
PUBLIC	_evp_pkey_set_cb_translate
PUBLIC	??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@ ; `string'
EXTRN	_ERR_put_error:PROC
EXTRN	_EVP_PKEY_new:PROC
EXTRN	_EVP_PKEY_free:PROC
EXTRN	_EVP_PKEY_CTX_new_id:PROC
EXTRN	_EVP_PKEY_CTX_free:PROC
EXTRN	_EVP_PKEY_CTX_ctrl:PROC
EXTRN	__chkstk:PROC
;	COMDAT ??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@
CONST	SEGMENT
??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@ DB '.\crypto\evp\pme'
	DB	'th_gn.c', 00H				; `string'
CONST	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _trans_cb
_TEXT	SEGMENT
_a$ = 8							; size = 4
_b$ = 12						; size = 4
_gcb$ = 16						; size = 4
_trans_cb PROC						; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 180
	mov	eax, DWORD PTR _gcb$[esp-4]
	mov	edx, DWORD PTR [eax+4]
; Line 181
	mov	eax, DWORD PTR _a$[esp-4]
; Line 183
	push	edx
	mov	ecx, DWORD PTR [edx+32]
	mov	DWORD PTR [ecx], eax
	mov	ecx, DWORD PTR [edx+32]
	mov	eax, DWORD PTR _b$[esp]
	mov	DWORD PTR [ecx+4], eax
	mov	eax, DWORD PTR [edx+28]
	call	eax
	add	esp, 4
; Line 184
	ret	0
_trans_cb ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _evp_pkey_set_cb_translate
_TEXT	SEGMENT
_cb$ = 8						; size = 4
_ctx$ = 12						; size = 4
_evp_pkey_set_cb_translate PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 188
	mov	ecx, DWORD PTR _cb$[esp-4]
	mov	eax, DWORD PTR _ctx$[esp-4]
	mov	DWORD PTR [ecx], 2
	mov	DWORD PTR [ecx+4], eax
	mov	DWORD PTR [ecx+8], OFFSET _trans_cb
; Line 189
	ret	0
_evp_pkey_set_cb_translate ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _EVP_PKEY_CTX_get_keygen_info
_TEXT	SEGMENT
_ctx$ = 8						; size = 4
_idx$ = 12						; size = 4
_EVP_PKEY_CTX_get_keygen_info PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 193
	mov	ecx, DWORD PTR _idx$[esp-4]
	cmp	ecx, -1
	jne	SHORT $LN2@EVP_PKEY_C
; Line 194
	mov	eax, DWORD PTR _ctx$[esp-4]
	mov	eax, DWORD PTR [eax+36]
; Line 198
	ret	0
$LN2@EVP_PKEY_C:
; Line 195
	test	ecx, ecx
	js	SHORT $LN4@EVP_PKEY_C
	mov	eax, DWORD PTR _ctx$[esp-4]
	cmp	ecx, DWORD PTR [eax+36]
	jg	SHORT $LN4@EVP_PKEY_C
; Line 197
	mov	eax, DWORD PTR [eax+32]
	mov	eax, DWORD PTR [eax+ecx*4]
; Line 198
	ret	0
$LN4@EVP_PKEY_C:
; Line 196
	xor	eax, eax
; Line 198
	ret	0
_EVP_PKEY_CTX_get_keygen_info ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _EVP_PKEY_CTX_get_cb
_TEXT	SEGMENT
_ctx$ = 8						; size = 4
_EVP_PKEY_CTX_get_cb PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 170
	mov	eax, DWORD PTR _ctx$[esp-4]
	mov	eax, DWORD PTR [eax+28]
; Line 171
	ret	0
_EVP_PKEY_CTX_get_cb ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _EVP_PKEY_CTX_set_cb
_TEXT	SEGMENT
_ctx$ = 8						; size = 4
_cb$ = 12						; size = 4
_EVP_PKEY_CTX_set_cb PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 165
	mov	eax, DWORD PTR _ctx$[esp-4]
	mov	ecx, DWORD PTR _cb$[esp-4]
	mov	DWORD PTR [eax+28], ecx
; Line 166
	ret	0
_EVP_PKEY_CTX_set_cb ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _EVP_PKEY_keygen
_TEXT	SEGMENT
_ctx$ = 8						; size = 4
_ppkey$ = 12						; size = 4
_EVP_PKEY_keygen PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 136
	push	edi
; Line 139
	mov	edi, DWORD PTR _ctx$[esp]
	test	edi, edi
	je	SHORT $LN3@EVP_PKEY_k
	mov	eax, DWORD PTR [edi]
	test	eax, eax
	je	SHORT $LN3@EVP_PKEY_k
	cmp	DWORD PTR [eax+32], 0
	je	SHORT $LN3@EVP_PKEY_k
; Line 144
	cmp	DWORD PTR [edi+16], 4
	je	SHORT $LN4@EVP_PKEY_k
; Line 145
	push	145					; 00000091H
	push	OFFSET ??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@
	push	151					; 00000097H
	push	146					; 00000092H
	push	6
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 146
	or	eax, -1
	pop	edi
; Line 161
	ret	0
$LN4@EVP_PKEY_k:
	push	esi
; Line 149
	mov	esi, DWORD PTR _ppkey$[esp+4]
	test	esi, esi
	jne	SHORT $LN5@EVP_PKEY_k
; Line 150
	pop	esi
	or	eax, -1
	pop	edi
; Line 161
	ret	0
$LN5@EVP_PKEY_k:
; Line 152
	cmp	DWORD PTR [esi], 0
	jne	SHORT $LN6@EVP_PKEY_k
; Line 153
	call	_EVP_PKEY_new
	mov	DWORD PTR [esi], eax
$LN6@EVP_PKEY_k:
; Line 155
	mov	eax, DWORD PTR [edi]
	push	DWORD PTR [esi]
	push	edi
	mov	eax, DWORD PTR [eax+32]
	call	eax
	mov	edi, eax
	add	esp, 8
; Line 156
	test	edi, edi
	jg	SHORT $LN7@EVP_PKEY_k
; Line 157
	push	DWORD PTR [esi]
	call	_EVP_PKEY_free
	add	esp, 4
; Line 158
	mov	DWORD PTR [esi], 0
$LN7@EVP_PKEY_k:
; Line 160
	pop	esi
	mov	eax, edi
	pop	edi
; Line 161
	ret	0
$LN3@EVP_PKEY_k:
; Line 140
	push	141					; 0000008dH
	push	OFFSET ??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@
	push	150					; 00000096H
	push	146					; 00000092H
	push	6
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 142
	mov	eax, -2					; fffffffeH
	pop	edi
; Line 161
	ret	0
_EVP_PKEY_keygen ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _EVP_PKEY_keygen_init
_TEXT	SEGMENT
_ctx$ = 8						; size = 4
_EVP_PKEY_keygen_init PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 119
	push	esi
; Line 121
	mov	esi, DWORD PTR _ctx$[esp]
	test	esi, esi
	je	SHORT $LN3@EVP_PKEY_k
	mov	eax, DWORD PTR [esi]
	test	eax, eax
	je	SHORT $LN3@EVP_PKEY_k
	cmp	DWORD PTR [eax+32], 0
	je	SHORT $LN3@EVP_PKEY_k
; Line 126
	mov	DWORD PTR [esi+16], 4
; Line 127
	mov	eax, DWORD PTR [eax+28]
	test	eax, eax
	jne	SHORT $LN4@EVP_PKEY_k
; Line 128
	mov	eax, 1
	pop	esi
; Line 133
	ret	0
$LN4@EVP_PKEY_k:
; Line 129
	push	esi
	call	eax
	add	esp, 4
; Line 130
	test	eax, eax
	jg	SHORT $LN1@EVP_PKEY_k
; Line 131
	mov	DWORD PTR [esi+16], 0
	pop	esi
; Line 133
	ret	0
$LN3@EVP_PKEY_k:
; Line 122
	push	123					; 0000007bH
	push	OFFSET ??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@
	push	150					; 00000096H
	push	147					; 00000093H
	push	6
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 124
	mov	eax, -2					; fffffffeH
$LN1@EVP_PKEY_k:
	pop	esi
; Line 133
	ret	0
_EVP_PKEY_keygen_init ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _EVP_PKEY_paramgen
_TEXT	SEGMENT
_ctx$ = 8						; size = 4
_ppkey$ = 12						; size = 4
_EVP_PKEY_paramgen PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 86
	push	edi
; Line 88
	mov	edi, DWORD PTR _ctx$[esp]
	test	edi, edi
	je	$LN3@EVP_PKEY_p
	mov	eax, DWORD PTR [edi]
	test	eax, eax
	je	$LN3@EVP_PKEY_p
	cmp	DWORD PTR [eax+24], 0
	je	$LN3@EVP_PKEY_p
; Line 94
	cmp	DWORD PTR [edi+16], 2
	je	SHORT $LN4@EVP_PKEY_p
; Line 95
	push	95					; 0000005fH
	push	OFFSET ??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@
	push	151					; 00000097H
	push	148					; 00000094H
	push	6
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 96
	or	eax, -1
	pop	edi
; Line 116
	ret	0
$LN4@EVP_PKEY_p:
	push	esi
; Line 99
	mov	esi, DWORD PTR _ppkey$[esp+4]
	test	esi, esi
	je	SHORT $LN11@EVP_PKEY_p
; Line 102
	cmp	DWORD PTR [esi], 0
	jne	SHORT $LN7@EVP_PKEY_p
; Line 103
	call	_EVP_PKEY_new
	mov	DWORD PTR [esi], eax
; Line 105
	test	eax, eax
	jne	SHORT $LN7@EVP_PKEY_p
; Line 106
	push	106					; 0000006aH
	push	OFFSET ??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@
	push	65					; 00000041H
	push	148					; 00000094H
	push	6
	call	_ERR_put_error
	add	esp, 20					; 00000014H
$LN11@EVP_PKEY_p:
; Line 107
	pop	esi
	or	eax, -1
	pop	edi
; Line 116
	ret	0
$LN7@EVP_PKEY_p:
; Line 110
	mov	eax, DWORD PTR [edi]
	push	DWORD PTR [esi]
	push	edi
	mov	eax, DWORD PTR [eax+24]
	call	eax
	mov	edi, eax
	add	esp, 8
; Line 111
	test	edi, edi
	jg	SHORT $LN8@EVP_PKEY_p
; Line 112
	push	DWORD PTR [esi]
	call	_EVP_PKEY_free
	add	esp, 4
; Line 113
	mov	DWORD PTR [esi], 0
$LN8@EVP_PKEY_p:
; Line 115
	pop	esi
	mov	eax, edi
	pop	edi
; Line 116
	ret	0
$LN3@EVP_PKEY_p:
; Line 89
	push	90					; 0000005aH
	push	OFFSET ??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@
	push	150					; 00000096H
	push	148					; 00000094H
	push	6
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 91
	mov	eax, -2					; fffffffeH
	pop	edi
; Line 116
	ret	0
_EVP_PKEY_paramgen ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _EVP_PKEY_paramgen_init
_TEXT	SEGMENT
_ctx$ = 8						; size = 4
_EVP_PKEY_paramgen_init PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 69
	push	esi
; Line 71
	mov	esi, DWORD PTR _ctx$[esp]
	test	esi, esi
	je	SHORT $LN3@EVP_PKEY_p
	mov	eax, DWORD PTR [esi]
	test	eax, eax
	je	SHORT $LN3@EVP_PKEY_p
	cmp	DWORD PTR [eax+24], 0
	je	SHORT $LN3@EVP_PKEY_p
; Line 76
	mov	DWORD PTR [esi+16], 2
; Line 77
	mov	eax, DWORD PTR [eax+20]
	test	eax, eax
	jne	SHORT $LN4@EVP_PKEY_p
; Line 78
	mov	eax, 1
	pop	esi
; Line 83
	ret	0
$LN4@EVP_PKEY_p:
; Line 79
	push	esi
	call	eax
	add	esp, 4
; Line 80
	test	eax, eax
	jg	SHORT $LN1@EVP_PKEY_p
; Line 81
	mov	DWORD PTR [esi+16], 0
	pop	esi
; Line 83
	ret	0
$LN3@EVP_PKEY_p:
; Line 72
	push	73					; 00000049H
	push	OFFSET ??_C@_0BI@OJGELKNO@?4?2crypto?2evp?2pmeth_gn?4c?$AA@
	push	150					; 00000096H
	push	149					; 00000095H
	push	6
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 74
	mov	eax, -2					; fffffffeH
$LN1@EVP_PKEY_p:
	pop	esi
; Line 83
	ret	0
_EVP_PKEY_paramgen_init ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _EVP_PKEY_new_mac_key
_TEXT	SEGMENT
_mac_key$ = -4						; size = 4
_type$ = 8						; size = 4
_e$ = 12						; size = 4
_key$ = 16						; size = 4
_keylen$ = 20						; size = 4
_EVP_PKEY_new_mac_key PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\evp\pmeth_gn.c
; Line 202
	mov	eax, 4
	call	__chkstk
	push	esi
	push	edi
; Line 205
	push	DWORD PTR _e$[esp+8]
	xor	edi, edi
	push	DWORD PTR _type$[esp+12]
	mov	DWORD PTR _mac_key$[esp+20], edi
	call	_EVP_PKEY_CTX_new_id
	mov	esi, eax
	add	esp, 8
; Line 206
	test	esi, esi
	jne	SHORT $LN2@EVP_PKEY_n
	pop	edi
	pop	esi
; Line 220
	pop	ecx
	ret	0
$LN2@EVP_PKEY_n:
; Line 208
	push	esi
	call	_EVP_PKEY_keygen_init
	add	esp, 4
	test	eax, eax
	jle	SHORT $merr$9
; Line 212
	push	DWORD PTR _key$[esp+8]
	push	DWORD PTR _keylen$[esp+12]
	push	6
	push	4
	push	-1
	push	esi
	call	_EVP_PKEY_CTX_ctrl
	add	esp, 24					; 00000018H
	test	eax, eax
	jle	SHORT $merr$9
; Line 214
	lea	eax, DWORD PTR _mac_key$[esp+12]
	push	eax
	push	esi
	call	_EVP_PKEY_keygen
	mov	edi, DWORD PTR _mac_key$[esp+20]
	add	esp, 8
$merr$9:
; Line 218
	push	esi
	call	_EVP_PKEY_CTX_free
	add	esp, 4
; Line 219
	mov	eax, edi
	pop	edi
	pop	esi
; Line 220
	pop	ecx
	ret	0
_EVP_PKEY_new_mac_key ENDP
_TEXT	ENDS
END
