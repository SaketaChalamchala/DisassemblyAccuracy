; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23918.0 

	TITLE	C:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

_BSS	SEGMENT
_pkey_meth_table DD 01H DUP (?)
_BSS	ENDS
PUBLIC	_ENGINE_register_pkey_meths
PUBLIC	_ENGINE_unregister_pkey_meths
PUBLIC	_ENGINE_register_all_pkey_meths
PUBLIC	_ENGINE_set_pkey_meths
PUBLIC	_ENGINE_get_pkey_meths
PUBLIC	_ENGINE_get_pkey_meth
PUBLIC	_ENGINE_get_pkey_meth_engine
PUBLIC	_ENGINE_set_default_pkey_meths
PUBLIC	_engine_pkey_meths_free
PUBLIC	??_C@_0BM@GEGIPMD@?4?2crypto?2engine?2tb_pkmeth?4c?$AA@ ; `string'
EXTRN	_ERR_put_error:PROC
EXTRN	_EVP_PKEY_meth_free:PROC
EXTRN	_ENGINE_get_first:PROC
EXTRN	_ENGINE_get_next:PROC
EXTRN	_engine_table_register:PROC
EXTRN	_engine_table_unregister:PROC
EXTRN	_engine_table_cleanup:PROC
EXTRN	_engine_table_select:PROC
EXTRN	__chkstk:PROC
;	COMDAT ??_C@_0BM@GEGIPMD@?4?2crypto?2engine?2tb_pkmeth?4c?$AA@
CONST	SEGMENT
??_C@_0BM@GEGIPMD@?4?2crypto?2engine?2tb_pkmeth?4c?$AA@ DB '.\crypto\engi'
	DB	'ne\tb_pkmeth.c', 00H			; `string'
CONST	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _engine_unregister_all_pkey_meths
_TEXT	SEGMENT
_engine_unregister_all_pkey_meths PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 74
	push	OFFSET _pkey_meth_table
	call	_engine_table_cleanup
	pop	ecx
; Line 75
	ret	0
_engine_unregister_all_pkey_meths ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _engine_pkey_meths_free
_TEXT	SEGMENT
_pkm$ = -4						; size = 4
_pknids$1 = 8						; size = 4
_e$ = 8							; size = 4
_engine_pkey_meths_free PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 153
	mov	eax, 4
	call	__chkstk
	push	edi
; Line 156
	mov	edi, DWORD PTR _e$[esp+4]
	mov	eax, DWORD PTR [edi+44]
	test	eax, eax
	je	SHORT $LN3@engine_pke
; Line 159
	push	ebx
	push	esi
	push	0
	lea	ecx, DWORD PTR _pknids$1[esp+16]
	push	ecx
	push	0
	push	edi
	call	eax
	mov	ebx, eax
	add	esp, 16					; 00000010H
; Line 160
	xor	esi, esi
	test	ebx, ebx
	jle	SHORT $LN12@engine_pke
	npad	1
$LL4@engine_pke:
; Line 161
	mov	ecx, DWORD PTR _pknids$1[esp+12]
	lea	eax, DWORD PTR _pkm$[esp+16]
	push	DWORD PTR [ecx+esi*4]
	push	0
	push	eax
	mov	eax, DWORD PTR [edi+44]
	push	edi
	call	eax
	add	esp, 16					; 00000010H
	test	eax, eax
	je	SHORT $LN2@engine_pke
; Line 162
	push	DWORD PTR _pkm$[esp+16]
	call	_EVP_PKEY_meth_free
	add	esp, 4
$LN2@engine_pke:
; Line 160
	inc	esi
	cmp	esi, ebx
	jl	SHORT $LL4@engine_pke
$LN12@engine_pke:
	pop	esi
	pop	ebx
$LN3@engine_pke:
	pop	edi
; Line 166
	pop	ecx
	ret	0
_engine_pkey_meths_free ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ENGINE_set_default_pkey_meths
_TEXT	SEGMENT
_nids$1 = 8						; size = 4
_e$ = 8							; size = 4
_ENGINE_set_default_pkey_meths PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 99
	push	esi
; Line 100
	mov	esi, DWORD PTR _e$[esp]
	mov	eax, DWORD PTR [esi+44]
	test	eax, eax
	je	SHORT $LN3@ENGINE_set
; Line 102
	push	0
	lea	ecx, DWORD PTR _nids$1[esp+4]
	push	ecx
	push	0
	push	esi
	call	eax
	add	esp, 16					; 00000010H
; Line 103
	test	eax, eax
	jle	SHORT $LN3@ENGINE_set
; Line 104
	push	1
	push	eax
	push	DWORD PTR _nids$1[esp+8]
	push	esi
	push	OFFSET _engine_unregister_all_pkey_meths
	push	OFFSET _pkey_meth_table
	call	_engine_table_register
	add	esp, 24					; 00000018H
	pop	esi
; Line 109
	ret	0
$LN3@ENGINE_set:
; Line 108
	mov	eax, 1
	pop	esi
; Line 109
	ret	0
_ENGINE_set_default_pkey_meths ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ENGINE_get_pkey_meth_engine
_TEXT	SEGMENT
_nid$ = 8						; size = 4
_ENGINE_get_pkey_meth_engine PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 118
	push	DWORD PTR _nid$[esp-4]
	push	OFFSET _pkey_meth_table
	call	_engine_table_select
	add	esp, 8
; Line 119
	ret	0
_ENGINE_get_pkey_meth_engine ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ENGINE_get_pkey_meth
_TEXT	SEGMENT
_ret$ = 8						; size = 4
_e$ = 8							; size = 4
_nid$ = 12						; size = 4
_ENGINE_get_pkey_meth PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 137
	mov	eax, DWORD PTR _e$[esp-4]
	mov	ecx, DWORD PTR [eax+44]
; Line 126
	test	ecx, ecx
	je	SHORT $LN3@ENGINE_get
	push	DWORD PTR _nid$[esp-4]
	lea	edx, DWORD PTR _ret$[esp]
	push	0
	push	edx
	push	eax
	call	ecx
	add	esp, 16					; 00000010H
	test	eax, eax
	je	SHORT $LN3@ENGINE_get
; Line 131
	mov	eax, DWORD PTR _ret$[esp-4]
; Line 132
	ret	0
$LN3@ENGINE_get:
; Line 127
	push	128					; 00000080H
	push	OFFSET ??_C@_0BM@GEGIPMD@?4?2crypto?2engine?2tb_pkmeth?4c?$AA@
	push	101					; 00000065H
	push	192					; 000000c0H
	push	38					; 00000026H
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 129
	xor	eax, eax
; Line 132
	ret	0
_ENGINE_get_pkey_meth ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ENGINE_get_pkey_meths
_TEXT	SEGMENT
_e$ = 8							; size = 4
_ENGINE_get_pkey_meths PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 137
	mov	eax, DWORD PTR _e$[esp-4]
	mov	eax, DWORD PTR [eax+44]
; Line 138
	ret	0
_ENGINE_get_pkey_meths ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ENGINE_set_pkey_meths
_TEXT	SEGMENT
_e$ = 8							; size = 4
_f$ = 12						; size = 4
_ENGINE_set_pkey_meths PROC				; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 143
	mov	eax, DWORD PTR _e$[esp-4]
	mov	ecx, DWORD PTR _f$[esp-4]
	mov	DWORD PTR [eax+44], ecx
; Line 144
	mov	eax, 1
; Line 145
	ret	0
_ENGINE_set_pkey_meths ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ENGINE_register_all_pkey_meths
_TEXT	SEGMENT
_nids$1 = -4						; size = 4
_ENGINE_register_all_pkey_meths PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 91
	mov	eax, 4
	call	__chkstk
	push	esi
; Line 94
	call	_ENGINE_get_first
	mov	esi, eax
	test	esi, esi
	je	SHORT $LN3@ENGINE_reg
$LL4@ENGINE_reg:
; Line 79
	mov	eax, DWORD PTR [esi+44]
	test	eax, eax
	je	SHORT $LN2@ENGINE_reg
; Line 81
	push	0
	lea	ecx, DWORD PTR _nids$1[esp+12]
	push	ecx
	push	0
	push	esi
	call	eax
	add	esp, 16					; 00000010H
; Line 82
	test	eax, eax
	jle	SHORT $LN2@ENGINE_reg
; Line 83
	push	0
	push	eax
	push	DWORD PTR _nids$1[esp+16]
	push	esi
	push	OFFSET _engine_unregister_all_pkey_meths
	push	OFFSET _pkey_meth_table
	call	_engine_table_register
	add	esp, 24					; 00000018H
$LN2@ENGINE_reg:
; Line 94
	push	esi
	call	_ENGINE_get_next
	mov	esi, eax
	add	esp, 4
	test	esi, esi
	jne	SHORT $LL4@ENGINE_reg
$LN3@ENGINE_reg:
	pop	esi
; Line 96
	pop	ecx
	ret	0
_ENGINE_register_all_pkey_meths ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ENGINE_unregister_pkey_meths
_TEXT	SEGMENT
_e$ = 8							; size = 4
_ENGINE_unregister_pkey_meths PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 69
	push	DWORD PTR _e$[esp-4]
	push	OFFSET _pkey_meth_table
	call	_engine_table_unregister
	add	esp, 8
; Line 70
	ret	0
_ENGINE_unregister_pkey_meths ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ENGINE_register_pkey_meths
_TEXT	SEGMENT
_nids$1 = 8						; size = 4
_e$ = 8							; size = 4
_ENGINE_register_pkey_meths PROC			; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\engine\tb_pkmeth.c
; Line 78
	push	esi
; Line 79
	mov	esi, DWORD PTR _e$[esp]
	mov	eax, DWORD PTR [esi+44]
	test	eax, eax
	je	SHORT $LN3@ENGINE_reg
; Line 81
	push	0
	lea	ecx, DWORD PTR _nids$1[esp+4]
	push	ecx
	push	0
	push	esi
	call	eax
	add	esp, 16					; 00000010H
; Line 82
	test	eax, eax
	jle	SHORT $LN3@ENGINE_reg
; Line 83
	push	0
	push	eax
	push	DWORD PTR _nids$1[esp+8]
	push	esi
	push	OFFSET _engine_unregister_all_pkey_meths
	push	OFFSET _pkey_meth_table
	call	_engine_table_register
	add	esp, 24					; 00000018H
	pop	esi
; Line 88
	ret	0
$LN3@ENGINE_reg:
; Line 87
	mov	eax, 1
	pop	esi
; Line 88
	ret	0
_ENGINE_register_pkey_meths ENDP
_TEXT	ENDS
END
