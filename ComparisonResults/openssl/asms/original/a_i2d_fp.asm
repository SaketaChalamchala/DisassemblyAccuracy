; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23918.0 

	TITLE	C:\workpace\openssl\openssl-1.0.2h\crypto\asn1\a_i2d_fp.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	_ASN1_i2d_fp
PUBLIC	_ASN1_item_i2d_fp
PUBLIC	_ASN1_i2d_bio
PUBLIC	_ASN1_item_i2d_bio
PUBLIC	??_C@_0BJ@PMCGIHAB@?4?2crypto?2asn1?2a_i2d_fp?4c?$AA@ ; `string'
EXTRN	_CRYPTO_malloc:PROC
EXTRN	_CRYPTO_free:PROC
EXTRN	_BIO_s_file:PROC
EXTRN	_BIO_new:PROC
EXTRN	_BIO_free:PROC
EXTRN	_BIO_write:PROC
EXTRN	_BIO_ctrl:PROC
EXTRN	_ERR_put_error:PROC
EXTRN	_ASN1_item_i2d:PROC
EXTRN	__chkstk:PROC
;	COMDAT ??_C@_0BJ@PMCGIHAB@?4?2crypto?2asn1?2a_i2d_fp?4c?$AA@
CONST	SEGMENT
??_C@_0BJ@PMCGIHAB@?4?2crypto?2asn1?2a_i2d_fp?4c?$AA@ DB '.\crypto\asn1\a'
	DB	'_i2d_fp.c', 00H				; `string'
CONST	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ASN1_item_i2d_bio
_TEXT	SEGMENT
_b$ = -4						; size = 4
_it$ = 8						; size = 4
_out$ = 12						; size = 4
_x$ = 16						; size = 4
_ASN1_item_i2d_bio PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\a_i2d_fp.c
; Line 134
	mov	eax, 4
	call	__chkstk
	push	ebp
	push	esi
	push	edi
; Line 138
	push	DWORD PTR _it$[esp+12]
	lea	eax, DWORD PTR _b$[esp+20]
	mov	DWORD PTR _b$[esp+20], 0
	xor	edi, edi
	push	eax
	push	DWORD PTR _x$[esp+20]
	lea	ebp, DWORD PTR [edi+1]
	call	_ASN1_item_i2d
	mov	esi, eax
	add	esp, 12					; 0000000cH
; Line 139
	mov	eax, DWORD PTR _b$[esp+16]
	test	eax, eax
	jne	SHORT $LN5@ASN1_item_
; Line 140
	push	140					; 0000008cH
	push	OFFSET ??_C@_0BJ@PMCGIHAB@?4?2crypto?2asn1?2a_i2d_fp?4c?$AA@
	push	65					; 00000041H
	push	192					; 000000c0H
	push	13					; 0000000dH
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 141
	xor	eax, eax
	pop	edi
	pop	esi
	pop	ebp
; Line 157
	pop	ecx
	ret	0
$LN5@ASN1_item_:
	push	ebx
; Line 145
	mov	ebx, DWORD PTR _out$[esp+16]
	push	esi
	push	eax
	push	ebx
	call	_BIO_write
	add	esp, 12					; 0000000cH
; Line 146
	cmp	eax, esi
	je	SHORT $LN3@ASN1_item_
	npad	1
$LL2@ASN1_item_:
; Line 148
	test	eax, eax
	jle	SHORT $LN12@ASN1_item_
; Line 153
	sub	esi, eax
	add	edi, eax
	mov	eax, DWORD PTR _b$[esp+20]
	push	esi
	add	eax, edi
	push	eax
	push	ebx
	call	_BIO_write
	add	esp, 12					; 0000000cH
	cmp	eax, esi
	jne	SHORT $LL2@ASN1_item_
; Line 155
	push	DWORD PTR _b$[esp+20]
	call	_CRYPTO_free
	add	esp, 4
; Line 156
	mov	eax, ebp
	pop	ebx
	pop	edi
	pop	esi
	pop	ebp
; Line 157
	pop	ecx
	ret	0
$LN12@ASN1_item_:
; Line 149
	xor	ebp, ebp
$LN3@ASN1_item_:
; Line 155
	push	DWORD PTR _b$[esp+20]
	call	_CRYPTO_free
	add	esp, 4
; Line 156
	mov	eax, ebp
	pop	ebx
	pop	edi
	pop	esi
	pop	ebp
; Line 157
	pop	ecx
	ret	0
_ASN1_item_i2d_bio ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ASN1_i2d_bio
_TEXT	SEGMENT
_ret$1$ = -8						; size = 4
_p$ = -4						; size = 4
_i2d$ = 8						; size = 4
_out$ = 12						; size = 4
_x$ = 16						; size = 4
_ASN1_i2d_bio PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\a_i2d_fp.c
; Line 84
	mov	eax, 8
	call	__chkstk
	push	ebx
	push	ebp
; Line 89
	mov	ebp, DWORD PTR _x$[esp+12]
	push	esi
	push	edi
	xor	edi, edi
	mov	DWORD PTR _ret$1$[esp+24], 1
	push	edi
	push	ebp
	call	DWORD PTR _i2d$[esp+28]
; Line 90
	push	90					; 0000005aH
	mov	esi, eax
	push	OFFSET ??_C@_0BJ@PMCGIHAB@?4?2crypto?2asn1?2a_i2d_fp?4c?$AA@
	push	esi
	call	_CRYPTO_malloc
	mov	ebx, eax
	add	esp, 20					; 00000014H
; Line 91
	test	ebx, ebx
	jne	SHORT $LN5@ASN1_i2d_b
; Line 92
	push	92					; 0000005cH
	push	OFFSET ??_C@_0BJ@PMCGIHAB@?4?2crypto?2asn1?2a_i2d_fp?4c?$AA@
	push	65					; 00000041H
	push	116					; 00000074H
	push	13					; 0000000dH
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 93
	xor	eax, eax
	pop	edi
	pop	esi
	pop	ebp
	pop	ebx
; Line 112
	add	esp, 8
	ret	0
$LN5@ASN1_i2d_b:
; Line 97
	lea	eax, DWORD PTR _p$[esp+24]
	mov	DWORD PTR _p$[esp+24], ebx
	push	eax
	push	ebp
	call	DWORD PTR _i2d$[esp+28]
; Line 100
	mov	ebp, DWORD PTR _out$[esp+28]
	push	esi
	push	ebx
	push	ebp
	call	_BIO_write
	add	esp, 20					; 00000014H
; Line 101
	cmp	eax, esi
	je	SHORT $LN3@ASN1_i2d_b
	npad	6
$LL2@ASN1_i2d_b:
; Line 103
	test	eax, eax
	jle	SHORT $LN12@ASN1_i2d_b
; Line 107
	add	edi, eax
; Line 108
	sub	esi, eax
	push	esi
	lea	eax, DWORD PTR [ebx+edi]
	push	eax
	push	ebp
	call	_BIO_write
	add	esp, 12					; 0000000cH
	cmp	eax, esi
	jne	SHORT $LL2@ASN1_i2d_b
; Line 110
	push	ebx
	call	_CRYPTO_free
; Line 111
	mov	eax, DWORD PTR _ret$1$[esp+28]
	add	esp, 4
	pop	edi
	pop	esi
	pop	ebp
	pop	ebx
; Line 112
	add	esp, 8
	ret	0
$LN12@ASN1_i2d_b:
; Line 104
	mov	DWORD PTR _ret$1$[esp+24], 0
$LN3@ASN1_i2d_b:
; Line 110
	push	ebx
	call	_CRYPTO_free
; Line 111
	mov	eax, DWORD PTR _ret$1$[esp+28]
	add	esp, 4
	pop	edi
	pop	esi
	pop	ebp
	pop	ebx
; Line 112
	add	esp, 8
	ret	0
_ASN1_i2d_bio ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ASN1_item_i2d_fp
_TEXT	SEGMENT
_it$ = 8						; size = 4
_out$ = 12						; size = 4
_x$ = 16						; size = 4
_ASN1_item_i2d_fp PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\a_i2d_fp.c
; Line 118
	push	edi
; Line 122
	call	_BIO_s_file
	push	eax
	call	_BIO_new
	mov	edi, eax
	add	esp, 4
	test	edi, edi
	jne	SHORT $LN2@ASN1_item_
; Line 123
	push	123					; 0000007bH
	push	OFFSET ??_C@_0BJ@PMCGIHAB@?4?2crypto?2asn1?2a_i2d_fp?4c?$AA@
	push	7
	push	193					; 000000c1H
	push	13					; 0000000dH
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 124
	xor	eax, eax
	pop	edi
; Line 130
	ret	0
$LN2@ASN1_item_:
	push	esi
; Line 126
	push	DWORD PTR _out$[esp+4]
	push	0
	push	106					; 0000006aH
	push	edi
	call	_BIO_ctrl
; Line 127
	push	DWORD PTR _x$[esp+20]
	push	edi
	push	DWORD PTR _it$[esp+28]
	call	_ASN1_item_i2d_bio
; Line 128
	push	edi
	mov	esi, eax
	call	_BIO_free
	add	esp, 32					; 00000020H
; Line 129
	mov	eax, esi
	pop	esi
	pop	edi
; Line 130
	ret	0
_ASN1_item_i2d_fp ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _ASN1_i2d_fp
_TEXT	SEGMENT
_i2d$ = 8						; size = 4
_out$ = 12						; size = 4
_x$ = 16						; size = 4
_ASN1_i2d_fp PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\crypto\asn1\a_i2d_fp.c
; Line 68
	push	edi
; Line 72
	call	_BIO_s_file
	push	eax
	call	_BIO_new
	mov	edi, eax
	add	esp, 4
	test	edi, edi
	jne	SHORT $LN2@ASN1_i2d_f
; Line 73
	push	73					; 00000049H
	push	OFFSET ??_C@_0BJ@PMCGIHAB@?4?2crypto?2asn1?2a_i2d_fp?4c?$AA@
	push	7
	push	117					; 00000075H
	push	13					; 0000000dH
	call	_ERR_put_error
	add	esp, 20					; 00000014H
; Line 74
	xor	eax, eax
	pop	edi
; Line 80
	ret	0
$LN2@ASN1_i2d_f:
	push	esi
; Line 76
	push	DWORD PTR _out$[esp+4]
	push	0
	push	106					; 0000006aH
	push	edi
	call	_BIO_ctrl
; Line 77
	push	DWORD PTR _x$[esp+20]
	push	edi
	push	DWORD PTR _i2d$[esp+28]
	call	_ASN1_i2d_bio
; Line 78
	push	edi
	mov	esi, eax
	call	_BIO_free
	add	esp, 32					; 00000020H
; Line 79
	mov	eax, esi
	pop	esi
	pop	edi
; Line 80
	ret	0
_ASN1_i2d_fp ENDP
_TEXT	ENDS
END
