; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23918.0 

	TITLE	C:\workpace\openssl\openssl-1.0.2h\apps\genpkey.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRT
INCLUDELIB OLDNAMES

PUBLIC	_init_gen_str
PUBLIC	_genpkey_main
PUBLIC	??_C@_08LPHBEAIF@?9outform?$AA@			; `string'
PUBLIC	??_C@_05NNOCMECB@?9pass?$AA@			; `string'
PUBLIC	??_C@_07CECBDAGF@?9engine?$AA@			; `string'
PUBLIC	??_C@_0L@BKOEMGEG@?9paramfile?$AA@		; `string'
PUBLIC	??_C@_04HKKABCEL@?9out?$AA@			; `string'
PUBLIC	??_C@_0L@FKNAAFNM@?9algorithm?$AA@		; `string'
PUBLIC	??_C@_08JPLFCIIK@?9pkeyopt?$AA@			; `string'
PUBLIC	??_C@_0BG@KCINJCD@No?5keytype?5specified?6?$AA@	; `string'
PUBLIC	??_C@_0BJ@ONFLDBED@parameter?5setting?5error?6?$AA@ ; `string'
PUBLIC	??_C@_09CKFGOFDF@?9genparam?$AA@		; `string'
PUBLIC	??_C@_05OEBEIMJA@?9text?$AA@			; `string'
PUBLIC	??_C@_0BD@GDDFDKFP@Unknown?5cipher?5?$CFs?6?$AA@ ; `string'
PUBLIC	??_C@_0BK@EIGJLJPJ@Usage?3?5genpkey?5?$FLoptions?$FN?6?$AA@ ; `string'
PUBLIC	??_C@_0BG@BIDCIHLE@where?5options?5may?5be?6?$AA@ ; `string'
PUBLIC	??_C@_0CA@KDIDBPDO@?9out?5file?5?5?5?5?5?5?5?5?5?5output?5file?6?$AA@ ; `string'
PUBLIC	??_C@_0CP@PLBOMBHM@?9outform?5X?5?5?5?5?5?5?5?5?5output?5format@ ; `string'
PUBLIC	??_C@_0DD@IMLEFJCJ@?9pass?5arg?5?5?5?5?5?5?5?5?5?5output?5file?5p@ ; `string'
PUBLIC	??_C@_0DL@CCHICOEE@?9?$DMcipher?$DO?5?5?5?5?5?5?5?5?5?5use?5cipher?5?$DMc@ ; `string'
PUBLIC	??_C@_0DO@FBHKAFPB@?9engine?5e?5?5?5?5?5?5?5?5?5?5use?5engine?5e?0@ ; `string'
PUBLIC	??_C@_0CE@NFNDFLEH@?9paramfile?5file?5?5?5?5parameters?5fi@ ; `string'
PUBLIC	??_C@_0CN@PJLKHANN@?9algorithm?5alg?5?5?5?5?5the?5public?5ke@ ; `string'
PUBLIC	??_C@_0GC@KPBKKGNL@?9pkeyopt?5opt?3value?5set?5the?5publi@ ; `string'
PUBLIC	??_C@_0DB@HOPBCHBL@?9genparam?5?5?5?5?5?5?5?5?5?5generate?5para@ ; `string'
PUBLIC	??_C@_0CG@OIGOBFEK@?9text?5?5?5?5?5?5?5?5?5?5?5?5?5?5print?5the?5in?5@ ; `string'
PUBLIC	??_C@_0DL@EFMPFEJO@NB?3?5options?5order?5may?5be?5importa@ ; `string'
PUBLIC	??_C@_0BI@IBJFBNHD@Error?5getting?5password?6?$AA@ ; `string'
PUBLIC	??_C@_02GMLFBBN@wb?$AA@				; `string'
PUBLIC	??_C@_0BL@EIBBPFMA@Can?8t?5open?5output?5file?5?$CFs?6?$AA@ ; `string'
PUBLIC	??_C@_0BN@GPNLILKF@Error?5generating?5parameters?6?$AA@ ; `string'
PUBLIC	??_C@_0BG@KNMDELML@Error?5generating?5key?6?$AA@ ; `string'
PUBLIC	??_C@_0BO@PNJCFDML@Bad?5format?5specified?5for?5key?6?$AA@ ; `string'
PUBLIC	??_C@_0BD@BKFAOPNO@Error?5writing?5key?6?$AA@	; `string'
PUBLIC	??_C@_0BE@MAPDMJE@Error?5printing?5key?6?$AA@	; `string'
PUBLIC	??_C@_0BJ@FFCNENPC@Parameters?5already?5set?$CB?6?$AA@ ; `string'
PUBLIC	??_C@_01KDCPPGHE@r?$AA@				; `string'
PUBLIC	??_C@_0BO@HEFFFKLO@Can?8t?5open?5parameter?5file?5?$CFs?6?$AA@ ; `string'
PUBLIC	??_C@_0CB@EHHPGCBO@Error?5reading?5parameter?5file?5?$CFs?6@ ; `string'
PUBLIC	??_C@_0BM@IFBMKPJK@Error?5initializing?5context?6?$AA@ ; `string'
PUBLIC	??_C@_0BI@HPDJOFDG@Algorithm?5already?5set?$CB?6?$AA@ ; `string'
PUBLIC	??_C@_0BI@MFIANKDK@Algorithm?5?$CFs?5not?5found?6?$AA@ ; `string'
PUBLIC	??_C@_0BP@HHEKGIKI@Error?5initializing?5?$CFs?5context?6?$AA@ ; `string'
EXTRN	__imp____acrt_iob_func:PROC
EXTRN	_CRYPTO_free:PROC
EXTRN	_BIO_new_file:PROC
EXTRN	_BIO_new_fp:PROC
EXTRN	_BIO_free:PROC
EXTRN	_BIO_write:PROC
EXTRN	_BIO_puts:PROC
EXTRN	_BIO_ctrl:PROC
EXTRN	_BIO_free_all:PROC
EXTRN	_BIO_printf:PROC
EXTRN	_OPENSSL_add_all_algorithms_noconf:PROC
EXTRN	_EVP_get_cipherbyname:PROC
EXTRN	_EVP_PKEY_free:PROC
EXTRN	_EVP_PKEY_print_private:PROC
EXTRN	_EVP_PKEY_print_params:PROC
EXTRN	_EVP_PKEY_asn1_find_str:PROC
EXTRN	_EVP_PKEY_asn1_get0_info:PROC
EXTRN	_EVP_PKEY_CTX_new:PROC
EXTRN	_EVP_PKEY_CTX_new_id:PROC
EXTRN	_EVP_PKEY_CTX_free:PROC
EXTRN	_EVP_PKEY_CTX_set_app_data:PROC
EXTRN	_EVP_PKEY_CTX_get_app_data:PROC
EXTRN	_EVP_PKEY_paramgen_init:PROC
EXTRN	_EVP_PKEY_paramgen:PROC
EXTRN	_EVP_PKEY_keygen_init:PROC
EXTRN	_EVP_PKEY_keygen:PROC
EXTRN	_EVP_PKEY_CTX_set_cb:PROC
EXTRN	_EVP_PKEY_CTX_get_keygen_info:PROC
EXTRN	_i2d_PrivateKey_bio:PROC
EXTRN	_ERR_clear_error:PROC
EXTRN	_ERR_print_errors:PROC
EXTRN	_ERR_load_crypto_strings:PROC
EXTRN	_ENGINE_get_pkey_asn1_meth_str:PROC
EXTRN	_ENGINE_finish:PROC
EXTRN	_str2fmt:PROC
EXTRN	_app_passwd:PROC
EXTRN	_setup_engine:PROC
EXTRN	_load_config:PROC
EXTRN	_pkey_ctrl_string:PROC
EXTRN	_PEM_write_bio_PrivateKey:PROC
EXTRN	_PEM_read_bio_Parameters:PROC
EXTRN	_PEM_write_bio_Parameters:PROC
EXTRN	__chkstk:PROC
EXTRN	_bio_err:DWORD
;	COMDAT ??_C@_0BP@HHEKGIKI@Error?5initializing?5?$CFs?5context?6?$AA@
CONST	SEGMENT
??_C@_0BP@HHEKGIKI@Error?5initializing?5?$CFs?5context?6?$AA@ DB 'Error i'
	DB	'nitializing %s context', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@MFIANKDK@Algorithm?5?$CFs?5not?5found?6?$AA@
CONST	SEGMENT
??_C@_0BI@MFIANKDK@Algorithm?5?$CFs?5not?5found?6?$AA@ DB 'Algorithm %s n'
	DB	'ot found', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@HPDJOFDG@Algorithm?5already?5set?$CB?6?$AA@
CONST	SEGMENT
??_C@_0BI@HPDJOFDG@Algorithm?5already?5set?$CB?6?$AA@ DB 'Algorithm alrea'
	DB	'dy set!', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@IFBMKPJK@Error?5initializing?5context?6?$AA@
CONST	SEGMENT
??_C@_0BM@IFBMKPJK@Error?5initializing?5context?6?$AA@ DB 'Error initiali'
	DB	'zing context', 0aH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@EHHPGCBO@Error?5reading?5parameter?5file?5?$CFs?6@
CONST	SEGMENT
??_C@_0CB@EHHPGCBO@Error?5reading?5parameter?5file?5?$CFs?6@ DB 'Error re'
	DB	'ading parameter file %s', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BO@HEFFFKLO@Can?8t?5open?5parameter?5file?5?$CFs?6?$AA@
CONST	SEGMENT
??_C@_0BO@HEFFFKLO@Can?8t?5open?5parameter?5file?5?$CFs?6?$AA@ DB 'Can''t'
	DB	' open parameter file %s', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_01KDCPPGHE@r?$AA@
CONST	SEGMENT
??_C@_01KDCPPGHE@r?$AA@ DB 'r', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@FFCNENPC@Parameters?5already?5set?$CB?6?$AA@
CONST	SEGMENT
??_C@_0BJ@FFCNENPC@Parameters?5already?5set?$CB?6?$AA@ DB 'Parameters alr'
	DB	'eady set!', 0aH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BE@MAPDMJE@Error?5printing?5key?6?$AA@
CONST	SEGMENT
??_C@_0BE@MAPDMJE@Error?5printing?5key?6?$AA@ DB 'Error printing key', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@BKFAOPNO@Error?5writing?5key?6?$AA@
CONST	SEGMENT
??_C@_0BD@BKFAOPNO@Error?5writing?5key?6?$AA@ DB 'Error writing key', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0BO@PNJCFDML@Bad?5format?5specified?5for?5key?6?$AA@
CONST	SEGMENT
??_C@_0BO@PNJCFDML@Bad?5format?5specified?5for?5key?6?$AA@ DB 'Bad format'
	DB	' specified for key', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@KNMDELML@Error?5generating?5key?6?$AA@
CONST	SEGMENT
??_C@_0BG@KNMDELML@Error?5generating?5key?6?$AA@ DB 'Error generating key'
	DB	0aH, 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@GPNLILKF@Error?5generating?5parameters?6?$AA@
CONST	SEGMENT
??_C@_0BN@GPNLILKF@Error?5generating?5parameters?6?$AA@ DB 'Error generat'
	DB	'ing parameters', 0aH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@EIBBPFMA@Can?8t?5open?5output?5file?5?$CFs?6?$AA@
CONST	SEGMENT
??_C@_0BL@EIBBPFMA@Can?8t?5open?5output?5file?5?$CFs?6?$AA@ DB 'Can''t op'
	DB	'en output file %s', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_02GMLFBBN@wb?$AA@
CONST	SEGMENT
??_C@_02GMLFBBN@wb?$AA@ DB 'wb', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BI@IBJFBNHD@Error?5getting?5password?6?$AA@
CONST	SEGMENT
??_C@_0BI@IBJFBNHD@Error?5getting?5password?6?$AA@ DB 'Error getting pass'
	DB	'word', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0DL@EFMPFEJO@NB?3?5options?5order?5may?5be?5importa@
CONST	SEGMENT
??_C@_0DL@EFMPFEJO@NB?3?5options?5order?5may?5be?5importa@ DB 'NB: option'
	DB	's order may be important!  See the manual page.', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@OIGOBFEK@?9text?5?5?5?5?5?5?5?5?5?5?5?5?5?5print?5the?5in?5@
CONST	SEGMENT
??_C@_0CG@OIGOBFEK@?9text?5?5?5?5?5?5?5?5?5?5?5?5?5?5print?5the?5in?5@ DB '-'
	DB	'text              print the in text', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@HOPBCHBL@?9genparam?5?5?5?5?5?5?5?5?5?5generate?5para@
CONST	SEGMENT
??_C@_0DB@HOPBCHBL@?9genparam?5?5?5?5?5?5?5?5?5?5generate?5para@ DB '-gen'
	DB	'param          generate parameters, not key', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0GC@KPBKKGNL@?9pkeyopt?5opt?3value?5set?5the?5publi@
CONST	SEGMENT
??_C@_0GC@KPBKKGNL@?9pkeyopt?5opt?3value?5set?5the?5publi@ DB '-pkeyopt o'
	DB	'pt:value set the public key algorithm option <opt>', 0aH, '  '
	DB	'                 to value <value>', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CN@PJLKHANN@?9algorithm?5alg?5?5?5?5?5the?5public?5ke@
CONST	SEGMENT
??_C@_0CN@PJLKHANN@?9algorithm?5alg?5?5?5?5?5the?5public?5ke@ DB '-algori'
	DB	'thm alg     the public key algorithm', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CE@NFNDFLEH@?9paramfile?5file?5?5?5?5parameters?5fi@
CONST	SEGMENT
??_C@_0CE@NFNDFLEH@?9paramfile?5file?5?5?5?5parameters?5fi@ DB '-paramfil'
	DB	'e file    parameters file', 0aH, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DO@FBHKAFPB@?9engine?5e?5?5?5?5?5?5?5?5?5?5use?5engine?5e?0@
CONST	SEGMENT
??_C@_0DO@FBHKAFPB@?9engine?5e?5?5?5?5?5?5?5?5?5?5use?5engine?5e?0@ DB '-'
	DB	'engine e          use engine e, possibly a hardware device.', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0DL@CCHICOEE@?9?$DMcipher?$DO?5?5?5?5?5?5?5?5?5?5use?5cipher?5?$DMc@
CONST	SEGMENT
??_C@_0DL@CCHICOEE@?9?$DMcipher?$DO?5?5?5?5?5?5?5?5?5?5use?5cipher?5?$DMc@ DB '-'
	DB	'<cipher>          use cipher <cipher> to encrypt the key', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_0DD@IMLEFJCJ@?9pass?5arg?5?5?5?5?5?5?5?5?5?5output?5file?5p@
CONST	SEGMENT
??_C@_0DD@IMLEFJCJ@?9pass?5arg?5?5?5?5?5?5?5?5?5?5output?5file?5p@ DB '-p'
	DB	'ass arg          output file pass phrase source', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CP@PLBOMBHM@?9outform?5X?5?5?5?5?5?5?5?5?5output?5format@
CONST	SEGMENT
??_C@_0CP@PLBOMBHM@?9outform?5X?5?5?5?5?5?5?5?5?5output?5format@ DB '-out'
	DB	'form X         output format (DER or PEM)', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CA@KDIDBPDO@?9out?5file?5?5?5?5?5?5?5?5?5?5output?5file?6?$AA@
CONST	SEGMENT
??_C@_0CA@KDIDBPDO@?9out?5file?5?5?5?5?5?5?5?5?5?5output?5file?6?$AA@ DB '-'
	DB	'out file          output file', 0aH, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@BIDCIHLE@where?5options?5may?5be?6?$AA@
CONST	SEGMENT
??_C@_0BG@BIDCIHLE@where?5options?5may?5be?6?$AA@ DB 'where options may b'
	DB	'e', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BK@EIGJLJPJ@Usage?3?5genpkey?5?$FLoptions?$FN?6?$AA@
CONST	SEGMENT
??_C@_0BK@EIGJLJPJ@Usage?3?5genpkey?5?$FLoptions?$FN?6?$AA@ DB 'Usage: ge'
	DB	'npkey [options]', 0aH, 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BD@GDDFDKFP@Unknown?5cipher?5?$CFs?6?$AA@
CONST	SEGMENT
??_C@_0BD@GDDFDKFP@Unknown?5cipher?5?$CFs?6?$AA@ DB 'Unknown cipher %s', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_05OEBEIMJA@?9text?$AA@
CONST	SEGMENT
??_C@_05OEBEIMJA@?9text?$AA@ DB '-text', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_09CKFGOFDF@?9genparam?$AA@
CONST	SEGMENT
??_C@_09CKFGOFDF@?9genparam?$AA@ DB '-genparam', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@ONFLDBED@parameter?5setting?5error?6?$AA@
CONST	SEGMENT
??_C@_0BJ@ONFLDBED@parameter?5setting?5error?6?$AA@ DB 'parameter setting'
	DB	' error', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@KCINJCD@No?5keytype?5specified?6?$AA@
CONST	SEGMENT
??_C@_0BG@KCINJCD@No?5keytype?5specified?6?$AA@ DB 'No keytype specified', 0aH
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_08JPLFCIIK@?9pkeyopt?$AA@
CONST	SEGMENT
??_C@_08JPLFCIIK@?9pkeyopt?$AA@ DB '-pkeyopt', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@FKNAAFNM@?9algorithm?$AA@
CONST	SEGMENT
??_C@_0L@FKNAAFNM@?9algorithm?$AA@ DB '-algorithm', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_04HKKABCEL@?9out?$AA@
CONST	SEGMENT
??_C@_04HKKABCEL@?9out?$AA@ DB '-out', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@BKOEMGEG@?9paramfile?$AA@
CONST	SEGMENT
??_C@_0L@BKOEMGEG@?9paramfile?$AA@ DB '-paramfile', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_07CECBDAGF@?9engine?$AA@
CONST	SEGMENT
??_C@_07CECBDAGF@?9engine?$AA@ DB '-engine', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_05NNOCMECB@?9pass?$AA@
CONST	SEGMENT
??_C@_05NNOCMECB@?9pass?$AA@ DB '-pass', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_08LPHBEAIF@?9outform?$AA@
CONST	SEGMENT
??_C@_08LPHBEAIF@?9outform?$AA@ DB '-outform', 00H	; `string'
CONST	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _genpkey_main
_TEXT	SEGMENT
_pkey$ = -40						; size = 4
_ctx$ = -36						; size = 4
_do_param$1$ = -32					; size = 4
_e$1$ = -28						; size = 4
_pass$ = -24						; size = 4
_passarg$1$ = -20					; size = 4
_outfile$1$ = -16					; size = 4
_outformat$1$ = -12					; size = 4
_cipher$1$ = -8						; size = 4
_text$1$ = -4						; size = 4
_argc$ = 8						; size = 4
_argv$ = 12						; size = 4
_genpkey_main PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\apps\genpkey.c
; Line 78
	mov	eax, 40					; 00000028H
	call	__chkstk
	push	ebx
; Line 81
	xor	eax, eax
	mov	DWORD PTR _e$1$[esp+44], 0
	push	ebp
	push	esi
	push	edi
	xor	edi, edi
	mov	DWORD PTR _passarg$1$[esp+56], eax
	mov	DWORD PTR _outfile$1$[esp+56], edi
; Line 87
	xor	ebx, ebx
	mov	DWORD PTR _cipher$1$[esp+56], eax
; Line 90
	lea	edi, DWORD PTR [eax+1]
	mov	DWORD PTR _text$1$[esp+56], eax
	xor	esi, esi
	mov	DWORD PTR _pkey$[esp+56], eax
	xor	ebp, ebp
	mov	DWORD PTR _pass$[esp+56], eax
; Line 92
	mov	DWORD PTR _do_param$1$[esp+56], eax
; Line 94
	mov	eax, DWORD PTR _bio_err
	mov	DWORD PTR _ctx$[esp+56], ebx
	test	eax, eax
	jne	SHORT $LN4@genpkey_ma
; Line 95
	push	eax
	push	2
	call	DWORD PTR __imp____acrt_iob_func
	add	esp, 4
	push	eax
	call	_BIO_new_fp
	add	esp, 8
	mov	DWORD PTR _bio_err, eax
$LN4@genpkey_ma:
; Line 97
	push	0
	push	eax
	call	_load_config
	add	esp, 8
	test	eax, eax
	je	$end$128
; Line 100
	mov	DWORD PTR _outformat$1$[esp+56], 3
; Line 102
	call	_ERR_load_crypto_strings
; Line 103
	call	_OPENSSL_add_all_algorithms_noconf
; Line 104
	mov	esi, DWORD PTR _argv$[esp+52]
	add	esi, 4
$LL2@genpkey_ma:
; Line 105
	mov	edi, DWORD PTR [esi]
	test	edi, edi
	je	$LN83@genpkey_ma
	cmp	BYTE PTR [edi], 45			; 0000002dH
	jne	$LN83@genpkey_ma
; Line 106
	mov	ecx, OFFSET ??_C@_08LPHBEAIF@?9outform?$AA@
	mov	eax, edi
	npad	4
$LL84@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN85@genpkey_ma
	test	dl, dl
	je	SHORT $LN86@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN85@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL84@genpkey_ma
$LN86@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN87@genpkey_ma
$LN85@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN87@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN6@genpkey_ma
; Line 107
	cmp	DWORD PTR [esi+4], eax
	je	$LN23@genpkey_ma
; Line 109
	push	DWORD PTR [esi+4]
	add	esi, 4
	call	_str2fmt
	add	esp, 4
	mov	DWORD PTR _outformat$1$[esp+56], eax
; Line 110
	jmp	$LN41@genpkey_ma
$LN6@genpkey_ma:
; Line 112
	mov	ecx, OFFSET ??_C@_05NNOCMECB@?9pass?$AA@
	mov	eax, edi
$LL88@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN89@genpkey_ma
	test	dl, dl
	je	SHORT $LN90@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN89@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL88@genpkey_ma
$LN90@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN91@genpkey_ma
$LN89@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN91@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN10@genpkey_ma
; Line 113
	add	esi, 4
	cmp	DWORD PTR [esi], eax
	je	$bad$129
; Line 115
	mov	eax, DWORD PTR [esi]
	mov	DWORD PTR _passarg$1$[esp+56], eax
; Line 116
	jmp	$LN41@genpkey_ma
$LN10@genpkey_ma:
; Line 118
	mov	ecx, OFFSET ??_C@_07CECBDAGF@?9engine?$AA@
	mov	eax, edi
$LL92@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN93@genpkey_ma
	test	dl, dl
	je	SHORT $LN94@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN93@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL92@genpkey_ma
$LN94@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN95@genpkey_ma
$LN93@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN95@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN13@genpkey_ma
; Line 119
	add	esi, 4
	cmp	DWORD PTR [esi], eax
	je	$bad$129
; Line 121
	push	eax
	push	DWORD PTR [esi]
	push	DWORD PTR _bio_err
	call	_setup_engine
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _e$1$[esp+56], eax
; Line 122
	jmp	$LN41@genpkey_ma
$LN13@genpkey_ma:
; Line 124
	mov	ecx, OFFSET ??_C@_0L@BKOEMGEG@?9paramfile?$AA@
	mov	eax, edi
	npad	5
$LL96@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN97@genpkey_ma
	test	dl, dl
	je	SHORT $LN98@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN97@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL96@genpkey_ma
$LN98@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN99@genpkey_ma
$LN97@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN99@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN16@genpkey_ma
; Line 125
	add	esi, 4
	cmp	DWORD PTR [esi], eax
	je	$bad$129
; Line 128
	cmp	DWORD PTR _do_param$1$[esp+56], 1
	je	$bad$129
; Line 130
	push	DWORD PTR _e$1$[esp+56]
	lea	eax, DWORD PTR _ctx$[esp+60]
	push	DWORD PTR [esi]
	push	eax
	push	DWORD PTR _bio_err
	call	_init_keygen_file
	add	esp, 16					; 00000010H
	test	eax, eax
	je	$LN121@genpkey_ma
; Line 132
	mov	ebx, DWORD PTR _ctx$[esp+56]
	jmp	$LN41@genpkey_ma
$LN16@genpkey_ma:
	mov	ecx, OFFSET ??_C@_04HKKABCEL@?9out?$AA@
	mov	eax, edi
$LL100@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN101@genpkey_ma
	test	dl, dl
	je	SHORT $LN102@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN101@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL100@genpkey_ma
$LN102@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN103@genpkey_ma
$LN101@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN103@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN21@genpkey_ma
; Line 133
	cmp	DWORD PTR [esi+4], eax
	je	SHORT $LN23@genpkey_ma
; Line 135
	mov	eax, DWORD PTR [esi+4]
	add	esi, 4
	mov	DWORD PTR _outfile$1$[esp+56], eax
; Line 136
	jmp	$LN41@genpkey_ma
$LN23@genpkey_ma:
; Line 137
	mov	ebp, 1
; Line 138
	jmp	$LN41@genpkey_ma
$LN21@genpkey_ma:
	mov	ecx, OFFSET ??_C@_0L@FKNAAFNM@?9algorithm?$AA@
	mov	eax, edi
	npad	2
$LL104@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN105@genpkey_ma
	test	dl, dl
	je	SHORT $LN106@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN105@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL104@genpkey_ma
$LN106@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN107@genpkey_ma
$LN105@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN107@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN25@genpkey_ma
; Line 139
	add	esi, 4
	cmp	DWORD PTR [esi], eax
	je	$bad$129
; Line 141
	push	DWORD PTR _do_param$1$[esp+56]
	lea	eax, DWORD PTR _ctx$[esp+60]
	push	DWORD PTR _e$1$[esp+60]
	push	DWORD PTR [esi]
	push	eax
	push	DWORD PTR _bio_err
	call	_init_gen_str
	add	esp, 20					; 00000014H
	test	eax, eax
	je	$LN121@genpkey_ma
; Line 143
	mov	ebx, DWORD PTR _ctx$[esp+56]
	jmp	$LN41@genpkey_ma
$LN25@genpkey_ma:
	mov	ecx, OFFSET ??_C@_08JPLFCIIK@?9pkeyopt?$AA@
	mov	eax, edi
	npad	7
$LL108@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN109@genpkey_ma
	test	dl, dl
	je	SHORT $LN110@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN109@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL108@genpkey_ma
$LN110@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN111@genpkey_ma
$LN109@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN111@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN29@genpkey_ma
; Line 144
	add	esi, 4
	cmp	DWORD PTR [esi], eax
	je	$bad$129
; Line 146
	test	ebx, ebx
	je	$LN77@genpkey_ma
; Line 149
	push	DWORD PTR [esi]
	push	ebx
	call	_pkey_ctrl_string
	add	esp, 8
	test	eax, eax
	jg	$LN41@genpkey_ma
; Line 150
	push	OFFSET ??_C@_0BJ@ONFLDBED@parameter?5setting?5error?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_puts
; Line 151
	push	DWORD PTR _bio_err
	call	_ERR_print_errors
	add	esp, 12					; 0000000cH
; Line 152
	jmp	$LN122@genpkey_ma
$LN29@genpkey_ma:
; Line 154
	mov	ecx, OFFSET ??_C@_09CKFGOFDF@?9genparam?$AA@
	mov	eax, edi
	npad	7
$LL112@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN113@genpkey_ma
	test	dl, dl
	je	SHORT $LN114@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN113@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL112@genpkey_ma
$LN114@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN115@genpkey_ma
$LN113@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN115@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN35@genpkey_ma
; Line 155
	test	ebx, ebx
	jne	$bad$129
; Line 157
	mov	DWORD PTR _do_param$1$[esp+56], 1
	jmp	SHORT $LN41@genpkey_ma
$LN35@genpkey_ma:
; Line 158
	mov	ecx, OFFSET ??_C@_05OEBEIMJA@?9text?$AA@
	mov	eax, edi
$LL116@genpkey_ma:
	mov	dl, BYTE PTR [eax]
	cmp	dl, BYTE PTR [ecx]
	jne	SHORT $LN117@genpkey_ma
	test	dl, dl
	je	SHORT $LN118@genpkey_ma
	mov	dl, BYTE PTR [eax+1]
	cmp	dl, BYTE PTR [ecx+1]
	jne	SHORT $LN117@genpkey_ma
	add	eax, 2
	add	ecx, 2
	test	dl, dl
	jne	SHORT $LL116@genpkey_ma
$LN118@genpkey_ma:
	xor	eax, eax
	jmp	SHORT $LN119@genpkey_ma
$LN117@genpkey_ma:
	sbb	eax, eax
	or	eax, 1
$LN119@genpkey_ma:
	test	eax, eax
	jne	SHORT $LN38@genpkey_ma
; Line 159
	mov	DWORD PTR _text$1$[esp+56], 1
	jmp	SHORT $LN41@genpkey_ma
$LN38@genpkey_ma:
; Line 161
	lea	eax, DWORD PTR [edi+1]
	push	eax
	call	_EVP_get_cipherbyname
	add	esp, 4
	mov	DWORD PTR _cipher$1$[esp+56], eax
; Line 162
	test	eax, eax
	jne	SHORT $LN40@genpkey_ma
; Line 163
	mov	ecx, DWORD PTR [esi]
	inc	ecx
	push	ecx
	push	OFFSET ??_C@_0BD@GDDFDKFP@Unknown?5cipher?5?$CFs?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_printf
	add	esp, 12					; 0000000cH
; Line 164
	mov	ebp, 1
$LN40@genpkey_ma:
; Line 166
	cmp	DWORD PTR _do_param$1$[esp+56], 1
	mov	eax, 1
	cmove	ebp, eax
$LN41@genpkey_ma:
; Line 169
	add	esi, 4
	test	ebp, ebp
	je	$LL2@genpkey_ma
$LN83@genpkey_ma:
; Line 172
	test	ebx, ebx
	je	SHORT $bad$129
; Line 175
	test	ebp, ebp
	jne	SHORT $bad$129
; Line 203
	push	ebp
	lea	eax, DWORD PTR _pass$[esp+60]
	push	eax
	mov	eax, DWORD PTR _passarg$1$[esp+64]
	push	ebp
	push	eax
	push	DWORD PTR _bio_err
	call	_app_passwd
	add	esp, 20					; 00000014H
	test	eax, eax
	jne	$LN44@genpkey_ma
; Line 204
	push	OFFSET ??_C@_0BI@IBJFBNHD@Error?5getting?5password?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_puts
	add	esp, 8
; Line 205
	jmp	$LN122@genpkey_ma
$LN121@genpkey_ma:
; Line 198
	mov	ebx, DWORD PTR _ctx$[esp+56]
	jmp	$LN122@genpkey_ma
$LN77@genpkey_ma:
; Line 147
	push	OFFSET ??_C@_0BG@KCINJCD@No?5keytype?5specified?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_puts
	add	esp, 8
$bad$129:
; Line 177
	push	OFFSET ??_C@_0BK@EIGJLJPJ@Usage?3?5genpkey?5?$FLoptions?$FN?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 178
	push	OFFSET ??_C@_0BG@BIDCIHLE@where?5options?5may?5be?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 179
	push	OFFSET ??_C@_0CA@KDIDBPDO@?9out?5file?5?5?5?5?5?5?5?5?5?5output?5file?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 180
	push	OFFSET ??_C@_0CP@PLBOMBHM@?9outform?5X?5?5?5?5?5?5?5?5?5output?5format@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 182
	push	OFFSET ??_C@_0DD@IMLEFJCJ@?9pass?5arg?5?5?5?5?5?5?5?5?5?5output?5file?5p@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 184
	push	OFFSET ??_C@_0DL@CCHICOEE@?9?$DMcipher?$DO?5?5?5?5?5?5?5?5?5?5use?5cipher?5?$DMc@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 187
	push	OFFSET ??_C@_0DO@FBHKAFPB@?9engine?5e?5?5?5?5?5?5?5?5?5?5use?5engine?5e?0@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 190
	push	OFFSET ??_C@_0CE@NFNDFLEH@?9paramfile?5file?5?5?5?5parameters?5fi@
	push	DWORD PTR _bio_err
	call	_BIO_printf
	add	esp, 64					; 00000040H
; Line 191
	push	OFFSET ??_C@_0CN@PJLKHANN@?9algorithm?5alg?5?5?5?5?5the?5public?5ke@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 192
	push	OFFSET ??_C@_0GC@KPBKKGNL@?9pkeyopt?5opt?3value?5set?5the?5publi@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 195
	push	OFFSET ??_C@_0DB@HOPBCHBL@?9genparam?5?5?5?5?5?5?5?5?5?5generate?5para@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 197
	push	OFFSET ??_C@_0CG@OIGOBFEK@?9text?5?5?5?5?5?5?5?5?5?5?5?5?5?5print?5the?5in?5@
	push	DWORD PTR _bio_err
	call	_BIO_printf
; Line 198
	push	OFFSET ??_C@_0DL@EFMPFEJO@NB?3?5options?5order?5may?5be?5importa@
	push	DWORD PTR _bio_err
	call	_BIO_printf
	add	esp, 40					; 00000028H
$LN122@genpkey_ma:
	xor	esi, esi
$LN123@genpkey_ma:
	mov	edi, 1
$end$128:
; Line 271
	mov	eax, DWORD PTR _pkey$[esp+56]
	test	eax, eax
	je	SHORT $LN63@genpkey_ma
; Line 272
	push	eax
	call	_EVP_PKEY_free
	add	esp, 4
$LN63@genpkey_ma:
; Line 273
	test	ebx, ebx
	je	SHORT $LN64@genpkey_ma
; Line 274
	push	ebx
	call	_EVP_PKEY_CTX_free
	add	esp, 4
$LN64@genpkey_ma:
; Line 275
	test	esi, esi
	je	SHORT $LN65@genpkey_ma
; Line 276
	push	esi
	call	_BIO_free_all
	add	esp, 4
$LN65@genpkey_ma:
; Line 277
	push	0
	call	_BIO_free
; Line 278
	mov	ecx, DWORD PTR _pass$[esp+60]
	add	esp, 4
	test	ecx, ecx
	je	SHORT $LN120@genpkey_ma
; Line 279
	push	ecx
	call	_CRYPTO_free
	add	esp, 4
$LN120@genpkey_ma:
; Line 281
	mov	eax, edi
	pop	edi
	pop	esi
	pop	ebp
	pop	ebx
; Line 282
	add	esp, 40					; 00000028H
	ret	0
$LN44@genpkey_ma:
; Line 208
	mov	edi, DWORD PTR _outfile$1$[esp+56]
	test	edi, edi
	je	SHORT $LN45@genpkey_ma
; Line 209
	push	OFFSET ??_C@_02GMLFBBN@wb?$AA@
	push	edi
	call	_BIO_new_file
	mov	esi, eax
	add	esp, 8
	test	esi, esi
	jne	SHORT $LN46@genpkey_ma
; Line 210
	push	edi
	push	OFFSET ??_C@_0BL@EIBBPFMA@Can?8t?5open?5output?5file?5?$CFs?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_printf
	add	esp, 12					; 0000000cH
; Line 211
	jmp	$LN123@genpkey_ma
$LN45@genpkey_ma:
; Line 214
	push	0
	push	1
	call	DWORD PTR __imp____acrt_iob_func
	add	esp, 4
	push	eax
	call	_BIO_new_fp
	add	esp, 8
	mov	esi, eax
$LN46@genpkey_ma:
; Line 223
	push	OFFSET _genpkey_cb
	push	ebx
	call	_EVP_PKEY_CTX_set_cb
; Line 224
	push	DWORD PTR _bio_err
	push	ebx
	call	_EVP_PKEY_CTX_set_app_data
; Line 226
	mov	ebp, DWORD PTR _do_param$1$[esp+72]
; Line 227
	lea	eax, DWORD PTR _pkey$[esp+72]
	add	esp, 16					; 00000010H
	push	eax
	push	ebx
	test	ebp, ebp
	je	SHORT $LN48@genpkey_ma
	call	_EVP_PKEY_paramgen
	add	esp, 8
	test	eax, eax
	jg	SHORT $LN51@genpkey_ma
; Line 228
	push	OFFSET ??_C@_0BN@GPNLILKF@Error?5generating?5parameters?6?$AA@
$LN126@genpkey_ma:
	push	DWORD PTR _bio_err
	call	_BIO_puts
; Line 229
	push	DWORD PTR _bio_err
	call	_ERR_print_errors
	add	esp, 12					; 0000000cH
; Line 230
	jmp	$LN123@genpkey_ma
$LN51@genpkey_ma:
; Line 241
	push	DWORD PTR _pkey$[esp+56]
	push	esi
	call	_PEM_write_bio_Parameters
	jmp	SHORT $LN124@genpkey_ma
$LN48@genpkey_ma:
; Line 233
	call	_EVP_PKEY_keygen
	add	esp, 8
	test	eax, eax
	jg	SHORT $LN52@genpkey_ma
; Line 234
	push	OFFSET ??_C@_0BG@KNMDELML@Error?5generating?5key?6?$AA@
; Line 236
	jmp	SHORT $LN126@genpkey_ma
$LN52@genpkey_ma:
; Line 242
	mov	eax, DWORD PTR _outformat$1$[esp+56]
	cmp	eax, 3
	jne	SHORT $LN54@genpkey_ma
; Line 243
	push	DWORD PTR _pass$[esp+56]
	mov	eax, DWORD PTR _cipher$1$[esp+60]
	push	0
	push	0
	push	0
	push	eax
	push	DWORD PTR _pkey$[esp+76]
	push	esi
	call	_PEM_write_bio_PrivateKey
	add	esp, 28					; 0000001cH
	jmp	SHORT $LN57@genpkey_ma
$LN54@genpkey_ma:
; Line 244
	cmp	eax, 1
	jne	SHORT $LN56@genpkey_ma
; Line 245
	push	DWORD PTR _pkey$[esp+56]
	push	esi
	call	_i2d_PrivateKey_bio
$LN124@genpkey_ma:
	add	esp, 8
$LN57@genpkey_ma:
; Line 251
	test	eax, eax
	jg	SHORT $LN58@genpkey_ma
; Line 252
	push	OFFSET ??_C@_0BD@BKFAOPNO@Error?5writing?5key?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_puts
; Line 253
	push	DWORD PTR _bio_err
	call	_ERR_print_errors
	add	esp, 12					; 0000000cH
$LN58@genpkey_ma:
; Line 256
	mov	eax, DWORD PTR _text$1$[esp+56]
	test	eax, eax
	je	SHORT $LN62@genpkey_ma
; Line 258
	push	0
	push	0
	push	DWORD PTR _pkey$[esp+64]
	push	esi
	test	ebp, ebp
	je	SHORT $LN60@genpkey_ma
	call	_EVP_PKEY_print_params
	jmp	SHORT $LN125@genpkey_ma
$LN60@genpkey_ma:
; Line 260
	call	_EVP_PKEY_print_private
$LN125@genpkey_ma:
	add	esp, 16					; 00000010H
; Line 262
	test	eax, eax
	jg	SHORT $LN62@genpkey_ma
; Line 263
	push	OFFSET ??_C@_0BE@MAPDMJE@Error?5printing?5key?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_puts
; Line 264
	push	DWORD PTR _bio_err
	call	_ERR_print_errors
	add	esp, 12					; 0000000cH
$LN62@genpkey_ma:
; Line 268
	xor	edi, edi
	jmp	$end$128
$LN56@genpkey_ma:
; Line 247
	push	OFFSET ??_C@_0BO@PNJCFDML@Bad?5format?5specified?5for?5key?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_printf
	add	esp, 8
	jmp	$LN123@genpkey_ma
_genpkey_main ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _genpkey_cb
_TEXT	SEGMENT
_c$ = -1						; size = 1
_ctx$ = 8						; size = 4
_genpkey_cb PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\apps\genpkey.c
; Line 386
	mov	eax, 4
	call	__chkstk
	push	edi
; Line 388
	push	DWORD PTR _ctx$[esp+4]
	mov	BYTE PTR _c$[esp+12], 42		; 0000002aH
	call	_EVP_PKEY_CTX_get_app_data
; Line 390
	push	0
	push	DWORD PTR _ctx$[esp+12]
	mov	edi, eax
	call	_EVP_PKEY_CTX_get_keygen_info
	mov	ecx, eax
	add	esp, 12					; 0000000cH
; Line 391
	test	ecx, ecx
	jne	SHORT $LN2@genpkey_cb
; Line 392
	mov	BYTE PTR _c$[esp+8], 46			; 0000002eH
; Line 393
	jmp	SHORT $LN5@genpkey_cb
$LN2@genpkey_cb:
	cmp	ecx, 1
	jne	SHORT $LN3@genpkey_cb
; Line 394
	mov	BYTE PTR _c$[esp+8], 43			; 0000002bH
; Line 395
	jmp	SHORT $LN5@genpkey_cb
$LN3@genpkey_cb:
	cmp	ecx, 2
	jne	SHORT $LN4@genpkey_cb
; Line 396
	mov	BYTE PTR _c$[esp+8], 42			; 0000002aH
; Line 397
	jmp	SHORT $LN5@genpkey_cb
$LN4@genpkey_cb:
	movzx	eax, BYTE PTR _c$[esp+8]
	cmp	ecx, 3
	mov	edx, 10					; 0000000aH
	cmove	eax, edx
	mov	BYTE PTR _c$[esp+8], al
$LN5@genpkey_cb:
; Line 399
	push	1
	lea	eax, DWORD PTR _c$[esp+12]
	push	eax
	push	edi
	call	_BIO_write
; Line 400
	push	0
	push	0
	push	11					; 0000000bH
	push	edi
	call	_BIO_ctrl
	add	esp, 28					; 0000001cH
; Line 404
	mov	eax, 1
	pop	edi
; Line 405
	pop	ecx
	ret	0
_genpkey_cb ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _init_keygen_file
_TEXT	SEGMENT
_err$ = 8						; size = 4
_pctx$ = 12						; size = 4
_file$ = 16						; size = 4
_e$ = 20						; size = 4
_init_keygen_file PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\apps\genpkey.c
; Line 286
	push	ebp
; Line 290
	mov	ebp, DWORD PTR _pctx$[esp]
	cmp	DWORD PTR [ebp], 0
	je	SHORT $LN2@init_keyge
; Line 291
	push	OFFSET ??_C@_0BJ@FFCNENPC@Parameters?5already?5set?$CB?6?$AA@
	push	DWORD PTR _err$[esp+4]
	call	_BIO_puts
	add	esp, 8
; Line 292
	xor	eax, eax
	pop	ebp
; Line 327
	ret	0
$LN2@init_keyge:
	push	esi
; Line 295
	mov	esi, DWORD PTR _file$[esp+4]
	push	edi
	push	OFFSET ??_C@_01KDCPPGHE@r?$AA@
	push	esi
	call	_BIO_new_file
	mov	edi, eax
	add	esp, 8
; Line 296
	test	edi, edi
	jne	SHORT $LN3@init_keyge
; Line 297
	push	esi
	push	OFFSET ??_C@_0BO@HEFFFKLO@Can?8t?5open?5parameter?5file?5?$CFs?6?$AA@
	push	DWORD PTR _err$[esp+16]
	call	_BIO_printf
	add	esp, 12					; 0000000cH
; Line 298
	xor	eax, eax
	pop	edi
	pop	esi
	pop	ebp
; Line 327
	ret	0
$LN3@init_keyge:
	push	ebx
; Line 301
	push	0
	push	edi
	call	_PEM_read_bio_Parameters
; Line 302
	push	edi
	mov	ebx, eax
	call	_BIO_free
	add	esp, 12					; 0000000cH
; Line 304
	test	ebx, ebx
	jne	SHORT $LN4@init_keyge
; Line 305
	push	esi
	push	OFFSET ??_C@_0CB@EHHPGCBO@Error?5reading?5parameter?5file?5?$CFs?6@
	push	DWORD PTR _bio_err
	call	_BIO_printf
	add	esp, 12					; 0000000cH
; Line 325
	xor	eax, eax
	pop	ebx
	pop	edi
	pop	esi
	pop	ebp
; Line 327
	ret	0
$LN4@init_keyge:
; Line 309
	push	DWORD PTR _e$[esp+12]
	push	ebx
	call	_EVP_PKEY_CTX_new
	mov	edi, eax
	add	esp, 8
; Line 310
	test	edi, edi
	je	SHORT $err$15
; Line 312
	push	edi
	call	_EVP_PKEY_keygen_init
	add	esp, 4
	test	eax, eax
	jle	SHORT $err$15
; Line 314
	push	ebx
	call	_EVP_PKEY_free
	add	esp, 4
; Line 315
	mov	DWORD PTR [ebp], edi
; Line 316
	mov	eax, 1
	pop	ebx
	pop	edi
	pop	esi
	pop	ebp
; Line 327
	ret	0
$err$15:
; Line 319
	mov	esi, DWORD PTR _err$[esp+12]
	push	OFFSET ??_C@_0BM@IFBMKPJK@Error?5initializing?5context?6?$AA@
	push	esi
	call	_BIO_puts
; Line 320
	push	esi
	call	_ERR_print_errors
	add	esp, 12					; 0000000cH
; Line 321
	test	edi, edi
	je	SHORT $LN7@init_keyge
; Line 322
	push	edi
	call	_EVP_PKEY_CTX_free
	add	esp, 4
$LN7@init_keyge:
; Line 324
	push	ebx
	call	_EVP_PKEY_free
	add	esp, 4
; Line 325
	xor	eax, eax
	pop	ebx
	pop	edi
	pop	esi
	pop	ebp
; Line 327
	ret	0
_init_keygen_file ENDP
_TEXT	ENDS
; Function compile flags: /Ogtpy
;	COMDAT _init_gen_str
_TEXT	SEGMENT
_tmpeng$ = -4						; size = 4
_err$ = 8						; size = 4
_pkey_id$ = 12						; size = 4
_pctx$ = 12						; size = 4
_algname$ = 16						; size = 4
_e$ = 20						; size = 4
_do_param$ = 24						; size = 4
_init_gen_str PROC					; COMDAT
; File c:\workpace\openssl\openssl-1.0.2h\apps\genpkey.c
; Line 331
	mov	eax, 4
	call	__chkstk
	push	ebx
; Line 337
	mov	ebx, DWORD PTR _pctx$[esp+4]
	mov	DWORD PTR _tmpeng$[esp+8], 0
	cmp	DWORD PTR [ebx], 0
	je	SHORT $LN2@init_gen_s
; Line 338
	push	OFFSET ??_C@_0BI@HPDJOFDG@Algorithm?5already?5set?$CB?6?$AA@
	push	DWORD PTR _err$[esp+8]
	call	_BIO_puts
	add	esp, 8
; Line 339
	xor	eax, eax
	pop	ebx
; Line 383
	pop	ecx
	ret	0
$LN2@init_gen_s:
	push	ebp
	push	esi
; Line 342
	mov	esi, DWORD PTR _algname$[esp+12]
	lea	eax, DWORD PTR _tmpeng$[esp+16]
	push	edi
	push	-1
	push	esi
	push	eax
	call	_EVP_PKEY_asn1_find_str
; Line 345
	mov	ebp, DWORD PTR _e$[esp+28]
	mov	edi, eax
	add	esp, 12					; 0000000cH
	test	edi, edi
	jne	SHORT $LN4@init_gen_s
	test	ebp, ebp
	je	SHORT $LN13@init_gen_s
; Line 346
	push	-1
	push	esi
	push	ebp
	call	_ENGINE_get_pkey_asn1_meth_str
	mov	edi, eax
	add	esp, 12					; 0000000cH
; Line 349
	test	edi, edi
	jne	SHORT $LN4@init_gen_s
$LN13@init_gen_s:
; Line 350
	push	esi
	push	OFFSET ??_C@_0BI@MFIANKDK@Algorithm?5?$CFs?5not?5found?6?$AA@
	push	DWORD PTR _bio_err
	call	_BIO_printf
	add	esp, 12					; 0000000cH
; Line 381
	xor	eax, eax
	pop	edi
	pop	esi
	pop	ebp
	pop	ebx
; Line 383
	pop	ecx
	ret	0
$LN4@init_gen_s:
; Line 354
	call	_ERR_clear_error
; Line 356
	push	edi
	push	0
	push	0
	push	0
	lea	eax, DWORD PTR _pkey_id$[esp+32]
	push	0
	push	eax
	call	_EVP_PKEY_asn1_get0_info
; Line 358
	mov	eax, DWORD PTR _tmpeng$[esp+44]
	add	esp, 24					; 00000018H
	test	eax, eax
	je	SHORT $LN5@init_gen_s
; Line 359
	push	eax
	call	_ENGINE_finish
	add	esp, 4
$LN5@init_gen_s:
; Line 361
	push	ebp
	push	DWORD PTR _pkey_id$[esp+20]
	call	_EVP_PKEY_CTX_new_id
	mov	edi, eax
	add	esp, 8
; Line 363
	test	edi, edi
	je	SHORT $err$20
; Line 365
	cmp	DWORD PTR _do_param$[esp+16], 0
; Line 366
	push	edi
	je	SHORT $LN7@init_gen_s
	call	_EVP_PKEY_paramgen_init
; Line 368
	jmp	SHORT $LN18@init_gen_s
$LN7@init_gen_s:
; Line 369
	call	_EVP_PKEY_keygen_init
$LN18@init_gen_s:
	add	esp, 4
	test	eax, eax
	jle	SHORT $err$20
; Line 373
	mov	DWORD PTR [ebx], edi
; Line 374
	mov	eax, 1
	pop	edi
	pop	esi
	pop	ebp
	pop	ebx
; Line 383
	pop	ecx
	ret	0
$err$20:
; Line 377
	push	esi
	mov	esi, DWORD PTR _err$[esp+20]
	push	OFFSET ??_C@_0BP@HHEKGIKI@Error?5initializing?5?$CFs?5context?6?$AA@
	push	esi
	call	_BIO_printf
; Line 378
	push	esi
	call	_ERR_print_errors
	add	esp, 16					; 00000010H
; Line 379
	test	edi, edi
	je	SHORT $LN11@init_gen_s
; Line 380
	push	edi
	call	_EVP_PKEY_CTX_free
	add	esp, 4
$LN11@init_gen_s:
; Line 381
	pop	edi
	pop	esi
	pop	ebp
	xor	eax, eax
	pop	ebx
; Line 383
	pop	ecx
	ret	0
_init_gen_str ENDP
_TEXT	ENDS
END
