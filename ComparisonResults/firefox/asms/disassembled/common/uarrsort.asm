;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	4B96DB1C87FD787EDECA699F57B90CCD
; Input	CRC32 :	536F690F

; File Name   :	D:\compspace\objfiles\firefox\common\uarrsort.obj
; Format      :	COFF (X386MAGIC)
; includelib "msvcprtd"
; includelib "MSVCRTD"
; includelib "OLDNAMES"
;
; Exported entry
;

		.686p
		.mmx
		.model flat
.intel_syntax noprefix

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _uprv_uint16Comparator_56
_uprv_uint16Comparator_56 proc near

var_C0		= byte ptr -0C0h
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		movzx	eax, word ptr [eax]
		mov	ecx, [ebp+arg_8]
		movzx	edx, word ptr [ecx]
		sub	eax, edx
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_uprv_uint16Comparator_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$TMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$TMZ
		;org 34h
__RTC_Shutdown_rtc$TMZ dd offset __RTC_Shutdown
_rtc$TMZ	ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$IMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$IMZ
		;org 38h
__RTC_InitBase_rtc$IMZ dd offset __RTC_InitBase
_rtc$IMZ	ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3Ch
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _uprv_int32Comparator_56
_uprv_int32Comparator_56 proc near

var_C0		= byte ptr -0C0h
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_8]
		mov	eax, [eax]
		sub	eax, [ecx]
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_uprv_int32Comparator_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 6Ch
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _uprv_uint32Comparator_56
_uprv_uint32Comparator_56 proc near

var_D8		= byte ptr -0D8h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 0D8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_D8]
		mov	ecx, 36h ; '6'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_8]
		mov	ecx, [eax]
		mov	[ebp+var_14], ecx
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnb	short loc_A9
		or	eax, 0FFFFFFFFh
		jmp	short loc_BC
; ---------------------------------------------------------------------------
		jmp	short loc_BC
; ---------------------------------------------------------------------------

loc_A9:					; CODE XREF: _uprv_uint32Comparator_56+34j
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnz	short loc_B7
		xor	eax, eax
		jmp	short loc_BC
; ---------------------------------------------------------------------------
		jmp	short loc_BC
; ---------------------------------------------------------------------------

loc_B7:					; CODE XREF: _uprv_uint32Comparator_56+43j
		mov	eax, 1

loc_BC:					; CODE XREF: _uprv_uint32Comparator_56+39j
					; _uprv_uint32Comparator_56+3Bj ...
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_uprv_uint32Comparator_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 0C4h
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _uprv_stableBinarySearch_56
_uprv_stableBinarySearch_56 proc near	; CODE XREF: _doInsertionSort+61p

var_100		= dword	ptr -100h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_11		= byte ptr -11h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 100h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_100]
		mov	ecx, 40h ; '@'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0
		mov	[ebp+var_11], 0

loc_ED:					; CODE XREF: _uprv_stableBinarySearch_56:loc_154j
		mov	eax, [ebp+arg_4]
		sub	eax, [ebp+var_8]
		cmp	eax, 9
		jl	short loc_156
		mov	eax, [ebp+var_8]
		add	eax, [ebp+arg_4]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_20]
		imul	eax, [ebp+arg_C]
		add	eax, [ebp+arg_0]
		mov	esi, esp
		push	eax
		mov	ecx, [ebp+arg_8]
		push	ecx
		mov	edx, [ebp+arg_14]
		push	edx
		call	[ebp+arg_10]
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		mov	[ebp+var_2C], eax
		cmp	[ebp+var_2C], 0
		jnz	short loc_140
		mov	[ebp+var_11], 1
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_8], eax
		jmp	short loc_154
; ---------------------------------------------------------------------------

loc_140:				; CODE XREF: _uprv_stableBinarySearch_56+6Bj
		cmp	[ebp+var_2C], 0
		jge	short loc_14E
		mov	eax, [ebp+var_20]
		mov	[ebp+arg_4], eax
		jmp	short loc_154
; ---------------------------------------------------------------------------

loc_14E:				; CODE XREF: _uprv_stableBinarySearch_56+80j
		mov	eax, [ebp+var_20]
		mov	[ebp+var_8], eax

loc_154:				; CODE XREF: _uprv_stableBinarySearch_56+7Aj
					; _uprv_stableBinarySearch_56+88j
		jmp	short loc_ED
; ---------------------------------------------------------------------------

loc_156:				; CODE XREF: _uprv_stableBinarySearch_56+32j
					; _uprv_stableBinarySearch_56+DCj
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+arg_4]
		jge	short loc_1A2
		mov	eax, [ebp+var_8]
		imul	eax, [ebp+arg_C]
		add	eax, [ebp+arg_0]
		mov	esi, esp
		push	eax
		mov	ecx, [ebp+arg_8]
		push	ecx
		mov	edx, [ebp+arg_14]
		push	edx
		call	[ebp+arg_10]
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		mov	[ebp+var_38], eax
		cmp	[ebp+var_38], 0
		jnz	short loc_18F
		mov	[ebp+var_11], 1
		jmp	short loc_197
; ---------------------------------------------------------------------------

loc_18F:				; CODE XREF: _uprv_stableBinarySearch_56+C3j
		cmp	[ebp+var_38], 0
		jge	short loc_197
		jmp	short loc_1A2
; ---------------------------------------------------------------------------

loc_197:				; CODE XREF: _uprv_stableBinarySearch_56+C9j
					; _uprv_stableBinarySearch_56+CFj
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		jmp	short loc_156
; ---------------------------------------------------------------------------

loc_1A2:				; CODE XREF: _uprv_stableBinarySearch_56+98j
					; _uprv_stableBinarySearch_56+D1j
		movsx	eax, [ebp+var_11]
		test	eax, eax
		jz	short loc_1B8
		mov	ecx, [ebp+var_8]
		sub	ecx, 1
		mov	[ebp+var_100], ecx
		jmp	short loc_1C3
; ---------------------------------------------------------------------------

loc_1B8:				; CODE XREF: _uprv_stableBinarySearch_56+E4j
		mov	edx, [ebp+var_8]
		not	edx
		mov	[ebp+var_100], edx

loc_1C3:				; CODE XREF: _uprv_stableBinarySearch_56+F2j
		mov	eax, [ebp+var_100]
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 100h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_uprv_stableBinarySearch_56 endp

; ---------------------------------------------------------------------------
		align 10h
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1E0h
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl uprv_sortArray_56(int, int, size_t, int, int, char, int)
		public _uprv_sortArray_56
_uprv_sortArray_56 proc	near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= byte ptr  1Ch
arg_18		= dword	ptr  20h

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_18], 0
		jz	short loc_20C
		mov	eax, [ebp+arg_18]
		cmp	dword ptr [eax], 0
		jle	short loc_211

loc_20C:				; CODE XREF: _uprv_sortArray_56+22j
		jmp	loc_294
; ---------------------------------------------------------------------------

loc_211:				; CODE XREF: _uprv_sortArray_56+2Aj
		cmp	[ebp+arg_4], 0
		jle	short loc_21D
		cmp	[ebp+arg_0], 0
		jz	short loc_22F

loc_21D:				; CODE XREF: _uprv_sortArray_56+35j
		cmp	[ebp+arg_4], 0
		jl	short loc_22F
		cmp	[ebp+arg_8], 0
		jle	short loc_22F
		cmp	[ebp+arg_C], 0
		jnz	short loc_23A

loc_22F:				; CODE XREF: _uprv_sortArray_56+3Bj
					; _uprv_sortArray_56+41j ...
		mov	eax, [ebp+arg_18]
		mov	dword ptr [eax], 1
		jmp	short loc_294
; ---------------------------------------------------------------------------

loc_23A:				; CODE XREF: _uprv_sortArray_56+4Dj
		cmp	[ebp+arg_4], 1
		jg	short loc_244
		jmp	short loc_294
; ---------------------------------------------------------------------------
		jmp	short loc_294
; ---------------------------------------------------------------------------

loc_244:				; CODE XREF: _uprv_sortArray_56+5Ej
		cmp	[ebp+arg_4], 9
		jl	short loc_252
		movsx	eax, [ebp+arg_14]
		test	eax, eax
		jz	short loc_274

loc_252:				; CODE XREF: _uprv_sortArray_56+68j
		mov	eax, [ebp+arg_18]
		push	eax		; int
		mov	ecx, [ebp+arg_10]
		push	ecx		; int
		mov	edx, [ebp+arg_C]
		push	edx		; int
		mov	eax, [ebp+arg_8]
		push	eax		; size_t
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int
		call	_insertionSort
		add	esp, 18h
		jmp	short loc_294
; ---------------------------------------------------------------------------

loc_274:				; CODE XREF: _uprv_sortArray_56+70j
		mov	eax, [ebp+arg_18]
		push	eax		; int
		mov	ecx, [ebp+arg_10]
		push	ecx		; int
		mov	edx, [ebp+arg_C]
		push	edx		; int
		mov	eax, [ebp+arg_8]
		push	eax		; size_t
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int
		call	_quickSort
		add	esp, 18h

loc_294:				; CODE XREF: _uprv_sortArray_56:loc_20Cj
					; _uprv_sortArray_56+58j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0C0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_uprv_sortArray_56 endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2A8h
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl insertionSort(int, int, size_t, int, int,	int)
_insertionSort	proc near		; CODE XREF: _uprv_sortArray_56+8Ap

var_1A8		= byte ptr -1A8h
var_E4		= dword	ptr -0E4h
var_D8		= byte ptr -0D8h
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 1A8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_1A8]
		mov	ecx, 6Ah ; 'j'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		cmp	[ebp+arg_8], 0C8h ; 'È'
		jg	short loc_2E7
		lea	eax, [ebp+var_D8]
		mov	[ebp+var_E4], eax
		jmp	short loc_30D
; ---------------------------------------------------------------------------

loc_2E7:				; CODE XREF: _insertionSort+2Fj
		mov	eax, [ebp+arg_8]
		push	eax
		call	_uprv_malloc_56
		add	esp, 4
		mov	[ebp+var_E4], eax
		cmp	[ebp+var_E4], 0
		jnz	short loc_30D
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 7
		jmp	short loc_34F
; ---------------------------------------------------------------------------

loc_30D:				; CODE XREF: _insertionSort+3Dj
					; _insertionSort+58j
		mov	eax, [ebp+var_E4]
		push	eax		; void *
		mov	ecx, [ebp+arg_10]
		push	ecx		; int
		mov	edx, [ebp+arg_C]
		push	edx		; int
		mov	eax, [ebp+arg_8]
		push	eax		; size_t
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int
		call	_doInsertionSort
		add	esp, 18h
		mov	eax, [ebp+var_E4]
		lea	ecx, [ebp+var_D8]
		cmp	eax, ecx
		jz	short loc_34F
		mov	eax, [ebp+var_E4]
		push	eax
		call	_uprv_free_56
		add	esp, 4

loc_34F:				; CODE XREF: _insertionSort+63j
					; _insertionSort+96j
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN9
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4
		add	esp, 1A8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_insertionSort	endp

; ---------------------------------------------------------------------------
		align 10h
$LN9		dd 1			; DATA XREF: _insertionSort+ABo
		dd offset $LN8
$LN8		dd 0FFFFFF28h, 0D0h	; DATA XREF: .text:00000384o
		dd offset $LN7
$LN7		db 76h,	0		; DATA XREF: .text:00000390o
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 398h
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl doInsertionSort(int, int,	size_t,	int, int, void *)
_doInsertionSort proc near		; CODE XREF: _insertionSort+80p
					; _subQuickSort+4Bp

var_F0		= byte ptr -0F0h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0F0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_F0]
		mov	ecx, 3Ch ; '<'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 1
		jmp	short loc_3C8
; ---------------------------------------------------------------------------

loc_3BF:				; CODE XREF: _doInsertionSort:loc_4B0j
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax

loc_3C8:				; CODE XREF: _doInsertionSort+25j
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+arg_4]
		jge	loc_4B5
		mov	eax, [ebp+var_8]
		imul	eax, [ebp+arg_8]
		add	eax, [ebp+arg_0]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+arg_10]
		push	eax
		mov	ecx, [ebp+arg_C]
		push	ecx
		mov	edx, [ebp+arg_8]
		push	edx
		mov	eax, [ebp+var_14]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_uprv_stableBinarySearch_56
		add	esp, 18h
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jge	short loc_414
		mov	eax, [ebp+var_20]
		not	eax
		mov	[ebp+var_20], eax
		jmp	short loc_41D
; ---------------------------------------------------------------------------

loc_414:				; CODE XREF: _doInsertionSort+70j
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax

loc_41D:				; CODE XREF: _doInsertionSort+7Aj
		mov	eax, [ebp+var_20]
		cmp	eax, [ebp+var_8]
		jge	loc_4B0
		mov	eax, [ebp+var_20]
		imul	eax, [ebp+arg_8]
		add	eax, [ebp+arg_0]
		mov	[ebp+var_2C], eax
		push	1
		mov	eax, [ebp+var_14]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+arg_8]
		push	ecx		; size_t
		mov	edx, [ebp+var_14]
		push	edx		; void *
		mov	eax, [ebp+arg_14]
		push	eax		; void *
		call	_memcpy
		add	esp, 0Ch
		push	1
		mov	eax, [ebp+var_2C]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+var_8]
		sub	ecx, [ebp+var_20]
		imul	ecx, [ebp+arg_8]
		mov	esi, esp
		push	ecx		; size_t
		mov	edx, [ebp+var_2C]
		push	edx		; void *
		mov	eax, [ebp+var_2C]
		add	eax, [ebp+arg_8]
		push	eax		; void *
		call	dword ptr ds:__imp__memmove
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		push	1
		mov	eax, [ebp+arg_14]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+arg_8]
		push	ecx		; size_t
		mov	edx, [ebp+arg_14]
		push	edx		; void *
		mov	eax, [ebp+var_2C]
		push	eax		; void *
		call	_memcpy
		add	esp, 0Ch

loc_4B0:				; CODE XREF: _doInsertionSort+8Bj
		jmp	loc_3BF
; ---------------------------------------------------------------------------

loc_4B5:				; CODE XREF: _doInsertionSort+36j
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0F0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_doInsertionSort endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 4CCh
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl quickSort(int, int, size_t, int, int, int)
_quickSort	proc near		; CODE XREF: _uprv_sortArray_56+ACp

var_270		= byte ptr -270h
var_1AC		= dword	ptr -1ACh
var_1A0		= byte ptr -1A0h
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 270h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_270]
		mov	ecx, 9Ch ; 'œ'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		cmp	[ebp+arg_8], 0C8h ; 'È'
		jg	short loc_50B
		lea	eax, [ebp+var_1A0]
		mov	[ebp+var_1AC], eax
		jmp	short loc_533
; ---------------------------------------------------------------------------

loc_50B:				; CODE XREF: _quickSort+2Fj
		mov	eax, [ebp+arg_8]
		shl	eax, 1
		push	eax
		call	_uprv_malloc_56
		add	esp, 4
		mov	[ebp+var_1AC], eax
		cmp	[ebp+var_1AC], 0
		jnz	short loc_533
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 7
		jmp	short loc_581
; ---------------------------------------------------------------------------

loc_533:				; CODE XREF: _quickSort+3Dj
					; _quickSort+5Aj
		mov	eax, [ebp+var_1AC]
		add	eax, [ebp+arg_8]
		push	eax		; void *
		mov	ecx, [ebp+var_1AC]
		push	ecx		; void *
		mov	edx, [ebp+arg_10]
		push	edx		; int
		mov	eax, [ebp+arg_C]
		push	eax		; int
		mov	ecx, [ebp+arg_8]
		push	ecx		; size_t
		mov	edx, [ebp+arg_4]
		push	edx		; int
		push	0		; int
		mov	eax, [ebp+arg_0]
		push	eax		; int
		call	_subQuickSort
		add	esp, 20h
		mov	eax, [ebp+var_1AC]
		lea	ecx, [ebp+var_1A0]
		cmp	eax, ecx
		jz	short loc_581
		mov	eax, [ebp+var_1AC]
		push	eax
		call	_uprv_free_56
		add	esp, 4

loc_581:				; CODE XREF: _quickSort+65j
					; _quickSort+A4j
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN9_0
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4
		add	esp, 270h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_quickSort	endp

; ---------------------------------------------------------------------------
$LN9_0		dd 1			; DATA XREF: _quickSort+B9o
		dd offset $LN8_0
$LN8_0		dd 0FFFFFE60h, 198h	; DATA XREF: .text:000005B4o
		dd offset $LN7_0
; ---------------------------------------------------------------------------

$LN7_0:					; DATA XREF: .text:000005C0o
		js	short loc_63D
		add	bh, bh
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5C8h
		assume es:nothing, ss:nothing, ds:_rtc$TMZ, fs:nothing,	gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl subQuickSort(int,	int, int, size_t, int, int, void *, void *)
_subQuickSort	proc near		; CODE XREF: _quickSort+8Ep
					; _subQuickSort+20Ap ...

var_D8		= byte ptr -0D8h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch
arg_18		= dword	ptr  20h
arg_1C		= dword	ptr  24h

		push	ebp
		mov	ebp, esp
		sub	esp, 0D8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_D8]
		mov	ecx, 36h ; '6'
		mov	eax, 0CCCCCCCCh
		rep stosd

loc_5E6:				; CODE XREF: _subQuickSort+25Cj
		mov	eax, [ebp+arg_4]
		add	eax, 9
		cmp	eax, [ebp+arg_8]
		jl	short loc_620
		mov	eax, [ebp+arg_18]
		push	eax		; void *
		mov	ecx, [ebp+arg_14]
		push	ecx		; int
		mov	edx, [ebp+arg_10]
		push	edx		; int
		mov	eax, [ebp+arg_C]
		push	eax		; size_t
		mov	ecx, [ebp+arg_8]
		sub	ecx, [ebp+arg_4]
		push	ecx		; int
		mov	edx, [ebp+arg_4]
		imul	edx, [ebp+arg_C]
		add	edx, [ebp+arg_0]
		push	edx		; int
		call	_doInsertionSort
		add	esp, 18h
		jmp	loc_82A
; ---------------------------------------------------------------------------

loc_620:				; CODE XREF: _subQuickSort+27j
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_8]
		mov	[ebp+var_14], eax
		push	1
		mov	eax, [ebp+arg_4]
		add	eax, [ebp+arg_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		imul	eax, [ebp+arg_C]

loc_63D:				; CODE XREF: .text:$LN7_0j
		add	eax, [ebp+arg_0]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	eax, [ebp+arg_C]
		push	eax		; size_t
		mov	eax, [ebp+arg_4]
		add	eax, [ebp+arg_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		imul	eax, [ebp+arg_C]
		add	eax, [ebp+arg_0]
		push	eax		; void *
		mov	ecx, [ebp+arg_18]
		push	ecx		; void *
		call	_memcpy
		add	esp, 0Ch

loc_66C:				; CODE XREF: _subQuickSort+D3j
					; _subQuickSort+1C9j
		mov	esi, esp
		mov	eax, [ebp+arg_18]
		push	eax
		mov	ecx, [ebp+var_8]
		imul	ecx, [ebp+arg_C]
		add	ecx, [ebp+arg_0]
		push	ecx
		mov	edx, [ebp+arg_14]
		push	edx
		call	[ebp+arg_10]
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		test	eax, eax
		jge	short loc_69D
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		jmp	short loc_66C
; ---------------------------------------------------------------------------

loc_69D:				; CODE XREF: _subQuickSort+C8j
					; _subQuickSort+107j
		mov	eax, [ebp+var_14]
		sub	eax, 1
		imul	eax, [ebp+arg_C]
		add	eax, [ebp+arg_0]
		mov	esi, esp
		push	eax
		mov	ecx, [ebp+arg_18]
		push	ecx
		mov	edx, [ebp+arg_14]
		push	edx
		call	[ebp+arg_10]
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		test	eax, eax
		jge	short loc_6D1
		mov	eax, [ebp+var_14]
		sub	eax, 1
		mov	[ebp+var_14], eax
		jmp	short loc_69D
; ---------------------------------------------------------------------------

loc_6D1:				; CODE XREF: _subQuickSort+FCj
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jge	loc_78B
		mov	eax, [ebp+var_14]
		sub	eax, 1
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jge	loc_782
		push	1
		mov	eax, [ebp+var_8]
		imul	eax, [ebp+arg_C]
		add	eax, [ebp+arg_0]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+arg_C]
		push	ecx		; size_t
		mov	edx, [ebp+var_8]
		imul	edx, [ebp+arg_C]
		add	edx, [ebp+arg_0]
		push	edx		; void *
		mov	eax, [ebp+arg_1C]
		push	eax		; void *
		call	_memcpy
		add	esp, 0Ch
		push	1
		mov	eax, [ebp+var_14]
		imul	eax, [ebp+arg_C]
		add	eax, [ebp+arg_0]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+arg_C]
		push	ecx		; size_t
		mov	edx, [ebp+var_14]
		imul	edx, [ebp+arg_C]
		add	edx, [ebp+arg_0]
		push	edx		; void *
		mov	eax, [ebp+var_8]
		imul	eax, [ebp+arg_C]
		add	eax, [ebp+arg_0]
		push	eax		; void *
		call	_memcpy
		add	esp, 0Ch
		push	1
		mov	eax, [ebp+arg_1C]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+arg_C]
		push	ecx		; size_t
		mov	edx, [ebp+arg_1C]
		push	edx		; void *
		mov	eax, [ebp+var_14]
		imul	eax, [ebp+arg_C]
		add	eax, [ebp+arg_0]
		push	eax		; void *
		call	_memcpy
		add	esp, 0Ch

loc_782:				; CODE XREF: _subQuickSort+124j
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax

loc_78B:				; CODE XREF: _subQuickSort+10Fj
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jl	loc_66C
		mov	eax, [ebp+var_14]
		sub	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_8]
		sub	ecx, [ebp+var_8]
		cmp	eax, ecx
		jge	short loc_7E2
		mov	eax, [ebp+var_14]
		sub	eax, 1
		cmp	[ebp+arg_4], eax
		jge	short loc_7DA
		mov	eax, [ebp+arg_1C]
		push	eax		; void *
		mov	ecx, [ebp+arg_18]
		push	ecx		; void *
		mov	edx, [ebp+arg_14]
		push	edx		; int
		mov	eax, [ebp+arg_10]
		push	eax		; int
		mov	ecx, [ebp+arg_C]
		push	ecx		; size_t
		mov	edx, [ebp+var_14]
		push	edx		; int
		mov	eax, [ebp+arg_4]
		push	eax		; int
		mov	ecx, [ebp+arg_0]
		push	ecx		; int
		call	_subQuickSort
		add	esp, 20h

loc_7DA:				; CODE XREF: _subQuickSort+1E8j
		mov	eax, [ebp+var_8]
		mov	[ebp+arg_4], eax
		jmp	short loc_81B
; ---------------------------------------------------------------------------

loc_7E2:				; CODE XREF: _subQuickSort+1DDj
		mov	eax, [ebp+arg_8]
		sub	eax, 1
		cmp	[ebp+var_8], eax
		jge	short loc_815
		mov	eax, [ebp+arg_1C]
		push	eax		; void *
		mov	ecx, [ebp+arg_18]
		push	ecx		; void *
		mov	edx, [ebp+arg_14]
		push	edx		; int
		mov	eax, [ebp+arg_10]
		push	eax		; int
		mov	ecx, [ebp+arg_C]
		push	ecx		; size_t
		mov	edx, [ebp+arg_8]
		push	edx		; int
		mov	eax, [ebp+var_8]
		push	eax		; int
		mov	ecx, [ebp+arg_0]
		push	ecx		; int
		call	_subQuickSort
		add	esp, 20h

loc_815:				; CODE XREF: _subQuickSort+223j
		mov	eax, [ebp+var_14]
		mov	[ebp+arg_8], eax

loc_81B:				; CODE XREF: _subQuickSort+218j
		mov	eax, [ebp+arg_8]
		sub	eax, 1
		cmp	[ebp+arg_4], eax
		jl	loc_5E6

loc_82A:				; CODE XREF: _subQuickSort+53j
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0D8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_subQuickSort	endp

_text		ends

; ===========================================================================

; Segment type:	Externs
; UNDEF
		extrn __RTC_Shutdown:near ; DATA XREF: .rtc$TMZ:__RTC_Shutdown_rtc$TMZo
		extrn __RTC_InitBase:near ; DATA XREF: .rtc$IMZ:__RTC_InitBase_rtc$IMZo
		extrn __RTC_CheckEsp:near ; CODE XREF: _uprv_stableBinarySearch_56+5Fp
					; _uprv_stableBinarySearch_56+B7p ...
		extrn _uprv_free_56:near ; CODE	XREF: _insertionSort+9Fp
					; _quickSort+ADp
		extrn _uprv_malloc_56:near ; CODE XREF:	_insertionSort+43p
					; _quickSort+45p
		extrn ___security_cookie:near ;	DATA XREF: _insertionSort+1Er
					; _quickSort+1Er
		extrn @__security_check_cookie@4:near ;	CODE XREF: _insertionSort+C0p
					; _quickSort+CEp
		extrn @_RTC_CheckStackVars@8:near ; CODE XREF: _insertionSort+B1p
					; _quickSort+BFp
; void *__cdecl	_memmove(void *, const void *, size_t)
		extrn __imp__memmove:near ; CODE XREF: _doInsertionSort+E6p
					; DATA XREF: _doInsertionSort+E6r
; void *__cdecl	memcpy(void *, const void *, size_t)
		extrn _memcpy:near	; CODE XREF: _doInsertionSort+B8p
					; _doInsertionSort+110p ...
		extrn _uprv_checkValidMemory:near ; CODE XREF: _doInsertionSort+A4p
					; _doInsertionSort+C6p	...


		end
