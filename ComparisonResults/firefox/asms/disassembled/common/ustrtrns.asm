;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	0081E814A63EDA655E81DF9ECCF53D43
; Input	CRC32 :	ECDEB48E

; File Name   :	D:\compspace\objfiles\firefox\common\ustrtrns.obj
; Format      :	COFF (X386MAGIC)
; includelib "msvcprtd"
; includelib "MSVCRTD"
; includelib "OLDNAMES"

		include	uni.inc	; see unicode subdir of	ida for	info on	unicode

		.686p
		.mmx
		.model flat

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
_utf8_minLegal	dd 0			; DATA XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+1E6r
					; utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)+21Fr
		dd offset loc_80
		dd offset loc_7FE+2
		dd 10000h
_rdata		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 10h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; void *__cdecl	operator new(unsigned int)
		public ??2@YAPAXI@Z
??2@YAPAXI@Z	proc near

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax],	5
		mov	eax, [ebp+var_8]
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
??2@YAPAXI@Z	endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$TMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$TMZ
		;org 48h
__RTC_Shutdown_rtc$TMZ dd offset __RTC_Shutdown
_rtc$TMZ	ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$IMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$IMZ
		;org 4Ch
__RTC_InitBase_rtc$IMZ dd offset __RTC_InitBase
_rtc$IMZ	ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 50h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; void __cdecl operator	delete(void *)
		public ??3@YAXPAX@Z
??3@YAXPAX@Z	proc near

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax],	5
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp

loc_80:					; DATA XREF: .rdata:00000004o
		pop	ebp
		retn
??3@YAXPAX@Z	endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 84h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strFromUTF32WithSub_56
_u_strFromUTF32WithSub_56 proc near	; CODE XREF: _u_strFromUTF32_56+3Ap

var_10C		= dword	ptr -10Ch
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch
arg_18		= dword	ptr  20h
arg_1C		= dword	ptr  24h

		push	ebp
		mov	ebp, esp
		sub	esp, 10Ch
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_10C]
		mov	ecx, 43h ; 'C'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_1C]
		mov	ecx, [eax]
		push	ecx
		call	?U_FAILURE@@YACW4UErrorCode@@@Z	; U_FAILURE(UErrorCode)
		add	esp, 4
		movsx	edx, al
		test	edx, edx
		jz	short loc_BE
		xor	eax, eax
		jmp	loc_34D
; ---------------------------------------------------------------------------

loc_BE:					; CODE XREF: _u_strFromUTF32WithSub_56+31j
		cmp	[ebp+arg_C], 0
		jnz	short loc_CA
		cmp	[ebp+arg_10], 0
		jnz	short loc_FA

loc_CA:					; CODE XREF: _u_strFromUTF32WithSub_56+3Ej
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jl	short loc_FA
		cmp	[ebp+arg_4], 0
		jl	short loc_FA
		cmp	[ebp+arg_0], 0
		jnz	short loc_E2
		cmp	[ebp+arg_4], 0
		jg	short loc_FA

loc_E2:					; CODE XREF: _u_strFromUTF32WithSub_56+56j
		cmp	[ebp+arg_14], 10FFFFh
		jg	short loc_FA
		mov	eax, [ebp+arg_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jnz	short loc_10A

loc_FA:					; CODE XREF: _u_strFromUTF32WithSub_56+44j
					; _u_strFromUTF32WithSub_56+4Aj ...
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	loc_34D
; ---------------------------------------------------------------------------

loc_10A:				; CODE XREF: _u_strFromUTF32WithSub_56+74j
		cmp	[ebp+arg_18], 0
		jz	short loc_119
		mov	eax, [ebp+arg_18]
		mov	dword ptr [eax], 0

loc_119:				; CODE XREF: _u_strFromUTF32WithSub_56+8Aj
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_2C], eax
		cmp	[ebp+arg_0], 0
		jz	short loc_136
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		lea	edx, [ecx+eax*2]
		mov	[ebp+var_10C], edx
		jmp	short loc_140
; ---------------------------------------------------------------------------

loc_136:				; CODE XREF: _u_strFromUTF32WithSub_56+9Fj
		mov	[ebp+var_10C], 0

loc_140:				; CODE XREF: _u_strFromUTF32WithSub_56+B0j
		mov	eax, [ebp+var_10C]
		mov	[ebp+var_20], eax
		mov	[ebp+var_38], 0
		mov	[ebp+var_44], 0
		cmp	[ebp+arg_10], 0
		jge	short loc_1D8

loc_15D:				; CODE XREF: _u_strFromUTF32WithSub_56:loc_1B5j
		mov	eax, [ebp+arg_C]
		mov	ecx, [eax]
		mov	[ebp+var_14], ecx
		cmp	[ebp+var_14], 0
		jz	short loc_1B7
		cmp	[ebp+var_14], 0D800h
		jb	short loc_186
		cmp	[ebp+var_14], 0E000h
		jl	short loc_1B7
		cmp	[ebp+var_14], 0FFFFh
		jg	short loc_1B7

loc_186:				; CODE XREF: _u_strFromUTF32WithSub_56+EEj
		mov	eax, [ebp+arg_C]
		add	eax, 4
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_20]
		jnb	short loc_1AC
		mov	eax, [ebp+var_2C]
		mov	cx, word ptr [ebp+var_14]
		mov	[eax], cx
		mov	edx, [ebp+var_2C]
		add	edx, 2
		mov	[ebp+var_2C], edx
		jmp	short loc_1B5
; ---------------------------------------------------------------------------

loc_1AC:				; CODE XREF: _u_strFromUTF32WithSub_56+111j
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax

loc_1B5:				; CODE XREF: _u_strFromUTF32WithSub_56+126j
		jmp	short loc_15D
; ---------------------------------------------------------------------------

loc_1B7:				; CODE XREF: _u_strFromUTF32WithSub_56+E5j
					; _u_strFromUTF32WithSub_56+F7j ...
		mov	eax, [ebp+arg_C]
		mov	[ebp+var_8], eax
		cmp	[ebp+var_14], 0
		jz	short loc_1D6

loc_1C3:				; CODE XREF: _u_strFromUTF32WithSub_56+150j
		mov	eax, [ebp+var_8]
		add	eax, 4
		mov	[ebp+var_8], eax
		mov	ecx, [ebp+var_8]
		cmp	dword ptr [ecx], 0
		jz	short loc_1D6
		jmp	short loc_1C3
; ---------------------------------------------------------------------------

loc_1D6:				; CODE XREF: _u_strFromUTF32WithSub_56+13Dj
					; _u_strFromUTF32WithSub_56+14Ej
		jmp	short loc_202
; ---------------------------------------------------------------------------

loc_1D8:				; CODE XREF: _u_strFromUTF32WithSub_56+D7j
		cmp	[ebp+arg_C], 0
		jz	short loc_1EF
		mov	eax, [ebp+arg_10]
		mov	ecx, [ebp+arg_C]
		lea	edx, [ecx+eax*4]
		mov	[ebp+var_10C], edx
		jmp	short loc_1F9
; ---------------------------------------------------------------------------

loc_1EF:				; CODE XREF: _u_strFromUTF32WithSub_56+158j
		mov	[ebp+var_10C], 0

loc_1F9:				; CODE XREF: _u_strFromUTF32WithSub_56+169j
		mov	eax, [ebp+var_10C]
		mov	[ebp+var_8], eax

loc_202:				; CODE XREF: _u_strFromUTF32WithSub_56:loc_1D6j
					; _u_strFromUTF32WithSub_56:loc_303j
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_8]
		jnb	loc_308
		mov	eax, [ebp+arg_C]
		mov	ecx, [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_C]
		add	edx, 4
		mov	[ebp+arg_C], edx

loc_21F:				; CODE XREF: _u_strFromUTF32WithSub_56+279j
		cmp	[ebp+var_14], 0D800h
		jb	short loc_23A
		cmp	[ebp+var_14], 0E000h
		jl	short loc_26A
		cmp	[ebp+var_14], 0FFFFh
		jg	short loc_26A

loc_23A:				; CODE XREF: _u_strFromUTF32WithSub_56+1A2j
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_20]
		jnb	short loc_257
		mov	eax, [ebp+var_2C]
		mov	cx, word ptr [ebp+var_14]
		mov	[eax], cx
		mov	edx, [ebp+var_2C]
		add	edx, 2
		mov	[ebp+var_2C], edx
		jmp	short loc_260
; ---------------------------------------------------------------------------

loc_257:				; CODE XREF: _u_strFromUTF32WithSub_56+1BCj
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax

loc_260:				; CODE XREF: _u_strFromUTF32WithSub_56+1D1j
		jmp	loc_303
; ---------------------------------------------------------------------------
		jmp	loc_2F6
; ---------------------------------------------------------------------------

loc_26A:				; CODE XREF: _u_strFromUTF32WithSub_56+1ABj
					; _u_strFromUTF32WithSub_56+1B4j
		cmp	[ebp+var_14], 10000h
		jl	short loc_2D2
		cmp	[ebp+var_14], 10FFFFh
		jg	short loc_2D2
		cmp	[ebp+var_2C], 0
		jz	short loc_2C5
		mov	eax, [ebp+var_2C]
		add	eax, 4
		cmp	eax, [ebp+var_20]
		ja	short loc_2C5
		mov	eax, [ebp+var_14]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], ax
		mov	edx, [ebp+var_2C]
		add	edx, 2
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], ax
		mov	edx, [ebp+var_2C]
		add	edx, 2
		mov	[ebp+var_2C], edx
		jmp	short loc_2CE
; ---------------------------------------------------------------------------

loc_2C5:				; CODE XREF: _u_strFromUTF32WithSub_56+1FCj
					; _u_strFromUTF32WithSub_56+207j
		mov	eax, [ebp+var_38]
		add	eax, 2
		mov	[ebp+var_38], eax

loc_2CE:				; CODE XREF: _u_strFromUTF32WithSub_56+23Fj
		jmp	short loc_303
; ---------------------------------------------------------------------------
		jmp	short loc_2F6
; ---------------------------------------------------------------------------

loc_2D2:				; CODE XREF: _u_strFromUTF32WithSub_56+1EDj
					; _u_strFromUTF32WithSub_56+1F6j
		mov	eax, [ebp+arg_14]
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jge	short loc_2ED
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	short loc_34D
; ---------------------------------------------------------------------------
		jmp	short loc_2F6
; ---------------------------------------------------------------------------

loc_2ED:				; CODE XREF: _u_strFromUTF32WithSub_56+258j
		mov	eax, [ebp+var_44]
		add	eax, 1
		mov	[ebp+var_44], eax

loc_2F6:				; CODE XREF: _u_strFromUTF32WithSub_56+1E1j
					; _u_strFromUTF32WithSub_56+24Cj ...
		mov	eax, 1
		test	eax, eax
		jnz	loc_21F

loc_303:				; CODE XREF: _u_strFromUTF32WithSub_56:loc_260j
					; _u_strFromUTF32WithSub_56:loc_2CEj
		jmp	loc_202
; ---------------------------------------------------------------------------

loc_308:				; CODE XREF: _u_strFromUTF32WithSub_56+184j
		mov	eax, [ebp+var_2C]
		sub	eax, [ebp+arg_0]
		sar	eax, 1
		add	eax, [ebp+var_38]
		mov	[ebp+var_38], eax
		cmp	[ebp+arg_8], 0
		jz	short loc_324
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_38]
		mov	[eax], ecx

loc_324:				; CODE XREF: _u_strFromUTF32WithSub_56+296j
		cmp	[ebp+arg_18], 0
		jz	short loc_332
		mov	eax, [ebp+arg_18]
		mov	ecx, [ebp+var_44]
		mov	[eax], ecx

loc_332:				; CODE XREF: _u_strFromUTF32WithSub_56+2A4j
		mov	eax, [ebp+arg_1C]
		push	eax
		mov	ecx, [ebp+var_38]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateUChars_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]

loc_34D:				; CODE XREF: _u_strFromUTF32WithSub_56+35j
					; _u_strFromUTF32WithSub_56+81j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 10Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strFromUTF32WithSub_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 364h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; signed char __cdecl U_FAILURE(enum  UErrorCode)
?U_FAILURE@@YACW4UErrorCode@@@Z	proc near ; CODE XREF: _u_strFromUTF32WithSub_56+24p
					; _u_strToUTF32WithSub_56+24p ...

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		setnle	al
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
?U_FAILURE@@YACW4UErrorCode@@@Z	endp

_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 390h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strFromUTF32_56
_u_strFromUTF32_56 proc	near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_14]
		push	eax
		push	0
		push	0FFFFFFFFh
		mov	ecx, [ebp+arg_10]
		push	ecx
		mov	edx, [ebp+arg_C]
		push	edx
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_4]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_u_strFromUTF32WithSub_56
		add	esp, 20h
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0C0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strFromUTF32_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3E8h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strToUTF32WithSub_56
_u_strToUTF32WithSub_56	proc near	; CODE XREF: _u_strToUTF32_56+3Ap

var_118		= dword	ptr -118h
var_50		= dword	ptr -50h
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= word ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch
arg_18		= dword	ptr  20h
arg_1C		= dword	ptr  24h

		push	ebp
		mov	ebp, esp
		sub	esp, 118h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_118]
		mov	ecx, 46h ; 'F'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_1C]
		mov	ecx, [eax]
		push	ecx
		call	?U_FAILURE@@YACW4UErrorCode@@@Z	; U_FAILURE(UErrorCode)
		add	esp, 4
		movsx	edx, al
		test	edx, edx
		jz	short loc_422
		xor	eax, eax
		jmp	loc_66A
; ---------------------------------------------------------------------------

loc_422:				; CODE XREF: _u_strToUTF32WithSub_56+31j
		cmp	[ebp+arg_C], 0
		jnz	short loc_42E
		cmp	[ebp+arg_10], 0
		jnz	short loc_45E

loc_42E:				; CODE XREF: _u_strToUTF32WithSub_56+3Ej
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jl	short loc_45E
		cmp	[ebp+arg_4], 0
		jl	short loc_45E
		cmp	[ebp+arg_0], 0
		jnz	short loc_446
		cmp	[ebp+arg_4], 0
		jg	short loc_45E

loc_446:				; CODE XREF: _u_strToUTF32WithSub_56+56j
		cmp	[ebp+arg_14], 10FFFFh
		jg	short loc_45E
		mov	eax, [ebp+arg_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jnz	short loc_46E

loc_45E:				; CODE XREF: _u_strToUTF32WithSub_56+44j
					; _u_strToUTF32WithSub_56+4Aj ...
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	loc_66A
; ---------------------------------------------------------------------------

loc_46E:				; CODE XREF: _u_strToUTF32WithSub_56+74j
		cmp	[ebp+arg_18], 0
		jz	short loc_47D
		mov	eax, [ebp+arg_18]
		mov	dword ptr [eax], 0

loc_47D:				; CODE XREF: _u_strToUTF32WithSub_56+8Aj
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_38], eax
		cmp	[ebp+arg_0], 0
		jz	short loc_49A
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		lea	edx, [ecx+eax*4]
		mov	[ebp+var_118], edx
		jmp	short loc_4A4
; ---------------------------------------------------------------------------

loc_49A:				; CODE XREF: _u_strToUTF32WithSub_56+9Fj
		mov	[ebp+var_118], 0

loc_4A4:				; CODE XREF: _u_strToUTF32WithSub_56+B0j
		mov	eax, [ebp+var_118]
		mov	[ebp+var_2C], eax
		mov	[ebp+var_44], 0
		mov	[ebp+var_50], 0
		cmp	[ebp+arg_10], 0
		jge	short loc_531

loc_4C1:				; CODE XREF: _u_strToUTF32WithSub_56:loc_50Cj
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		cmp	[ebp+var_14], 0
		jz	short loc_50E
		mov	eax, [ebp+var_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jz	short loc_50E
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_38]
		cmp	eax, [ebp+var_2C]
		jnb	short loc_503
		mov	eax, [ebp+var_38]
		mov	ecx, [ebp+var_14]
		mov	[eax], ecx
		mov	edx, [ebp+var_38]
		add	edx, 4
		mov	[ebp+var_38], edx
		jmp	short loc_50C
; ---------------------------------------------------------------------------

loc_503:				; CODE XREF: _u_strToUTF32WithSub_56+106j
		mov	eax, [ebp+var_44]
		add	eax, 1
		mov	[ebp+var_44], eax

loc_50C:				; CODE XREF: _u_strToUTF32WithSub_56+119j
		jmp	short loc_4C1
; ---------------------------------------------------------------------------

loc_50E:				; CODE XREF: _u_strToUTF32WithSub_56+E6j
					; _u_strToUTF32WithSub_56+F5j
		mov	eax, [ebp+arg_C]
		mov	[ebp+var_8], eax
		cmp	[ebp+var_14], 0
		jz	short loc_52F

loc_51A:				; CODE XREF: _u_strToUTF32WithSub_56+145j
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		mov	ecx, [ebp+var_8]
		movzx	edx, word ptr [ecx]
		test	edx, edx
		jz	short loc_52F
		jmp	short loc_51A
; ---------------------------------------------------------------------------

loc_52F:				; CODE XREF: _u_strToUTF32WithSub_56+130j
					; _u_strToUTF32WithSub_56+143j
		jmp	short loc_55B
; ---------------------------------------------------------------------------

loc_531:				; CODE XREF: _u_strToUTF32WithSub_56+D7j
		cmp	[ebp+arg_C], 0
		jz	short loc_548
		mov	eax, [ebp+arg_10]
		mov	ecx, [ebp+arg_C]
		lea	edx, [ecx+eax*2]
		mov	[ebp+var_118], edx
		jmp	short loc_552
; ---------------------------------------------------------------------------

loc_548:				; CODE XREF: _u_strToUTF32WithSub_56+14Dj
		mov	[ebp+var_118], 0

loc_552:				; CODE XREF: _u_strToUTF32WithSub_56+15Ej
		mov	eax, [ebp+var_118]
		mov	[ebp+var_8], eax

loc_55B:				; CODE XREF: _u_strToUTF32WithSub_56:loc_52Fj
					; _u_strToUTF32WithSub_56:loc_61Fj
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_8]
		jnb	loc_624
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_C]
		add	edx, 2
		mov	[ebp+arg_C], edx
		mov	eax, [ebp+var_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jz	short loc_58A
		jmp	short loc_5FB
; ---------------------------------------------------------------------------

loc_58A:				; CODE XREF: _u_strToUTF32WithSub_56+19Ej
		mov	eax, [ebp+var_14]
		and	eax, 400h
		jnz	short loc_5D7
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_8]
		jnb	short loc_5D7
		mov	eax, [ebp+arg_C]
		mov	cx, [eax]
		mov	[ebp+var_20], cx
		movzx	edx, [ebp+var_20]
		and	edx, 0FFFFFC00h
		cmp	edx, 0DC00h
		jnz	short loc_5D7
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_14]
		shl	eax, 0Ah
		movzx	ecx, [ebp+var_20]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_14], edx
		jmp	short loc_5FB
; ---------------------------------------------------------------------------

loc_5D7:				; CODE XREF: _u_strToUTF32WithSub_56+1AAj
					; _u_strToUTF32WithSub_56+1B2j	...
		mov	eax, [ebp+arg_14]
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jge	short loc_5F2
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	short loc_66A
; ---------------------------------------------------------------------------
		jmp	short loc_5FB
; ---------------------------------------------------------------------------

loc_5F2:				; CODE XREF: _u_strToUTF32WithSub_56+1F9j
		mov	eax, [ebp+var_50]
		add	eax, 1
		mov	[ebp+var_50], eax

loc_5FB:				; CODE XREF: _u_strToUTF32WithSub_56+1A0j
					; _u_strToUTF32WithSub_56+1EDj	...
		mov	eax, [ebp+var_38]
		cmp	eax, [ebp+var_2C]
		jnb	short loc_616
		mov	eax, [ebp+var_38]
		mov	ecx, [ebp+var_14]
		mov	[eax], ecx
		mov	edx, [ebp+var_38]
		add	edx, 4
		mov	[ebp+var_38], edx
		jmp	short loc_61F
; ---------------------------------------------------------------------------

loc_616:				; CODE XREF: _u_strToUTF32WithSub_56+219j
		mov	eax, [ebp+var_44]
		add	eax, 1
		mov	[ebp+var_44], eax

loc_61F:				; CODE XREF: _u_strToUTF32WithSub_56+22Cj
		jmp	loc_55B
; ---------------------------------------------------------------------------

loc_624:				; CODE XREF: _u_strToUTF32WithSub_56+179j
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+arg_0]
		sar	eax, 2
		add	eax, [ebp+var_44]
		mov	[ebp+var_44], eax
		cmp	[ebp+arg_8], 0
		jz	short loc_641
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_44]
		mov	[eax], ecx

loc_641:				; CODE XREF: _u_strToUTF32WithSub_56+24Fj
		cmp	[ebp+arg_18], 0
		jz	short loc_64F
		mov	eax, [ebp+arg_18]
		mov	ecx, [ebp+var_50]
		mov	[eax], ecx

loc_64F:				; CODE XREF: _u_strToUTF32WithSub_56+25Dj
		mov	eax, [ebp+arg_1C]
		push	eax
		mov	ecx, [ebp+var_44]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateUChar32s_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]

loc_66A:				; CODE XREF: _u_strToUTF32WithSub_56+35j
					; _u_strToUTF32WithSub_56+81j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 118h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strToUTF32WithSub_56	endp

; ---------------------------------------------------------------------------
		align 10h
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 680h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strToUTF32_56
_u_strToUTF32_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_14]
		push	eax
		push	0
		push	0FFFFFFFFh
		mov	ecx, [ebp+arg_10]
		push	ecx
		mov	edx, [ebp+arg_C]
		push	edx
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_4]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_u_strToUTF32WithSub_56
		add	esp, 20h
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0C0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strToUTF32_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 6D8h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strFromUTF8WithSub_56
_u_strFromUTF8WithSub_56 proc near	; CODE XREF: _u_strFromUTF8_56+3Ap

var_138		= byte ptr -138h
var_74		= dword	ptr -74h
var_68		= dword	ptr -68h
var_5C		= dword	ptr -5Ch
var_4D		= byte ptr -4Dh
var_41		= byte ptr -41h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch
arg_18		= dword	ptr  20h
arg_1C		= dword	ptr  24h

		push	ebp
		mov	ebp, esp
		sub	esp, 138h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_138]
		mov	ecx, 4Eh ; 'N'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		lea	edx, [ecx+eax*2]
		mov	[ebp+var_14], edx
		mov	[ebp+var_2C], 0
		mov	eax, [ebp+arg_C]
		mov	[ebp+var_38], eax
		cmp	[ebp+arg_1C], 0
		jz	short loc_730
		mov	eax, [ebp+arg_1C]
		mov	ecx, [eax]
		push	ecx
		call	?U_FAILURE@@YACW4UErrorCode@@@Z	; U_FAILURE(UErrorCode)
		add	esp, 4
		movsx	edx, al
		test	edx, edx
		jz	short loc_737

loc_730:				; CODE XREF: _u_strFromUTF8WithSub_56+41j
		xor	eax, eax
		jmp	loc_1017
; ---------------------------------------------------------------------------

loc_737:				; CODE XREF: _u_strFromUTF8WithSub_56+56j
		cmp	[ebp+arg_C], 0
		jnz	short loc_743
		cmp	[ebp+arg_10], 0
		jnz	short loc_773

loc_743:				; CODE XREF: _u_strFromUTF8WithSub_56+63j
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jl	short loc_773
		cmp	[ebp+arg_4], 0
		jl	short loc_773
		cmp	[ebp+arg_0], 0
		jnz	short loc_75B
		cmp	[ebp+arg_4], 0
		jg	short loc_773

loc_75B:				; CODE XREF: _u_strFromUTF8WithSub_56+7Bj
		cmp	[ebp+arg_14], 10FFFFh
		jg	short loc_773
		mov	eax, [ebp+arg_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jnz	short loc_783

loc_773:				; CODE XREF: _u_strFromUTF8WithSub_56+69j
					; _u_strFromUTF8WithSub_56+6Fj	...
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	loc_1017
; ---------------------------------------------------------------------------

loc_783:				; CODE XREF: _u_strFromUTF8WithSub_56+99j
		cmp	[ebp+arg_18], 0
		jz	short loc_792
		mov	eax, [ebp+arg_18]
		mov	dword ptr [eax], 0

loc_792:				; CODE XREF: _u_strFromUTF8WithSub_56+AFj
		mov	[ebp+var_5C], 0
		cmp	[ebp+arg_10], 0
		jge	loc_A95

loc_7A3:				; CODE XREF: _u_strFromUTF8WithSub_56+182j
					; _u_strFromUTF8WithSub_56+1DBj ...
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 0
		jz	loc_96F
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnb	loc_96F
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_7E9
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		jmp	loc_96A
; ---------------------------------------------------------------------------

loc_7E9:				; CODE XREF: _u_strFromUTF8WithSub_56+EEj
		cmp	[ebp+var_20], 0E0h ; 'à'
		jle	short loc_861
		cmp	[ebp+var_20], 0ECh ; 'ì'
		jg	short loc_85F
		mov	eax, [ebp+var_38]

loc_7FE:				; DATA XREF: .rdata:00000008o
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		cmp	edx, 3Fh ; '?'
		jg	short loc_85F
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+2]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_4D], cl
		movzx	edx, [ebp+var_4D]
		cmp	edx, 3Fh ; '?'
		jg	short loc_85F
		mov	eax, [ebp+var_20]
		shl	eax, 0Ch
		movzx	ecx, [ebp+var_41]
		shl	ecx, 6
		or	eax, ecx
		movzx	edx, [ebp+var_4D]
		or	eax, edx
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_38]
		add	eax, 3
		mov	[ebp+var_38], eax
		jmp	loc_7A3
; ---------------------------------------------------------------------------

loc_85F:				; CODE XREF: _u_strFromUTF8WithSub_56+121j
					; _u_strFromUTF8WithSub_56+13Aj ...
		jmp	short loc_8B8
; ---------------------------------------------------------------------------

loc_861:				; CODE XREF: _u_strFromUTF8WithSub_56+118j
		cmp	[ebp+var_20], 0E0h ; 'à'
		jge	short loc_8B8
		cmp	[ebp+var_20], 0C2h ; 'Â'
		jl	short loc_8B8
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		cmp	edx, 3Fh ; '?'
		jg	short loc_8B8
		mov	eax, [ebp+var_20]
		and	eax, 1Fh
		shl	eax, 6
		movzx	ecx, [ebp+var_41]
		or	eax, ecx
		mov	edx, [ebp+var_8]
		mov	[edx], ax
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_38]
		add	eax, 2
		mov	[ebp+var_38], eax
		jmp	loc_7A3
; ---------------------------------------------------------------------------

loc_8B8:				; CODE XREF: _u_strFromUTF8WithSub_56:loc_85Fj
					; _u_strFromUTF8WithSub_56+190j ...
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		mov	eax, [ebp+var_20]
		push	eax
		lea	ecx, [ebp+var_38]
		push	ecx
		call	?utf8_nextCharSafeBodyTerminated@@YAHPAPBEH@Z ;	utf8_nextCharSafeBodyTerminated(uchar const * *,int)
		add	esp, 8
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jge	short loc_901
		mov	eax, [ebp+var_5C]
		add	eax, 1
		mov	[ebp+var_5C], eax
		mov	ecx, [ebp+arg_14]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 0
		jge	short loc_901
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_1017
; ---------------------------------------------------------------------------
		jmp	short loc_96A
; ---------------------------------------------------------------------------

loc_901:				; CODE XREF: _u_strFromUTF8WithSub_56+200j
					; _u_strFromUTF8WithSub_56+215j
		cmp	[ebp+var_20], 0FFFFh
		jg	short loc_91F
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_96A
; ---------------------------------------------------------------------------

loc_91F:				; CODE XREF: _u_strFromUTF8WithSub_56+230j
		mov	eax, [ebp+var_20]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnb	short loc_95F
		mov	eax, [ebp+var_20]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_96A
; ---------------------------------------------------------------------------

loc_95F:				; CODE XREF: _u_strFromUTF8WithSub_56+267j
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		jmp	short loc_96F
; ---------------------------------------------------------------------------

loc_96A:				; CODE XREF: _u_strFromUTF8WithSub_56+10Cj
					; _u_strFromUTF8WithSub_56+227j ...
		jmp	loc_7A3
; ---------------------------------------------------------------------------

loc_96F:				; CODE XREF: _u_strFromUTF8WithSub_56+D8j
					; _u_strFromUTF8WithSub_56+E4j	...
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 0
		jz	loc_A90
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_99F
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		jmp	loc_A8B
; ---------------------------------------------------------------------------

loc_99F:				; CODE XREF: _u_strFromUTF8WithSub_56+2AEj
		cmp	[ebp+var_20], 0E0h ; 'à'
		jle	short loc_9F1
		cmp	[ebp+var_20], 0ECh ; 'ì'
		jg	short loc_9EF
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_9EF
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+2]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_9EF
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_38]
		add	eax, 3
		mov	[ebp+var_38], eax
		jmp	short loc_96F
; ---------------------------------------------------------------------------

loc_9EF:				; CODE XREF: _u_strFromUTF8WithSub_56+2D7j
					; _u_strFromUTF8WithSub_56+2ECj ...
		jmp	short loc_A2F
; ---------------------------------------------------------------------------

loc_9F1:				; CODE XREF: _u_strFromUTF8WithSub_56+2CEj
		cmp	[ebp+var_20], 0E0h ; 'à'
		jge	short loc_A2F
		cmp	[ebp+var_20], 0C2h ; 'Â'
		jl	short loc_A2F
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_A2F
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_38]
		add	eax, 2
		mov	[ebp+var_38], eax
		jmp	loc_96F
; ---------------------------------------------------------------------------

loc_A2F:				; CODE XREF: _u_strFromUTF8WithSub_56:loc_9EFj
					; _u_strFromUTF8WithSub_56+320j ...
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		mov	eax, [ebp+var_20]
		push	eax
		lea	ecx, [ebp+var_38]
		push	ecx
		call	?utf8_nextCharSafeBodyTerminated@@YAHPAPBEH@Z ;	utf8_nextCharSafeBodyTerminated(uchar const * *,int)
		add	esp, 8
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jge	short loc_A76
		mov	eax, [ebp+var_5C]
		add	eax, 1
		mov	[ebp+var_5C], eax
		mov	ecx, [ebp+arg_14]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 0
		jge	short loc_A76
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_1017
; ---------------------------------------------------------------------------

loc_A76:				; CODE XREF: _u_strFromUTF8WithSub_56+377j
					; _u_strFromUTF8WithSub_56+38Cj
		mov	eax, 0FFFFh
		cmp	eax, [ebp+var_20]
		sbb	ecx, ecx
		neg	ecx
		add	ecx, 1
		add	ecx, [ebp+var_2C]
		mov	[ebp+var_2C], ecx

loc_A8B:				; CODE XREF: _u_strFromUTF8WithSub_56+2C2j
		jmp	loc_96F
; ---------------------------------------------------------------------------

loc_A90:				; CODE XREF: _u_strFromUTF8WithSub_56+2A4j
		jmp	loc_FD2
; ---------------------------------------------------------------------------

loc_A95:				; CODE XREF: _u_strFromUTF8WithSub_56+C5j
		mov	eax, [ebp+var_38]
		add	eax, [ebp+arg_10]
		mov	[ebp+var_68], eax

loc_A9E:				; CODE XREF: _u_strFromUTF8WithSub_56:loc_CA8j
		mov	eax, [ebp+var_14]
		sub	eax, [ebp+var_8]
		sar	eax, 1
		mov	[ebp+var_74], eax
		mov	eax, [ebp+var_68]
		sub	eax, [ebp+var_38]
		cdq
		mov	ecx, 3
		idiv	ecx
		mov	[ebp+arg_10], eax
		mov	eax, [ebp+var_74]
		cmp	eax, [ebp+arg_10]
		jle	short loc_AC8
		mov	eax, [ebp+arg_10]
		mov	[ebp+var_74], eax

loc_AC8:				; CODE XREF: _u_strFromUTF8WithSub_56+3E8j
		cmp	[ebp+var_74], 3
		jge	short loc_AD3
		jmp	loc_CAD
; ---------------------------------------------------------------------------

loc_AD3:				; CODE XREF: _u_strFromUTF8WithSub_56+3F4j
					; _u_strFromUTF8WithSub_56+5CAj
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_B03
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		jmp	loc_C95
; ---------------------------------------------------------------------------

loc_B03:				; CODE XREF: _u_strFromUTF8WithSub_56+408j
		cmp	[ebp+var_20], 0E0h ; 'à'
		jle	short loc_B7B
		cmp	[ebp+var_20], 0ECh ; 'ì'
		jg	short loc_B79
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		cmp	edx, 3Fh ; '?'
		jg	short loc_B79
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+2]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_4D], cl
		movzx	edx, [ebp+var_4D]
		cmp	edx, 3Fh ; '?'
		jg	short loc_B79
		mov	eax, [ebp+var_20]
		shl	eax, 0Ch
		movzx	ecx, [ebp+var_41]
		shl	ecx, 6
		or	eax, ecx
		movzx	edx, [ebp+var_4D]
		or	eax, edx
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_38]
		add	eax, 3
		mov	[ebp+var_38], eax
		jmp	loc_C95
; ---------------------------------------------------------------------------

loc_B79:				; CODE XREF: _u_strFromUTF8WithSub_56+43Bj
					; _u_strFromUTF8WithSub_56+454j ...
		jmp	short loc_BD2
; ---------------------------------------------------------------------------

loc_B7B:				; CODE XREF: _u_strFromUTF8WithSub_56+432j
		cmp	[ebp+var_20], 0E0h ; 'à'
		jge	short loc_BD2
		cmp	[ebp+var_20], 0C2h ; 'Â'
		jl	short loc_BD2
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		cmp	edx, 3Fh ; '?'
		jg	short loc_BD2
		mov	eax, [ebp+var_20]
		and	eax, 1Fh
		shl	eax, 6
		movzx	ecx, [ebp+var_41]
		or	eax, ecx
		mov	edx, [ebp+var_8]
		mov	[edx], ax
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_38]
		add	eax, 2
		mov	[ebp+var_38], eax
		jmp	loc_C95
; ---------------------------------------------------------------------------

loc_BD2:				; CODE XREF: _u_strFromUTF8WithSub_56:loc_B79j
					; _u_strFromUTF8WithSub_56+4AAj ...
		cmp	[ebp+var_20], 0F0h ; 'ð'
		jge	short loc_BE4
		cmp	[ebp+arg_14], 0FFFFh
		jle	short loc_BF4

loc_BE4:				; CODE XREF: _u_strFromUTF8WithSub_56+501j
		mov	eax, [ebp+var_74]
		sub	eax, 1
		mov	[ebp+var_74], eax
		jnz	short loc_BF4
		jmp	loc_CA8
; ---------------------------------------------------------------------------

loc_BF4:				; CODE XREF: _u_strFromUTF8WithSub_56+50Aj
					; _u_strFromUTF8WithSub_56+515j
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+var_68]
		push	ecx
		lea	edx, [ebp+var_38]
		push	edx
		call	?utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z ;	utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jge	short loc_C41
		mov	eax, [ebp+var_5C]
		add	eax, 1
		mov	[ebp+var_5C], eax
		mov	ecx, [ebp+arg_14]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 0
		jge	short loc_C41
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_1017
; ---------------------------------------------------------------------------
		jmp	short loc_C95
; ---------------------------------------------------------------------------

loc_C41:				; CODE XREF: _u_strFromUTF8WithSub_56+540j
					; _u_strFromUTF8WithSub_56+555j
		cmp	[ebp+var_20], 0FFFFh
		jg	short loc_C5F
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_C95
; ---------------------------------------------------------------------------

loc_C5F:				; CODE XREF: _u_strFromUTF8WithSub_56+570j
		mov	eax, [ebp+var_20]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_20]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx

loc_C95:				; CODE XREF: _u_strFromUTF8WithSub_56+426j
					; _u_strFromUTF8WithSub_56+49Cj ...
		mov	eax, [ebp+var_74]
		sub	eax, 1
		mov	[ebp+var_74], eax
		cmp	[ebp+var_74], 0
		jg	loc_AD3

loc_CA8:				; CODE XREF: _u_strFromUTF8WithSub_56+517j
		jmp	loc_A9E
; ---------------------------------------------------------------------------

loc_CAD:				; CODE XREF: _u_strFromUTF8WithSub_56+3F6j
					; _u_strFromUTF8WithSub_56+699j ...
		mov	eax, [ebp+var_38]
		cmp	eax, [ebp+var_68]
		jnb	loc_E95
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnb	loc_E95
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_CF5
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		jmp	loc_E90
; ---------------------------------------------------------------------------

loc_CF5:				; CODE XREF: _u_strFromUTF8WithSub_56+5FAj
		cmp	[ebp+var_20], 0E0h ; 'à'
		jle	short loc_D78
		cmp	[ebp+var_20], 0ECh ; 'ì'
		jg	short loc_D76
		mov	eax, [ebp+var_68]
		sub	eax, [ebp+var_38]
		cmp	eax, 3
		jl	short loc_D76
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		cmp	edx, 3Fh ; '?'
		jg	short loc_D76
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+2]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_4D], cl
		movzx	edx, [ebp+var_4D]
		cmp	edx, 3Fh ; '?'
		jg	short loc_D76
		mov	eax, [ebp+var_20]
		shl	eax, 0Ch
		movzx	ecx, [ebp+var_41]
		shl	ecx, 6
		or	eax, ecx
		movzx	edx, [ebp+var_4D]
		or	eax, edx
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_38]
		add	eax, 3
		mov	[ebp+var_38], eax
		jmp	loc_CAD
; ---------------------------------------------------------------------------

loc_D76:				; CODE XREF: _u_strFromUTF8WithSub_56+62Dj
					; _u_strFromUTF8WithSub_56+638j ...
		jmp	short loc_DDA
; ---------------------------------------------------------------------------

loc_D78:				; CODE XREF: _u_strFromUTF8WithSub_56+624j
		cmp	[ebp+var_20], 0E0h ; 'à'
		jge	short loc_DDA
		cmp	[ebp+var_20], 0C2h ; 'Â'
		jl	short loc_DDA
		mov	eax, [ebp+var_68]
		sub	eax, [ebp+var_38]
		cmp	eax, 2
		jl	short loc_DDA
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		cmp	edx, 3Fh ; '?'
		jg	short loc_DDA
		mov	eax, [ebp+var_20]
		and	eax, 1Fh
		shl	eax, 6
		movzx	ecx, [ebp+var_41]
		or	eax, ecx
		mov	edx, [ebp+var_8]
		mov	[edx], ax
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_38]
		add	eax, 2
		mov	[ebp+var_38], eax
		jmp	loc_CAD
; ---------------------------------------------------------------------------

loc_DDA:				; CODE XREF: _u_strFromUTF8WithSub_56:loc_D76j
					; _u_strFromUTF8WithSub_56+6A7j ...
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+var_68]
		push	ecx
		lea	edx, [ebp+var_38]
		push	edx
		call	?utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z ;	utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jge	short loc_E27
		mov	eax, [ebp+var_5C]
		add	eax, 1
		mov	[ebp+var_5C], eax
		mov	ecx, [ebp+arg_14]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 0
		jge	short loc_E27
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_1017
; ---------------------------------------------------------------------------
		jmp	short loc_E90
; ---------------------------------------------------------------------------

loc_E27:				; CODE XREF: _u_strFromUTF8WithSub_56+726j
					; _u_strFromUTF8WithSub_56+73Bj
		cmp	[ebp+var_20], 0FFFFh
		jg	short loc_E45
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_E90
; ---------------------------------------------------------------------------

loc_E45:				; CODE XREF: _u_strFromUTF8WithSub_56+756j
		mov	eax, [ebp+var_20]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnb	short loc_E85
		mov	eax, [ebp+var_20]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_E90
; ---------------------------------------------------------------------------

loc_E85:				; CODE XREF: _u_strFromUTF8WithSub_56+78Dj
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		jmp	short loc_E95
; ---------------------------------------------------------------------------

loc_E90:				; CODE XREF: _u_strFromUTF8WithSub_56+618j
					; _u_strFromUTF8WithSub_56+74Dj ...
		jmp	loc_CAD
; ---------------------------------------------------------------------------

loc_E95:				; CODE XREF: _u_strFromUTF8WithSub_56+5DBj
					; _u_strFromUTF8WithSub_56+5E7j ...
		mov	eax, [ebp+var_38]
		cmp	eax, [ebp+var_68]
		jnb	loc_FD2
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_EC7
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		jmp	loc_FCD
; ---------------------------------------------------------------------------

loc_EC7:				; CODE XREF: _u_strFromUTF8WithSub_56+7D6j
		cmp	[ebp+var_20], 0E0h ; 'à'
		jle	short loc_F27
		cmp	[ebp+var_20], 0ECh ; 'ì'
		jg	short loc_F25
		mov	eax, [ebp+var_68]
		sub	eax, [ebp+var_38]
		cmp	eax, 3
		jl	short loc_F25
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_F25
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+2]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_F25
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_38]
		add	eax, 3
		mov	[ebp+var_38], eax
		jmp	loc_E95
; ---------------------------------------------------------------------------

loc_F25:				; CODE XREF: _u_strFromUTF8WithSub_56+7FFj
					; _u_strFromUTF8WithSub_56+80Aj ...
		jmp	short loc_F70
; ---------------------------------------------------------------------------

loc_F27:				; CODE XREF: _u_strFromUTF8WithSub_56+7F6j
		cmp	[ebp+var_20], 0E0h ; 'à'
		jge	short loc_F70
		cmp	[ebp+var_20], 0C2h ; 'Â'
		jl	short loc_F70
		mov	eax, [ebp+var_68]
		sub	eax, [ebp+var_38]
		cmp	eax, 2
		jl	short loc_F70
		mov	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_F70
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_38]
		add	eax, 2
		mov	[ebp+var_38], eax
		jmp	loc_E95
; ---------------------------------------------------------------------------

loc_F70:				; CODE XREF: _u_strFromUTF8WithSub_56:loc_F25j
					; _u_strFromUTF8WithSub_56+856j ...
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+var_68]
		push	ecx
		lea	edx, [ebp+var_38]
		push	edx
		call	?utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z ;	utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jge	short loc_FB8
		mov	eax, [ebp+var_5C]
		add	eax, 1
		mov	[ebp+var_5C], eax
		mov	ecx, [ebp+arg_14]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 0
		jge	short loc_FB8
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	short loc_1017
; ---------------------------------------------------------------------------

loc_FB8:				; CODE XREF: _u_strFromUTF8WithSub_56+8BCj
					; _u_strFromUTF8WithSub_56+8D1j
		mov	eax, 0FFFFh
		cmp	eax, [ebp+var_20]
		sbb	ecx, ecx
		neg	ecx
		add	ecx, 1
		add	ecx, [ebp+var_2C]
		mov	[ebp+var_2C], ecx

loc_FCD:				; CODE XREF: _u_strFromUTF8WithSub_56+7EAj
		jmp	loc_E95
; ---------------------------------------------------------------------------

loc_FD2:				; CODE XREF: _u_strFromUTF8WithSub_56:loc_A90j
					; _u_strFromUTF8WithSub_56+7C3j
		mov	eax, [ebp+var_8]
		sub	eax, [ebp+arg_0]
		sar	eax, 1
		add	eax, [ebp+var_2C]
		mov	[ebp+var_2C], eax
		cmp	[ebp+arg_18], 0
		jz	short loc_FEE
		mov	eax, [ebp+arg_18]
		mov	ecx, [ebp+var_5C]
		mov	[eax], ecx

loc_FEE:				; CODE XREF: _u_strFromUTF8WithSub_56+90Cj
		cmp	[ebp+arg_8], 0
		jz	short loc_FFC
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_2C]
		mov	[eax], ecx

loc_FFC:				; CODE XREF: _u_strFromUTF8WithSub_56+91Aj
		mov	eax, [ebp+arg_1C]
		push	eax
		mov	ecx, [ebp+var_2C]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateUChars_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]

loc_1017:				; CODE XREF: _u_strFromUTF8WithSub_56+5Aj
					; _u_strFromUTF8WithSub_56+A6j	...
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN95
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 138h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strFromUTF8WithSub_56 endp

; ---------------------------------------------------------------------------
$LN95		dd 1			; DATA XREF: _u_strFromUTF8WithSub_56+943o
		dd offset $LN94
$LN94		dd 0FFFFFFC8h, 4	; DATA XREF: .text:00001040o
		dd offset $LN93		; "pSrc"
$LN93		db 'pSrc',0             ; DATA XREF: .text:0000104Co
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1058h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl utf8_nextCharSafeBodyTerminated(unsigned char const * *, int)
?utf8_nextCharSafeBodyTerminated@@YAHPAPBEH@Z proc near
					; CODE XREF: _u_strFromUTF8WithSub_56+1F1p
					; _u_strFromUTF8WithSub_56+368p

var_F8		= dword	ptr -0F8h
var_F4		= dword	ptr -0F4h
var_29		= byte ptr -29h
var_1D		= byte ptr -1Dh
var_11		= byte ptr -11h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0F8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_F8]
		mov	ecx, 3Eh ; '>'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	[ebp+var_8], ecx
		mov	[ebp+var_1D], 0
		movzx	eax, byte ptr [ebp+arg_4]
		cmp	eax, 0F0h ; 'ð'
		jge	short loc_10B4
		movzx	ecx, byte ptr [ebp+arg_4]
		xor	edx, edx
		cmp	ecx, 0C0h ; 'À'
		setnl	dl
		movzx	eax, byte ptr [ebp+arg_4]
		xor	ecx, ecx
		cmp	eax, 0E0h ; 'à'
		setnl	cl
		add	edx, ecx
		mov	[ebp+var_F4], edx
		jmp	short loc_10FF
; ---------------------------------------------------------------------------

loc_10B4:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+33j
		movzx	edx, byte ptr [ebp+arg_4]
		cmp	edx, 0FEh ; 'þ'
		jge	short loc_10E9
		movzx	eax, byte ptr [ebp+arg_4]
		xor	ecx, ecx
		cmp	eax, 0F8h ; 'ø'
		setnl	cl
		movzx	edx, byte ptr [ebp+arg_4]
		xor	eax, eax
		cmp	edx, 0FCh ; 'ü'
		setnl	al
		lea	ecx, [ecx+eax+3]
		mov	[ebp+var_F8], ecx
		jmp	short loc_10F3
; ---------------------------------------------------------------------------

loc_10E9:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+66j
		mov	[ebp+var_F8], 0

loc_10F3:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+8Fj
		mov	edx, [ebp+var_F8]
		mov	[ebp+var_F4], edx

loc_10FF:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+5Aj
		mov	al, byte ptr [ebp+var_F4]
		mov	[ebp+var_29], al
		movzx	eax, [ebp+var_29]
		cmp	eax, 6
		jl	short loc_1137
		mov	ecx, ds:?__LINE__Var@?1??utf8_nextCharSafeBodyTerminated@@YAHPAPBEH@Z@4JA@324cad1b
		add	ecx, 4
		mov	esi, esp
		push	ecx		; Line
		push	offset ??_C@_1FO@LJNINEJA@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@ ; "d:\\mozilla\\intl\\icu\\source\\common\"...
		push	offset ??_C@_1BA@CEKBILOG@?$AAc?$AAo?$AAu?$AAn?$AAt?$AA?$DM?$AA6?$AA?$AA@ ; "count<6"
		call	dword ptr ds:__imp___wassert
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp

loc_1137:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+B7j
		movzx	eax, [ebp+var_29]
		mov	ecx, 6
		sub	ecx, eax
		mov	edx, 1
		shl	edx, cl
		sub	edx, 1
		and	edx, [ebp+arg_4]
		mov	[ebp+arg_4], edx
		movzx	eax, [ebp+var_29]
		mov	[ebp+var_F4], eax
		cmp	[ebp+var_F4], 5	; switch 6 cases
		ja	loc_122F	; jumptable 0000116F default case
		mov	ecx, [ebp+var_F4]
		jmp	ds:$LN23[ecx*4]	; switch jump
; ---------------------------------------------------------------------------

$LN13:					; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+117j
					; DATA XREF: .text:$LN23o
		mov	[ebp+var_1D], 1	; jumptable 0000116F cases 4,5
		jmp	loc_122F	; jumptable 0000116F default case
; ---------------------------------------------------------------------------

$LN12:					; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+117j
					; DATA XREF: .text:$LN23o
		mov	eax, [ebp+var_8] ; jumptable 0000116F case 3
		movzx	ecx, byte ptr [eax]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_11], cl
		mov	edx, [ebp+var_8]
		add	edx, 1
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_4]
		shl	eax, 6
		movzx	ecx, [ebp+var_11]
		or	eax, ecx
		mov	[ebp+arg_4], eax
		movzx	eax, [ebp+var_11]
		cmp	eax, 3Fh ; '?'
		jg	short loc_11B8
		cmp	[ebp+arg_4], 110h
		jl	short $LN9	; jumptable 0000116F case 2

loc_11B8:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+155j
		mov	[ebp+var_1D], 1
		jmp	short loc_122F	; jumptable 0000116F default case
; ---------------------------------------------------------------------------

$LN9:					; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+117j
					; utf8_nextCharSafeBodyTerminated(uchar	const *	*,int)+15Ej
					; DATA XREF: ...
		mov	eax, [ebp+var_8] ; jumptable 0000116F case 2
		movzx	ecx, byte ptr [eax]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_11], cl
		mov	edx, [ebp+var_8]
		add	edx, 1
		mov	[ebp+var_8], edx
		movzx	eax, [ebp+var_11]
		cmp	eax, 3Fh ; '?'
		jle	short loc_11E5
		mov	[ebp+var_1D], 1
		jmp	short loc_122F	; jumptable 0000116F default case
; ---------------------------------------------------------------------------

loc_11E5:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+185j
		mov	eax, [ebp+arg_4]
		shl	eax, 6
		movzx	ecx, [ebp+var_11]
		or	eax, ecx
		mov	[ebp+arg_4], eax

$LN7:					; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+117j
					; DATA XREF: .text:$LN23o
		mov	eax, [ebp+var_8] ; jumptable 0000116F case 1
		movzx	ecx, byte ptr [eax]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_11], cl
		mov	edx, [ebp+var_8]
		add	edx, 1
		mov	[ebp+var_8], edx
		movzx	eax, [ebp+var_11]
		cmp	eax, 3Fh ; '?'
		jle	short loc_1219
		mov	[ebp+var_1D], 1

loc_1219:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+1BBj
		mov	eax, [ebp+arg_4]
		shl	eax, 6
		movzx	ecx, [ebp+var_11]
		or	eax, ecx
		mov	[ebp+arg_4], eax
		jmp	short loc_122F	; jumptable 0000116F default case
; ---------------------------------------------------------------------------

$LN5:					; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+117j
					; DATA XREF: .text:$LN23o
		or	eax, 0FFFFFFFFh	; jumptable 0000116F case 0
		jmp	short loc_129F
; ---------------------------------------------------------------------------

loc_122F:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+10Bj
					; utf8_nextCharSafeBodyTerminated(uchar	const *	*,int)+122j ...
		movzx	eax, [ebp+var_1D] ; jumptable 0000116F default case
		test	eax, eax
		jnz	short loc_1256
		movzx	eax, [ebp+var_29]
		mov	ecx, [ebp+arg_4]
		cmp	ecx, _utf8_minLegal[eax*4]
		jl	short loc_1256
		mov	eax, [ebp+arg_4]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jnz	short loc_1294

loc_1256:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+1DDj
					; utf8_nextCharSafeBodyTerminated(uchar	const *	*,int)+1EDj
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	[ebp+var_8], ecx

loc_125E:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+233j
		movzx	eax, [ebp+var_29]
		test	eax, eax
		jle	short loc_128D
		mov	eax, [ebp+var_8]
		movzx	ecx, byte ptr [eax]
		and	ecx, 0C0h
		cmp	ecx, 80h ; '€'
		jnz	short loc_128D
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		mov	al, [ebp+var_29]
		sub	al, 1
		mov	[ebp+var_29], al
		jmp	short loc_125E
; ---------------------------------------------------------------------------

loc_128D:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+20Cj
					; utf8_nextCharSafeBodyTerminated(uchar	const *	*,int)+220j
		mov	[ebp+arg_4], 0FFFFFFFFh

loc_1294:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+1FCj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_8]
		mov	[eax], ecx
		mov	eax, [ebp+arg_4]

loc_129F:				; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+1D5j
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0F8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
?utf8_nextCharSafeBodyTerminated@@YAHPAPBEH@Z endp

; ---------------------------------------------------------------------------
		align 4
$LN23		dd offset $LN5		; DATA XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+117r
		dd offset $LN7		; jump table for switch	statement
		dd offset $LN9
		dd offset $LN12
		dd offset $LN13
		dd offset $LN13
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 12CCh
		public ??_C@_1BA@CEKBILOG@?$AAc?$AAo?$AAu?$AAn?$AAt?$AA?$DM?$AA6?$AA?$AA@
; wchar_t `string'
??_C@_1BA@CEKBILOG@?$AAc?$AAo?$AAu?$AAn?$AAt?$AA?$DM?$AA6?$AA?$AA@:
					; DATA XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+CAo
		unicode	0, <count>
		dw 3Ch
		unicode	0, <6>,0
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
; Segment alignment 'qword' can not be represented in assembly
_rdata		segment	para public 'DATA' use32
		assume cs:_rdata
		;org 12DCh
		public ??_C@_1FO@LJNINEJA@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@
; wchar_t `string'
??_C@_1FO@LJNINEJA@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@:
					; DATA XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+C5o
					; utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)+1F6o
		unicode	0, <d:\mozilla\intl\icu\source\common\ustrtrns.cpp>,0
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_data		segment	dword public 'DATA' use32
		assume cs:_data
		;org 133Ch
		public ?__LINE__Var@?1??utf8_nextCharSafeBodyTerminated@@YAHPAPBEH@Z@4JA@324cad1b
?__LINE__Var@?1??utf8_nextCharSafeBodyTerminated@@YAHPAPBEH@Z@4JA@324cad1b dd 110h
					; DATA XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+B9r
_data		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1340h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl utf8_nextCharSafeBodyPointer(unsigned char const * *, unsigned char const	*, int)
?utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z proc near
					; CODE XREF: _u_strFromUTF8WithSub_56+531p
					; _u_strFromUTF8WithSub_56+717p ...

var_F8		= dword	ptr -0F8h
var_F4		= dword	ptr -0F4h
var_29		= byte ptr -29h
var_1D		= byte ptr -1Dh
var_11		= byte ptr -11h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 0F8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_F8]
		mov	ecx, 3Eh ; '>'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	[ebp+var_8], ecx
		mov	[ebp+var_1D], 0
		movzx	eax, byte ptr [ebp+arg_8]
		cmp	eax, 0F0h ; 'ð'
		jge	short loc_139C
		movzx	ecx, byte ptr [ebp+arg_8]
		xor	edx, edx
		cmp	ecx, 0C0h ; 'À'
		setnl	dl
		movzx	eax, byte ptr [ebp+arg_8]
		xor	ecx, ecx
		cmp	eax, 0E0h ; 'à'
		setnl	cl
		add	edx, ecx
		mov	[ebp+var_F4], edx
		jmp	short loc_13E7
; ---------------------------------------------------------------------------

loc_139C:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+33j
		movzx	edx, byte ptr [ebp+arg_8]
		cmp	edx, 0FEh ; 'þ'
		jge	short loc_13D1
		movzx	eax, byte ptr [ebp+arg_8]
		xor	ecx, ecx
		cmp	eax, 0F8h ; 'ø'
		setnl	cl
		movzx	edx, byte ptr [ebp+arg_8]
		xor	eax, eax
		cmp	edx, 0FCh ; 'ü'
		setnl	al
		lea	ecx, [ecx+eax+3]
		mov	[ebp+var_F8], ecx
		jmp	short loc_13DB
; ---------------------------------------------------------------------------

loc_13D1:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+66j
		mov	[ebp+var_F8], 0

loc_13DB:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+8Fj
		mov	edx, [ebp+var_F8]
		mov	[ebp+var_F4], edx

loc_13E7:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+5Aj
		mov	al, byte ptr [ebp+var_F4]
		mov	[ebp+var_29], al
		mov	eax, [ebp+arg_4]
		sub	eax, [ebp+var_8]
		movzx	ecx, [ebp+var_29]
		cmp	eax, ecx
		jl	loc_1515
		movzx	eax, [ebp+var_29]
		mov	ecx, 6
		sub	ecx, eax
		mov	edx, 1
		shl	edx, cl
		sub	edx, 1
		and	edx, [ebp+arg_8]
		mov	[ebp+arg_8], edx
		movzx	eax, [ebp+var_29]
		mov	[ebp+var_F4], eax
		cmp	[ebp+var_F4], 5	; switch 6 cases
		ja	loc_1513	; jumptable 0000143A default case
		mov	ecx, [ebp+var_F4]
		jmp	ds:$LN23_0[ecx*4] ; switch jump
; ---------------------------------------------------------------------------

$LN12_0:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+FAj
					; DATA XREF: .text:$LN23_0o
		mov	[ebp+var_1D], 1	; jumptable 0000143A cases 4,5
		jmp	loc_1513	; jumptable 0000143A default case
; ---------------------------------------------------------------------------

$LN11:					; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+FAj
					; DATA XREF: .text:$LN23_0o
		mov	eax, [ebp+var_8] ; jumptable 0000143A case 3
		mov	cl, [eax]
		mov	[ebp+var_11], cl
		mov	edx, [ebp+var_8]
		add	edx, 1
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_8]
		shl	eax, 6
		movzx	ecx, [ebp+var_11]
		and	ecx, 3Fh
		or	eax, ecx
		mov	[ebp+arg_8], eax
		cmp	[ebp+arg_8], 110h
		jge	short loc_148F
		movzx	eax, [ebp+var_11]
		and	eax, 0C0h
		xor	eax, 80h
		movzx	ecx, [ebp+var_1D]
		or	ecx, eax
		mov	[ebp+var_1D], cl
		jmp	short $LN8	; jumptable 0000143A case 2
; ---------------------------------------------------------------------------

loc_148F:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+134j
		mov	[ebp+var_1D], 1
		jmp	short loc_1513	; jumptable 0000143A default case
; ---------------------------------------------------------------------------

$LN8:					; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+FAj
					; utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)+14Dj
					; DATA XREF: ...
		mov	eax, [ebp+var_8] ; jumptable 0000143A case 2
		mov	cl, [eax]
		mov	[ebp+var_11], cl
		mov	edx, [ebp+var_8]
		add	edx, 1
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_8]
		shl	eax, 6
		movzx	ecx, [ebp+var_11]
		and	ecx, 3Fh
		or	eax, ecx
		mov	[ebp+arg_8], eax
		movzx	eax, [ebp+var_11]
		and	eax, 0C0h
		xor	eax, 80h
		movzx	ecx, [ebp+var_1D]
		or	ecx, eax
		mov	[ebp+var_1D], cl

$LN7_0:					; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+FAj
					; DATA XREF: .text:$LN23_0o
		mov	eax, [ebp+var_8] ; jumptable 0000143A case 1
		mov	cl, [eax]
		mov	[ebp+var_11], cl
		mov	edx, [ebp+var_8]
		add	edx, 1
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_8]
		shl	eax, 6
		movzx	ecx, [ebp+var_11]
		and	ecx, 3Fh
		or	eax, ecx
		mov	[ebp+arg_8], eax
		movzx	eax, [ebp+var_11]
		and	eax, 0C0h
		xor	eax, 80h
		movzx	ecx, [ebp+var_1D]
		or	ecx, eax
		mov	[ebp+var_1D], cl
		jmp	short loc_1513	; jumptable 0000143A default case
; ---------------------------------------------------------------------------

$LN6:					; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+FAj
					; DATA XREF: .text:$LN23_0o
		or	eax, 0FFFFFFFFh	; jumptable 0000143A case 0
		jmp	loc_15C8
; ---------------------------------------------------------------------------

loc_1513:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+EEj
					; utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)+105j	...
		jmp	short loc_1519	; jumptable 0000143A default case
; ---------------------------------------------------------------------------

loc_1515:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+BCj
		mov	[ebp+var_1D], 1

loc_1519:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int):loc_1513j
		movzx	eax, [ebp+var_1D]
		test	eax, eax
		jnz	short loc_1550
		movzx	ecx, [ebp+var_29]
		cmp	ecx, 4
		jl	short loc_1550
		mov	edx, ds:?__LINE__Var@?1??utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z@4JA@324cad1b
		add	edx, 2Bh ; '+'
		mov	esi, esp
		push	edx		; Line
		push	offset ??_C@_1FO@LJNINEJA@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@ ; "d:\\mozilla\\intl\\icu\\source\\common\"...
		push	offset ??_C@_1JK@GMEKFEEN@?$AAi?$AAl?$AAl?$AAe?$AAg?$AAa?$AAl?$AA?5?$AA?$HM?$AA?$HM?$AA?5?$AAc?$AAo?$AAu?$AAn?$AAt?$AA?$DM?$AA?$CI?$AAi?$AAn?$AAt?$AA3?$AA2?$AA_?$AAt?$AA?$CJ?$AA?$CI?$AAs?$AAi?$AAz?$AAe?$AAo@	; "illegal || count<(int32_t)(sizeof(utf8_"...
		call	dword ptr ds:__imp___wassert
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp

loc_1550:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+1DFj
					; utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)+1E8j
		movzx	eax, [ebp+var_1D]
		test	eax, eax
		jnz	short loc_1577
		movzx	eax, [ebp+var_29]
		mov	ecx, [ebp+arg_8]
		cmp	ecx, _utf8_minLegal[eax*4]
		jl	short loc_1577
		mov	eax, [ebp+arg_8]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jnz	short loc_15BD

loc_1577:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+216j
					; utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)+226j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	[ebp+var_8], ecx

loc_157F:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+274j
		movzx	eax, [ebp+var_29]
		test	eax, eax
		jle	short loc_15B6
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+arg_4]
		jnb	short loc_15B6
		mov	eax, [ebp+var_8]
		movzx	ecx, byte ptr [eax]
		and	ecx, 0C0h
		cmp	ecx, 80h ; '€'
		jnz	short loc_15B6
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		mov	al, [ebp+var_29]
		sub	al, 1
		mov	[ebp+var_29], al
		jmp	short loc_157F
; ---------------------------------------------------------------------------

loc_15B6:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+245j
					; utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)+24Dj	...
		mov	[ebp+arg_8], 0FFFFFFFFh

loc_15BD:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+235j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_8]
		mov	[eax], ecx
		mov	eax, [ebp+arg_8]

loc_15C8:				; CODE XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+1CEj
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0F8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
?utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z endp

; ---------------------------------------------------------------------------
$LN23_0		dd offset $LN6		; DATA XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+FAr
		dd offset $LN7_0	; jump table for switch	statement
		dd offset $LN8
		dd offset $LN11
		dd offset $LN12_0
		dd offset $LN12_0
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
; Segment alignment 'qword' can not be represented in assembly
_rdata		segment	para public 'DATA' use32
		assume cs:_rdata
		;org 15F4h
		public ??_C@_1JK@GMEKFEEN@?$AAi?$AAl?$AAl?$AAe?$AAg?$AAa?$AAl?$AA?5?$AA?$HM?$AA?$HM?$AA?5?$AAc?$AAo?$AAu?$AAn?$AAt?$AA?$DM?$AA?$CI?$AAi?$AAn?$AAt?$AA3?$AA2?$AA_?$AAt?$AA?$CJ?$AA?$CI?$AAs?$AAi?$AAz?$AAe?$AAo@
; wchar_t `string'
??_C@_1JK@GMEKFEEN@?$AAi?$AAl?$AAl?$AAe?$AAg?$AAa?$AAl?$AA?5?$AA?$HM?$AA?$HM?$AA?5?$AAc?$AAo?$AAu?$AAn?$AAt?$AA?$DM?$AA?$CI?$AAi?$AAn?$AAt?$AA3?$AA2?$AA_?$AAt?$AA?$CJ?$AA?$CI?$AAs?$AAi?$AAz?$AAe?$AAo@:
					; DATA XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+1FBo
		unicode	0, <illegal || count>
		dw 3Ch
		unicode	0, <(int32_t)(sizeof(utf8_minLegal)/sizeof((utf8_minLegal)[0]>
		unicode	0, <))>,0
		align 10h
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_data		segment	dword public 'DATA' use32
		assume cs:_data
		;org 1690h
		public ?__LINE__Var@?1??utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z@4JA@324cad1b
?__LINE__Var@?1??utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z@4JA@324cad1b dd 155h
					; DATA XREF: utf8_nextCharSafeBodyPointer(uchar	const *	*,uchar	const *,int)+1EAr
_data		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1694h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strFromUTF8_56
_u_strFromUTF8_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_14]
		push	eax
		push	0
		push	0FFFFFFFFh
		mov	ecx, [ebp+arg_10]
		push	ecx
		mov	edx, [ebp+arg_C]
		push	edx
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_4]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_u_strFromUTF8WithSub_56
		add	esp, 20h
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0C0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strFromUTF8_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 16ECh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strFromUTF8Lenient_56
_u_strFromUTF8Lenient_56 proc near

var_130		= dword	ptr -130h
var_68		= dword	ptr -68h
var_59		= byte ptr -59h
var_4D		= byte ptr -4Dh
var_41		= byte ptr -41h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 130h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_130]
		mov	ecx, 4Ch ; 'L'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_8], eax
		mov	[ebp+var_20], 0
		mov	eax, [ebp+arg_C]
		mov	[ebp+var_2C], eax
		cmp	[ebp+arg_14], 0
		jz	short loc_1738
		mov	eax, [ebp+arg_14]
		mov	ecx, [eax]
		push	ecx
		call	?U_FAILURE@@YACW4UErrorCode@@@Z	; U_FAILURE(UErrorCode)
		add	esp, 4
		movsx	edx, al
		test	edx, edx
		jz	short loc_173F

loc_1738:				; CODE XREF: _u_strFromUTF8Lenient_56+35j
		xor	eax, eax
		jmp	loc_1E18
; ---------------------------------------------------------------------------

loc_173F:				; CODE XREF: _u_strFromUTF8Lenient_56+4Aj
		cmp	[ebp+arg_C], 0
		jnz	short loc_174B
		cmp	[ebp+arg_10], 0
		jnz	short loc_1763

loc_174B:				; CODE XREF: _u_strFromUTF8Lenient_56+57j
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jl	short loc_1763
		cmp	[ebp+arg_4], 0
		jl	short loc_1763
		cmp	[ebp+arg_0], 0
		jnz	short loc_1773
		cmp	[ebp+arg_4], 0
		jle	short loc_1773

loc_1763:				; CODE XREF: _u_strFromUTF8Lenient_56+5Dj
					; _u_strFromUTF8Lenient_56+63j	...
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	loc_1E18
; ---------------------------------------------------------------------------

loc_1773:				; CODE XREF: _u_strFromUTF8Lenient_56+6Fj
					; _u_strFromUTF8Lenient_56+75j
		cmp	[ebp+arg_10], 0
		jge	loc_1A72
		cmp	[ebp+arg_0], 0
		jz	short loc_1794
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		lea	edx, [ecx+eax*2]
		mov	[ebp+var_130], edx
		jmp	short loc_179E
; ---------------------------------------------------------------------------

loc_1794:				; CODE XREF: _u_strFromUTF8Lenient_56+95j
		mov	[ebp+var_130], 0

loc_179E:				; CODE XREF: _u_strFromUTF8Lenient_56+A6j
		mov	eax, [ebp+var_130]
		mov	[ebp+var_38], eax

loc_17A7:				; CODE XREF: _u_strFromUTF8Lenient_56+FFj
					; _u_strFromUTF8Lenient_56+149j ...
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_14], ecx
		cmp	[ebp+var_14], 0
		jz	loc_198E
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_38]
		jnb	loc_198E
		cmp	[ebp+var_14], 0C0h ; 'À'
		jge	short loc_17F2
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_14]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		jmp	short loc_17A7
; ---------------------------------------------------------------------------
		jmp	loc_195E
; ---------------------------------------------------------------------------

loc_17F2:				; CODE XREF: _u_strFromUTF8Lenient_56+E1j
		cmp	[ebp+var_14], 0E0h ; 'à'
		jge	short loc_183F
		mov	eax, [ebp+var_2C]
		mov	cl, [eax+1]
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		test	edx, edx
		jz	short loc_183A
		mov	eax, [ebp+var_14]
		shl	eax, 6
		movzx	ecx, [ebp+var_41]
		lea	edx, [eax+ecx-3080h]
		mov	eax, [ebp+var_8]
		mov	[eax], dx
		mov	ecx, [ebp+var_8]
		add	ecx, 2
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+var_2C]
		add	eax, 2
		mov	[ebp+var_2C], eax
		jmp	loc_17A7
; ---------------------------------------------------------------------------

loc_183A:				; CODE XREF: _u_strFromUTF8Lenient_56+11Ej
		jmp	loc_195E
; ---------------------------------------------------------------------------

loc_183F:				; CODE XREF: _u_strFromUTF8Lenient_56+10Dj
		cmp	[ebp+var_14], 0F0h ; 'ð'
		jge	short loc_18A6
		mov	eax, [ebp+var_2C]
		mov	cl, [eax+1]
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		test	edx, edx
		jz	short loc_18A1
		mov	eax, [ebp+var_2C]
		mov	cl, [eax+2]
		mov	[ebp+var_4D], cl
		movzx	edx, [ebp+var_4D]
		test	edx, edx
		jz	short loc_18A1
		mov	eax, [ebp+var_14]
		shl	eax, 0Ch
		movzx	ecx, [ebp+var_41]
		shl	ecx, 6
		add	eax, ecx
		movzx	edx, [ebp+var_4D]
		lea	eax, [eax+edx-2080h]
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_2C]
		add	eax, 3
		mov	[ebp+var_2C], eax
		jmp	loc_17A7
; ---------------------------------------------------------------------------

loc_18A1:				; CODE XREF: _u_strFromUTF8Lenient_56+16Bj
					; _u_strFromUTF8Lenient_56+17Cj
		jmp	loc_195E
; ---------------------------------------------------------------------------

loc_18A6:				; CODE XREF: _u_strFromUTF8Lenient_56+15Aj
		mov	eax, [ebp+var_2C]
		mov	cl, [eax+1]
		mov	[ebp+var_41], cl
		movzx	edx, [ebp+var_41]
		test	edx, edx
		jz	loc_195E
		mov	eax, [ebp+var_2C]
		mov	cl, [eax+2]
		mov	[ebp+var_4D], cl
		movzx	edx, [ebp+var_4D]
		test	edx, edx
		jz	loc_195E
		mov	eax, [ebp+var_2C]
		mov	cl, [eax+3]
		mov	[ebp+var_59], cl
		movzx	edx, [ebp+var_59]
		test	edx, edx
		jz	short loc_195E
		mov	eax, [ebp+var_2C]
		add	eax, 4
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_14]
		shl	eax, 12h
		movzx	ecx, [ebp+var_41]
		shl	ecx, 0Ch
		add	eax, ecx
		movzx	edx, [ebp+var_4D]
		shl	edx, 6
		add	eax, edx
		movzx	ecx, [ebp+var_59]
		lea	edx, [eax+ecx-3C82080h]
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_14]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_38]
		jnb	short loc_1950
		mov	eax, [ebp+var_14]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_1959
; ---------------------------------------------------------------------------

loc_1950:				; CODE XREF: _u_strFromUTF8Lenient_56+244j
		mov	[ebp+var_20], 1
		jmp	short loc_198E
; ---------------------------------------------------------------------------

loc_1959:				; CODE XREF: _u_strFromUTF8Lenient_56+262j
		jmp	loc_17A7
; ---------------------------------------------------------------------------

loc_195E:				; CODE XREF: _u_strFromUTF8Lenient_56+101j
					; _u_strFromUTF8Lenient_56:loc_183Aj ...
		mov	eax, 0FFFDh
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx

loc_1972:				; CODE XREF: _u_strFromUTF8Lenient_56+299j
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	ecx, [ebp+var_2C]
		movzx	edx, byte ptr [ecx]
		test	edx, edx
		jz	short loc_1987
		jmp	short loc_1972
; ---------------------------------------------------------------------------

loc_1987:				; CODE XREF: _u_strFromUTF8Lenient_56+297j
		jmp	short loc_198E
; ---------------------------------------------------------------------------
		jmp	loc_17A7
; ---------------------------------------------------------------------------

loc_198E:				; CODE XREF: _u_strFromUTF8Lenient_56+C8j
					; _u_strFromUTF8Lenient_56+D4j	...
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_14], ecx
		cmp	[ebp+var_14], 0
		jz	loc_1A6D
		cmp	[ebp+var_14], 0C0h ; 'À'
		jge	short loc_19C3
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		jmp	short loc_198E
; ---------------------------------------------------------------------------
		jmp	loc_1A5D
; ---------------------------------------------------------------------------

loc_19C3:				; CODE XREF: _u_strFromUTF8Lenient_56+2BCj
		cmp	[ebp+var_14], 0E0h ; 'à'
		jge	short loc_19ED
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax+1]
		test	ecx, ecx
		jz	short loc_19EB
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		add	eax, 2
		mov	[ebp+var_2C], eax
		jmp	short loc_198E
; ---------------------------------------------------------------------------

loc_19EB:				; CODE XREF: _u_strFromUTF8Lenient_56+2E9j
		jmp	short loc_1A5D
; ---------------------------------------------------------------------------

loc_19ED:				; CODE XREF: _u_strFromUTF8Lenient_56+2DEj
		cmp	[ebp+var_14], 0F0h ; 'ð'
		jge	short loc_1A25
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax+1]
		test	ecx, ecx
		jz	short loc_1A23
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax+2]
		test	ecx, ecx
		jz	short loc_1A23
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		add	eax, 3
		mov	[ebp+var_2C], eax
		jmp	loc_198E
; ---------------------------------------------------------------------------

loc_1A23:				; CODE XREF: _u_strFromUTF8Lenient_56+313j
					; _u_strFromUTF8Lenient_56+31Ej
		jmp	short loc_1A5D
; ---------------------------------------------------------------------------

loc_1A25:				; CODE XREF: _u_strFromUTF8Lenient_56+308j
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax+1]
		test	ecx, ecx
		jz	short loc_1A5D
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax+2]
		test	ecx, ecx
		jz	short loc_1A5D
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax+3]
		test	ecx, ecx
		jz	short loc_1A5D
		mov	eax, [ebp+var_20]
		add	eax, 2
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		add	eax, 4
		mov	[ebp+var_2C], eax
		jmp	loc_198E
; ---------------------------------------------------------------------------

loc_1A5D:				; CODE XREF: _u_strFromUTF8Lenient_56+2D2j
					; _u_strFromUTF8Lenient_56:loc_19EBj ...
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax
		jmp	short loc_1A6D
; ---------------------------------------------------------------------------
		jmp	loc_198E
; ---------------------------------------------------------------------------

loc_1A6D:				; CODE XREF: _u_strFromUTF8Lenient_56+2AFj
					; _u_strFromUTF8Lenient_56+37Aj
		jmp	loc_1DE1
; ---------------------------------------------------------------------------

loc_1A72:				; CODE XREF: _u_strFromUTF8Lenient_56+8Bj
		cmp	[ebp+var_2C], 0
		jz	short loc_1A86
		mov	eax, [ebp+var_2C]
		add	eax, [ebp+arg_10]
		mov	[ebp+var_130], eax
		jmp	short loc_1A90
; ---------------------------------------------------------------------------

loc_1A86:				; CODE XREF: _u_strFromUTF8Lenient_56+38Aj
		mov	[ebp+var_130], 0

loc_1A90:				; CODE XREF: _u_strFromUTF8Lenient_56+398j
		mov	ecx, [ebp+var_130]
		mov	[ebp+var_68], ecx
		mov	eax, [ebp+arg_4]
		cmp	eax, [ebp+arg_10]
		jge	short loc_1ABF
		cmp	[ebp+arg_8], 0
		jz	short loc_1AAF
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+arg_10]
		mov	[eax], ecx

loc_1AAF:				; CODE XREF: _u_strFromUTF8Lenient_56+3B9j
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 0Fh
		xor	eax, eax
		jmp	loc_1E18
; ---------------------------------------------------------------------------

loc_1ABF:				; CODE XREF: _u_strFromUTF8Lenient_56+3B3j
		mov	eax, [ebp+var_68]
		sub	eax, [ebp+var_2C]
		cmp	eax, 4
		jl	loc_1C32
		mov	eax, [ebp+var_68]
		sub	eax, 3
		mov	[ebp+var_68], eax

loc_1AD7:				; CODE XREF: _u_strFromUTF8Lenient_56+537j
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		cmp	[ebp+var_14], 0C0h ; 'À'
		jge	short loc_1B0A
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_14]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	loc_1C1D
; ---------------------------------------------------------------------------

loc_1B0A:				; CODE XREF: _u_strFromUTF8Lenient_56+404j
		cmp	[ebp+var_14], 0E0h ; 'à'
		jge	short loc_1B43
		mov	eax, [ebp+var_14]
		shl	eax, 6
		mov	ecx, [ebp+var_2C]
		movzx	edx, byte ptr [ecx]
		lea	eax, [eax+edx-3080h]
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		jmp	loc_1C1D
; ---------------------------------------------------------------------------

loc_1B43:				; CODE XREF: _u_strFromUTF8Lenient_56+425j
		cmp	[ebp+var_14], 0F0h ; 'ð'
		jge	short loc_1B96
		mov	eax, [ebp+var_14]
		shl	eax, 0Ch
		mov	ecx, [ebp+var_2C]
		movzx	edx, byte ptr [ecx]
		shl	edx, 6
		add	eax, edx
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	edx, [ebp+var_14]
		lea	eax, [edx+ecx-2080h]
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		jmp	loc_1C1D
; ---------------------------------------------------------------------------

loc_1B96:				; CODE XREF: _u_strFromUTF8Lenient_56+45Ej
		mov	eax, [ebp+var_14]
		shl	eax, 12h
		mov	ecx, [ebp+var_2C]
		movzx	edx, byte ptr [ecx]
		shl	edx, 0Ch
		add	eax, edx
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		shl	ecx, 6
		add	ecx, [ebp+var_14]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	edx, [ebp+var_14]
		lea	eax, [edx+ecx-3C82080h]
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_2C]
		add	ecx, 1
		mov	[ebp+var_2C], ecx
		mov	eax, [ebp+var_14]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_14]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx

loc_1C1D:				; CODE XREF: _u_strFromUTF8Lenient_56+419j
					; _u_strFromUTF8Lenient_56+452j ...
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_68]
		jb	loc_1AD7
		mov	eax, [ebp+var_68]
		add	eax, 3
		mov	[ebp+var_68], eax

loc_1C32:				; CODE XREF: _u_strFromUTF8Lenient_56+3DCj
					; _u_strFromUTF8Lenient_56+580j ...
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_68]
		jnb	loc_1DE1
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		cmp	[ebp+var_14], 0C0h ; 'À'
		jge	short loc_1C73
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_14]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_1C32
; ---------------------------------------------------------------------------
		jmp	loc_1DC6
; ---------------------------------------------------------------------------

loc_1C73:				; CODE XREF: _u_strFromUTF8Lenient_56+56Bj
		cmp	[ebp+var_14], 0E0h ; 'à'
		jge	short loc_1CB6
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_68]
		jnb	short loc_1CB1
		mov	eax, [ebp+var_14]
		shl	eax, 6
		mov	ecx, [ebp+var_2C]
		movzx	edx, byte ptr [ecx]
		lea	eax, [eax+edx-3080h]
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		jmp	short loc_1C32
; ---------------------------------------------------------------------------

loc_1CB1:				; CODE XREF: _u_strFromUTF8Lenient_56+596j
		jmp	loc_1DC6
; ---------------------------------------------------------------------------

loc_1CB6:				; CODE XREF: _u_strFromUTF8Lenient_56+58Ej
		cmp	[ebp+var_14], 0F0h ; 'ð'
		jge	short loc_1D22
		mov	eax, [ebp+var_68]
		sub	eax, [ebp+var_2C]
		cmp	eax, 2
		jl	short loc_1D1D
		mov	eax, [ebp+var_14]
		shl	eax, 0Ch
		mov	ecx, [ebp+var_2C]
		movzx	edx, byte ptr [ecx]
		shl	edx, 6
		add	eax, edx
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	edx, [ebp+var_14]
		lea	eax, [edx+ecx-2080h]
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		add	eax, 3
		mov	[ebp+var_2C], eax
		jmp	loc_1C32
; ---------------------------------------------------------------------------

loc_1D1D:				; CODE XREF: _u_strFromUTF8Lenient_56+5DCj
		jmp	loc_1DC6
; ---------------------------------------------------------------------------

loc_1D22:				; CODE XREF: _u_strFromUTF8Lenient_56+5D1j
		mov	eax, [ebp+var_68]
		sub	eax, [ebp+var_2C]
		cmp	eax, 3
		jl	loc_1DC6
		mov	eax, [ebp+var_14]
		shl	eax, 12h
		mov	ecx, [ebp+var_2C]
		movzx	edx, byte ptr [ecx]
		shl	edx, 0Ch
		add	eax, edx
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		shl	ecx, 6
		add	ecx, [ebp+var_14]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	edx, [ebp+var_14]
		lea	eax, [edx+ecx-3C82080h]
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_2C]
		add	ecx, 1
		mov	[ebp+var_2C], ecx
		mov	eax, [ebp+var_14]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_14]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_2C]
		add	eax, 4
		mov	[ebp+var_2C], eax
		jmp	loc_1C32
; ---------------------------------------------------------------------------

loc_1DC6:				; CODE XREF: _u_strFromUTF8Lenient_56+582j
					; _u_strFromUTF8Lenient_56:loc_1CB1j ...
		mov	eax, 0FFFDh
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_1DE1
; ---------------------------------------------------------------------------
		jmp	loc_1C32
; ---------------------------------------------------------------------------

loc_1DE1:				; CODE XREF: _u_strFromUTF8Lenient_56:loc_1A6Dj
					; _u_strFromUTF8Lenient_56+54Cj ...
		mov	eax, [ebp+var_8]
		sub	eax, [ebp+arg_0]
		sar	eax, 1
		add	eax, [ebp+var_20]
		mov	[ebp+var_20], eax
		cmp	[ebp+arg_8], 0
		jz	short loc_1DFD
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_20]
		mov	[eax], ecx

loc_1DFD:				; CODE XREF: _u_strFromUTF8Lenient_56+707j
		mov	eax, [ebp+arg_14]
		push	eax
		mov	ecx, [ebp+var_20]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateUChars_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]

loc_1E18:				; CODE XREF: _u_strFromUTF8Lenient_56+4Ej
					; _u_strFromUTF8Lenient_56+82j	...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 130h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strFromUTF8Lenient_56 endp

_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1E2Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strToUTF8WithSub_56
_u_strToUTF8WithSub_56 proc near	; CODE XREF: _u_strToUTF8_56+3Ap

var_148		= dword	ptr -148h
var_144		= dword	ptr -144h
var_140		= dword	ptr -140h
var_13C		= dword	ptr -13Ch
var_74		= dword	ptr -74h
var_68		= dword	ptr -68h
var_5C		= dword	ptr -5Ch
var_50		= dword	ptr -50h
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch
arg_18		= dword	ptr  20h
arg_1C		= dword	ptr  24h

		push	ebp
		mov	ebp, esp
		sub	esp, 148h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_148]
		mov	ecx, 52h ; 'R'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0
		mov	[ebp+var_14], 0
		mov	[ebp+var_20], 0
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_2C], eax
		cmp	[ebp+var_2C], 0
		jz	short loc_1E79
		mov	eax, [ebp+var_2C]
		add	eax, [ebp+arg_4]
		mov	[ebp+var_13C], eax
		jmp	short loc_1E83
; ---------------------------------------------------------------------------

loc_1E79:				; CODE XREF: _u_strToUTF8WithSub_56+3Dj
		mov	[ebp+var_13C], 0

loc_1E83:				; CODE XREF: _u_strToUTF8WithSub_56+4Bj
		mov	ecx, [ebp+var_13C]
		mov	[ebp+var_38], ecx
		cmp	[ebp+arg_1C], 0
		jz	short loc_1EA7
		mov	eax, [ebp+arg_1C]
		mov	ecx, [eax]
		push	ecx
		call	?U_FAILURE@@YACW4UErrorCode@@@Z	; U_FAILURE(UErrorCode)
		add	esp, 4
		movsx	edx, al
		test	edx, edx
		jz	short loc_1EAE

loc_1EA7:				; CODE XREF: _u_strToUTF8WithSub_56+64j
		xor	eax, eax
		jmp	loc_296E
; ---------------------------------------------------------------------------

loc_1EAE:				; CODE XREF: _u_strToUTF8WithSub_56+79j
		cmp	[ebp+arg_C], 0
		jnz	short loc_1EBA
		cmp	[ebp+arg_10], 0
		jnz	short loc_1EEA

loc_1EBA:				; CODE XREF: _u_strToUTF8WithSub_56+86j
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jl	short loc_1EEA
		cmp	[ebp+arg_4], 0
		jl	short loc_1EEA
		cmp	[ebp+arg_0], 0
		jnz	short loc_1ED2
		cmp	[ebp+arg_4], 0
		jg	short loc_1EEA

loc_1ED2:				; CODE XREF: _u_strToUTF8WithSub_56+9Ej
		cmp	[ebp+arg_14], 10FFFFh
		jg	short loc_1EEA
		mov	eax, [ebp+arg_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jnz	short loc_1EFA

loc_1EEA:				; CODE XREF: _u_strToUTF8WithSub_56+8Cj
					; _u_strToUTF8WithSub_56+92j ...
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	loc_296E
; ---------------------------------------------------------------------------

loc_1EFA:				; CODE XREF: _u_strToUTF8WithSub_56+BCj
		cmp	[ebp+arg_18], 0
		jz	short loc_1F09
		mov	eax, [ebp+arg_18]
		mov	dword ptr [eax], 0

loc_1F09:				; CODE XREF: _u_strToUTF8WithSub_56+D2j
		mov	[ebp+var_44], 0
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jnz	loc_2304

loc_1F1A:				; CODE XREF: _u_strToUTF8WithSub_56:loc_216Fj
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		cmp	[ebp+var_14], 0
		jz	loc_2174
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_1F68
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_38]
		jnb	short loc_1F57
		mov	eax, [ebp+var_2C]
		mov	cl, byte ptr [ebp+var_14]
		mov	[eax], cl
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	short loc_1F63
; ---------------------------------------------------------------------------

loc_1F57:				; CODE XREF: _u_strToUTF8WithSub_56+116j
		mov	[ebp+var_8], 1
		jmp	loc_2174
; ---------------------------------------------------------------------------

loc_1F63:				; CODE XREF: _u_strToUTF8WithSub_56+129j
		jmp	loc_216F
; ---------------------------------------------------------------------------

loc_1F68:				; CODE XREF: _u_strToUTF8WithSub_56+10Ej
		cmp	[ebp+var_14], 7FFh
		ja	short loc_1FC1
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_2C]
		cmp	eax, 2
		jl	short loc_1FB0
		mov	eax, [ebp+var_14]
		shr	eax, 6
		or	eax, 0C0h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	short loc_1FBC
; ---------------------------------------------------------------------------

loc_1FB0:				; CODE XREF: _u_strToUTF8WithSub_56+14Ej
		mov	[ebp+var_8], 2
		jmp	loc_2174
; ---------------------------------------------------------------------------

loc_1FBC:				; CODE XREF: _u_strToUTF8WithSub_56+182j
		jmp	loc_216F
; ---------------------------------------------------------------------------

loc_1FC1:				; CODE XREF: _u_strToUTF8WithSub_56+143j
		cmp	[ebp+var_14], 0D7FFh
		jbe	short loc_1FD3
		cmp	[ebp+var_14], 0E000h
		jb	short loc_203F

loc_1FD3:				; CODE XREF: _u_strToUTF8WithSub_56+19Cj
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_2C]
		cmp	eax, 3
		jl	short loc_202E
		mov	eax, [ebp+var_14]
		shr	eax, 0Ch
		or	eax, 0E0h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		shr	eax, 6
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	short loc_203A
; ---------------------------------------------------------------------------

loc_202E:				; CODE XREF: _u_strToUTF8WithSub_56+1B0j
		mov	[ebp+var_8], 3
		jmp	loc_2174
; ---------------------------------------------------------------------------

loc_203A:				; CODE XREF: _u_strToUTF8WithSub_56+200j
		jmp	loc_216F
; ---------------------------------------------------------------------------

loc_203F:				; CODE XREF: _u_strToUTF8WithSub_56+1A5j
		mov	eax, [ebp+var_14]
		and	eax, 400h
		jnz	short loc_2081
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_20], ecx
		mov	edx, [ebp+var_20]
		and	edx, 0FFFFFC00h
		cmp	edx, 0DC00h
		jnz	short loc_2081
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_14]
		shl	eax, 0Ah
		mov	ecx, [ebp+var_20]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_14], edx
		jmp	short loc_20A8
; ---------------------------------------------------------------------------

loc_2081:				; CODE XREF: _u_strToUTF8WithSub_56+21Bj
					; _u_strToUTF8WithSub_56+235j
		cmp	[ebp+arg_14], 0
		jl	short loc_2098
		mov	eax, [ebp+arg_14]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_44]
		add	eax, 1
		mov	[ebp+var_44], eax
		jmp	short loc_20A8
; ---------------------------------------------------------------------------

loc_2098:				; CODE XREF: _u_strToUTF8WithSub_56+259j
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_296E
; ---------------------------------------------------------------------------

loc_20A8:				; CODE XREF: _u_strToUTF8WithSub_56+253j
					; _u_strToUTF8WithSub_56+26Aj
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_20BD
		mov	[ebp+var_13C], 1
		jmp	loc_213E
; ---------------------------------------------------------------------------

loc_20BD:				; CODE XREF: _u_strToUTF8WithSub_56+280j
		cmp	[ebp+var_14], 7FFh
		ja	short loc_20D2
		mov	[ebp+var_140], 2
		jmp	short loc_2132
; ---------------------------------------------------------------------------

loc_20D2:				; CODE XREF: _u_strToUTF8WithSub_56+298j
		cmp	[ebp+var_14], 0D7FFh
		ja	short loc_20E7
		mov	[ebp+var_144], 3
		jmp	short loc_2126
; ---------------------------------------------------------------------------

loc_20E7:				; CODE XREF: _u_strToUTF8WithSub_56+2ADj
		cmp	[ebp+var_14], 0DFFFh
		jbe	short loc_2110
		cmp	[ebp+var_14], 10FFFFh
		ja	short loc_2110
		mov	eax, 0FFFFh
		cmp	eax, [ebp+var_14]
		sbb	ecx, ecx
		neg	ecx
		add	ecx, 3
		mov	[ebp+var_148], ecx
		jmp	short loc_211A
; ---------------------------------------------------------------------------

loc_2110:				; CODE XREF: _u_strToUTF8WithSub_56+2C2j
					; _u_strToUTF8WithSub_56+2CBj
		mov	[ebp+var_148], 0

loc_211A:				; CODE XREF: _u_strToUTF8WithSub_56+2E2j
		mov	edx, [ebp+var_148]
		mov	[ebp+var_144], edx

loc_2126:				; CODE XREF: _u_strToUTF8WithSub_56+2B9j
		mov	eax, [ebp+var_144]
		mov	[ebp+var_140], eax

loc_2132:				; CODE XREF: _u_strToUTF8WithSub_56+2A4j
		mov	ecx, [ebp+var_140]
		mov	[ebp+var_13C], ecx

loc_213E:				; CODE XREF: _u_strToUTF8WithSub_56+28Cj
		mov	edx, [ebp+var_13C]
		mov	[ebp+var_50], edx
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_50]
		jl	short loc_2167
		mov	eax, [ebp+var_14]
		push	eax
		mov	ecx, [ebp+var_2C]
		push	ecx
		call	?_appendUTF8@@YAPAEPAEH@Z ; _appendUTF8(uchar *,int)
		add	esp, 8
		mov	[ebp+var_2C], eax
		jmp	short loc_216F
; ---------------------------------------------------------------------------

loc_2167:				; CODE XREF: _u_strToUTF8WithSub_56+324j
		mov	eax, [ebp+var_50]
		mov	[ebp+var_8], eax
		jmp	short loc_2174
; ---------------------------------------------------------------------------

loc_216F:				; CODE XREF: _u_strToUTF8WithSub_56:loc_1F63j
					; _u_strToUTF8WithSub_56:loc_1FBCj ...
		jmp	loc_1F1A
; ---------------------------------------------------------------------------

loc_2174:				; CODE XREF: _u_strToUTF8WithSub_56+FBj
					; _u_strToUTF8WithSub_56+132j ...
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+var_14]
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		test	edx, edx
		jz	short loc_2199
		mov	[ebp+var_13C], 1
		jmp	short loc_21A3
; ---------------------------------------------------------------------------

loc_2199:				; CODE XREF: _u_strToUTF8WithSub_56+35Fj
		mov	[ebp+var_13C], 0

loc_21A3:				; CODE XREF: _u_strToUTF8WithSub_56+36Bj
		cmp	[ebp+var_13C], 0
		jz	loc_22FF
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_21C4
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		jmp	loc_22FA
; ---------------------------------------------------------------------------

loc_21C4:				; CODE XREF: _u_strToUTF8WithSub_56+388j
		cmp	[ebp+var_14], 7FFh
		ja	short loc_21DB
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		jmp	loc_22FA
; ---------------------------------------------------------------------------

loc_21DB:				; CODE XREF: _u_strToUTF8WithSub_56+39Fj
		mov	eax, [ebp+var_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jz	short loc_21F8
		mov	eax, [ebp+var_8]
		add	eax, 3
		mov	[ebp+var_8], eax
		jmp	loc_22FA
; ---------------------------------------------------------------------------

loc_21F8:				; CODE XREF: _u_strToUTF8WithSub_56+3BCj
		mov	eax, [ebp+var_14]
		and	eax, 400h
		jnz	short loc_2233
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_20], ecx
		mov	edx, [ebp+var_20]
		and	edx, 0FFFFFC00h
		cmp	edx, 0DC00h
		jnz	short loc_2233
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_8]
		add	eax, 4
		mov	[ebp+var_8], eax
		jmp	loc_22FA
; ---------------------------------------------------------------------------

loc_2233:				; CODE XREF: _u_strToUTF8WithSub_56+3D4j
					; _u_strToUTF8WithSub_56+3EEj
		cmp	[ebp+arg_14], 0
		jl	loc_22EA
		cmp	[ebp+arg_14], 7Fh ; ''
		ja	short loc_2252
		mov	[ebp+var_13C], 1
		jmp	loc_22D3
; ---------------------------------------------------------------------------

loc_2252:				; CODE XREF: _u_strToUTF8WithSub_56+415j
		cmp	[ebp+arg_14], 7FFh
		ja	short loc_2267
		mov	[ebp+var_140], 2
		jmp	short loc_22C7
; ---------------------------------------------------------------------------

loc_2267:				; CODE XREF: _u_strToUTF8WithSub_56+42Dj
		cmp	[ebp+arg_14], 0D7FFh
		ja	short loc_227C
		mov	[ebp+var_144], 3
		jmp	short loc_22BB
; ---------------------------------------------------------------------------

loc_227C:				; CODE XREF: _u_strToUTF8WithSub_56+442j
		cmp	[ebp+arg_14], 0DFFFh
		jbe	short loc_22A5
		cmp	[ebp+arg_14], 10FFFFh
		ja	short loc_22A5
		mov	eax, 0FFFFh
		cmp	eax, [ebp+arg_14]
		sbb	ecx, ecx
		neg	ecx
		add	ecx, 3
		mov	[ebp+var_148], ecx
		jmp	short loc_22AF
; ---------------------------------------------------------------------------

loc_22A5:				; CODE XREF: _u_strToUTF8WithSub_56+457j
					; _u_strToUTF8WithSub_56+460j
		mov	[ebp+var_148], 0

loc_22AF:				; CODE XREF: _u_strToUTF8WithSub_56+477j
		mov	edx, [ebp+var_148]
		mov	[ebp+var_144], edx

loc_22BB:				; CODE XREF: _u_strToUTF8WithSub_56+44Ej
		mov	eax, [ebp+var_144]
		mov	[ebp+var_140], eax

loc_22C7:				; CODE XREF: _u_strToUTF8WithSub_56+439j
		mov	ecx, [ebp+var_140]
		mov	[ebp+var_13C], ecx

loc_22D3:				; CODE XREF: _u_strToUTF8WithSub_56+421j
		mov	edx, [ebp+var_8]
		add	edx, [ebp+var_13C]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_44]
		add	eax, 1
		mov	[ebp+var_44], eax
		jmp	short loc_22FA
; ---------------------------------------------------------------------------

loc_22EA:				; CODE XREF: _u_strToUTF8WithSub_56+40Bj
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_296E
; ---------------------------------------------------------------------------

loc_22FA:				; CODE XREF: _u_strToUTF8WithSub_56+393j
					; _u_strToUTF8WithSub_56+3AAj ...
		jmp	loc_2174
; ---------------------------------------------------------------------------

loc_22FF:				; CODE XREF: _u_strToUTF8WithSub_56+37Ej
		jmp	loc_292B
; ---------------------------------------------------------------------------

loc_2304:				; CODE XREF: _u_strToUTF8WithSub_56+E8j
		cmp	[ebp+arg_C], 0
		jz	short loc_231B
		mov	eax, [ebp+arg_10]
		mov	ecx, [ebp+arg_C]
		lea	edx, [ecx+eax*2]
		mov	[ebp+var_13C], edx
		jmp	short loc_2325
; ---------------------------------------------------------------------------

loc_231B:				; CODE XREF: _u_strToUTF8WithSub_56+4DCj
		mov	[ebp+var_13C], 0

loc_2325:				; CODE XREF: _u_strToUTF8WithSub_56+4EDj
		mov	eax, [ebp+var_13C]
		mov	[ebp+var_5C], eax

loc_232E:				; CODE XREF: _u_strToUTF8WithSub_56:loc_2550j
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_2C]
		cdq
		mov	ecx, 3
		idiv	ecx
		mov	[ebp+var_68], eax
		mov	eax, [ebp+var_5C]
		sub	eax, [ebp+arg_C]
		sar	eax, 1
		mov	[ebp+arg_10], eax
		mov	eax, [ebp+var_68]
		cmp	eax, [ebp+arg_10]
		jle	short loc_2358
		mov	eax, [ebp+arg_10]
		mov	[ebp+var_68], eax

loc_2358:				; CODE XREF: _u_strToUTF8WithSub_56+524j
		cmp	[ebp+var_68], 3
		jge	short loc_2363
		jmp	loc_2555
; ---------------------------------------------------------------------------

loc_2363:				; CODE XREF: _u_strToUTF8WithSub_56+530j
					; _u_strToUTF8WithSub_56+71Ej
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_C]
		add	edx, 2
		mov	[ebp+arg_C], edx
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_2391
		mov	eax, [ebp+var_2C]
		mov	cl, byte ptr [ebp+var_14]
		mov	[eax], cl
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	loc_253D
; ---------------------------------------------------------------------------

loc_2391:				; CODE XREF: _u_strToUTF8WithSub_56+54Dj
		cmp	[ebp+var_14], 7FFh
		ja	short loc_23D1
		mov	eax, [ebp+var_14]
		shr	eax, 6
		or	eax, 0C0h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	loc_253D
; ---------------------------------------------------------------------------

loc_23D1:				; CODE XREF: _u_strToUTF8WithSub_56+56Cj
		cmp	[ebp+var_14], 0D7FFh
		jbe	short loc_23E3
		cmp	[ebp+var_14], 0E000h
		jb	short loc_2436

loc_23E3:				; CODE XREF: _u_strToUTF8WithSub_56+5ACj
		mov	eax, [ebp+var_14]
		shr	eax, 0Ch
		or	eax, 0E0h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		shr	eax, 6
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	loc_253D
; ---------------------------------------------------------------------------

loc_2436:				; CODE XREF: _u_strToUTF8WithSub_56+5B5j
		mov	eax, [ebp+var_68]
		sub	eax, 1
		mov	[ebp+var_68], eax
		jnz	short loc_244F
		mov	eax, [ebp+arg_C]
		sub	eax, 2
		mov	[ebp+arg_C], eax
		jmp	loc_2550
; ---------------------------------------------------------------------------

loc_244F:				; CODE XREF: _u_strToUTF8WithSub_56+613j
		mov	eax, [ebp+var_14]
		and	eax, 400h
		jnz	loc_2503
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_20], ecx
		mov	edx, [ebp+var_20]
		and	edx, 0FFFFFC00h
		cmp	edx, 0DC00h
		jnz	loc_2503
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_14]
		shl	eax, 0Ah
		mov	ecx, [ebp+var_20]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_14]
		shr	eax, 12h
		or	eax, 0F0h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		shr	eax, 0Ch
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		shr	eax, 6
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	short loc_253D
; ---------------------------------------------------------------------------

loc_2503:				; CODE XREF: _u_strToUTF8WithSub_56+62Bj
					; _u_strToUTF8WithSub_56+649j
		cmp	[ebp+arg_14], 0
		jl	short loc_251A
		mov	eax, [ebp+arg_14]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_44]
		add	eax, 1
		mov	[ebp+var_44], eax
		jmp	short loc_252A
; ---------------------------------------------------------------------------

loc_251A:				; CODE XREF: _u_strToUTF8WithSub_56+6DBj
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_296E
; ---------------------------------------------------------------------------

loc_252A:				; CODE XREF: _u_strToUTF8WithSub_56+6ECj
		mov	eax, [ebp+var_14]
		push	eax
		mov	ecx, [ebp+var_2C]
		push	ecx
		call	?_appendUTF8@@YAPAEPAEH@Z ; _appendUTF8(uchar *,int)
		add	esp, 8
		mov	[ebp+var_2C], eax

loc_253D:				; CODE XREF: _u_strToUTF8WithSub_56+560j
					; _u_strToUTF8WithSub_56+5A0j ...
		mov	eax, [ebp+var_68]
		sub	eax, 1
		mov	[ebp+var_68], eax
		cmp	[ebp+var_68], 0
		jg	loc_2363

loc_2550:				; CODE XREF: _u_strToUTF8WithSub_56+61Ej
		jmp	loc_232E
; ---------------------------------------------------------------------------

loc_2555:				; CODE XREF: _u_strToUTF8WithSub_56+532j
					; _u_strToUTF8WithSub_56:loc_27B4j
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_5C]
		jnb	loc_27B9
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_C]
		add	edx, 2
		mov	[ebp+arg_C], edx
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_25A5
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_38]
		jnb	short loc_2594
		mov	eax, [ebp+var_2C]
		mov	cl, byte ptr [ebp+var_14]
		mov	[eax], cl
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	short loc_25A0
; ---------------------------------------------------------------------------

loc_2594:				; CODE XREF: _u_strToUTF8WithSub_56+753j
		mov	[ebp+var_8], 1
		jmp	loc_27B9
; ---------------------------------------------------------------------------

loc_25A0:				; CODE XREF: _u_strToUTF8WithSub_56+766j
		jmp	loc_27B4
; ---------------------------------------------------------------------------

loc_25A5:				; CODE XREF: _u_strToUTF8WithSub_56+74Bj
		cmp	[ebp+var_14], 7FFh
		ja	short loc_25FE
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_2C]
		cmp	eax, 2
		jl	short loc_25ED
		mov	eax, [ebp+var_14]
		shr	eax, 6
		or	eax, 0C0h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	short loc_25F9
; ---------------------------------------------------------------------------

loc_25ED:				; CODE XREF: _u_strToUTF8WithSub_56+78Bj
		mov	[ebp+var_8], 2
		jmp	loc_27B9
; ---------------------------------------------------------------------------

loc_25F9:				; CODE XREF: _u_strToUTF8WithSub_56+7BFj
		jmp	loc_27B4
; ---------------------------------------------------------------------------

loc_25FE:				; CODE XREF: _u_strToUTF8WithSub_56+780j
		cmp	[ebp+var_14], 0D7FFh
		jbe	short loc_2610
		cmp	[ebp+var_14], 0E000h
		jb	short loc_267C

loc_2610:				; CODE XREF: _u_strToUTF8WithSub_56+7D9j
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_2C]
		cmp	eax, 3
		jl	short loc_266B
		mov	eax, [ebp+var_14]
		shr	eax, 0Ch
		or	eax, 0E0h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		shr	eax, 6
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_2C]
		mov	[ecx], al
		mov	edx, [ebp+var_2C]
		add	edx, 1
		mov	[ebp+var_2C], edx
		jmp	short loc_2677
; ---------------------------------------------------------------------------

loc_266B:				; CODE XREF: _u_strToUTF8WithSub_56+7EDj
		mov	[ebp+var_8], 3
		jmp	loc_27B9
; ---------------------------------------------------------------------------

loc_2677:				; CODE XREF: _u_strToUTF8WithSub_56+83Dj
		jmp	loc_27B4
; ---------------------------------------------------------------------------

loc_267C:				; CODE XREF: _u_strToUTF8WithSub_56+7E2j
		mov	eax, [ebp+var_14]
		and	eax, 400h
		jnz	short loc_26C6
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_5C]
		jnb	short loc_26C6
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_20], ecx
		mov	edx, [ebp+var_20]
		and	edx, 0FFFFFC00h
		cmp	edx, 0DC00h
		jnz	short loc_26C6
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_14]
		shl	eax, 0Ah
		mov	ecx, [ebp+var_20]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_14], edx
		jmp	short loc_26ED
; ---------------------------------------------------------------------------

loc_26C6:				; CODE XREF: _u_strToUTF8WithSub_56+858j
					; _u_strToUTF8WithSub_56+860j ...
		cmp	[ebp+arg_14], 0
		jl	short loc_26DD
		mov	eax, [ebp+arg_14]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_44]
		add	eax, 1
		mov	[ebp+var_44], eax
		jmp	short loc_26ED
; ---------------------------------------------------------------------------

loc_26DD:				; CODE XREF: _u_strToUTF8WithSub_56+89Ej
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_296E
; ---------------------------------------------------------------------------

loc_26ED:				; CODE XREF: _u_strToUTF8WithSub_56+898j
					; _u_strToUTF8WithSub_56+8AFj
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_2702
		mov	[ebp+var_13C], 1
		jmp	loc_2783
; ---------------------------------------------------------------------------

loc_2702:				; CODE XREF: _u_strToUTF8WithSub_56+8C5j
		cmp	[ebp+var_14], 7FFh
		ja	short loc_2717
		mov	[ebp+var_140], 2
		jmp	short loc_2777
; ---------------------------------------------------------------------------

loc_2717:				; CODE XREF: _u_strToUTF8WithSub_56+8DDj
		cmp	[ebp+var_14], 0D7FFh
		ja	short loc_272C
		mov	[ebp+var_144], 3
		jmp	short loc_276B
; ---------------------------------------------------------------------------

loc_272C:				; CODE XREF: _u_strToUTF8WithSub_56+8F2j
		cmp	[ebp+var_14], 0DFFFh
		jbe	short loc_2755
		cmp	[ebp+var_14], 10FFFFh
		ja	short loc_2755
		mov	eax, 0FFFFh
		cmp	eax, [ebp+var_14]
		sbb	ecx, ecx
		neg	ecx
		add	ecx, 3
		mov	[ebp+var_148], ecx
		jmp	short loc_275F
; ---------------------------------------------------------------------------

loc_2755:				; CODE XREF: _u_strToUTF8WithSub_56+907j
					; _u_strToUTF8WithSub_56+910j
		mov	[ebp+var_148], 0

loc_275F:				; CODE XREF: _u_strToUTF8WithSub_56+927j
		mov	edx, [ebp+var_148]
		mov	[ebp+var_144], edx

loc_276B:				; CODE XREF: _u_strToUTF8WithSub_56+8FEj
		mov	eax, [ebp+var_144]
		mov	[ebp+var_140], eax

loc_2777:				; CODE XREF: _u_strToUTF8WithSub_56+8E9j
		mov	ecx, [ebp+var_140]
		mov	[ebp+var_13C], ecx

loc_2783:				; CODE XREF: _u_strToUTF8WithSub_56+8D1j
		mov	edx, [ebp+var_13C]
		mov	[ebp+var_74], edx
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_74]
		jl	short loc_27AC
		mov	eax, [ebp+var_14]
		push	eax
		mov	ecx, [ebp+var_2C]
		push	ecx
		call	?_appendUTF8@@YAPAEPAEH@Z ; _appendUTF8(uchar *,int)
		add	esp, 8
		mov	[ebp+var_2C], eax
		jmp	short loc_27B4
; ---------------------------------------------------------------------------

loc_27AC:				; CODE XREF: _u_strToUTF8WithSub_56+969j
		mov	eax, [ebp+var_74]
		mov	[ebp+var_8], eax
		jmp	short loc_27B9
; ---------------------------------------------------------------------------

loc_27B4:				; CODE XREF: _u_strToUTF8WithSub_56:loc_25A0j
					; _u_strToUTF8WithSub_56:loc_25F9j ...
		jmp	loc_2555
; ---------------------------------------------------------------------------

loc_27B9:				; CODE XREF: _u_strToUTF8WithSub_56+72Fj
					; _u_strToUTF8WithSub_56+76Fj ...
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_5C]
		jnb	loc_292B
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_C]
		add	edx, 2
		mov	[ebp+arg_C], edx
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_27EB
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		jmp	loc_2926
; ---------------------------------------------------------------------------

loc_27EB:				; CODE XREF: _u_strToUTF8WithSub_56+9AFj
		cmp	[ebp+var_14], 7FFh
		ja	short loc_2802
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		jmp	loc_2926
; ---------------------------------------------------------------------------

loc_2802:				; CODE XREF: _u_strToUTF8WithSub_56+9C6j
		mov	eax, [ebp+var_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jz	short loc_281F
		mov	eax, [ebp+var_8]
		add	eax, 3
		mov	[ebp+var_8], eax
		jmp	loc_2926
; ---------------------------------------------------------------------------

loc_281F:				; CODE XREF: _u_strToUTF8WithSub_56+9E3j
		mov	eax, [ebp+var_14]
		and	eax, 400h
		jnz	short loc_2862
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_5C]
		jnb	short loc_2862
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_20], ecx
		mov	edx, [ebp+var_20]
		and	edx, 0FFFFFC00h
		cmp	edx, 0DC00h
		jnz	short loc_2862
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		mov	eax, [ebp+var_8]
		add	eax, 4
		mov	[ebp+var_8], eax
		jmp	loc_2926
; ---------------------------------------------------------------------------

loc_2862:				; CODE XREF: _u_strToUTF8WithSub_56+9FBj
					; _u_strToUTF8WithSub_56+A03j ...
		cmp	[ebp+arg_14], 0
		jl	loc_2919
		cmp	[ebp+arg_14], 7Fh ; ''
		ja	short loc_2881
		mov	[ebp+var_13C], 1
		jmp	loc_2902
; ---------------------------------------------------------------------------

loc_2881:				; CODE XREF: _u_strToUTF8WithSub_56+A44j
		cmp	[ebp+arg_14], 7FFh
		ja	short loc_2896
		mov	[ebp+var_140], 2
		jmp	short loc_28F6
; ---------------------------------------------------------------------------

loc_2896:				; CODE XREF: _u_strToUTF8WithSub_56+A5Cj
		cmp	[ebp+arg_14], 0D7FFh
		ja	short loc_28AB
		mov	[ebp+var_144], 3
		jmp	short loc_28EA
; ---------------------------------------------------------------------------

loc_28AB:				; CODE XREF: _u_strToUTF8WithSub_56+A71j
		cmp	[ebp+arg_14], 0DFFFh
		jbe	short loc_28D4
		cmp	[ebp+arg_14], 10FFFFh
		ja	short loc_28D4
		mov	eax, 0FFFFh
		cmp	eax, [ebp+arg_14]
		sbb	ecx, ecx
		neg	ecx
		add	ecx, 3
		mov	[ebp+var_148], ecx
		jmp	short loc_28DE
; ---------------------------------------------------------------------------

loc_28D4:				; CODE XREF: _u_strToUTF8WithSub_56+A86j
					; _u_strToUTF8WithSub_56+A8Fj
		mov	[ebp+var_148], 0

loc_28DE:				; CODE XREF: _u_strToUTF8WithSub_56+AA6j
		mov	edx, [ebp+var_148]
		mov	[ebp+var_144], edx

loc_28EA:				; CODE XREF: _u_strToUTF8WithSub_56+A7Dj
		mov	eax, [ebp+var_144]
		mov	[ebp+var_140], eax

loc_28F6:				; CODE XREF: _u_strToUTF8WithSub_56+A68j
		mov	ecx, [ebp+var_140]
		mov	[ebp+var_13C], ecx

loc_2902:				; CODE XREF: _u_strToUTF8WithSub_56+A50j
		mov	edx, [ebp+var_8]
		add	edx, [ebp+var_13C]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_44]
		add	eax, 1
		mov	[ebp+var_44], eax
		jmp	short loc_2926
; ---------------------------------------------------------------------------

loc_2919:				; CODE XREF: _u_strToUTF8WithSub_56+A3Aj
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	short loc_296E
; ---------------------------------------------------------------------------

loc_2926:				; CODE XREF: _u_strToUTF8WithSub_56+9BAj
					; _u_strToUTF8WithSub_56+9D1j ...
		jmp	loc_27B9
; ---------------------------------------------------------------------------

loc_292B:				; CODE XREF: _u_strToUTF8WithSub_56:loc_22FFj
					; _u_strToUTF8WithSub_56+993j
		mov	eax, [ebp+var_2C]
		sub	eax, [ebp+arg_0]
		add	eax, [ebp+var_8]
		mov	[ebp+var_8], eax
		cmp	[ebp+arg_18], 0
		jz	short loc_2945
		mov	eax, [ebp+arg_18]
		mov	ecx, [ebp+var_44]
		mov	[eax], ecx

loc_2945:				; CODE XREF: _u_strToUTF8WithSub_56+B0Fj
		cmp	[ebp+arg_8], 0
		jz	short loc_2953
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_8]
		mov	[eax], ecx

loc_2953:				; CODE XREF: _u_strToUTF8WithSub_56+B1Dj
		mov	eax, [ebp+arg_1C]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateChars_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]

loc_296E:				; CODE XREF: _u_strToUTF8WithSub_56+7Dj
					; _u_strToUTF8WithSub_56+C9j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 148h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strToUTF8WithSub_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2984h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; unsigned char	* __cdecl _appendUTF8(unsigned char *, int)
?_appendUTF8@@YAPAEPAEH@Z proc near	; CODE XREF: _u_strToUTF8WithSub_56+32Ep
					; _u_strToUTF8WithSub_56+706p ...

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_4], 7Fh ; ''
		jg	short loc_29BE
		mov	eax, [ebp+arg_0]
		mov	cl, byte ptr [ebp+arg_4]
		mov	[eax], cl
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		jmp	loc_2AC1
; ---------------------------------------------------------------------------

loc_29BE:				; CODE XREF: _appendUTF8(uchar *,int)+22j
		cmp	[ebp+arg_4], 7FFh
		jg	short loc_29FE
		mov	eax, [ebp+arg_4]
		sar	eax, 6
		or	eax, 0C0h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		mov	eax, [ebp+arg_4]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		jmp	loc_2AC1
; ---------------------------------------------------------------------------

loc_29FE:				; CODE XREF: _appendUTF8(uchar *,int)+41j
		cmp	[ebp+arg_4], 0FFFFh
		jg	short loc_2A57
		mov	eax, [ebp+arg_4]
		sar	eax, 0Ch
		or	eax, 0E0h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		mov	eax, [ebp+arg_4]
		sar	eax, 6
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		mov	eax, [ebp+arg_4]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		jmp	short loc_2AC1
; ---------------------------------------------------------------------------

loc_2A57:				; CODE XREF: _appendUTF8(uchar *,int)+81j
		mov	eax, [ebp+arg_4]
		sar	eax, 12h
		or	eax, 0F0h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		mov	eax, [ebp+arg_4]
		sar	eax, 0Ch
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		mov	eax, [ebp+arg_4]
		sar	eax, 6
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx
		mov	eax, [ebp+arg_4]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+arg_0]
		mov	[ecx], al
		mov	edx, [ebp+arg_0]
		add	edx, 1
		mov	[ebp+arg_0], edx

loc_2AC1:				; CODE XREF: _appendUTF8(uchar *,int)+35j
					; _appendUTF8(uchar *,int)+75j	...
		mov	eax, [ebp+arg_0]
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
?_appendUTF8@@YAPAEPAEH@Z endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2ACCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strToUTF8_56
_u_strToUTF8_56	proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_14]
		push	eax
		push	0
		push	0FFFFFFFFh
		mov	ecx, [ebp+arg_10]
		push	ecx
		mov	edx, [ebp+arg_C]
		push	edx
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_4]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_u_strToUTF8WithSub_56
		add	esp, 20h
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0C0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strToUTF8_56	endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2B24h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strFromJavaModifiedUTF8WithSub_56
_u_strFromJavaModifiedUTF8WithSub_56 proc near

var_154		= dword	ptr -154h
var_8C		= dword	ptr -8Ch
var_80		= dword	ptr -80h
var_74		= dword	ptr -74h
var_65		= byte ptr -65h
var_59		= byte ptr -59h
var_50		= dword	ptr -50h
var_44		= dword	ptr -44h
Str		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch
arg_18		= dword	ptr  20h
arg_1C		= dword	ptr  24h

		push	ebp
		mov	ebp, esp
		sub	esp, 154h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_154]
		mov	ecx, 55h ; 'U'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		lea	edx, [ecx+eax*2]
		mov	[ebp+var_14], edx
		mov	[ebp+var_2C], 0
		mov	eax, [ebp+arg_C]
		mov	[ebp+Str], eax
		mov	eax, [ebp+arg_1C]
		mov	ecx, [eax]
		push	ecx
		call	?U_FAILURE@@YACW4UErrorCode@@@Z	; U_FAILURE(UErrorCode)
		add	esp, 4
		movsx	edx, al
		test	edx, edx
		jz	short loc_2B7D
		xor	eax, eax
		jmp	loc_324C
; ---------------------------------------------------------------------------

loc_2B7D:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+50j
		cmp	[ebp+arg_C], 0
		jnz	short loc_2B89
		cmp	[ebp+arg_10], 0
		jnz	short loc_2BB9

loc_2B89:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+5Dj
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jl	short loc_2BB9
		cmp	[ebp+arg_0], 0
		jnz	short loc_2B9B
		cmp	[ebp+arg_4], 0
		jnz	short loc_2BB9

loc_2B9B:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+6Fj
		cmp	[ebp+arg_4], 0
		jl	short loc_2BB9
		cmp	[ebp+arg_14], 10FFFFh
		jg	short loc_2BB9
		mov	eax, [ebp+arg_14]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jnz	short loc_2BC9

loc_2BB9:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+63j
					; _u_strFromJavaModifiedUTF8WithSub_56+69j ...
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	loc_324C
; ---------------------------------------------------------------------------

loc_2BC9:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+93j
		cmp	[ebp+arg_18], 0
		jz	short loc_2BD8
		mov	eax, [ebp+arg_18]
		mov	dword ptr [eax], 0

loc_2BD8:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+A9j
		mov	[ebp+var_74], 0
		cmp	[ebp+arg_10], 0
		jge	loc_2C72

loc_2BE9:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+FEj
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 0
		jz	short loc_2C24
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_2C24
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnb	short loc_2C24
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+Str]
		add	eax, 1
		mov	[ebp+Str], eax
		jmp	short loc_2BE9
; ---------------------------------------------------------------------------

loc_2C24:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+D2j
					; _u_strFromJavaModifiedUTF8WithSub_56+D8j ...
		cmp	[ebp+var_20], 0
		jnz	short loc_2C63
		mov	eax, [ebp+var_8]
		sub	eax, [ebp+arg_0]
		sar	eax, 1
		mov	[ebp+var_2C], eax
		cmp	[ebp+arg_8], 0
		jz	short loc_2C43
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_2C]
		mov	[eax], ecx

loc_2C43:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+115j
		mov	eax, [ebp+arg_1C]
		push	eax
		mov	ecx, [ebp+var_2C]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateUChars_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]
		jmp	loc_324C
; ---------------------------------------------------------------------------

loc_2C63:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+104j
		mov	eax, [ebp+Str]
		push	eax		; Str
		call	_strlen
		add	esp, 4
		mov	[ebp+arg_10], eax

loc_2C72:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+BFj
		cmp	[ebp+Str], 0
		jnz	short loc_2C84
		mov	[ebp+var_154], 0
		jmp	short loc_2C90
; ---------------------------------------------------------------------------

loc_2C84:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+152j
		mov	eax, [ebp+Str]
		add	eax, [ebp+arg_10]
		mov	[ebp+var_154], eax

loc_2C90:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+15Ej
		mov	ecx, [ebp+var_154]
		mov	[ebp+var_44], ecx

loc_2C99:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56:loc_2F05j
		mov	eax, [ebp+var_14]
		sub	eax, [ebp+var_8]
		sar	eax, 1
		mov	[ebp+var_50], eax
		mov	eax, [ebp+var_44]
		sub	eax, [ebp+Str]
		mov	[ebp+arg_10], eax
		mov	eax, [ebp+var_50]
		cmp	eax, [ebp+arg_10]
		jl	short loc_2D25
		cmp	[ebp+arg_10], 0
		jle	short loc_2D25
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax]
		cmp	ecx, 7Fh ; ''
		jg	short loc_2D25
		mov	eax, [ebp+Str]
		mov	[ebp+var_80], eax

loc_2CCC:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+1DBj
		mov	eax, [ebp+Str]
		cmp	eax, [ebp+var_44]
		jnb	short loc_2D01
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_2D01
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+Str]
		add	eax, 1
		mov	[ebp+Str], eax
		jmp	short loc_2CCC
; ---------------------------------------------------------------------------

loc_2D01:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+1AEj
					; _u_strFromJavaModifiedUTF8WithSub_56+1BDj
		mov	eax, [ebp+Str]
		sub	eax, [ebp+var_80]
		mov	[ebp+var_8C], eax
		mov	eax, [ebp+var_50]
		sub	eax, [ebp+var_8C]
		mov	[ebp+var_50], eax
		mov	eax, [ebp+arg_10]
		sub	eax, [ebp+var_8C]
		mov	[ebp+arg_10], eax

loc_2D25:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+18Fj
					; _u_strFromJavaModifiedUTF8WithSub_56+195j ...
		mov	eax, [ebp+arg_10]
		cdq
		mov	ecx, 3
		idiv	ecx
		mov	[ebp+arg_10], eax
		mov	eax, [ebp+var_50]
		cmp	eax, [ebp+arg_10]
		jle	short loc_2D41
		mov	eax, [ebp+arg_10]
		mov	[ebp+var_50], eax

loc_2D41:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+215j
		cmp	[ebp+var_50], 3
		jge	short loc_2D4C
		jmp	loc_2F0A
; ---------------------------------------------------------------------------

loc_2D4C:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+221j
					; _u_strFromJavaModifiedUTF8WithSub_56+3DBj
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_2D7C
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+Str]
		add	eax, 1
		mov	[ebp+Str], eax
		jmp	loc_2EF2
; ---------------------------------------------------------------------------

loc_2D7C:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+235j
		cmp	[ebp+var_20], 0E0h ; 'à'
		jl	short loc_2DF4
		cmp	[ebp+var_20], 0EFh ; 'ï'
		jg	short loc_2DF2
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_59], cl
		movzx	edx, [ebp+var_59]
		cmp	edx, 3Fh ; '?'
		jg	short loc_2DF2
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+2]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_65], cl
		movzx	edx, [ebp+var_65]
		cmp	edx, 3Fh ; '?'
		jg	short loc_2DF2
		mov	eax, [ebp+var_20]
		shl	eax, 0Ch
		movzx	ecx, [ebp+var_59]
		shl	ecx, 6
		or	eax, ecx
		movzx	edx, [ebp+var_65]
		or	eax, edx
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+Str]
		add	eax, 3
		mov	[ebp+Str], eax
		jmp	loc_2EF2
; ---------------------------------------------------------------------------

loc_2DF2:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+268j
					; _u_strFromJavaModifiedUTF8WithSub_56+281j ...
		jmp	short loc_2E42
; ---------------------------------------------------------------------------

loc_2DF4:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+25Fj
		cmp	[ebp+var_20], 0C0h ; 'À'
		jl	short loc_2E42
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_59], cl
		movzx	edx, [ebp+var_59]
		cmp	edx, 3Fh ; '?'
		jg	short loc_2E42
		mov	eax, [ebp+var_20]
		and	eax, 1Fh
		shl	eax, 6
		movzx	ecx, [ebp+var_59]
		or	eax, ecx
		mov	edx, [ebp+var_8]
		mov	[edx], ax
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		mov	eax, [ebp+Str]
		add	eax, 2
		mov	[ebp+Str], eax
		jmp	loc_2EF2
; ---------------------------------------------------------------------------

loc_2E42:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56:loc_2DF2j
					; _u_strFromJavaModifiedUTF8WithSub_56+2D7j ...
		cmp	[ebp+arg_14], 0
		jge	short loc_2E5D
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_324C
; ---------------------------------------------------------------------------
		jmp	loc_2EF2
; ---------------------------------------------------------------------------

loc_2E5D:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+322j
		cmp	[ebp+arg_14], 0FFFFh
		jle	short loc_2E78
		mov	eax, [ebp+var_50]
		sub	eax, 1
		mov	[ebp+var_50], eax
		jnz	short loc_2E78
		jmp	loc_2F05
; ---------------------------------------------------------------------------
		jmp	short loc_2EF2
; ---------------------------------------------------------------------------

loc_2E78:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+340j
					; _u_strFromJavaModifiedUTF8WithSub_56+34Bj
		mov	eax, [ebp+Str]
		add	eax, 1
		mov	[ebp+Str], eax
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+var_44]
		push	ecx
		lea	edx, [ebp+Str]
		push	edx
		call	?utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z ;	utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)
		add	esp, 0Ch
		mov	eax, [ebp+var_74]
		add	eax, 1
		mov	[ebp+var_74], eax
		cmp	[ebp+arg_14], 0FFFFh
		jg	short loc_2EBC
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+arg_14]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_2EF2
; ---------------------------------------------------------------------------

loc_2EBC:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+381j
		mov	eax, [ebp+arg_14]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_14]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx

loc_2EF2:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+253j
					; _u_strFromJavaModifiedUTF8WithSub_56+2C9j ...
		mov	eax, [ebp+var_50]
		sub	eax, 1
		mov	[ebp+var_50], eax
		cmp	[ebp+var_50], 0
		jg	loc_2D4C

loc_2F05:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+34Dj
		jmp	loc_2C99
; ---------------------------------------------------------------------------

loc_2F0A:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+223j
					; _u_strFromJavaModifiedUTF8WithSub_56+4AAj ...
		mov	eax, [ebp+Str]
		cmp	eax, [ebp+var_44]
		jnb	loc_30DD
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnb	loc_30DD
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_2F52
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+var_20]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+Str]
		add	eax, 1
		mov	[ebp+Str], eax
		jmp	loc_30D8
; ---------------------------------------------------------------------------

loc_2F52:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+40Bj
		cmp	[ebp+var_20], 0E0h ; 'à'
		jl	short loc_2FD5
		cmp	[ebp+var_20], 0EFh ; 'ï'
		jg	short loc_2FD3
		mov	eax, [ebp+var_44]
		sub	eax, [ebp+Str]
		cmp	eax, 3
		jl	short loc_2FD3
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_59], cl
		movzx	edx, [ebp+var_59]
		cmp	edx, 3Fh ; '?'
		jg	short loc_2FD3
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+2]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_65], cl
		movzx	edx, [ebp+var_65]
		cmp	edx, 3Fh ; '?'
		jg	short loc_2FD3
		mov	eax, [ebp+var_20]
		shl	eax, 0Ch
		movzx	ecx, [ebp+var_59]
		shl	ecx, 6
		or	eax, ecx
		movzx	edx, [ebp+var_65]
		or	eax, edx
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+Str]
		add	eax, 3
		mov	[ebp+Str], eax
		jmp	loc_2F0A
; ---------------------------------------------------------------------------

loc_2FD3:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+43Ej
					; _u_strFromJavaModifiedUTF8WithSub_56+449j ...
		jmp	short loc_302E
; ---------------------------------------------------------------------------

loc_2FD5:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+435j
		cmp	[ebp+var_20], 0C0h ; 'À'
		jl	short loc_302E
		mov	eax, [ebp+var_44]
		sub	eax, [ebp+Str]
		cmp	eax, 2
		jl	short loc_302E
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		mov	[ebp+var_59], cl
		movzx	edx, [ebp+var_59]
		cmp	edx, 3Fh ; '?'
		jg	short loc_302E
		mov	eax, [ebp+var_20]
		and	eax, 1Fh
		shl	eax, 6
		movzx	ecx, [ebp+var_59]
		or	eax, ecx
		mov	edx, [ebp+var_8]
		mov	[edx], ax
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		mov	eax, [ebp+Str]
		add	eax, 2
		mov	[ebp+Str], eax
		jmp	loc_2F0A
; ---------------------------------------------------------------------------

loc_302E:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56:loc_2FD3j
					; _u_strFromJavaModifiedUTF8WithSub_56+4B8j ...
		cmp	[ebp+arg_14], 0
		jge	short loc_3049
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_324C
; ---------------------------------------------------------------------------
		jmp	loc_30D8
; ---------------------------------------------------------------------------

loc_3049:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+50Ej
		mov	eax, [ebp+Str]
		add	eax, 1
		mov	[ebp+Str], eax
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+var_44]
		push	ecx
		lea	edx, [ebp+Str]
		push	edx
		call	?utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z ;	utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)
		add	esp, 0Ch
		mov	eax, [ebp+var_74]
		add	eax, 1
		mov	[ebp+var_74], eax
		cmp	[ebp+arg_14], 0FFFFh
		jg	short loc_308D
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+arg_14]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_30D8
; ---------------------------------------------------------------------------

loc_308D:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+552j
		mov	eax, [ebp+arg_14]
		sar	eax, 0Ah
		add	eax, 0D7C0h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_14]
		jnb	short loc_30CD
		mov	eax, [ebp+arg_14]
		and	eax, 3FFh
		or	eax, 0DC00h
		mov	ecx, [ebp+var_8]
		mov	[ecx], ax
		mov	edx, [ebp+var_8]
		add	edx, 2
		mov	[ebp+var_8], edx
		jmp	short loc_30D8
; ---------------------------------------------------------------------------

loc_30CD:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+589j
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		jmp	short loc_30DD
; ---------------------------------------------------------------------------

loc_30D8:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+429j
					; _u_strFromJavaModifiedUTF8WithSub_56+520j ...
		jmp	loc_2F0A
; ---------------------------------------------------------------------------

loc_30DD:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+3ECj
					; _u_strFromJavaModifiedUTF8WithSub_56+3F8j ...
		mov	eax, [ebp+Str]
		cmp	eax, [ebp+var_44]
		jnb	loc_3207
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_20], ecx
		cmp	[ebp+var_20], 7Fh ; ''
		jg	short loc_310F
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+Str]
		add	eax, 1
		mov	[ebp+Str], eax
		jmp	loc_3202
; ---------------------------------------------------------------------------

loc_310F:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+5D2j
		cmp	[ebp+var_20], 0E0h ; 'à'
		jl	short loc_316F
		cmp	[ebp+var_20], 0EFh ; 'ï'
		jg	short loc_316D
		mov	eax, [ebp+var_44]
		sub	eax, [ebp+Str]
		cmp	eax, 3
		jl	short loc_316D
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_316D
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+2]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_316D
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+Str]
		add	eax, 3
		mov	[ebp+Str], eax
		jmp	loc_30DD
; ---------------------------------------------------------------------------

loc_316D:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+5FBj
					; _u_strFromJavaModifiedUTF8WithSub_56+606j ...
		jmp	short loc_31AF
; ---------------------------------------------------------------------------

loc_316F:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+5F2j
		cmp	[ebp+var_20], 0C0h ; 'À'
		jl	short loc_31AF
		mov	eax, [ebp+var_44]
		sub	eax, [ebp+Str]
		cmp	eax, 2
		jl	short loc_31AF
		mov	eax, [ebp+Str]
		movzx	ecx, byte ptr [eax+1]
		sub	ecx, 80h ; '€'
		movzx	edx, cl
		cmp	edx, 3Fh ; '?'
		jg	short loc_31AF
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+Str]
		add	eax, 2
		mov	[ebp+Str], eax
		jmp	loc_30DD
; ---------------------------------------------------------------------------

loc_31AF:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56:loc_316Dj
					; _u_strFromJavaModifiedUTF8WithSub_56+652j ...
		cmp	[ebp+arg_14], 0
		jge	short loc_31C7
		mov	eax, [ebp+arg_1C]
		mov	dword ptr [eax], 0Ah
		xor	eax, eax
		jmp	loc_324C
; ---------------------------------------------------------------------------
		jmp	short loc_3202
; ---------------------------------------------------------------------------

loc_31C7:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+68Fj
		mov	eax, [ebp+Str]
		add	eax, 1
		mov	[ebp+Str], eax
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+var_44]
		push	ecx
		lea	edx, [ebp+Str]
		push	edx
		call	?utf8_nextCharSafeBodyPointer@@YAHPAPBEPBEH@Z ;	utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)
		add	esp, 0Ch
		mov	eax, [ebp+var_74]
		add	eax, 1
		mov	[ebp+var_74], eax
		mov	eax, 0FFFFh
		cmp	eax, [ebp+var_20]
		sbb	ecx, ecx
		neg	ecx
		add	ecx, 1
		add	ecx, [ebp+var_2C]
		mov	[ebp+var_2C], ecx

loc_3202:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+5E6j
					; _u_strFromJavaModifiedUTF8WithSub_56+6A1j
		jmp	loc_30DD
; ---------------------------------------------------------------------------

loc_3207:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+5BFj
		cmp	[ebp+arg_18], 0
		jz	short loc_3215
		mov	eax, [ebp+arg_18]
		mov	ecx, [ebp+var_74]
		mov	[eax], ecx

loc_3215:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+6E7j
		mov	eax, [ebp+var_8]
		sub	eax, [ebp+arg_0]
		sar	eax, 1
		add	eax, [ebp+var_2C]
		mov	[ebp+var_2C], eax
		cmp	[ebp+arg_8], 0
		jz	short loc_3231
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_2C]
		mov	[eax], ecx

loc_3231:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+703j
		mov	eax, [ebp+arg_1C]
		push	eax
		mov	ecx, [ebp+var_2C]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateUChars_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]

loc_324C:				; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+54j
					; _u_strFromJavaModifiedUTF8WithSub_56+A0j ...
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN70
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 154h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strFromJavaModifiedUTF8WithSub_56 endp

; ---------------------------------------------------------------------------
		align 4
$LN70		dd 1			; DATA XREF: _u_strFromJavaModifiedUTF8WithSub_56+72Co
		dd offset $LN69
$LN69		dd 0FFFFFFC8h, 4	; DATA XREF: .text:00003278o
		dd offset $LN68		; "pSrc"
$LN68		db 'pSrc',0             ; DATA XREF: .text:00003284o
		align 10h
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3290h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _u_strToJavaModifiedUTF8_56
_u_strToJavaModifiedUTF8_56 proc near

var_124		= dword	ptr -124h
var_5C		= dword	ptr -5Ch
var_50		= dword	ptr -50h
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 124h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_124]
		mov	ecx, 49h ; 'I'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0
		mov	[ebp+var_14], 0
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_20]
		add	eax, [ebp+arg_4]
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+arg_14]
		mov	ecx, [eax]
		push	ecx
		call	?U_FAILURE@@YACW4UErrorCode@@@Z	; U_FAILURE(UErrorCode)
		add	esp, 4
		movsx	edx, al
		test	edx, edx
		jz	short loc_32E7
		xor	eax, eax
		jmp	loc_36F2
; ---------------------------------------------------------------------------

loc_32E7:				; CODE XREF: _u_strToJavaModifiedUTF8_56+4Ej
		cmp	[ebp+arg_C], 0
		jnz	short loc_32F3
		cmp	[ebp+arg_10], 0
		jnz	short loc_330B

loc_32F3:				; CODE XREF: _u_strToJavaModifiedUTF8_56+5Bj
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jl	short loc_330B
		cmp	[ebp+arg_0], 0
		jnz	short loc_3305
		cmp	[ebp+arg_4], 0
		jnz	short loc_330B

loc_3305:				; CODE XREF: _u_strToJavaModifiedUTF8_56+6Dj
		cmp	[ebp+arg_4], 0
		jge	short loc_331B

loc_330B:				; CODE XREF: _u_strToJavaModifiedUTF8_56+61j
					; _u_strToJavaModifiedUTF8_56+67j ...
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	loc_36F2
; ---------------------------------------------------------------------------

loc_331B:				; CODE XREF: _u_strToJavaModifiedUTF8_56+79j
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jnz	loc_33AA

loc_3325:				; CODE XREF: _u_strToJavaModifiedUTF8_56+CCj
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_335E
		cmp	[ebp+var_14], 0
		jz	short loc_335E
		mov	eax, [ebp+var_20]
		cmp	eax, [ebp+var_2C]
		jnb	short loc_335E
		mov	eax, [ebp+var_20]
		mov	cl, byte ptr [ebp+var_14]
		mov	[eax], cl
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		jmp	short loc_3325
; ---------------------------------------------------------------------------

loc_335E:				; CODE XREF: _u_strToJavaModifiedUTF8_56+A2j
					; _u_strToJavaModifiedUTF8_56+A8j ...
		cmp	[ebp+var_14], 0
		jnz	short loc_339B
		mov	eax, [ebp+var_20]
		sub	eax, [ebp+arg_0]
		mov	[ebp+var_8], eax
		cmp	[ebp+arg_8], 0
		jz	short loc_337B
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_8]
		mov	[eax], ecx

loc_337B:				; CODE XREF: _u_strToJavaModifiedUTF8_56+E1j
		mov	eax, [ebp+arg_14]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateChars_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]
		jmp	loc_36F2
; ---------------------------------------------------------------------------

loc_339B:				; CODE XREF: _u_strToJavaModifiedUTF8_56+D2j
		mov	eax, [ebp+arg_C]
		push	eax
		call	_u_strlen_56
		add	esp, 4
		mov	[ebp+arg_10], eax

loc_33AA:				; CODE XREF: _u_strToJavaModifiedUTF8_56+8Fj
		cmp	[ebp+arg_C], 0
		jz	short loc_33C1
		mov	eax, [ebp+arg_10]
		mov	ecx, [ebp+arg_C]
		lea	edx, [ecx+eax*2]
		mov	[ebp+var_124], edx
		jmp	short loc_33CB
; ---------------------------------------------------------------------------

loc_33C1:				; CODE XREF: _u_strToJavaModifiedUTF8_56+11Ej
		mov	[ebp+var_124], 0

loc_33CB:				; CODE XREF: _u_strToJavaModifiedUTF8_56+12Fj
		mov	eax, [ebp+var_124]
		mov	[ebp+var_38], eax

loc_33D4:				; CODE XREF: _u_strToJavaModifiedUTF8_56+2C6j
		mov	eax, [ebp+var_2C]
		sub	eax, [ebp+var_20]
		mov	[ebp+var_44], eax
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+arg_C]
		sar	eax, 1
		mov	[ebp+arg_10], eax
		mov	eax, [ebp+var_44]
		cmp	eax, [ebp+arg_10]
		jl	short loc_345D
		cmp	[ebp+arg_10], 0
		jle	short loc_345D
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		cmp	ecx, 7Fh ; ''
		jg	short loc_345D
		mov	eax, [ebp+arg_C]
		mov	[ebp+var_50], eax

loc_3407:				; CODE XREF: _u_strToJavaModifiedUTF8_56+1AEj
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_38]
		jnb	short loc_3440
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_3440
		cmp	[ebp+var_14], 0
		jz	short loc_3440
		mov	eax, [ebp+var_20]
		mov	cl, byte ptr [ebp+var_14]
		mov	[eax], cl
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		mov	eax, [ebp+arg_C]
		add	eax, 2
		mov	[ebp+arg_C], eax
		jmp	short loc_3407
; ---------------------------------------------------------------------------

loc_3440:				; CODE XREF: _u_strToJavaModifiedUTF8_56+17Dj
					; _u_strToJavaModifiedUTF8_56+18Cj ...
		mov	eax, [ebp+arg_C]
		sub	eax, [ebp+var_50]
		sar	eax, 1
		mov	[ebp+var_5C], eax
		mov	eax, [ebp+var_44]
		sub	eax, [ebp+var_5C]
		mov	[ebp+var_44], eax
		mov	eax, [ebp+arg_10]
		sub	eax, [ebp+var_5C]
		mov	[ebp+arg_10], eax

loc_345D:				; CODE XREF: _u_strToJavaModifiedUTF8_56+15Ej
					; _u_strToJavaModifiedUTF8_56+164j ...
		mov	eax, [ebp+var_44]
		cdq
		mov	ecx, 3
		idiv	ecx
		mov	[ebp+var_44], eax
		mov	eax, [ebp+var_44]
		cmp	eax, [ebp+arg_10]
		jle	short loc_3479
		mov	eax, [ebp+arg_10]
		mov	[ebp+var_44], eax

loc_3479:				; CODE XREF: _u_strToJavaModifiedUTF8_56+1E1j
		cmp	[ebp+var_44], 3
		jge	short loc_3484
		jmp	loc_355B
; ---------------------------------------------------------------------------

loc_3484:				; CODE XREF: _u_strToJavaModifiedUTF8_56+1EDj
					; _u_strToJavaModifiedUTF8_56+2C0j
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_C]
		add	edx, 2
		mov	[ebp+arg_C], edx
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_34B8
		cmp	[ebp+var_14], 0
		jz	short loc_34B8
		mov	eax, [ebp+var_20]
		mov	cl, byte ptr [ebp+var_14]
		mov	[eax], cl
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		jmp	loc_3543
; ---------------------------------------------------------------------------

loc_34B8:				; CODE XREF: _u_strToJavaModifiedUTF8_56+20Aj
					; _u_strToJavaModifiedUTF8_56+210j
		cmp	[ebp+var_14], 7FFh
		ja	short loc_34F5
		mov	eax, [ebp+var_14]
		shr	eax, 6
		or	eax, 0C0h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		jmp	short loc_3543
; ---------------------------------------------------------------------------

loc_34F5:				; CODE XREF: _u_strToJavaModifiedUTF8_56+22Fj
		mov	eax, [ebp+var_14]
		shr	eax, 0Ch
		or	eax, 0E0h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		mov	eax, [ebp+var_14]
		shr	eax, 6
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx

loc_3543:				; CODE XREF: _u_strToJavaModifiedUTF8_56+223j
					; _u_strToJavaModifiedUTF8_56+263j
		mov	eax, [ebp+var_44]
		sub	eax, 1
		mov	[ebp+var_44], eax
		cmp	[ebp+var_44], 0
		jg	loc_3484
		jmp	loc_33D4
; ---------------------------------------------------------------------------

loc_355B:				; CODE XREF: _u_strToJavaModifiedUTF8_56+1EFj
					; _u_strToJavaModifiedUTF8_56:loc_3668j
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_38]
		jnb	loc_366D
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_C]
		add	edx, 2
		mov	[ebp+arg_C], edx
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_35B1
		cmp	[ebp+var_14], 0
		jz	short loc_35B1
		mov	eax, [ebp+var_20]
		cmp	eax, [ebp+var_2C]
		jnb	short loc_35A0
		mov	eax, [ebp+var_20]
		mov	cl, byte ptr [ebp+var_14]
		mov	[eax], cl
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		jmp	short loc_35AC
; ---------------------------------------------------------------------------

loc_35A0:				; CODE XREF: _u_strToJavaModifiedUTF8_56+2FBj
		mov	[ebp+var_8], 1
		jmp	loc_366D
; ---------------------------------------------------------------------------

loc_35AC:				; CODE XREF: _u_strToJavaModifiedUTF8_56+30Ej
		jmp	loc_3668
; ---------------------------------------------------------------------------

loc_35B1:				; CODE XREF: _u_strToJavaModifiedUTF8_56+2EDj
					; _u_strToJavaModifiedUTF8_56+2F3j
		cmp	[ebp+var_14], 7FFh
		ja	short loc_3604
		mov	eax, [ebp+var_2C]
		sub	eax, [ebp+var_20]
		cmp	eax, 2
		jl	short loc_35F9
		mov	eax, [ebp+var_14]
		shr	eax, 6
		or	eax, 0C0h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		jmp	short loc_3602
; ---------------------------------------------------------------------------

loc_35F9:				; CODE XREF: _u_strToJavaModifiedUTF8_56+333j
		mov	[ebp+var_8], 2
		jmp	short loc_366D
; ---------------------------------------------------------------------------

loc_3602:				; CODE XREF: _u_strToJavaModifiedUTF8_56+367j
		jmp	short loc_3668
; ---------------------------------------------------------------------------

loc_3604:				; CODE XREF: _u_strToJavaModifiedUTF8_56+328j
		mov	eax, [ebp+var_2C]
		sub	eax, [ebp+var_20]
		cmp	eax, 3
		jl	short loc_365F
		mov	eax, [ebp+var_14]
		shr	eax, 0Ch
		or	eax, 0E0h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		mov	eax, [ebp+var_14]
		shr	eax, 6
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		mov	eax, [ebp+var_14]
		and	eax, 3Fh
		or	eax, 80h
		mov	ecx, [ebp+var_20]
		mov	[ecx], al
		mov	edx, [ebp+var_20]
		add	edx, 1
		mov	[ebp+var_20], edx
		jmp	short loc_3668
; ---------------------------------------------------------------------------

loc_365F:				; CODE XREF: _u_strToJavaModifiedUTF8_56+37Dj
		mov	[ebp+var_8], 3
		jmp	short loc_366D
; ---------------------------------------------------------------------------

loc_3668:				; CODE XREF: _u_strToJavaModifiedUTF8_56:loc_35ACj
					; _u_strToJavaModifiedUTF8_56:loc_3602j ...
		jmp	loc_355B
; ---------------------------------------------------------------------------

loc_366D:				; CODE XREF: _u_strToJavaModifiedUTF8_56+2D1j
					; _u_strToJavaModifiedUTF8_56+317j ...
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_38]
		jnb	short loc_36BD
		mov	eax, [ebp+arg_C]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_C]
		add	edx, 2
		mov	[ebp+arg_C], edx
		cmp	[ebp+var_14], 7Fh ; ''
		ja	short loc_369E
		cmp	[ebp+var_14], 0
		jz	short loc_369E
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		jmp	short loc_36BB
; ---------------------------------------------------------------------------

loc_369E:				; CODE XREF: _u_strToJavaModifiedUTF8_56+3FBj
					; _u_strToJavaModifiedUTF8_56+401j
		cmp	[ebp+var_14], 7FFh
		ja	short loc_36B2
		mov	eax, [ebp+var_8]
		add	eax, 2
		mov	[ebp+var_8], eax
		jmp	short loc_36BB
; ---------------------------------------------------------------------------

loc_36B2:				; CODE XREF: _u_strToJavaModifiedUTF8_56+415j
		mov	eax, [ebp+var_8]
		add	eax, 3
		mov	[ebp+var_8], eax

loc_36BB:				; CODE XREF: _u_strToJavaModifiedUTF8_56+40Cj
					; _u_strToJavaModifiedUTF8_56+420j
		jmp	short loc_366D
; ---------------------------------------------------------------------------

loc_36BD:				; CODE XREF: _u_strToJavaModifiedUTF8_56+3E3j
		mov	eax, [ebp+var_20]
		sub	eax, [ebp+arg_0]
		add	eax, [ebp+var_8]
		mov	[ebp+var_8], eax
		cmp	[ebp+arg_8], 0
		jz	short loc_36D7
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_8]
		mov	[eax], ecx

loc_36D7:				; CODE XREF: _u_strToJavaModifiedUTF8_56+43Dj
		mov	eax, [ebp+arg_14]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_terminateChars_56
		add	esp, 10h
		mov	eax, [ebp+arg_0]

loc_36F2:				; CODE XREF: _u_strToJavaModifiedUTF8_56+52j
					; _u_strToJavaModifiedUTF8_56+86j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 124h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_u_strToJavaModifiedUTF8_56 endp

_text		ends

; ===========================================================================

; Segment type:	Externs
; UNDEF
		extrn __RTC_Shutdown:near ; DATA XREF: .rtc$TMZ:__RTC_Shutdown_rtc$TMZo
		extrn __RTC_InitBase:near ; DATA XREF: .rtc$IMZ:__RTC_InitBase_rtc$IMZo
		extrn _u_terminateUChars_56:near ; CODE	XREF: _u_strFromUTF32WithSub_56+2BEp
					; _u_strFromUTF8WithSub_56+934p ...
		extrn __RTC_CheckEsp:near ; CODE XREF: _u_strFromUTF32WithSub_56+2D4p
					; _u_strFromUTF32_56+4Dp ...
		extrn _u_terminateUChar32s_56:near ; CODE XREF:	_u_strToUTF32WithSub_56+277p
; __fastcall _RTC_CheckStackVars(x, x)
		extrn @_RTC_CheckStackVars@8:near ; CODE XREF: _u_strFromUTF8WithSub_56+949p
					; _u_strFromJavaModifiedUTF8WithSub_56+732p
; void __cdecl __wassert(const wchar_t *Message, const wchar_t *File, unsigned int Line)
		extrn __imp___wassert:near
					; CODE XREF: utf8_nextCharSafeBodyTerminated(uchar const * *,int)+CFp
					; utf8_nextCharSafeBodyPointer(uchar const * *,uchar const *,int)+200p
					; DATA XREF: ...
		extrn _u_terminateChars_56:near	; CODE XREF: _u_strToUTF8WithSub_56+B37p
					; _u_strToJavaModifiedUTF8_56+FBp ...
; size_t __cdecl strlen(const char *Str)
		extrn _strlen:near	; CODE XREF: _u_strFromJavaModifiedUTF8WithSub_56+143p
		extrn _u_strlen_56:near	; CODE XREF: _u_strToJavaModifiedUTF8_56+10Fp


		end
