;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	2D854B38BDA765E1C24F8254AD488943
; Input	CRC32 :	F1677A74

; File Name   :	D:\compspace\objfiles\firefox\common\ubidi.obj
; Format      :	COFF (X386MAGIC)
; includelib "msvcprtd"
; includelib "MSVCRTD"
; includelib "OLDNAMES"

		include	uni.inc	; see unicode subdir of	ida for	info on	unicode

		.686p
		.mmx
		.model flat

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
; Segment alignment 'qword' can not be represented in assembly
_rdata		segment	para public 'DATA' use32
		assume cs:_rdata
_flagLR		dd 1			; DATA XREF: _ubidi_setPara_56+176r
					; _getDirProps+728r ...
		dd 2
_flagE		dd 800h			; DATA XREF: _resolveExplicitLevels+A47r
					; _checkExplicitLevels+122r
		dd offset loc_3FFE+2
_flagO		dd 1000h		; DATA XREF: _resolveExplicitLevels+A2Er
					; _checkExplicitLevels+104r
		dd 8000h
_groupProp	db 0			; DATA XREF: _resolveImplicitLevels+3F1r
		db 1, 2, 7
		dd 6090308h, 0A040405h,	0A0A0C0Ah, 40A0B0Ah, 0D040404h
dword_30	dd 0Eh,	0		; DATA XREF: .rdata:`string'o
_impTabProps	db 1			; DATA XREF: _resolveImplicitLevels+413r
		db 2, 4, 5
		dd 7110F07h, 7000709h
		db 3, 12h, 15h
byte_47		db 4			; DATA XREF: _resolveImplicitLevels+474r
		dd 25242201h, 27312F27h, 1012729h, 353223h, 25240221h
		dd 27312F27h, 2022729h,	1353223h, 26262221h, 28313028h
		dd 3032828h, 1353203h, 25042221h, 4A312F27h, 4044A0Bh
		dd 2151223h, 5242221h, 27312F27h, 5054C29h, 3353223h, 6062221h
		dd 28313028h, 6064D28h,	3151223h, 25242221h, 7312F07h
		dd 707074Eh, 4353223h, 26262221h, 8313008h, 8080808h, 4353223h
		dd 25042221h, 7312F07h,	9090709h, 4151223h, 65046261h
		dd 87716F87h, 870A878Eh, 2151263h, 25042221h, 27312F27h
		dd 0B0B270Bh, 2151223h,	5646261h, 87716F87h
dword_100	dd 870C878Eh, 3757263h,	6066261h, 88717088h, 880D8888h
					; DATA XREF: .rdata:_impTabL_INVERSE_NUMBERS_AS_Lo
					; .rdata:000002D8o
		dd 3151263h, 25842221h,	7312F07h, 0E0E070Eh, 4959223h
		dd 25242221h, 27310F27h, 270F2729h, 5353223h, 26262221h
		dd 28311028h, 28102828h, 5353223h, 25242221h, 27112F27h
		dd 27112729h, 6353223h,	25122221h, 53312F27h, 12125314h
		dd 151223h, 65126261h, 87716F87h, 8713878Eh, 151263h, 25122221h
		dd 27312F27h, 14142714h, 151223h, 25152221h, 56312F27h
		dd 15155617h, 3151223h,	65156261h, 87716F87h, 8716878Eh
		dd 3151263h, 25152221h,	27312F27h, 17172717h, 3151223h
_impTabL_DEFAULT dd 2000100h, 0		; DATA XREF: .rdata:_impTab_DEFAULTo
					; .rdata:_impTab_INVERSE_LIKE_DIRECTo
		dd 3030100h, 1001414h, 2000100h, 2001515h, 3030100h, 2001414h
		dd 33332100h, 404h, 32002100h, 505h
_impTabR_DEFAULT dd 2020001h, 0		; DATA XREF: .rdata:00000224o
					; .rdata:0000025Co
		dd 3010001h, 1001414h, 2020001h, 1000000h, 3010001h, 1000505h
		dd 3210021h, 404h, 3010001h, 505h
_impAct0	dd 3020100h, 4		; DATA XREF: .rdata:00000228o
					; .rdata:0000022Co ...
_impTab_DEFAULT	dd offset _impTabL_DEFAULT ; DATA XREF:	_ubidi_setPara_56+40Co
		dd offset _impTabR_DEFAULT
		dd offset _impAct0
		dd offset _impAct0
_impTabL_NUMBERS_SPECIAL dd 11110200h, 0 ; DATA	XREF: .rdata:_impTab_NUMBERS_SPECIALo
					; .rdata:_impTab_INVERSE_FOR_NUMBERS_SPECIALo
		dd 1014200h, 0
		dd 4040200h, 1001313h, 34342200h, 303h,	4040200h, 2001313h
_impTab_NUMBERS_SPECIAL	dd offset _impTabL_NUMBERS_SPECIAL
					; DATA XREF: _ubidi_setPara_56+41Bo
		dd offset _impTabR_DEFAULT
		dd offset _impAct0
		dd offset _impAct0
_impTabL_GROUP_NUMBERS_WITH_R dd 11110300h, 0
					; DATA XREF: .rdata:_impTab_GROUP_NUMBERS_WITH_Ro
		dd 1010320h, 2202002h, 1010320h, 1202002h, 5050300h, 1000014h
		dd 5050320h, 1202004h, 5050300h, 2000014h
_impTabR_GROUP_NUMBERS_WITH_R dd 1010002h, 0 ; DATA XREF: .rdata:000002C4o
		dd 1010002h, 1000000h, 14140002h, 1000013h, 4040022h, 3
		dd 4040022h, 1000003h
_impTab_GROUP_NUMBERS_WITH_R dd	offset _impTabL_GROUP_NUMBERS_WITH_R
					; DATA XREF: _ubidi_setPara_56+42Ao
		dd offset _impTabR_GROUP_NUMBERS_WITH_R
		dd offset _impAct0
		dd offset _impAct0
_impTabL_INVERSE_NUMBERS_AS_L dd offset	dword_100
					; DATA XREF: .rdata:_impTab_INVERSE_NUMBERS_AS_Lo
		dd 0
		dd offset dword_100
		dd 1001414h, 100h, 2001515h, 100h, 2001414h, 20200120h
		dd 1200404h, 20200120h,	1200505h
_impTabR_INVERSE_NUMBERS_AS_L dd 1010001h, 0 ; DATA XREF: .rdata:00000334o
		dd 1010001h, 1001414h, 1010001h, 1000000h, 1010001h, 1000505h
		dd 21210021h, 404h, 1010001h, 505h
_impTab_INVERSE_NUMBERS_AS_L dd	offset _impTabL_INVERSE_NUMBERS_AS_L
					; DATA XREF: _ubidi_setPara_56+436o
		dd offset _impTabR_INVERSE_NUMBERS_AS_L
		dd offset _impAct0
		dd offset _impAct0
_impTabR_INVERSE_LIKE_DIRECT dd	2020001h, 0 ; DATA XREF: .rdata:00000380o
					; .rdata:00000420o
		dd 2010001h, 1001313h, 2020001h, 1000000h, 4063021h, 300303h
		dd 4063021h, 3300505h, 4063021h, 2300505h, 4063021h, 1300303h
_impAct1	dd 0E0D0100h		; DATA XREF: .rdata:00000388o
					; .rdata:00000428o
_impTab_INVERSE_LIKE_DIRECT dd offset _impTabL_DEFAULT ; DATA XREF: _ubidi_setPara_56+459o
		dd offset _impTabR_INVERSE_LIKE_DIRECT
		dd offset _impAct0
		dd offset _impAct1
_impTabL_INVERSE_LIKE_DIRECT_WITH_MARKS	dd 1006300h, 0
					; DATA XREF: .rdata:_impTab_INVERSE_LIKE_DIRECT_WITH_MARKSo
		dd 1006300h, 4003012h, 1206320h, 3203002h, 56556300h, 3003014h
		dd 56554330h, 3303004h,	56054330h, 4303014h, 6554330h
		dd 4303014h
_impTabR_INVERSE_LIKE_DIRECT_WITH_MARKS	dd 1010013h, 0 ; DATA XREF: .rdata:00000410o
					; .rdata:00000458o
		dd 1010023h, 1004002h, 1010023h, 4002h,	36030003h, 1004014h
		dd 36054053h, 404004h, 36054053h, 1404004h, 6064053h, 3404004h
_impAct2	dd 5020100h, 80706h	; DATA XREF: .rdata:00000414o
					; .rdata:0000045Co
_impAct3	dd 0A090100h, 0C0Bh	; DATA XREF: .rdata:00000418o
					; .rdata:00000460o
_impTab_INVERSE_LIKE_DIRECT_WITH_MARKS dd offset _impTabL_INVERSE_LIKE_DIRECT_WITH_MARKS
					; DATA XREF: _ubidi_setPara_56+44Do
		dd offset _impTabR_INVERSE_LIKE_DIRECT_WITH_MARKS
		dd offset _impAct2
		dd offset _impAct3
_impTab_INVERSE_FOR_NUMBERS_SPECIAL dd offset _impTabL_NUMBERS_SPECIAL
					; DATA XREF: _ubidi_setPara_56+47Co
		dd offset _impTabR_INVERSE_LIKE_DIRECT
		dd offset _impAct0
		dd offset _impAct1
_impTabL_INVERSE_FOR_NUMBERS_SPECIAL_WITH_MARKS	dd 1016200h, 0
					; DATA XREF: .rdata:_impTab_INVERSE_FOR_NUMBERS_SPECIAL_WITH_MARKSo
		dd 1016200h, 4003000h, 54546200h, 3003013h, 54544230h
		dd 3303003h, 4044230h, 4303013h
_impTab_INVERSE_FOR_NUMBERS_SPECIAL_WITH_MARKS dd offset _impTabL_INVERSE_FOR_NUMBERS_SPECIAL_WITH_MARKS
					; DATA XREF: _ubidi_setPara_56+470o
		dd offset _impTabR_INVERSE_LIKE_DIRECT_WITH_MARKS
		dd offset _impAct2
		dd offset _impAct3
_rdata		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 464h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_open_56
_ubidi_open_56	proc near

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0
		lea	eax, [ebp+var_8]
		push	eax
		push	0
		push	0
		call	_ubidi_openSized_56
		add	esp, 0Ch
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN5
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0CCh
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_open_56	endp

; ---------------------------------------------------------------------------
		align 10h
$LN5		dd 1			; DATA XREF: _ubidi_open_56+39o
		dd offset $LN4
$LN4		dd 0FFFFFFF8h, 4	; DATA XREF: .text:000004C4o
		dd offset $LN3		; "errorCode"
$LN3		db 'errorCode',0        ; DATA XREF: .text:000004D0o
		align 10h
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$TMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$TMZ
		;org 4E0h
__RTC_Shutdown_rtc$TMZ dd offset __RTC_Shutdown
_rtc$TMZ	ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$IMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$IMZ
		;org 4E4h
__RTC_InitBase_rtc$IMZ dd offset __RTC_InitBase
_rtc$IMZ	ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 4E8h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_openSized_56
_ubidi_openSized_56 proc near		; CODE XREF: _ubidi_open_56+2Dp

var_CC		= byte ptr -0CCh
Dst		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_8], 0
		jz	short loc_514
		mov	eax, [ebp+arg_8]
		cmp	dword ptr [eax], 0
		jle	short loc_51D

loc_514:				; CODE XREF: _ubidi_openSized_56+22j
		xor	eax, eax
		jmp	loc_648
; ---------------------------------------------------------------------------
		jmp	short loc_539
; ---------------------------------------------------------------------------

loc_51D:				; CODE XREF: _ubidi_openSized_56+2Aj
		cmp	[ebp+arg_0], 0
		jl	short loc_529
		cmp	[ebp+arg_4], 0
		jge	short loc_539

loc_529:				; CODE XREF: _ubidi_openSized_56+39j
		mov	eax, [ebp+arg_8]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	loc_648
; ---------------------------------------------------------------------------

loc_539:				; CODE XREF: _ubidi_openSized_56+33j
					; _ubidi_openSized_56+3Fj
		push	16Ch
		call	_uprv_malloc_56
		add	esp, 4
		mov	[ebp+Dst], eax
		cmp	[ebp+Dst], 0
		jnz	short loc_55F
		mov	eax, [ebp+arg_8]
		mov	dword ptr [eax], 7
		xor	eax, eax
		jmp	loc_648
; ---------------------------------------------------------------------------

loc_55F:				; CODE XREF: _ubidi_openSized_56+65j
		push	16Ch		; Size
		push	0		; Val
		mov	eax, [ebp+Dst]
		push	eax		; Dst
		call	_memset
		add	esp, 0Ch
		call	_ubidi_getSingleton_56
		mov	ecx, [ebp+Dst]
		mov	[ecx+4], eax
		cmp	[ebp+arg_0], 0
		jle	short loc_5D4
		mov	eax, [ebp+arg_0]
		push	eax
		push	1
		mov	ecx, [ebp+Dst]
		add	ecx, 18h
		push	ecx
		mov	edx, [ebp+Dst]
		add	edx, 30h ; '0'
		push	edx
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	eax, al
		test	eax, eax
		jz	short loc_5C9
		mov	eax, [ebp+arg_0]
		push	eax
		push	1
		mov	ecx, [ebp+Dst]
		add	ecx, 1Ch
		push	ecx
		mov	edx, [ebp+Dst]
		add	edx, 34h ; '4'
		push	edx
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	eax, al
		test	eax, eax
		jnz	short loc_5D2

loc_5C9:				; CODE XREF: _ubidi_openSized_56+BCj
		mov	eax, [ebp+arg_8]
		mov	dword ptr [eax], 7

loc_5D2:				; CODE XREF: _ubidi_openSized_56+DFj
		jmp	short loc_5DB
; ---------------------------------------------------------------------------

loc_5D4:				; CODE XREF: _ubidi_openSized_56+99j
		mov	eax, [ebp+Dst]
		mov	byte ptr [eax+48h], 1

loc_5DB:				; CODE XREF: _ubidi_openSized_56:loc_5D2j
		cmp	[ebp+arg_4], 0
		jle	short loc_624
		cmp	[ebp+arg_4], 1
		jnz	short loc_5F3
		mov	eax, [ebp+Dst]
		mov	dword ptr [eax+28h], 0Ch
		jmp	short loc_622
; ---------------------------------------------------------------------------

loc_5F3:				; CODE XREF: _ubidi_openSized_56+FDj
		mov	eax, [ebp+arg_4]
		imul	eax, 0Ch
		push	eax
		push	1
		mov	ecx, [ebp+Dst]
		add	ecx, 28h ; '('
		push	ecx
		mov	edx, [ebp+Dst]
		add	edx, 40h ; '@'
		push	edx
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	eax, al
		test	eax, eax
		jnz	short loc_622
		mov	eax, [ebp+arg_8]
		mov	dword ptr [eax], 7

loc_622:				; CODE XREF: _ubidi_openSized_56+109j
					; _ubidi_openSized_56+12Fj
		jmp	short loc_62B
; ---------------------------------------------------------------------------

loc_624:				; CODE XREF: _ubidi_openSized_56+F7j
		mov	eax, [ebp+Dst]
		mov	byte ptr [eax+49h], 1

loc_62B:				; CODE XREF: _ubidi_openSized_56:loc_622j
		mov	eax, [ebp+arg_8]
		cmp	dword ptr [eax], 0
		jg	short loc_63A
		mov	eax, [ebp+Dst]
		jmp	short loc_648
; ---------------------------------------------------------------------------
		jmp	short loc_648
; ---------------------------------------------------------------------------

loc_63A:				; CODE XREF: _ubidi_openSized_56+149j
		mov	eax, [ebp+Dst]
		push	eax
		call	_ubidi_close_56
		add	esp, 4
		xor	eax, eax

loc_648:				; CODE XREF: _ubidi_openSized_56+2Ej
					; _ubidi_openSized_56+4Cj ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0CCh
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_openSized_56 endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 65Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getMemory_56
_ubidi_getMemory_56 proc near		; CODE XREF: _ubidi_openSized_56+AFp
					; _ubidi_openSized_56+D2p ...

var_D8		= byte ptr -0D8h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= byte ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		sub	esp, 0D8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_D8]
		mov	ecx, 36h ; '6'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_8]
		cmp	dword ptr [eax], 0
		jnz	short loc_6BD
		movsx	eax, [ebp+arg_8]
		test	eax, eax
		jz	short loc_6B7
		mov	eax, [ebp+arg_C]
		push	eax
		call	_uprv_malloc_56
		add	esp, 4
		mov	ecx, [ebp+var_8]
		mov	[ecx], eax
		mov	edx, [ebp+var_8]
		cmp	dword ptr [edx], 0
		jz	short loc_6B7
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_C]
		mov	[eax], ecx
		mov	al, 1
		jmp	short loc_70E
; ---------------------------------------------------------------------------
		jmp	short loc_6BB
; ---------------------------------------------------------------------------

loc_6B7:				; CODE XREF: _ubidi_getMemory_56+32j
					; _ubidi_getMemory_56+4Bj
		xor	al, al
		jmp	short loc_70E
; ---------------------------------------------------------------------------

loc_6BB:				; CODE XREF: _ubidi_getMemory_56+59j
		jmp	short loc_70E
; ---------------------------------------------------------------------------

loc_6BD:				; CODE XREF: _ubidi_getMemory_56+2Aj
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_C]
		cmp	ecx, [eax]
		jg	short loc_6CD
		mov	al, 1
		jmp	short loc_70E
; ---------------------------------------------------------------------------
		jmp	short loc_70E
; ---------------------------------------------------------------------------

loc_6CD:				; CODE XREF: _ubidi_getMemory_56+69j
		movsx	eax, [ebp+arg_8]
		test	eax, eax
		jnz	short loc_6DB
		xor	al, al
		jmp	short loc_70E
; ---------------------------------------------------------------------------
		jmp	short loc_70E
; ---------------------------------------------------------------------------

loc_6DB:				; CODE XREF: _ubidi_getMemory_56+77j
		mov	eax, [ebp+arg_C]
		push	eax
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx]
		push	edx
		call	_uprv_realloc_56
		add	esp, 8
		mov	[ebp+var_14], eax
		cmp	[ebp+var_14], 0
		jz	short loc_70C
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+var_14]
		mov	[eax], ecx
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_C]
		mov	[eax], ecx
		mov	al, 1
		jmp	short loc_70E
; ---------------------------------------------------------------------------
		jmp	short loc_70E
; ---------------------------------------------------------------------------

loc_70C:				; CODE XREF: _ubidi_getMemory_56+98j
		xor	al, al

loc_70E:				; CODE XREF: _ubidi_getMemory_56+57j
					; _ubidi_getMemory_56+5Dj ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0D8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getMemory_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 724h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_close_56
_ubidi_close_56	proc near		; CODE XREF: _ubidi_openSized_56+156p

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	loc_80F
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax], 0
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+30h], 0
		jz	short loc_76D
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+30h]
		push	ecx
		call	_uprv_free_56
		add	esp, 4

loc_76D:				; CODE XREF: _ubidi_close_56+38j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+34h], 0
		jz	short loc_785
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+34h]
		push	ecx
		call	_uprv_free_56
		add	esp, 4

loc_785:				; CODE XREF: _ubidi_close_56+50j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+38h], 0
		jz	short loc_79D
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+38h]
		push	ecx
		call	_uprv_free_56
		add	esp, 4

loc_79D:				; CODE XREF: _ubidi_close_56+68j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+3Ch], 0
		jz	short loc_7B5
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+3Ch]
		push	ecx
		call	_uprv_free_56
		add	esp, 4

loc_7B5:				; CODE XREF: _ubidi_close_56+80j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+40h], 0
		jz	short loc_7CD
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+40h]
		push	ecx
		call	_uprv_free_56
		add	esp, 4

loc_7CD:				; CODE XREF: _ubidi_close_56+98j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+44h], 0
		jz	short loc_7E5
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+44h]
		push	ecx
		call	_uprv_free_56
		add	esp, 4

loc_7E5:				; CODE XREF: _ubidi_close_56+B0j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+15Ch], 0
		jz	short loc_803
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+15Ch]
		push	ecx
		call	_uprv_free_56
		add	esp, 4

loc_803:				; CODE XREF: _ubidi_close_56+CBj
		mov	eax, [ebp+arg_0]
		push	eax
		call	_uprv_free_56
		add	esp, 4

loc_80F:				; CODE XREF: _ubidi_close_56+22j
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0C0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_close_56	endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 824h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_setInverse_56
_ubidi_setInverse_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= byte ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_862
		mov	eax, [ebp+arg_0]
		mov	cl, [ebp+arg_4]
		mov	[eax+54h], cl
		movsx	eax, [ebp+arg_4]
		neg	eax
		sbb	eax, eax
		and	eax, 4
		mov	ecx, [ebp+arg_0]
		mov	[ecx+58h], eax

loc_862:				; CODE XREF: _ubidi_setInverse_56+22j
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_setInverse_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 86Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_isInverse_56
_ubidi_isInverse_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_89A
		mov	eax, [ebp+arg_0]
		mov	al, [eax+54h]
		jmp	short loc_89C
; ---------------------------------------------------------------------------
		jmp	short loc_89C
; ---------------------------------------------------------------------------

loc_89A:				; CODE XREF: _ubidi_isInverse_56+22j
		xor	al, al

loc_89C:				; CODE XREF: _ubidi_isInverse_56+2Aj
					; _ubidi_isInverse_56+2Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_isInverse_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 8A4h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_setReorderingMode_56
_ubidi_setReorderingMode_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_8EA
		cmp	[ebp+arg_4], 0
		jl	short loc_8EA
		cmp	[ebp+arg_4], 7
		jge	short loc_8EA
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	[eax+58h], ecx
		cmp	[ebp+arg_4], 4
		setz	al
		mov	ecx, [ebp+arg_0]
		mov	[ecx+54h], al

loc_8EA:				; CODE XREF: _ubidi_setReorderingMode_56+22j
					; _ubidi_setReorderingMode_56+28j ...
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_setReorderingMode_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 8F4h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getReorderingMode_56
_ubidi_getReorderingMode_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_922
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+58h]
		jmp	short loc_924
; ---------------------------------------------------------------------------
		jmp	short loc_924
; ---------------------------------------------------------------------------

loc_922:				; CODE XREF: _ubidi_getReorderingMode_56+22j
		xor	eax, eax

loc_924:				; CODE XREF: _ubidi_getReorderingMode_56+2Aj
					; _ubidi_getReorderingMode_56+2Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getReorderingMode_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 92Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_setReorderingOptions_56
_ubidi_setReorderingOptions_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		and	eax, 2
		jz	short loc_95B
		mov	eax, [ebp+arg_4]
		and	eax, 0FFFFFFFEh
		mov	[ebp+arg_4], eax

loc_95B:				; CODE XREF: _ubidi_setReorderingOptions_56+24j
		cmp	[ebp+arg_0], 0
		jz	short loc_96A
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	[eax+5Ch], ecx

loc_96A:				; CODE XREF: _ubidi_setReorderingOptions_56+33j
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_setReorderingOptions_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 974h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getReorderingOptions_56
_ubidi_getReorderingOptions_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_9A2
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+5Ch]
		jmp	short loc_9A4
; ---------------------------------------------------------------------------
		jmp	short loc_9A4
; ---------------------------------------------------------------------------

loc_9A2:				; CODE XREF: _ubidi_getReorderingOptions_56+22j
		xor	eax, eax

loc_9A4:				; CODE XREF: _ubidi_getReorderingOptions_56+2Aj
					; _ubidi_getReorderingOptions_56+2Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getReorderingOptions_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 9ACh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getBaseDirection_56
_ubidi_getBaseDirection_56 proc	near

var_F0		= byte ptr -0F0h
var_2C		= word ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0F0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_F0]
		mov	ecx, 3Ch ; '<'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_9D6
		cmp	[ebp+arg_4], 0FFFFFFFFh
		jge	short loc_9E0

loc_9D6:				; CODE XREF: _ubidi_getBaseDirection_56+22j
		mov	eax, 3
		jmp	loc_AA6
; ---------------------------------------------------------------------------

loc_9E0:				; CODE XREF: _ubidi_getBaseDirection_56+28j
		cmp	[ebp+arg_4], 0FFFFFFFFh
		jnz	short loc_9F5
		mov	eax, [ebp+arg_0]
		push	eax
		call	_u_strlen_56
		add	esp, 4
		mov	[ebp+arg_4], eax

loc_9F5:				; CODE XREF: _ubidi_getBaseDirection_56+38j
		mov	[ebp+var_8], 0

loc_9FC:				; CODE XREF: _ubidi_getBaseDirection_56:loc_A9Cj
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+arg_4]
		jge	loc_AA1
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_0]
		movzx	edx, word ptr [ecx+eax*2]
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_14]
		and	eax, 0FFFFFC00h
		cmp	eax, 0D800h
		jnz	short loc_A70
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+arg_4]
		jz	short loc_A70
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_0]
		mov	dx, [ecx+eax*2]
		mov	[ebp+var_2C], dx
		movzx	eax, [ebp+var_2C]
		and	eax, 0FFFFFC00h
		cmp	eax, 0DC00h
		jnz	short loc_A70
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_14]
		shl	eax, 0Ah
		movzx	ecx, [ebp+var_2C]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_14], edx

loc_A70:				; CODE XREF: _ubidi_getBaseDirection_56+7Fj
					; _ubidi_getBaseDirection_56+87j ...
		mov	eax, [ebp+var_14]
		push	eax
		call	_u_charDirection_56
		add	esp, 4
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jnz	short loc_A89
		xor	eax, eax
		jmp	short loc_AA6
; ---------------------------------------------------------------------------

loc_A89:				; CODE XREF: _ubidi_getBaseDirection_56+D7j
		cmp	[ebp+var_20], 1
		jz	short loc_A95
		cmp	[ebp+var_20], 0Dh
		jnz	short loc_A9C

loc_A95:				; CODE XREF: _ubidi_getBaseDirection_56+E1j
		mov	eax, 1
		jmp	short loc_AA6
; ---------------------------------------------------------------------------

loc_A9C:				; CODE XREF: _ubidi_getBaseDirection_56+E7j
		jmp	loc_9FC
; ---------------------------------------------------------------------------

loc_AA1:				; CODE XREF: _ubidi_getBaseDirection_56+56j
		mov	eax, 3

loc_AA6:				; CODE XREF: _ubidi_getBaseDirection_56+2Fj
					; _ubidi_getBaseDirection_56+DBj ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0F0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getBaseDirection_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 0ABCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getParaLevelAtIndex_56
_ubidi_getParaLevelAtIndex_56 proc near	; CODE XREF: _ubidi_setPara_56+507p
					; _ubidi_setPara_56+546p ...

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0
		jmp	short loc_AEC
; ---------------------------------------------------------------------------

loc_AE3:				; CODE XREF: _ubidi_getParaLevelAtIndex_56:loc_B10j
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax

loc_AEC:				; CODE XREF: _ubidi_getParaLevelAtIndex_56+25j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_8]
		cmp	ecx, [eax+88h]
		jge	short loc_B12
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_8]
		mov	eax, [ebp+arg_4]
		cmp	eax, [ecx+edx*8]
		jge	short loc_B10
		jmp	short loc_B12
; ---------------------------------------------------------------------------

loc_B10:				; CODE XREF: _ubidi_getParaLevelAtIndex_56+50j
		jmp	short loc_AE3
; ---------------------------------------------------------------------------

loc_B12:				; CODE XREF: _ubidi_getParaLevelAtIndex_56+3Cj
					; _ubidi_getParaLevelAtIndex_56+52j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_8]
		cmp	ecx, [eax+88h]
		jl	short loc_B2F
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		sub	ecx, 1
		mov	[ebp+var_8], ecx

loc_B2F:				; CODE XREF: _ubidi_getParaLevelAtIndex_56+62j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_8]
		mov	al, [ecx+edx*8+4]
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getParaLevelAtIndex_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 0B48h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_setContext_56
_ubidi_setContext_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_14], 0
		jz	short loc_B74
		mov	eax, [ebp+arg_14]
		cmp	dword ptr [eax], 0
		jle	short loc_B79

loc_B74:				; CODE XREF: _ubidi_setContext_56+22j
		jmp	loc_C06
; ---------------------------------------------------------------------------

loc_B79:				; CODE XREF: _ubidi_setContext_56+2Aj
		cmp	[ebp+arg_0], 0
		jz	short loc_BA3
		cmp	[ebp+arg_8], 0FFFFFFFFh
		jl	short loc_BA3
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jl	short loc_BA3
		cmp	[ebp+arg_4], 0
		jnz	short loc_B97
		cmp	[ebp+arg_8], 0
		jnz	short loc_BA3

loc_B97:				; CODE XREF: _ubidi_setContext_56+47j
		cmp	[ebp+arg_C], 0
		jnz	short loc_BAE
		cmp	[ebp+arg_10], 0
		jz	short loc_BAE

loc_BA3:				; CODE XREF: _ubidi_setContext_56+35j
					; _ubidi_setContext_56+3Bj ...
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1
		jmp	short loc_C06
; ---------------------------------------------------------------------------

loc_BAE:				; CODE XREF: _ubidi_setContext_56+53j
					; _ubidi_setContext_56+59j
		cmp	[ebp+arg_8], 0FFFFFFFFh
		jnz	short loc_BC8
		mov	eax, [ebp+arg_4]
		push	eax
		call	_u_strlen_56
		add	esp, 4
		mov	ecx, [ebp+arg_0]
		mov	[ecx+68h], eax
		jmp	short loc_BD1
; ---------------------------------------------------------------------------

loc_BC8:				; CODE XREF: _ubidi_setContext_56+6Aj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		mov	[eax+68h], ecx

loc_BD1:				; CODE XREF: _ubidi_setContext_56+7Ej
		cmp	[ebp+arg_10], 0FFFFFFFFh
		jnz	short loc_BEB
		mov	eax, [ebp+arg_C]
		push	eax
		call	_u_strlen_56
		add	esp, 4
		mov	ecx, [ebp+arg_0]
		mov	[ecx+70h], eax
		jmp	short loc_BF4
; ---------------------------------------------------------------------------

loc_BEB:				; CODE XREF: _ubidi_setContext_56+8Dj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_10]
		mov	[eax+70h], ecx

loc_BF4:				; CODE XREF: _ubidi_setContext_56+A1j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	[eax+64h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_C]
		mov	[eax+6Ch], ecx

loc_C06:				; CODE XREF: _ubidi_setContext_56:loc_B74j
					; _ubidi_setContext_56+64j
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0C0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_setContext_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 0C1Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_setPara_56
_ubidi_setPara_56 proc near		; CODE XREF: _setParaRunsOnly+4Cp
					; _setParaRunsOnly+F3p	...

var_17C		= dword	ptr -17Ch
var_178		= dword	ptr -178h
var_AD		= byte ptr -0ADh
var_A1		= byte ptr -0A1h
var_98		= dword	ptr -98h
var_8C		= dword	ptr -8Ch
var_80		= dword	ptr -80h
var_74		= dword	ptr -74h
var_65		= byte ptr -65h
var_59		= byte ptr -59h
var_4D		= byte ptr -4Dh
var_41		= byte ptr -41h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= byte ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 17Ch
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_17C]
		mov	ecx, 5Fh ; '_'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_14], 0
		jz	short loc_C48
		mov	eax, [ebp+arg_14]
		cmp	dword ptr [eax], 0
		jle	short loc_C4D

loc_C48:				; CODE XREF: _ubidi_setPara_56+22j
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_C4D:				; CODE XREF: _ubidi_setPara_56+2Aj
		cmp	[ebp+arg_0], 0
		jz	short loc_C73
		cmp	[ebp+arg_4], 0
		jz	short loc_C73
		cmp	[ebp+arg_8], 0FFFFFFFFh
		jl	short loc_C73
		movzx	eax, [ebp+arg_C]
		cmp	eax, 7Dh ; '}'
		jle	short loc_C81
		movzx	eax, [ebp+arg_C]
		cmp	eax, 0FEh ; 'þ'
		jge	short loc_C81

loc_C73:				; CODE XREF: _ubidi_setPara_56+35j
					; _ubidi_setPara_56+3Bj ...
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_C81:				; CODE XREF: _ubidi_setPara_56+4Aj
					; _ubidi_setPara_56+55j
		cmp	[ebp+arg_8], 0FFFFFFFFh
		jnz	short loc_C96
		mov	eax, [ebp+arg_4]
		push	eax
		call	_u_strlen_56
		add	esp, 4
		mov	[ebp+arg_8], eax

loc_C96:				; CODE XREF: _ubidi_setPara_56+69j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+58h], 3
		jnz	short loc_CC1
		mov	eax, [ebp+arg_14]
		push	eax
		movzx	ecx, [ebp+arg_C]
		push	ecx
		mov	edx, [ebp+arg_8]
		push	edx
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_setParaRunsOnly
		add	esp, 14h
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_CC1:				; CODE XREF: _ubidi_setPara_56+81j
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax], 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	[eax+8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		mov	[eax+14h], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_8]
		mov	[edx+0Ch], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_8]
		mov	[ecx+10h], edx
		mov	eax, [ebp+arg_0]
		mov	cl, [ebp+arg_C]
		mov	[eax+61h], cl
		movzx	eax, [ebp+arg_C]
		and	eax, 1
		mov	ecx, [ebp+arg_0]
		mov	[ecx+78h], eax
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+88h], 1
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+4Ch], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+50h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+0E4h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+150h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+154h], 0
		movzx	eax, [ebp+arg_C]
		xor	ecx, ecx
		cmp	eax, 0FEh ; 'þ'
		setnl	cl
		mov	edx, [ebp+arg_0]
		mov	[edx+62h], cl
		cmp	[ebp+arg_8], 0
		jnz	short loc_DC7
		movzx	eax, [ebp+arg_C]
		cmp	eax, 0FEh ; 'þ'
		jl	short loc_D88
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		and	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+61h], cl
		mov	eax, [ebp+arg_0]
		mov	byte ptr [eax+62h], 0

loc_D88:				; CODE XREF: _ubidi_setPara_56+153j
		movzx	eax, [ebp+arg_C]
		and	eax, 1
		mov	ecx, [ebp+arg_0]
		mov	edx, _flagLR[eax*4]
		mov	[ecx+7Ch], edx
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+0E0h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+88h], 0
		mov	eax, [ebp+arg_0]
		push	eax
		call	_setParaSuccess
		add	esp, 4
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_DC7:				; CODE XREF: _ubidi_setPara_56+148j
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+0E0h], 0FFFFFFFFh
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+3Ch], 0
		jz	short loc_DEE
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+3Ch]
		mov	[eax+8Ch], edx
		jmp	short loc_DFF
; ---------------------------------------------------------------------------

loc_DEE:				; CODE XREF: _ubidi_setPara_56+1BFj
		mov	eax, [ebp+arg_0]
		add	eax, 90h ; ''
		mov	ecx, [ebp+arg_0]
		mov	[ecx+8Ch], eax

loc_DFF:				; CODE XREF: _ubidi_setPara_56+1D0j
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_0]
		movzx	edx, byte ptr [ecx+48h]
		push	edx
		mov	eax, [ebp+arg_0]
		add	eax, 18h
		push	eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 30h ; '0'
		push	ecx
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	edx, al
		test	edx, edx
		jz	short loc_E57
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+30h]
		mov	[eax+4Ch], edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_getDirProps
		add	esp, 4
		movsx	ecx, al
		test	ecx, ecx
		jnz	short loc_E55
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 7
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_E55:				; CODE XREF: _ubidi_setPara_56+229j
		jmp	short loc_E65
; ---------------------------------------------------------------------------

loc_E57:				; CODE XREF: _ubidi_setPara_56+20Aj
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 7
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_E65:				; CODE XREF: _ubidi_setPara_56:loc_E55j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4Ch]
		mov	[ebp+var_14], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+10h]
		mov	[ebp+arg_8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		mov	[eax+84h], ecx
		cmp	[ebp+arg_10], 0
		jnz	short loc_EF0
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_0]
		movzx	edx, byte ptr [ecx+48h]
		push	edx
		mov	eax, [ebp+arg_0]
		add	eax, 1Ch
		push	eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 34h ; '4'
		push	ecx
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	edx, al
		test	edx, edx
		jz	short loc_EE0
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+34h]
		mov	[eax+50h], edx
		mov	eax, [ebp+arg_14]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_resolveExplicitLevels
		add	esp, 8
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_14]
		cmp	dword ptr [eax], 0
		jle	short loc_EDE
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_EDE:				; CODE XREF: _ubidi_setPara_56+2BBj
		jmp	short loc_EEE
; ---------------------------------------------------------------------------

loc_EE0:				; CODE XREF: _ubidi_setPara_56+294j
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 7
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_EEE:				; CODE XREF: _ubidi_setPara_56:loc_EDEj
		jmp	short loc_F19
; ---------------------------------------------------------------------------

loc_EF0:				; CODE XREF: _ubidi_setPara_56+26Bj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_10]
		mov	[eax+50h], ecx
		mov	eax, [ebp+arg_14]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_checkExplicitLevels
		add	esp, 8
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_14]
		cmp	dword ptr [eax], 0
		jle	short loc_F19
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_F19:				; CODE XREF: _ubidi_setPara_56:loc_EEEj
					; _ubidi_setPara_56+2F6j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+0F4h], 5
		jg	short loc_F38
		mov	eax, [ebp+arg_0]
		add	eax, 0FCh ; 'ü'
		mov	ecx, [ebp+arg_0]
		mov	[ecx+0F8h], eax
		jmp	short loc_FA8
; ---------------------------------------------------------------------------

loc_F38:				; CODE XREF: _ubidi_setPara_56+307j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		cmp	ecx, [edx+2Ch]
		jg	short loc_F5D
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+44h]
		mov	[eax+0F8h], edx
		jmp	short loc_FA8
; ---------------------------------------------------------------------------

loc_F5D:				; CODE XREF: _ubidi_setPara_56+32Ej
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		push	ecx
		push	1
		mov	edx, [ebp+arg_0]
		add	edx, 2Ch ; ','
		push	edx
		mov	eax, [ebp+arg_0]
		add	eax, 44h ; 'D'
		push	eax
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	ecx, al
		test	ecx, ecx
		jz	short loc_F9A
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+44h]
		mov	[eax+0F8h], edx
		jmp	short loc_FA8
; ---------------------------------------------------------------------------

loc_F9A:				; CODE XREF: _ubidi_setPara_56+36Bj
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 7
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_FA8:				; CODE XREF: _ubidi_setPara_56+31Aj
					; _ubidi_setPara_56+33Fj ...
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+0F4h], 0FFFFFFFFh
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_8]
		mov	[eax+78h], ecx
		mov	eax, [ebp+var_8]
		mov	[ebp+var_178], eax
		cmp	[ebp+var_178], 0
		jz	short loc_FDB
		cmp	[ebp+var_178], 1
		jz	short loc_FED
		jmp	short loc_FFF
; ---------------------------------------------------------------------------

loc_FDB:				; CODE XREF: _ubidi_setPara_56+3B2j
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+84h], 0
		jmp	loc_1404
; ---------------------------------------------------------------------------

loc_FED:				; CODE XREF: _ubidi_setPara_56+3BBj
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+84h], 0
		jmp	loc_1404
; ---------------------------------------------------------------------------

loc_FFF:				; CODE XREF: _ubidi_setPara_56+3BDj
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+58h]
		mov	[ebp+var_178], ecx
		cmp	[ebp+var_178], 6 ; switch 7 cases
		ja	$LN39		; jumptable 0000101E default case
		mov	edx, [ebp+var_178]
		jmp	ds:$LN97[edx*4]	; switch jump
; ---------------------------------------------------------------------------

$LN49:					; CODE XREF: _ubidi_setPara_56+402j
					; DATA XREF: .text:$LN97o
		mov	eax, [ebp+arg_0] ; jumptable 0000101E case 0
		mov	dword ptr [eax+74h], offset _impTab_DEFAULT
		jmp	loc_10CE
; ---------------------------------------------------------------------------

$LN48:					; CODE XREF: _ubidi_setPara_56+402j
					; DATA XREF: .text:$LN97o
		mov	eax, [ebp+arg_0] ; jumptable 0000101E case 1
		mov	dword ptr [eax+74h], offset _impTab_NUMBERS_SPECIAL
		jmp	loc_10CE
; ---------------------------------------------------------------------------

$LN47:					; CODE XREF: _ubidi_setPara_56+402j
					; DATA XREF: .text:$LN97o
		mov	eax, [ebp+arg_0] ; jumptable 0000101E case 2
		mov	dword ptr [eax+74h], offset _impTab_GROUP_NUMBERS_WITH_R
		jmp	short loc_10CE
; ---------------------------------------------------------------------------

$LN46:					; CODE XREF: _ubidi_setPara_56+402j
					; DATA XREF: .text:$LN97o
		mov	eax, [ebp+arg_0] ; jumptable 0000101E case 4
		mov	dword ptr [eax+74h], offset _impTab_INVERSE_NUMBERS_AS_L
		jmp	short loc_10CE
; ---------------------------------------------------------------------------

$LN45:					; CODE XREF: _ubidi_setPara_56+402j
					; DATA XREF: .text:$LN97o
		mov	eax, [ebp+arg_0] ; jumptable 0000101E case 5
		mov	ecx, [eax+5Ch]
		and	ecx, 1
		jz	short loc_1072
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+74h], offset _impTab_INVERSE_LIKE_DIRECT_WITH_MARKS
		jmp	short loc_107C
; ---------------------------------------------------------------------------

loc_1072:				; CODE XREF: _ubidi_setPara_56+448j
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+74h], offset _impTab_INVERSE_LIKE_DIRECT

loc_107C:				; CODE XREF: _ubidi_setPara_56+454j
		jmp	short loc_10CE
; ---------------------------------------------------------------------------

$LN42:					; CODE XREF: _ubidi_setPara_56+402j
					; DATA XREF: .text:$LN97o
		mov	eax, [ebp+arg_0] ; jumptable 0000101E case 6
		mov	ecx, [eax+5Ch]
		and	ecx, 1
		jz	short loc_1095
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+74h], offset _impTab_INVERSE_FOR_NUMBERS_SPECIAL_WITH_MARKS
		jmp	short loc_109F
; ---------------------------------------------------------------------------

loc_1095:				; CODE XREF: _ubidi_setPara_56+46Bj
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+74h], offset _impTab_INVERSE_FOR_NUMBERS_SPECIAL

loc_109F:				; CODE XREF: _ubidi_setPara_56+477j
		jmp	short loc_10CE
; ---------------------------------------------------------------------------

$LN39:					; CODE XREF: _ubidi_setPara_56+3F6j
					; _ubidi_setPara_56+402j
					; DATA XREF: ...
		xor	eax, eax	; jumptable 0000101E default case
		jnz	short loc_10CE
		mov	ecx, ds:?__LINE__Var@?1??ubidi_setPara_56@@9@9 ; `ubidi_setPara_56'::`2'::__LINE__Var
		add	ecx, 0ABh ; '«'
		mov	esi, esp
		push	ecx		; Line
		push	offset ??_C@_1FE@CHIMDBDO@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@ ; "d:\\mozilla\\intl\\icu\\source\\common\"...
		push	offset ??_C@_13COJANIEC@?$AA0?$AA?$AA@ ; Message
		call	dword ptr ds:__imp___wassert
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp

loc_10CE:				; CODE XREF: _ubidi_setPara_56+413j
					; _ubidi_setPara_56+422j ...
		cmp	[ebp+arg_10], 0
		jnz	loc_11AF
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+88h], 1
		jg	loc_11AF
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+7Ch]
		and	ecx, 80000000h
		jnz	loc_11AF
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_1136
		mov	edx, [ebp+arg_8]
		sub	edx, 1
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		cmp	edx, [ecx]
		jl	short loc_1136
		mov	edx, [ebp+arg_8]
		sub	edx, 1
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_178], ecx
		jmp	short loc_1143
; ---------------------------------------------------------------------------

loc_1136:				; CODE XREF: _ubidi_setPara_56+4E7j
					; _ubidi_setPara_56+4FAj
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_178], eax

loc_1143:				; CODE XREF: _ubidi_setPara_56+518j
		mov	ecx, [ebp+arg_0]
		movzx	edx, byte ptr [ecx+62h]
		test	edx, edx
		jz	short loc_1175
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		cmp	dword ptr [ecx], 0
		jg	short loc_1175
		push	0
		mov	edx, [ebp+arg_0]
		push	edx
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	eax, al
		mov	[ebp+var_17C], eax
		jmp	short loc_1182
; ---------------------------------------------------------------------------

loc_1175:				; CODE XREF: _ubidi_setPara_56+530j
					; _ubidi_setPara_56+53Ej
		mov	ecx, [ebp+arg_0]
		movzx	edx, byte ptr [ecx+61h]
		mov	[ebp+var_17C], edx

loc_1182:				; CODE XREF: _ubidi_setPara_56+557j
		movzx	eax, byte ptr [ebp+var_178]
		and	eax, 1
		push	eax
		movzx	ecx, byte ptr [ebp+var_17C]
		and	ecx, 1
		push	ecx
		mov	edx, [ebp+arg_8]
		push	edx
		push	0
		mov	eax, [ebp+arg_0]
		push	eax
		call	_resolveImplicitLevels
		add	esp, 14h
		jmp	loc_13D9
; ---------------------------------------------------------------------------

loc_11AF:				; CODE XREF: _ubidi_setPara_56+4B6j
					; _ubidi_setPara_56+4C6j ...
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		mov	[ebp+var_20], ecx
		mov	[ebp+var_38], 0
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_11F1
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		cmp	dword ptr [eax], 0
		jg	short loc_11F1
		push	0
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	edx, al
		mov	[ebp+var_178], edx
		jmp	short loc_11FE
; ---------------------------------------------------------------------------

loc_11F1:				; CODE XREF: _ubidi_setPara_56+5ACj
					; _ubidi_setPara_56+5BAj
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		mov	[ebp+var_178], ecx

loc_11FE:				; CODE XREF: _ubidi_setPara_56+5D3j
		mov	dl, byte ptr [ebp+var_178]
		mov	[ebp+var_41], dl
		mov	eax, [ebp+var_20]
		mov	cl, [eax]
		mov	[ebp+var_4D], cl
		movzx	eax, [ebp+var_41]
		movzx	ecx, [ebp+var_4D]
		cmp	eax, ecx
		jge	short loc_1227
		movzx	eax, [ebp+var_4D]
		and	eax, 1
		mov	[ebp+var_65], al
		jmp	short loc_1231
; ---------------------------------------------------------------------------

loc_1227:				; CODE XREF: _ubidi_setPara_56+5FDj
		movzx	eax, [ebp+var_41]
		and	eax, 1
		mov	[ebp+var_65], al

loc_1231:				; CODE XREF: _ubidi_setPara_56+609j
					; _ubidi_setPara_56+7B7j
		mov	eax, [ebp+var_38]
		mov	[ebp+var_2C], eax
		mov	al, [ebp+var_4D]
		mov	[ebp+var_41], al
		cmp	[ebp+var_2C], 0
		jle	short loc_12A4
		mov	eax, [ebp+var_14]
		add	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax-1]
		cmp	ecx, 7
		jnz	short loc_12A4
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_1288
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	ecx, [ebp+var_2C]
		cmp	ecx, [eax]
		jl	short loc_1288
		mov	edx, [ebp+var_2C]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_178], ecx
		jmp	short loc_1295
; ---------------------------------------------------------------------------

loc_1288:				; CODE XREF: _ubidi_setPara_56+63Fj
					; _ubidi_setPara_56+64Fj
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_178], eax

loc_1295:				; CODE XREF: _ubidi_setPara_56+66Aj
		movzx	ecx, byte ptr [ebp+var_178]
		and	ecx, 1
		mov	[ebp+var_59], cl
		jmp	short loc_12AA
; ---------------------------------------------------------------------------

loc_12A4:				; CODE XREF: _ubidi_setPara_56+625j
					; _ubidi_setPara_56+634j
		mov	al, [ebp+var_65]
		mov	[ebp+var_59], al

loc_12AA:				; CODE XREF: _ubidi_setPara_56+686j
					; _ubidi_setPara_56:loc_12E4j
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax
		mov	ecx, [ebp+var_38]
		cmp	ecx, [ebp+arg_8]
		jge	short loc_12E6
		mov	eax, [ebp+var_20]
		add	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax]
		movzx	edx, [ebp+var_41]
		cmp	ecx, edx
		jz	short loc_12E4
		mov	eax, [ebp+var_14]
		add	eax, [ebp+var_38]
		movzx	ecx, byte ptr [eax]
		mov	edx, 1
		shl	edx, cl
		and	edx, 5D800h
		jz	short loc_12E6

loc_12E4:				; CODE XREF: _ubidi_setPara_56+6AEj
		jmp	short loc_12AA
; ---------------------------------------------------------------------------

loc_12E6:				; CODE XREF: _ubidi_setPara_56+69Dj
					; _ubidi_setPara_56+6C6j
		mov	eax, [ebp+var_38]
		cmp	eax, [ebp+arg_8]
		jge	short loc_12FB
		mov	eax, [ebp+var_20]
		add	eax, [ebp+var_38]
		mov	cl, [eax]
		mov	[ebp+var_4D], cl
		jmp	short loc_134D
; ---------------------------------------------------------------------------

loc_12FB:				; CODE XREF: _ubidi_setPara_56+6D0j
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_1337
		mov	edx, [ebp+arg_8]
		sub	edx, 1
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		cmp	edx, [ecx]
		jl	short loc_1337
		mov	edx, [ebp+arg_8]
		sub	edx, 1
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_178], ecx
		jmp	short loc_1344
; ---------------------------------------------------------------------------

loc_1337:				; CODE XREF: _ubidi_setPara_56+6E8j
					; _ubidi_setPara_56+6FBj
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_178], eax

loc_1344:				; CODE XREF: _ubidi_setPara_56+719j
		mov	cl, byte ptr [ebp+var_178]
		mov	[ebp+var_4D], cl

loc_134D:				; CODE XREF: _ubidi_setPara_56+6DDj
		movzx	eax, [ebp+var_41]
		and	eax, 0FFFFFF7Fh
		movzx	ecx, [ebp+var_4D]
		and	ecx, 0FFFFFF7Fh
		cmp	eax, ecx
		jge	short loc_1370
		movzx	eax, [ebp+var_4D]
		and	eax, 1
		mov	[ebp+var_65], al
		jmp	short loc_137A
; ---------------------------------------------------------------------------

loc_1370:				; CODE XREF: _ubidi_setPara_56+746j
		movzx	eax, [ebp+var_41]
		and	eax, 1
		mov	[ebp+var_65], al

loc_137A:				; CODE XREF: _ubidi_setPara_56+752j
		movzx	eax, [ebp+var_41]
		and	eax, 80h
		jnz	short loc_13A5
		movzx	eax, [ebp+var_65]
		push	eax
		movzx	ecx, [ebp+var_59]
		push	ecx
		mov	edx, [ebp+var_38]
		push	edx
		mov	eax, [ebp+var_2C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_resolveImplicitLevels
		add	esp, 14h
		jmp	short loc_13CD
; ---------------------------------------------------------------------------

loc_13A5:				; CODE XREF: _ubidi_setPara_56+767j
					; _ubidi_setPara_56+7AFj
		mov	eax, [ebp+var_20]
		add	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		and	ecx, 0FFFFFF7Fh
		mov	edx, [ebp+var_20]
		add	edx, [ebp+var_2C]
		mov	[edx], cl
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+var_38]
		jl	short loc_13A5

loc_13CD:				; CODE XREF: _ubidi_setPara_56+787j
		mov	eax, [ebp+var_38]
		cmp	eax, [ebp+arg_8]
		jl	loc_1231

loc_13D9:				; CODE XREF: _ubidi_setPara_56+58Ej
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+158h], 0
		jle	short loc_13F8
		mov	eax, [ebp+arg_14]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+158h]
		mov	[eax], edx
		jmp	loc_15AB
; ---------------------------------------------------------------------------

loc_13F8:				; CODE XREF: _ubidi_setPara_56+7C7j
		mov	eax, [ebp+arg_0]
		push	eax
		call	_adjustWSLevels
		add	esp, 4

loc_1404:				; CODE XREF: _ubidi_setPara_56+3CCj
					; _ubidi_setPara_56+3DEj
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jle	loc_1568
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		and	ecx, 1
		jz	loc_1568
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+58h], 5
		jz	short loc_1438
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+58h], 6
		jnz	loc_1568

loc_1438:				; CODE XREF: _ubidi_setPara_56+80Dj
		mov	[ebp+var_74], 0
		jmp	short loc_144A
; ---------------------------------------------------------------------------

loc_1441:				; CODE XREF: _ubidi_setPara_56+879j
					; _ubidi_setPara_56:loc_1563j
		mov	eax, [ebp+var_74]
		add	eax, 1
		mov	[ebp+var_74], eax

loc_144A:				; CODE XREF: _ubidi_setPara_56+823j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_74]
		cmp	ecx, [eax+88h]
		jge	loc_1568
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_74]
		mov	eax, [ecx+edx*8]
		sub	eax, 1
		mov	[ebp+var_98], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_74]
		mov	al, [ecx+edx*8+4]
		mov	[ebp+var_A1], al
		movzx	eax, [ebp+var_A1]
		test	eax, eax
		jnz	short loc_1497
		jmp	short loc_1441
; ---------------------------------------------------------------------------

loc_1497:				; CODE XREF: _ubidi_setPara_56+877j
		cmp	[ebp+var_74], 0
		jnz	short loc_14A9
		mov	[ebp+var_178], 0
		jmp	short loc_14BF
; ---------------------------------------------------------------------------

loc_14A9:				; CODE XREF: _ubidi_setPara_56+87Fj
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_74]
		mov	eax, [ecx+edx*8-8]
		mov	[ebp+var_178], eax

loc_14BF:				; CODE XREF: _ubidi_setPara_56+88Bj
		mov	ecx, [ebp+var_178]
		mov	[ebp+var_8C], ecx
		mov	eax, [ebp+var_98]
		mov	[ebp+var_80], eax
		jmp	short loc_14DF
; ---------------------------------------------------------------------------

loc_14D6:				; CODE XREF: _ubidi_setPara_56:loc_155Ej
		mov	eax, [ebp+var_80]
		sub	eax, 1
		mov	[ebp+var_80], eax

loc_14DF:				; CODE XREF: _ubidi_setPara_56+8B8j
		mov	eax, [ebp+var_80]
		cmp	eax, [ebp+var_8C]
		jl	short loc_1563
		mov	eax, [ebp+var_14]
		add	eax, [ebp+var_80]
		mov	cl, [eax]
		mov	[ebp+var_AD], cl
		movzx	eax, [ebp+var_AD]
		test	eax, eax
		jnz	short loc_1547
		mov	eax, [ebp+var_80]
		cmp	eax, [ebp+var_98]
		jge	short loc_1530

loc_150E:				; CODE XREF: _ubidi_setPara_56+912j
		mov	eax, [ebp+var_14]
		add	eax, [ebp+var_98]
		movzx	ecx, byte ptr [eax]
		cmp	ecx, 7
		jnz	short loc_1530
		mov	eax, [ebp+var_98]
		sub	eax, 1
		mov	[ebp+var_98], eax
		jmp	short loc_150E
; ---------------------------------------------------------------------------

loc_1530:				; CODE XREF: _ubidi_setPara_56+8F0j
					; _ubidi_setPara_56+901j
		push	4
		mov	eax, [ebp+var_98]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_addPoint
		add	esp, 0Ch
		jmp	short loc_1563
; ---------------------------------------------------------------------------

loc_1547:				; CODE XREF: _ubidi_setPara_56+8E5j
		movzx	ecx, [ebp+var_AD]
		mov	eax, 1
		shl	eax, cl
		and	eax, 2002h
		jz	short loc_155E
		jmp	short loc_1563
; ---------------------------------------------------------------------------

loc_155E:				; CODE XREF: _ubidi_setPara_56+93Ej
		jmp	loc_14D6
; ---------------------------------------------------------------------------

loc_1563:				; CODE XREF: _ubidi_setPara_56+8CCj
					; _ubidi_setPara_56+929j ...
		jmp	loc_1441
; ---------------------------------------------------------------------------

loc_1568:				; CODE XREF: _ubidi_setPara_56+7F1j
					; _ubidi_setPara_56+800j ...
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		and	ecx, 2
		jz	short loc_158A
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [eax+14h]
		sub	edx, [ecx+160h]
		mov	eax, [ebp+arg_0]
		mov	[eax+14h], edx
		jmp	short loc_159F
; ---------------------------------------------------------------------------

loc_158A:				; CODE XREF: _ubidi_setPara_56+955j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+14h]
		mov	edx, [ebp+arg_0]
		add	ecx, [edx+150h]
		mov	eax, [ebp+arg_0]
		mov	[eax+14h], ecx

loc_159F:				; CODE XREF: _ubidi_setPara_56+96Cj
		mov	eax, [ebp+arg_0]
		push	eax
		call	_setParaSuccess
		add	esp, 4

loc_15AB:				; CODE XREF: _ubidi_setPara_56:loc_C48j
					; _ubidi_setPara_56+60j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 17Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_setPara_56 endp

; ---------------------------------------------------------------------------
		align 10h
$LN97		dd offset $LN49		; DATA XREF: _ubidi_setPara_56+402r
		dd offset $LN48		; jump table for switch	statement
		dd offset $LN47
		dd offset $LN39
		dd offset $LN46
		dd offset $LN45
		dd offset $LN42
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 15DCh
		public ??_C@_13COJANIEC@?$AA0?$AA?$AA@
; wchar_t `string'
??_C@_13COJANIEC@?$AA0?$AA?$AA@	dd offset dword_30 ; DATA XREF:	_ubidi_setPara_56+49Do
					; _resolveImplicitLevels+571o ...
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
; Segment alignment 'qword' can not be represented in assembly
_rdata		segment	para public 'DATA' use32
		assume cs:_rdata
		;org 15E0h
		public ??_C@_1FE@CHIMDBDO@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@
; wchar_t `string'
??_C@_1FE@CHIMDBDO@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@:
					; DATA XREF: _ubidi_setPara_56+498o
					; _resolveImplicitLevels+56Co ...
		unicode	0, <d:\mozilla\intl\icu\source\common\ubidi.c>,0
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_data		segment	dword public 'DATA' use32
		assume cs:_data
		;org 1634h
		public ?__LINE__Var@?1??ubidi_setPara_56@@9@9
; `ubidi_setPara_56'::`2'::__LINE__Var
?__LINE__Var@?1??ubidi_setPara_56@@9@9 dd 9E4h ; DATA XREF: _ubidi_setPara_56+489r
_data		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1638h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_getDirProps	proc near		; CODE XREF: _ubidi_setPara_56+21Cp

var_420		= dword	ptr -420h
var_419		= byte ptr -419h
var_354		= word ptr -354h
var_348		= dword	ptr -348h
var_33C		= byte ptr -33Ch
var_2B4		= dword	ptr -2B4h
var_B1		= byte ptr -0B1h
var_A8		= dword	ptr -0A8h
var_99		= byte ptr -99h
var_90		= dword	ptr -90h
var_84		= dword	ptr -84h
var_75		= byte ptr -75h
var_69		= byte ptr -69h
var_5D		= byte ptr -5Dh
var_51		= byte ptr -51h
var_48		= dword	ptr -48h
var_3C		= dword	ptr -3Ch
var_30		= dword	ptr -30h
var_24		= dword	ptr -24h
var_18		= dword	ptr -18h
var_C		= dword	ptr -0Ch
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 420h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_420]
		mov	ecx, 108h
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8]
		mov	[ebp+var_C], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+30h]
		mov	[ebp+var_18], ecx
		mov	[ebp+var_24], 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0Ch]
		mov	[ebp+var_30], ecx
		mov	[ebp+var_3C], 0
		mov	[ebp+var_51], 0
		mov	[ebp+var_5D], 0
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		xor	edx, edx
		cmp	ecx, 0FEh ; 'þ'
		setnl	dl
		mov	[ebp+var_69], dl
		movsx	eax, [ebp+var_69]
		test	eax, eax
		jz	short loc_16E7
		mov	ecx, [ebp+arg_0]
		cmp	dword ptr [ecx+58h], 5
		jz	short loc_16C9
		mov	edx, [ebp+arg_0]
		cmp	dword ptr [edx+58h], 6
		jz	short loc_16C9
		mov	[ebp+var_419], 0
		jmp	short loc_16D0
; ---------------------------------------------------------------------------

loc_16C9:				; CODE XREF: _getDirProps+7Dj
					; _getDirProps+86j
		mov	[ebp+var_419], 1

loc_16D0:				; CODE XREF: _getDirProps+8Fj
		movsx	eax, [ebp+var_419]
		test	eax, eax
		jz	short loc_16E7
		mov	[ebp+var_420], 1
		jmp	short loc_16F1
; ---------------------------------------------------------------------------

loc_16E7:				; CODE XREF: _getDirProps+74j
					; _getDirProps+A1j
		mov	[ebp+var_420], 0

loc_16F1:				; CODE XREF: _getDirProps+ADj
		mov	cl, byte ptr [ebp+var_420]
		mov	[ebp+var_75], cl
		mov	[ebp+var_84], 0FFFFFFFFh
		mov	[ebp+var_90], 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		and	ecx, 2
		mov	[ebp+var_99], cl
		mov	[ebp+var_B1], 0Ah
		mov	[ebp+var_348], 0FFFFFFFFh
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		and	ecx, 4
		jz	short loc_1743
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+10h], 0

loc_1743:				; CODE XREF: _getDirProps+FFj
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		and	ecx, 1
		mov	[ebp+var_5D], cl
		movsx	eax, [ebp+var_69]
		test	eax, eax
		jz	short loc_17D4
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		movzx	edx, [ebp+var_5D]
		mov	[ecx+4], edx
		mov	al, [ebp+var_5D]
		mov	[ebp+var_B1], al
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+68h], 0
		jle	short loc_17C8
		mov	eax, [ebp+arg_0]
		push	eax
		call	_firstL_R_AL
		add	esp, 4
		mov	[ebp+var_51], al
		movzx	ecx, [ebp+var_51]
		cmp	ecx, 0Ah
		jz	short loc_17C8
		movzx	eax, [ebp+var_51]
		test	eax, eax
		jnz	short loc_17AC
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	dword ptr [ecx+4], 0
		jmp	short loc_17BC
; ---------------------------------------------------------------------------

loc_17AC:				; CODE XREF: _getDirProps+160j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	dword ptr [ecx+4], 1

loc_17BC:				; CODE XREF: _getDirProps+172j
		mov	[ebp+var_A8], 0
		jmp	short loc_17D2
; ---------------------------------------------------------------------------

loc_17C8:				; CODE XREF: _getDirProps+140j
					; _getDirProps+158j
		mov	[ebp+var_A8], 1

loc_17D2:				; CODE XREF: _getDirProps+18Ej
		jmp	short loc_17F1
; ---------------------------------------------------------------------------

loc_17D4:				; CODE XREF: _getDirProps+11Ej
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ecx+4], eax
		mov	[ebp+var_A8], 0

loc_17F1:				; CODE XREF: _getDirProps:loc_17D2j
					; _getDirProps+32Aj ...
		mov	eax, [ebp+var_24]
		cmp	eax, [ebp+var_30]
		jge	loc_1C2C
		mov	eax, [ebp+var_24]
		mov	ecx, [ebp+var_C]
		movzx	edx, word ptr [ecx+eax*2]
		mov	[ebp+var_48], edx
		mov	eax, [ebp+var_24]
		add	eax, 1
		mov	[ebp+var_24], eax
		mov	eax, [ebp+var_48]
		and	eax, 0FFFFFC00h
		cmp	eax, 0D800h
		jnz	short loc_186E
		mov	eax, [ebp+var_24]
		cmp	eax, [ebp+var_30]
		jz	short loc_186E
		mov	eax, [ebp+var_24]
		mov	ecx, [ebp+var_C]
		mov	dx, [ecx+eax*2]
		mov	[ebp+var_354], dx
		movzx	eax, [ebp+var_354]
		and	eax, 0FFFFFC00h
		cmp	eax, 0DC00h
		jnz	short loc_186E
		mov	eax, [ebp+var_24]
		add	eax, 1
		mov	[ebp+var_24], eax
		mov	eax, [ebp+var_48]
		shl	eax, 0Ah
		movzx	ecx, [ebp+var_354]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_48], edx

loc_186E:				; CODE XREF: _getDirProps+1E8j
					; _getDirProps+1F0j ...
		mov	eax, [ebp+var_48]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getCustomizedClass_56
		add	esp, 8
		mov	[ebp+var_51], al
		movzx	ecx, [ebp+var_51]
		mov	edx, 1
		shl	edx, cl
		or	edx, [ebp+var_3C]
		mov	[ebp+var_3C], edx
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_24]
		mov	cl, [ebp+var_51]
		mov	[eax-1], cl
		cmp	[ebp+var_48], 0FFFFh
		jle	short loc_18BC
		mov	eax, [ebp+var_3C]
		or	eax, 40000h
		mov	[ebp+var_3C], eax
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_24]
		mov	byte ptr [eax-2], 12h

loc_18BC:				; CODE XREF: _getDirProps+26Dj
		movsx	eax, [ebp+var_99]
		test	eax, eax
		jz	short loc_18FD
		mov	eax, [ebp+var_48]
		and	eax, 0FFFFFFFCh
		cmp	eax, 200Ch
		jz	short loc_18EE
		mov	eax, [ebp+var_48]
		sub	eax, 202Ah
		cmp	eax, 5
		jb	short loc_18EE
		mov	eax, [ebp+var_48]
		sub	eax, 2066h
		cmp	eax, 4
		jnb	short loc_18FD

loc_18EE:				; CODE XREF: _getDirProps+29Aj
					; _getDirProps+2A7j
		mov	eax, [ebp+var_90]
		add	eax, 1
		mov	[ebp+var_90], eax

loc_18FD:				; CODE XREF: _getDirProps+28Dj
					; _getDirProps+2B4j
		movzx	eax, [ebp+var_51]
		test	eax, eax
		jnz	short loc_1967
		cmp	[ebp+var_A8], 1
		jnz	short loc_1934
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	dword ptr [eax+ecx*8-4], 0
		mov	[ebp+var_A8], 0
		jmp	short loc_195B
; ---------------------------------------------------------------------------

loc_1934:				; CODE XREF: _getDirProps+2D4j
		cmp	[ebp+var_A8], 2
		jnz	short loc_195B
		cmp	[ebp+var_348], 7Dh ; '}'
		jg	short loc_1951
		mov	eax, [ebp+var_3C]
		or	eax, 100000h
		mov	[ebp+var_3C], eax

loc_1951:				; CODE XREF: _getDirProps+30Cj
		mov	[ebp+var_A8], 3

loc_195B:				; CODE XREF: _getDirProps+2FAj
					; _getDirProps+303j
		mov	[ebp+var_B1], 0
		jmp	loc_17F1
; ---------------------------------------------------------------------------

loc_1967:				; CODE XREF: _getDirProps+2CBj
		movzx	eax, [ebp+var_51]
		cmp	eax, 1
		jz	short loc_197D
		movzx	eax, [ebp+var_51]
		cmp	eax, 0Dh
		jnz	loc_1A08

loc_197D:				; CODE XREF: _getDirProps+336j
		cmp	[ebp+var_A8], 1
		jnz	short loc_19AC
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	dword ptr [eax+ecx*8-4], 1
		mov	[ebp+var_A8], 0
		jmp	short loc_19E7
; ---------------------------------------------------------------------------

loc_19AC:				; CODE XREF: _getDirProps+34Cj
		cmp	[ebp+var_A8], 2
		jnz	short loc_19E7
		cmp	[ebp+var_348], 7Dh ; '}'
		jg	short loc_19DD
		mov	eax, [ebp+var_348]
		mov	ecx, [ebp+eax*4+var_2B4]
		mov	edx, [ebp+var_18]
		mov	byte ptr [edx+ecx], 15h
		mov	eax, [ebp+var_3C]
		or	eax, 200000h
		mov	[ebp+var_3C], eax

loc_19DD:				; CODE XREF: _getDirProps+384j
		mov	[ebp+var_A8], 3

loc_19E7:				; CODE XREF: _getDirProps+372j
					; _getDirProps+37Bj
		mov	[ebp+var_B1], 1
		movzx	eax, [ebp+var_51]
		cmp	eax, 0Dh
		jnz	short loc_1A03
		mov	eax, [ebp+var_24]
		sub	eax, 1
		mov	[ebp+var_84], eax

loc_1A03:				; CODE XREF: _getDirProps+3BDj
		jmp	loc_17F1
; ---------------------------------------------------------------------------

loc_1A08:				; CODE XREF: _getDirProps+33Fj
		movzx	eax, [ebp+var_51]
		cmp	eax, 13h
		jl	short loc_1A86
		movzx	eax, [ebp+var_51]
		cmp	eax, 15h
		jg	short loc_1A86
		mov	eax, [ebp+var_348]
		add	eax, 1
		mov	[ebp+var_348], eax
		cmp	[ebp+var_348], 7Dh ; '}'
		jg	short loc_1A58
		mov	eax, [ebp+var_24]
		sub	eax, 1
		mov	ecx, [ebp+var_348]
		mov	[ebp+ecx*4+var_2B4], eax
		mov	eax, [ebp+var_348]
		mov	cl, byte ptr [ebp+var_A8]
		mov	[ebp+eax+var_33C], cl

loc_1A58:				; CODE XREF: _getDirProps+3F8j
		movzx	eax, [ebp+var_51]
		cmp	eax, 13h
		jnz	short loc_1A77
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_24]
		mov	byte ptr [eax-1], 14h
		mov	[ebp+var_A8], 2
		jmp	short loc_1A81
; ---------------------------------------------------------------------------

loc_1A77:				; CODE XREF: _getDirProps+427j
		mov	[ebp+var_A8], 3

loc_1A81:				; CODE XREF: _getDirProps+43Dj
		jmp	loc_17F1
; ---------------------------------------------------------------------------

loc_1A86:				; CODE XREF: _getDirProps+3D7j
					; _getDirProps+3E0j
		movzx	eax, [ebp+var_51]
		cmp	eax, 16h
		jnz	short loc_1AE6
		cmp	[ebp+var_A8], 2
		jnz	short loc_1AAC
		cmp	[ebp+var_348], 7Dh ; '}'
		jg	short loc_1AAC
		mov	eax, [ebp+var_3C]
		or	eax, 100000h
		mov	[ebp+var_3C], eax

loc_1AAC:				; CODE XREF: _getDirProps+45Ej
					; _getDirProps+467j
		cmp	[ebp+var_348], 0
		jl	short loc_1AE1
		cmp	[ebp+var_348], 7Dh ; '}'
		jg	short loc_1AD2
		mov	eax, [ebp+var_348]
		movsx	ecx, [ebp+eax+var_33C]
		mov	[ebp+var_A8], ecx

loc_1AD2:				; CODE XREF: _getDirProps+484j
		mov	eax, [ebp+var_348]
		sub	eax, 1
		mov	[ebp+var_348], eax

loc_1AE1:				; CODE XREF: _getDirProps+47Bj
		jmp	loc_17F1
; ---------------------------------------------------------------------------

loc_1AE6:				; CODE XREF: _getDirProps+455j
		movzx	eax, [ebp+var_51]
		cmp	eax, 7
		jnz	loc_1C27
		mov	eax, [ebp+var_24]
		cmp	eax, [ebp+var_30]
		jge	short loc_1B15
		cmp	[ebp+var_48], 0Dh
		jnz	short loc_1B15
		mov	eax, [ebp+var_24]
		mov	ecx, [ebp+var_C]
		movzx	edx, word ptr [ecx+eax*2]
		cmp	edx, 0Ah
		jnz	short loc_1B15
		jmp	loc_17F1
; ---------------------------------------------------------------------------

loc_1B15:				; CODE XREF: _getDirProps+4C1j
					; _getDirProps+4C7j ...
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	edx, [ebp+var_24]
		mov	[eax+ecx*8-8], edx
		movsx	eax, [ebp+var_75]
		test	eax, eax
		jz	short loc_1B5C
		movzx	eax, [ebp+var_B1]
		cmp	eax, 1
		jnz	short loc_1B5C
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	dword ptr [eax+ecx*8-4], 1

loc_1B5C:				; CODE XREF: _getDirProps+4FCj
					; _getDirProps+508j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		and	ecx, 4
		jz	short loc_1B7F
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_24]
		mov	[eax+10h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_90]
		mov	[eax+160h], ecx

loc_1B7F:				; CODE XREF: _getDirProps+52Dj
		mov	eax, [ebp+var_24]
		cmp	eax, [ebp+var_30]
		jge	loc_1C22
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		add	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+88h], ecx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_checkParaCount
		add	esp, 4
		movsx	ecx, al
		test	ecx, ecx
		jnz	short loc_1BBA
		xor	al, al
		jmp	loc_1DA4
; ---------------------------------------------------------------------------

loc_1BBA:				; CODE XREF: _getDirProps+579j
		movsx	eax, [ebp+var_69]
		test	eax, eax
		jz	short loc_1BF1
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		movzx	edx, [ebp+var_5D]
		mov	[eax+ecx*8-4], edx
		mov	[ebp+var_A8], 1
		mov	al, [ebp+var_5D]
		mov	[ebp+var_B1], al
		jmp	short loc_1C18
; ---------------------------------------------------------------------------

loc_1BF1:				; CODE XREF: _getDirProps+588j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	edx, [ebp+arg_0]
		movzx	edx, byte ptr [edx+61h]
		mov	[eax+ecx*8-4], edx
		mov	[ebp+var_A8], 0

loc_1C18:				; CODE XREF: _getDirProps+5B7j
		mov	[ebp+var_348], 0FFFFFFFFh

loc_1C22:				; CODE XREF: _getDirProps+54Dj
		jmp	loc_17F1
; ---------------------------------------------------------------------------

loc_1C27:				; CODE XREF: _getDirProps+4B5j
		jmp	loc_17F1
; ---------------------------------------------------------------------------

loc_1C2C:				; CODE XREF: _getDirProps+1BFj
		cmp	[ebp+var_348], 7Dh ; '}'
		jle	short loc_1C49
		mov	[ebp+var_348], 7Dh ; '}'
		mov	[ebp+var_A8], 2

loc_1C49:				; CODE XREF: _getDirProps+5FBj
					; _getDirProps+653j
		cmp	[ebp+var_348], 0
		jl	short loc_1C8D
		cmp	[ebp+var_A8], 2
		jnz	short loc_1C68
		mov	eax, [ebp+var_3C]
		or	eax, 100000h
		mov	[ebp+var_3C], eax
		jmp	short loc_1C8D
; ---------------------------------------------------------------------------

loc_1C68:				; CODE XREF: _getDirProps+621j
		mov	eax, [ebp+var_348]
		movsx	ecx, [ebp+eax+var_33C]
		mov	[ebp+var_A8], ecx
		mov	eax, [ebp+var_348]
		sub	eax, 1
		mov	[ebp+var_348], eax
		jmp	short loc_1C49
; ---------------------------------------------------------------------------

loc_1C8D:				; CODE XREF: _getDirProps+618j
					; _getDirProps+62Ej
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		and	ecx, 4
		jz	short loc_1CBA
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+10h]
		cmp	ecx, [ebp+var_30]
		jge	short loc_1CB8
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		sub	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+88h], ecx

loc_1CB8:				; CODE XREF: _getDirProps+669j
		jmp	short loc_1CE2
; ---------------------------------------------------------------------------

loc_1CBA:				; CODE XREF: _getDirProps+65Ej
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	edx, [ebp+var_30]
		mov	[eax+ecx*8-8], edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_90]
		mov	[eax+160h], ecx

loc_1CE2:				; CODE XREF: _getDirProps:loc_1CB8j
		movsx	eax, [ebp+var_75]
		test	eax, eax
		jz	short loc_1D10
		movzx	eax, [ebp+var_B1]
		cmp	eax, 1
		jnz	short loc_1D10
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	dword ptr [eax+ecx*8-4], 1

loc_1D10:				; CODE XREF: _getDirProps+6B0j
					; _getDirProps+6BCj
		movsx	eax, [ebp+var_69]
		test	eax, eax
		jz	short loc_1D2A
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+arg_0]
		mov	al, [ecx+4]
		mov	[edx+61h], al

loc_1D2A:				; CODE XREF: _getDirProps+6DEj
		mov	[ebp+var_24], 0
		jmp	short loc_1D3C
; ---------------------------------------------------------------------------

loc_1D33:				; CODE XREF: _getDirProps+732j
		mov	eax, [ebp+var_24]
		add	eax, 1
		mov	[ebp+var_24], eax

loc_1D3C:				; CODE XREF: _getDirProps+6F9j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_24]
		cmp	ecx, [eax+88h]
		jge	short loc_1D6C
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_24]
		mov	eax, [ecx+edx*8+4]
		and	eax, 1
		mov	ecx, [ebp+var_3C]
		or	ecx, _flagLR[eax*4]
		mov	[ebp+var_3C], ecx
		jmp	short loc_1D33
; ---------------------------------------------------------------------------

loc_1D6C:				; CODE XREF: _getDirProps+710j
		mov	eax, [ebp+arg_0]
		movsx	ecx, byte ptr [eax+60h]
		test	ecx, ecx
		jz	short loc_1D8A
		mov	eax, [ebp+var_3C]
		and	eax, 80h
		jz	short loc_1D8A
		mov	eax, [ebp+var_3C]
		or	eax, 1
		mov	[ebp+var_3C], eax

loc_1D8A:				; CODE XREF: _getDirProps+73Dj
					; _getDirProps+747j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_3C]
		mov	[eax+7Ch], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_84]
		mov	[eax+80h], ecx
		mov	al, 1

loc_1DA4:				; CODE XREF: _getDirProps+57Dj
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN72
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4 ; __security_check_cookie(x)
		add	esp, 420h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_getDirProps	endp

; ---------------------------------------------------------------------------
		align 4
$LN72		dd 2			; DATA XREF: _getDirProps+770o
		dd offset $LN71
$LN71		dd 0FFFFFD4Ch, 1F8h	; DATA XREF: .text:00001DD8o
		dd offset $LN69		; "isolateStartStack"
		dd 0FFFFFCC4h, 7Eh
		dd offset $LN70		; "previousStateStack"
$LN70		db 'previousStateStack',0 ; DATA XREF: .text:00001DF0o
$LN69		db 'isolateStartStack',0 ; DATA XREF: .text:00001DE4o
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1E1Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_firstL_R_AL	proc near		; CODE XREF: _getDirProps+146p

var_114		= byte ptr -114h
var_50		= word ptr -50h
var_41		= byte ptr -41h
var_35		= byte ptr -35h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 114h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_114]
		mov	ecx, 45h ; 'E'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+64h]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+68h]
		mov	[ebp+var_14], ecx
		mov	[ebp+var_41], 0Ah
		mov	[ebp+var_20], 0

loc_1E57:				; CODE XREF: _firstL_R_AL:loc_1F16j
		mov	eax, [ebp+var_20]
		cmp	eax, [ebp+var_14]
		jge	loc_1F1B
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+var_8]
		movzx	edx, word ptr [ecx+eax*2]
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		and	eax, 0FFFFFC00h
		cmp	eax, 0D800h
		jnz	short loc_1ECB
		mov	eax, [ebp+var_20]
		cmp	eax, [ebp+var_14]
		jz	short loc_1ECB
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+var_8]
		mov	dx, [ecx+eax*2]
		mov	[ebp+var_50], dx
		movzx	eax, [ebp+var_50]
		and	eax, 0FFFFFC00h
		cmp	eax, 0DC00h
		jnz	short loc_1ECB
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		shl	eax, 0Ah
		movzx	ecx, [ebp+var_50]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_2C], edx

loc_1ECB:				; CODE XREF: _firstL_R_AL+6Aj
					; _firstL_R_AL+72j ...
		mov	eax, [ebp+var_2C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getCustomizedClass_56
		add	esp, 8
		mov	[ebp+var_35], al
		movzx	eax, [ebp+var_41]
		cmp	eax, 0Ah
		jnz	short loc_1F09
		movzx	eax, [ebp+var_35]
		test	eax, eax
		jz	short loc_1F01
		movzx	eax, [ebp+var_35]
		cmp	eax, 1
		jz	short loc_1F01
		movzx	eax, [ebp+var_35]
		cmp	eax, 0Dh
		jnz	short loc_1F07

loc_1F01:				; CODE XREF: _firstL_R_AL+D1j
					; _firstL_R_AL+DAj
		mov	al, [ebp+var_35]
		mov	[ebp+var_41], al

loc_1F07:				; CODE XREF: _firstL_R_AL+E3j
		jmp	short loc_1F16
; ---------------------------------------------------------------------------

loc_1F09:				; CODE XREF: _firstL_R_AL+C9j
		movzx	eax, [ebp+var_35]
		cmp	eax, 7
		jnz	short loc_1F16
		mov	[ebp+var_41], 0Ah

loc_1F16:				; CODE XREF: _firstL_R_AL:loc_1F07j
					; _firstL_R_AL+F4j
		jmp	loc_1E57
; ---------------------------------------------------------------------------

loc_1F1B:				; CODE XREF: _firstL_R_AL+41j
		mov	al, [ebp+var_41]
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 114h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_firstL_R_AL	endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1F34h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_checkParaCount	proc near		; CODE XREF: _getDirProps+56Cp

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_0]
		add	eax, 90h ; ''
		mov	ecx, [ebp+arg_0]
		cmp	[ecx+8Ch], eax
		jnz	short loc_1FE7
		cmp	[ebp+var_8], 0Ah
		jg	short loc_1F7E
		mov	al, 1
		jmp	loc_2024
; ---------------------------------------------------------------------------

loc_1F7E:				; CODE XREF: _checkParaCount+41j
		push	0A0h ; ' '
		push	1
		mov	eax, [ebp+arg_0]
		add	eax, 24h ; '$'
		push	eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 3Ch ; '<'
		push	ecx
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	edx, al
		test	edx, edx
		jnz	short loc_1FA6
		xor	al, al
		jmp	short loc_2024
; ---------------------------------------------------------------------------

loc_1FA6:				; CODE XREF: _checkParaCount+6Cj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+3Ch]
		mov	[eax+8Ch], edx
		push	1
		mov	eax, [ebp+arg_0]
		add	eax, 90h ; ''
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		push	50h ; 'P'       ; Size
		mov	ecx, [ebp+arg_0]
		add	ecx, 90h ; ''
		push	ecx		; Src
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+3Ch]
		push	eax		; Dst
		call	_memcpy
		add	esp, 0Ch
		mov	al, 1
		jmp	short loc_2024
; ---------------------------------------------------------------------------

loc_1FE7:				; CODE XREF: _checkParaCount+3Bj
		mov	eax, [ebp+var_8]
		shl	eax, 1
		shl	eax, 3
		push	eax
		push	1
		mov	ecx, [ebp+arg_0]
		add	ecx, 24h ; '$'
		push	ecx
		mov	edx, [ebp+arg_0]
		add	edx, 3Ch ; '<'
		push	edx
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	eax, al
		test	eax, eax
		jnz	short loc_2013
		xor	al, al
		jmp	short loc_2024
; ---------------------------------------------------------------------------

loc_2013:				; CODE XREF: _checkParaCount+D9j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+3Ch]
		mov	[eax+8Ch], edx
		mov	al, 1

loc_2024:				; CODE XREF: _checkParaCount+45j
					; _checkParaCount+70j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0CCh
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_checkParaCount	endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2038h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_resolveExplicitLevels proc near	; CODE XREF: _ubidi_setPara_56+2AAp

var_16BC	= dword	ptr -16BCh
var_15F4	= byte ptr -15F4h
var_C08		= dword	ptr -0C08h
var_BFC		= dword	ptr -0BFCh
var_BF0		= dword	ptr -0BF0h
var_BE4		= dword	ptr -0BE4h
var_BD8		= word ptr -0BD8h
var_AD0		= dword	ptr -0AD0h
var_AC1		= byte ptr -0AC1h
var_AB5		= byte ptr -0AB5h
var_AA9		= byte ptr -0AA9h
var_AA0		= byte ptr -0AA0h
var_B4		= dword	ptr -0B4h
var_A8		= dword	ptr -0A8h
var_9C		= dword	ptr -9Ch
var_90		= dword	ptr -90h
var_84		= dword	ptr -84h
var_78		= dword	ptr -78h
var_6C		= dword	ptr -6Ch
var_5D		= byte ptr -5Dh
var_51		= byte ptr -51h
var_48		= dword	ptr -48h
var_3C		= dword	ptr -3Ch
var_30		= dword	ptr -30h
var_24		= dword	ptr -24h
var_18		= dword	ptr -18h
var_C		= dword	ptr -0Ch
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		mov	eax, 16BCh
		call	__chkstk
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_16BC]
		mov	ecx, 5AFh
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4Ch]
		mov	[ebp+var_C], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		mov	[ebp+var_18], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8]
		mov	[ebp+var_24], ecx
		mov	[ebp+var_30], 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+10h]
		mov	[ebp+var_3C], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+7Ch]
		mov	[ebp+var_48], ecx
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_20CA
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		cmp	dword ptr [eax], 0
		jg	short loc_20CA
		push	0
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	edx, al
		mov	[ebp+var_16BC],	edx
		jmp	short loc_20D7
; ---------------------------------------------------------------------------

loc_20CA:				; CODE XREF: _resolveExplicitLevels+69j
					; _resolveExplicitLevels+77j
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		mov	[ebp+var_16BC],	ecx

loc_20D7:				; CODE XREF: _resolveExplicitLevels+90j
		mov	dl, byte ptr [ebp+var_16BC]
		mov	[ebp+var_5D], dl
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+0F4h], 0
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax], 0
		jle	short loc_20FC
		xor	eax, eax
		jmp	loc_2B37
; ---------------------------------------------------------------------------

loc_20FC:				; CODE XREF: _resolveExplicitLevels+BBj
		mov	eax, [ebp+arg_0]
		push	eax
		call	_directionFromFlags
		add	esp, 4
		mov	[ebp+var_6C], eax
		cmp	[ebp+var_6C], 2
		jz	short loc_2119
		mov	eax, [ebp+var_6C]
		jmp	loc_2B37
; ---------------------------------------------------------------------------

loc_2119:				; CODE XREF: _resolveExplicitLevels+D7j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+58h], 1
		jle	loc_21D3
		mov	[ebp+var_78], 0
		jmp	short loc_2138
; ---------------------------------------------------------------------------

loc_212F:				; CODE XREF: _resolveExplicitLevels:loc_21C6j
		mov	eax, [ebp+var_78]
		add	eax, 1
		mov	[ebp+var_78], eax

loc_2138:				; CODE XREF: _resolveExplicitLevels+F5j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_78]
		cmp	ecx, [eax+88h]
		jge	loc_21CB
		cmp	[ebp+var_78], 0
		jnz	short loc_215C
		mov	[ebp+var_84], 0
		jmp	short loc_2172
; ---------------------------------------------------------------------------

loc_215C:				; CODE XREF: _resolveExplicitLevels+116j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_78]
		mov	eax, [ecx+edx*8-8]
		mov	[ebp+var_84], eax

loc_2172:				; CODE XREF: _resolveExplicitLevels+122j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_78]
		mov	eax, [ecx+edx*8]
		mov	[ebp+var_90], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_78]
		mov	al, [ecx+edx*8+4]
		mov	[ebp+var_5D], al
		mov	eax, [ebp+var_84]
		mov	[ebp+var_30], eax
		jmp	short loc_21AE
; ---------------------------------------------------------------------------

loc_21A5:				; CODE XREF: _resolveExplicitLevels+18Cj
		mov	eax, [ebp+var_30]
		add	eax, 1
		mov	[ebp+var_30], eax

loc_21AE:				; CODE XREF: _resolveExplicitLevels+16Bj
		mov	eax, [ebp+var_30]
		cmp	eax, [ebp+var_90]
		jge	short loc_21C6
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_30]
		mov	cl, [ebp+var_5D]
		mov	[eax], cl
		jmp	short loc_21A5
; ---------------------------------------------------------------------------

loc_21C6:				; CODE XREF: _resolveExplicitLevels+17Fj
		jmp	loc_212F
; ---------------------------------------------------------------------------

loc_21CB:				; CODE XREF: _resolveExplicitLevels+10Cj
		mov	eax, [ebp+var_6C]
		jmp	loc_2B37
; ---------------------------------------------------------------------------

loc_21D3:				; CODE XREF: _resolveExplicitLevels+E8j
		mov	eax, [ebp+var_48]
		and	eax, 79D800h
		jnz	loc_234E
		lea	eax, [ebp+var_AA0]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_bracketInit
		add	esp, 8
		mov	[ebp+var_9C], 0
		jmp	short loc_220F
; ---------------------------------------------------------------------------

loc_2200:				; CODE XREF: _resolveExplicitLevels:loc_2341j
		mov	eax, [ebp+var_9C]
		add	eax, 1
		mov	[ebp+var_9C], eax

loc_220F:				; CODE XREF: _resolveExplicitLevels+1C6j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_9C]
		cmp	ecx, [eax+88h]
		jge	loc_2346
		cmp	[ebp+var_9C], 0
		jnz	short loc_2239
		mov	[ebp+var_A8], 0
		jmp	short loc_2252
; ---------------------------------------------------------------------------

loc_2239:				; CODE XREF: _resolveExplicitLevels+1F3j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_9C]
		mov	eax, [ecx+edx*8-8]
		mov	[ebp+var_A8], eax

loc_2252:				; CODE XREF: _resolveExplicitLevels+1FFj
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_9C]
		mov	eax, [ecx+edx*8]
		mov	[ebp+var_B4], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_9C]
		mov	al, [ecx+edx*8+4]
		mov	[ebp+var_5D], al
		mov	eax, [ebp+var_A8]
		mov	[ebp+var_30], eax
		jmp	short loc_2294
; ---------------------------------------------------------------------------

loc_228B:				; CODE XREF: _resolveExplicitLevels+28Aj
					; _resolveExplicitLevels+2BFj ...
		mov	eax, [ebp+var_30]
		add	eax, 1
		mov	[ebp+var_30], eax

loc_2294:				; CODE XREF: _resolveExplicitLevels+251j
		mov	eax, [ebp+var_30]
		cmp	eax, [ebp+var_B4]
		jge	loc_2341
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_30]
		mov	cl, [ebp+var_5D]
		mov	[eax], cl
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_30]
		mov	cl, [eax]
		mov	[ebp+var_51], cl
		movzx	eax, [ebp+var_51]
		cmp	eax, 12h
		jnz	short loc_22C4
		jmp	short loc_228B
; ---------------------------------------------------------------------------

loc_22C4:				; CODE XREF: _resolveExplicitLevels+288j
		movzx	eax, [ebp+var_51]
		cmp	eax, 7
		jnz	short loc_2312
		mov	eax, [ebp+var_30]
		add	eax, 1
		cmp	eax, [ebp+var_3C]
		jge	short loc_230D
		mov	eax, [ebp+var_30]
		mov	ecx, [ebp+var_24]
		movzx	edx, word ptr [ecx+eax*2]
		cmp	edx, 0Dh
		jnz	short loc_22F9
		mov	eax, [ebp+var_30]
		mov	ecx, [ebp+var_24]
		movzx	edx, word ptr [ecx+eax*2+2]
		cmp	edx, 0Ah
		jnz	short loc_22F9
		jmp	short loc_228B
; ---------------------------------------------------------------------------

loc_22F9:				; CODE XREF: _resolveExplicitLevels+2ADj
					; _resolveExplicitLevels+2BDj
		movzx	eax, [ebp+var_5D]
		push	eax
		lea	ecx, [ebp+var_AA0]
		push	ecx
		call	_bracketProcessB
		add	esp, 8

loc_230D:				; CODE XREF: _resolveExplicitLevels+29Ej
		jmp	loc_228B
; ---------------------------------------------------------------------------

loc_2312:				; CODE XREF: _resolveExplicitLevels+293j
		mov	eax, [ebp+var_30]
		push	eax
		lea	ecx, [ebp+var_AA0]
		push	ecx
		call	_bracketProcessChar
		add	esp, 8
		movsx	edx, al
		test	edx, edx
		jnz	short loc_233C
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 7
		xor	eax, eax
		jmp	loc_2B37
; ---------------------------------------------------------------------------

loc_233C:				; CODE XREF: _resolveExplicitLevels+2F2j
		jmp	loc_228B
; ---------------------------------------------------------------------------

loc_2341:				; CODE XREF: _resolveExplicitLevels+265j
		jmp	loc_2200
; ---------------------------------------------------------------------------

loc_2346:				; CODE XREF: _resolveExplicitLevels+1E6j
		mov	eax, [ebp+var_6C]
		jmp	loc_2B37
; ---------------------------------------------------------------------------

loc_234E:				; CODE XREF: _resolveExplicitLevels+1A3j
		mov	al, [ebp+var_5D]
		mov	[ebp+var_AA9], al
		mov	al, [ebp+var_5D]
		mov	[ebp+var_AC1], al
		mov	[ebp+var_AD0], 0
		mov	[ebp+var_BE4], 0
		mov	[ebp+var_BF0], 0
		mov	[ebp+var_BFC], 0
		mov	[ebp+var_C08], 0
		lea	eax, [ebp+var_15F4]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_bracketInit
		add	esp, 8
		movzx	ax, [ebp+var_5D]
		mov	[ebp+var_BD8], ax
		mov	[ebp+var_48], 0
		mov	[ebp+var_30], 0
		jmp	short loc_23CA
; ---------------------------------------------------------------------------

loc_23C1:				; CODE XREF: _resolveExplicitLevels:loc_2AD8j
		mov	eax, [ebp+var_30]
		add	eax, 1
		mov	[ebp+var_30], eax

loc_23CA:				; CODE XREF: _resolveExplicitLevels+387j
		mov	eax, [ebp+var_30]
		cmp	eax, [ebp+var_3C]
		jge	loc_2ADD
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_30]
		mov	cl, [eax]
		mov	[ebp+var_51], cl
		movzx	eax, [ebp+var_51]
		mov	[ebp+var_16BC],	eax
		mov	ecx, [ebp+var_16BC]
		sub	ecx, 7
		mov	[ebp+var_16BC],	ecx
		cmp	[ebp+var_16BC],	0Fh ; switch 16	cases
		ja	$LN7		; jumptable 00002414 default case
		mov	edx, [ebp+var_16BC]
		movzx	eax, ds:$LN78[edx]
		jmp	ds:$LN84[eax*4]	; switch jump
; ---------------------------------------------------------------------------

$LN39_0:				; CODE XREF: _resolveExplicitLevels+3DCj
					; DATA XREF: .text:$LN84o
		mov	eax, [ebp+var_48] ; jumptable 00002414 cases 4,5,7,8
		or	eax, 40000h
		mov	[ebp+var_48], eax
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_30]
		mov	cl, [ebp+var_AC1]
		mov	[eax], cl
		movzx	eax, [ebp+var_51]
		cmp	eax, 0Bh
		jz	short loc_2446
		movzx	eax, [ebp+var_51]
		cmp	eax, 0Ch
		jnz	short loc_245D

loc_2446:				; CODE XREF: _resolveExplicitLevels+403j
		movzx	eax, [ebp+var_AA9]
		add	eax, 2
		and	eax, 0FFFFFF7Eh
		mov	[ebp+var_AB5], al
		jmp	short loc_2475
; ---------------------------------------------------------------------------

loc_245D:				; CODE XREF: _resolveExplicitLevels+40Cj
		movzx	eax, [ebp+var_AA9]
		and	eax, 0FFFFFF7Fh
		add	eax, 1
		or	eax, 1
		mov	[ebp+var_AB5], al

loc_2475:				; CODE XREF: _resolveExplicitLevels+423j
		movzx	eax, [ebp+var_AB5]
		cmp	eax, 7Dh ; '}'
		jg	short loc_24F3
		cmp	[ebp+var_BF0], 0
		jnz	short loc_24F3
		cmp	[ebp+var_BFC], 0
		jnz	short loc_24F3
		mov	eax, [ebp+var_30]
		mov	[ebp+var_AD0], eax
		mov	al, [ebp+var_AB5]
		mov	[ebp+var_AA9], al
		movzx	eax, [ebp+var_51]
		cmp	eax, 0Ch
		jz	short loc_24BA
		movzx	eax, [ebp+var_51]
		cmp	eax, 0Fh
		jnz	short loc_24CC

loc_24BA:				; CODE XREF: _resolveExplicitLevels+477j
		movzx	eax, [ebp+var_AA9]
		or	eax, 80h
		mov	[ebp+var_AA9], al

loc_24CC:				; CODE XREF: _resolveExplicitLevels+480j
		mov	eax, [ebp+var_BE4]
		add	eax, 1
		mov	[ebp+var_BE4], eax
		movzx	ax, [ebp+var_AA9]
		mov	ecx, [ebp+var_BE4]
		mov	[ebp+ecx*2+var_BD8], ax
		jmp	short loc_250B
; ---------------------------------------------------------------------------

loc_24F3:				; CODE XREF: _resolveExplicitLevels+447j
					; _resolveExplicitLevels+450j ...
		cmp	[ebp+var_BF0], 0
		jnz	short loc_250B
		mov	eax, [ebp+var_BFC]
		add	eax, 1
		mov	[ebp+var_BFC], eax

loc_250B:				; CODE XREF: _resolveExplicitLevels+4B9j
					; _resolveExplicitLevels+4C2j
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

$LN30:					; CODE XREF: _resolveExplicitLevels+3DCj
					; DATA XREF: .text:$LN84o
		mov	eax, [ebp+var_48] ; jumptable 00002414 case 9
		or	eax, 40000h
		mov	[ebp+var_48], eax
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_30]
		mov	cl, [ebp+var_AC1]
		mov	[eax], cl
		cmp	[ebp+var_BF0], 0
		jz	short loc_2537
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

loc_2537:				; CODE XREF: _resolveExplicitLevels+4F8j
		cmp	[ebp+var_BFC], 0
		jz	short loc_2554
		mov	eax, [ebp+var_BFC]
		sub	eax, 1
		mov	[ebp+var_BFC], eax
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

loc_2554:				; CODE XREF: _resolveExplicitLevels+506j
		cmp	[ebp+var_BE4], 0
		jbe	short loc_259E
		mov	eax, [ebp+var_BE4]
		movzx	ecx, [ebp+eax*2+var_BD8]
		cmp	ecx, 100h
		jge	short loc_259E
		mov	eax, [ebp+var_30]
		mov	[ebp+var_AD0], eax
		mov	eax, [ebp+var_BE4]
		sub	eax, 1
		mov	[ebp+var_BE4], eax
		mov	eax, [ebp+var_BE4]
		mov	cl, byte ptr [ebp+eax*2+var_BD8]
		mov	[ebp+var_AA9], cl

loc_259E:				; CODE XREF: _resolveExplicitLevels+523j
					; _resolveExplicitLevels+539j
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

$LN26:					; CODE XREF: _resolveExplicitLevels+3DCj
					; DATA XREF: .text:$LN84o
		movzx	eax, [ebp+var_AA9] ; jumptable 00002414	cases 13,14
		and	eax, 1
		mov	ecx, _flagLR[eax*4]
		or	ecx, 400h
		or	ecx, [ebp+var_48]
		mov	[ebp+var_48], ecx
		movzx	eax, [ebp+var_AA9]
		and	eax, 0FFFFFF7Fh
		mov	ecx, [ebp+var_18]
		add	ecx, [ebp+var_30]
		mov	[ecx], al
		movzx	eax, [ebp+var_AA9]
		and	eax, 0FFFFFF7Fh
		movzx	ecx, [ebp+var_AC1]
		and	ecx, 0FFFFFF7Fh
		cmp	eax, ecx
		jz	short loc_2622
		movzx	eax, [ebp+var_AA9]
		push	eax
		movzx	ecx, [ebp+var_AC1]
		push	ecx
		mov	edx, [ebp+var_AD0]
		push	edx
		lea	eax, [ebp+var_15F4]
		push	eax
		call	_bracketProcessBoundary
		add	esp, 10h
		mov	eax, [ebp+var_48]
		or	eax, 80000000h
		mov	[ebp+var_48], eax

loc_2622:				; CODE XREF: _resolveExplicitLevels+5B7j
		mov	al, [ebp+var_AA9]
		mov	[ebp+var_AC1], al
		movzx	eax, [ebp+var_51]
		cmp	eax, 14h
		jnz	short loc_264E
		movzx	eax, [ebp+var_AA9]
		add	eax, 2
		and	eax, 0FFFFFF7Eh
		mov	[ebp+var_AB5], al
		jmp	short loc_2666
; ---------------------------------------------------------------------------

loc_264E:				; CODE XREF: _resolveExplicitLevels+5FDj
		movzx	eax, [ebp+var_AA9]
		and	eax, 0FFFFFF7Fh
		add	eax, 1
		or	eax, 1
		mov	[ebp+var_AB5], al

loc_2666:				; CODE XREF: _resolveExplicitLevels+614j
		movzx	eax, [ebp+var_AB5]
		cmp	eax, 7Dh ; '}'
		jg	loc_2727
		cmp	[ebp+var_BF0], 0
		jnz	loc_2727
		cmp	[ebp+var_BFC], 0
		jnz	loc_2727
		movzx	ecx, [ebp+var_51]
		mov	eax, 1
		shl	eax, cl
		or	eax, [ebp+var_48]
		mov	[ebp+var_48], eax
		mov	eax, [ebp+var_30]
		mov	[ebp+var_AD0], eax
		mov	eax, [ebp+var_C08]
		add	eax, 1
		mov	[ebp+var_C08], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_C08]
		cmp	ecx, [eax+0F4h]
		jle	short loc_26D9
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_C08]
		mov	[eax+0F4h], ecx

loc_26D9:				; CODE XREF: _resolveExplicitLevels+690j
		mov	al, [ebp+var_AB5]
		mov	[ebp+var_AA9], al
		mov	eax, [ebp+var_BE4]
		add	eax, 1
		mov	[ebp+var_BE4], eax
		movzx	eax, [ebp+var_AA9]
		add	eax, 100h
		mov	ecx, [ebp+var_BE4]
		mov	[ebp+ecx*2+var_BD8], ax
		movzx	eax, [ebp+var_AA9]
		push	eax
		lea	ecx, [ebp+var_15F4]
		push	ecx
		call	_bracketProcessLRI_RLI
		add	esp, 8
		jmp	short loc_273F
; ---------------------------------------------------------------------------

loc_2727:				; CODE XREF: _resolveExplicitLevels+638j
					; _resolveExplicitLevels+645j ...
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_30]
		mov	byte ptr [eax],	9
		mov	eax, [ebp+var_BF0]
		add	eax, 1
		mov	[ebp+var_BF0], eax

loc_273F:				; CODE XREF: _resolveExplicitLevels+6EDj
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

$LN19:					; CODE XREF: _resolveExplicitLevels+3DCj
					; DATA XREF: .text:$LN84o
		movzx	eax, [ebp+var_AA9] ; jumptable 00002414	case 15
		and	eax, 0FFFFFF7Fh
		movzx	ecx, [ebp+var_AC1]
		and	ecx, 0FFFFFF7Fh
		cmp	eax, ecx
		jz	short loc_2792
		movzx	eax, [ebp+var_AA9]
		push	eax
		movzx	ecx, [ebp+var_AC1]
		push	ecx
		mov	edx, [ebp+var_AD0]
		push	edx
		lea	eax, [ebp+var_15F4]
		push	eax
		call	_bracketProcessBoundary
		add	esp, 10h
		mov	eax, [ebp+var_48]
		or	eax, 80000000h
		mov	[ebp+var_48], eax

loc_2792:				; CODE XREF: _resolveExplicitLevels+727j
		cmp	[ebp+var_BF0], 0
		jz	short loc_27B8
		mov	eax, [ebp+var_BF0]
		sub	eax, 1
		mov	[ebp+var_BF0], eax
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_30]
		mov	byte ptr [eax],	9
		jmp	loc_283E
; ---------------------------------------------------------------------------

loc_27B8:				; CODE XREF: _resolveExplicitLevels+761j
		cmp	[ebp+var_C08], 0
		jz	short loc_2835
		mov	eax, [ebp+var_48]
		or	eax, 400000h
		mov	[ebp+var_48], eax
		mov	eax, [ebp+var_30]
		mov	[ebp+var_AD0], eax
		mov	[ebp+var_BFC], 0

loc_27DF:				; CODE XREF: _resolveExplicitLevels+7CCj
		mov	eax, [ebp+var_BE4]
		movzx	ecx, [ebp+eax*2+var_BD8]
		cmp	ecx, 100h
		jge	short loc_2806
		mov	eax, [ebp+var_BE4]
		sub	eax, 1
		mov	[ebp+var_BE4], eax
		jmp	short loc_27DF
; ---------------------------------------------------------------------------

loc_2806:				; CODE XREF: _resolveExplicitLevels+7BBj
		mov	eax, [ebp+var_BE4]
		sub	eax, 1
		mov	[ebp+var_BE4], eax
		mov	eax, [ebp+var_C08]
		sub	eax, 1
		mov	[ebp+var_C08], eax
		lea	eax, [ebp+var_15F4]
		push	eax
		call	_bracketProcessPDI
		add	esp, 4
		jmp	short loc_283E
; ---------------------------------------------------------------------------

loc_2835:				; CODE XREF: _resolveExplicitLevels+787j
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_30]
		mov	byte ptr [eax],	9

loc_283E:				; CODE XREF: _resolveExplicitLevels+77Bj
					; _resolveExplicitLevels+7FBj
		mov	eax, [ebp+var_BE4]
		movzx	ecx, byte ptr [ebp+eax*2+var_BD8]
		and	ecx, 0FFFFFEFFh
		mov	[ebp+var_AA9], cl
		movzx	eax, [ebp+var_AA9]
		and	eax, 1
		mov	ecx, _flagLR[eax*4]
		or	ecx, 400h
		or	ecx, [ebp+var_48]
		mov	[ebp+var_48], ecx
		mov	al, [ebp+var_AA9]
		mov	[ebp+var_AC1], al
		movzx	eax, [ebp+var_AA9]
		and	eax, 0FFFFFF7Fh
		mov	ecx, [ebp+var_18]
		add	ecx, [ebp+var_30]
		mov	[ecx], al
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

$LN11:					; CODE XREF: _resolveExplicitLevels+3DCj
					; DATA XREF: .text:$LN84o
		mov	eax, [ebp+var_48] ; jumptable 00002414 case 0
		or	eax, 80h
		mov	[ebp+var_48], eax
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_28DB
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	ecx, [ebp+var_30]
		cmp	ecx, [eax]
		jl	short loc_28DB
		mov	edx, [ebp+var_30]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_16BC],	ecx
		jmp	short loc_28E8
; ---------------------------------------------------------------------------

loc_28DB:				; CODE XREF: _resolveExplicitLevels+876j
					; _resolveExplicitLevels+886j
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_16BC],	eax

loc_28E8:				; CODE XREF: _resolveExplicitLevels+8A1j
		mov	ecx, [ebp+var_18]
		add	ecx, [ebp+var_30]
		mov	dl, byte ptr [ebp+var_16BC]
		mov	[ecx], dl
		mov	eax, [ebp+var_30]
		add	eax, 1
		cmp	eax, [ebp+var_3C]
		jge	loc_29DA
		mov	eax, [ebp+var_30]
		mov	ecx, [ebp+var_24]
		movzx	edx, word ptr [ecx+eax*2]
		cmp	edx, 0Dh
		jnz	short loc_2929
		mov	eax, [ebp+var_30]
		mov	ecx, [ebp+var_24]
		movzx	edx, word ptr [ecx+eax*2+2]
		cmp	edx, 0Ah
		jnz	short loc_2929
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

loc_2929:				; CODE XREF: _resolveExplicitLevels+8DAj
					; _resolveExplicitLevels+8EAj
		mov	[ebp+var_BF0], 0
		mov	eax, [ebp+var_BF0]
		mov	[ebp+var_BFC], eax
		mov	[ebp+var_C08], 0
		mov	[ebp+var_BE4], 0
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_298F
		mov	edx, [ebp+var_30]
		add	edx, 1
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		cmp	edx, [ecx]
		jl	short loc_298F
		mov	edx, [ebp+var_30]
		add	edx, 1
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_16BC],	ecx
		jmp	short loc_299C
; ---------------------------------------------------------------------------

loc_298F:				; CODE XREF: _resolveExplicitLevels+924j
					; _resolveExplicitLevels+937j
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_16BC],	eax

loc_299C:				; CODE XREF: _resolveExplicitLevels+955j
		mov	cl, byte ptr [ebp+var_16BC]
		mov	[ebp+var_AA9], cl
		mov	dl, [ebp+var_AA9]
		mov	[ebp+var_AC1], dl
		movzx	ax, [ebp+var_AA9]
		mov	[ebp+var_BD8], ax
		movzx	eax, [ebp+var_AA9]
		push	eax
		lea	ecx, [ebp+var_15F4]
		push	ecx
		call	_bracketProcessB
		add	esp, 8

loc_29DA:				; CODE XREF: _resolveExplicitLevels+8C7j
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

$LN8:					; CODE XREF: _resolveExplicitLevels+3DCj
					; DATA XREF: .text:$LN84o
		mov	eax, [ebp+var_18] ; jumptable 00002414 case 11
		add	eax, [ebp+var_30]
		mov	cl, [ebp+var_AC1]
		mov	[eax], cl
		mov	eax, [ebp+var_48]
		or	eax, 40000h
		mov	[ebp+var_48], eax
		jmp	loc_2AD8
; ---------------------------------------------------------------------------

$LN7:					; CODE XREF: _resolveExplicitLevels+3C9j
					; _resolveExplicitLevels+3DCj
					; DATA XREF: ...
		movzx	eax, [ebp+var_AA9] ; jumptable 00002414	default	case
		and	eax, 0FFFFFF7Fh
		movzx	ecx, [ebp+var_AC1]
		and	ecx, 0FFFFFF7Fh
		cmp	eax, ecx
		jz	short loc_2A89
		movzx	eax, [ebp+var_AA9]
		push	eax
		movzx	ecx, [ebp+var_AC1]
		push	ecx
		mov	edx, [ebp+var_AD0]
		push	edx
		lea	eax, [ebp+var_15F4]
		push	eax
		call	_bracketProcessBoundary
		add	esp, 10h
		mov	eax, [ebp+var_48]
		or	eax, 80000000h
		mov	[ebp+var_48], eax
		movzx	eax, [ebp+var_AA9]
		and	eax, 80h
		jz	short loc_2A72
		movzx	eax, [ebp+var_AA9]
		and	eax, 1
		mov	ecx, [ebp+var_48]
		or	ecx, _flagO[eax*4]
		mov	[ebp+var_48], ecx
		jmp	short loc_2A89
; ---------------------------------------------------------------------------

loc_2A72:				; CODE XREF: _resolveExplicitLevels+A1Fj
		movzx	eax, [ebp+var_AA9]
		and	eax, 1
		mov	ecx, [ebp+var_48]
		or	ecx, _flagE[eax*4]
		mov	[ebp+var_48], ecx

loc_2A89:				; CODE XREF: _resolveExplicitLevels+9E0j
					; _resolveExplicitLevels+A38j
		mov	al, [ebp+var_AA9]
		mov	[ebp+var_AC1], al
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_30]
		mov	cl, [ebp+var_AA9]
		mov	[eax], cl
		mov	eax, [ebp+var_30]
		push	eax
		lea	ecx, [ebp+var_15F4]
		push	ecx
		call	_bracketProcessChar
		add	esp, 8
		movsx	edx, al
		test	edx, edx
		jnz	short loc_2AC2
		or	eax, 0FFFFFFFFh
		jmp	short loc_2B37
; ---------------------------------------------------------------------------

loc_2AC2:				; CODE XREF: _resolveExplicitLevels+A83j
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_30]
		movzx	ecx, byte ptr [eax]
		mov	edx, 1
		shl	edx, cl
		or	edx, [ebp+var_48]
		mov	[ebp+var_48], edx

loc_2AD8:				; CODE XREF: _resolveExplicitLevels:loc_250Bj
					; _resolveExplicitLevels+4FAj ...
		jmp	loc_23C1
; ---------------------------------------------------------------------------

loc_2ADD:				; CODE XREF: _resolveExplicitLevels+398j
		mov	eax, [ebp+var_48]
		and	eax, 7FDFD8h
		jz	short loc_2AFE
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		and	ecx, 1
		mov	edx, [ebp+var_48]
		or	edx, _flagLR[ecx*4]
		mov	[ebp+var_48], edx

loc_2AFE:				; CODE XREF: _resolveExplicitLevels+AADj
		mov	eax, [ebp+arg_0]
		movsx	ecx, byte ptr [eax+60h]
		test	ecx, ecx
		jz	short loc_2B1C
		mov	eax, [ebp+var_48]
		and	eax, 80h
		jz	short loc_2B1C
		mov	eax, [ebp+var_48]
		or	eax, 1
		mov	[ebp+var_48], eax

loc_2B1C:				; CODE XREF: _resolveExplicitLevels+ACFj
					; _resolveExplicitLevels+AD9j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_48]
		mov	[eax+7Ch], ecx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_directionFromFlags
		add	esp, 4
		mov	[ebp+var_6C], eax
		mov	eax, [ebp+var_6C]

loc_2B37:				; CODE XREF: _resolveExplicitLevels+BFj
					; _resolveExplicitLevels+DCj ...
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN83
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4 ; __security_check_cookie(x)
		add	esp, 16BCh
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_resolveExplicitLevels endp

; ---------------------------------------------------------------------------
		align 4
$LN83		dd 3			; DATA XREF: _resolveExplicitLevels+B03o
		dd offset $LN82
$LN82		dd 0FFFFF560h, 9E4h	; DATA XREF: .text:00002B6Co
		dd offset $LN79		; "bracketData"
		dd 0FFFFF428h, 0FEh
		dd offset $LN80		; "stack"
		dd 0FFFFEA0Ch, 9E4h
		dd offset $LN81		; "bracketData"
$LN81		db 'bracketData',0      ; DATA XREF: .text:00002B90o
$LN80		db 'stack',0            ; DATA XREF: .text:00002B84o
$LN79		db 'bracketData',0      ; DATA XREF: .text:00002B78o
		align 4
$LN84		dd offset $LN11		; DATA XREF: _resolveExplicitLevels+3DCr
		dd offset $LN39_0	; jump table for switch	statement
		dd offset $LN30
		dd offset $LN8
		dd offset $LN26
		dd offset $LN19
		dd offset $LN7
$LN78		db	0,     6,     6,     6 ; DATA XREF: _resolveExplicitLevels+3D5r
		db	1,     1,     6,     1 ; indirect table	for switch statement
		db	1,     2,     6,     3
		db	6,     4,     4,     5
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2BE0h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_bracketInit	proc near		; CODE XREF: _resolveExplicitLevels+1B4p
					; _resolveExplicitLevels+365p

var_C8		= dword	ptr -0C8h
var_C4		= dword	ptr -0C4h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C8]
		mov	ecx, 32h ; '2'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		mov	[eax], ecx
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+1ECh], 0
		xor	eax, eax
		mov	ecx, [ebp+arg_4]
		mov	[ecx+1F4h], ax
		xor	eax, eax
		mov	ecx, [ebp+arg_4]
		mov	[ecx+1F6h], ax
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_2C5D
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		cmp	dword ptr [eax], 0
		jg	short loc_2C5D
		push	0
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	edx, al
		mov	[ebp+var_C4], edx
		jmp	short loc_2C6A
; ---------------------------------------------------------------------------

loc_2C5D:				; CODE XREF: _bracketInit+54j
					; _bracketInit+62j
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		mov	[ebp+var_C4], ecx

loc_2C6A:				; CODE XREF: _bracketInit+7Bj
		mov	edx, [ebp+arg_4]
		mov	al, byte ptr [ebp+var_C4]
		mov	[edx+1F8h], al
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_2CAB
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		cmp	dword ptr [eax], 0
		jg	short loc_2CAB
		push	0
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	edx, al
		mov	[ebp+var_C4], edx
		jmp	short loc_2CB8
; ---------------------------------------------------------------------------

loc_2CAB:				; CODE XREF: _bracketInit+A2j
					; _bracketInit+B0j
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		mov	[ebp+var_C4], ecx

loc_2CB8:				; CODE XREF: _bracketInit+C9j
		movzx	edx, byte ptr [ebp+var_C4]
		and	edx, 1
		mov	[ebp+var_C8], edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_C8]
		mov	[eax+1FCh], ecx
		mov	edx, [ebp+arg_4]
		mov	al, byte ptr [ebp+var_C8]
		mov	[edx+1FAh], al
		mov	ecx, [ebp+arg_4]
		mov	dl, byte ptr [ebp+var_C8]
		mov	[ecx+1F9h], dl
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+1F0h], 0
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+38h], 0
		jz	short loc_2D34
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+38h]
		mov	[eax+1E4h], edx
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+20h]
		xor	edx, edx
		mov	ecx, 18h
		div	ecx
		mov	edx, [ebp+arg_4]
		mov	[edx+1E8h], eax
		jmp	short loc_2D50
; ---------------------------------------------------------------------------

loc_2D34:				; CODE XREF: _bracketInit+129j
		mov	eax, [ebp+arg_4]
		add	eax, 4
		mov	ecx, [ebp+arg_4]
		mov	[ecx+1E4h], eax
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+1E8h], 14h

loc_2D50:				; CODE XREF: _bracketInit+152j
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		cmp	dword ptr [ecx+58h], 1
		jz	short loc_2D72
		mov	edx, [ebp+arg_4]
		mov	eax, [edx]
		cmp	dword ptr [eax+58h], 6
		jz	short loc_2D72
		mov	[ebp+var_C4], 0
		jmp	short loc_2D7C
; ---------------------------------------------------------------------------

loc_2D72:				; CODE XREF: _bracketInit+179j
					; _bracketInit+184j
		mov	[ebp+var_C4], 1

loc_2D7C:				; CODE XREF: _bracketInit+190j
		mov	ecx, [ebp+arg_4]
		mov	dl, byte ptr [ebp+var_C4]
		mov	[ecx+9E0h], dl
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0C8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_bracketInit	endp

; ---------------------------------------------------------------------------
		align 10h
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2DA0h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_bracketProcessB proc near		; CODE XREF: _resolveExplicitLevels+2CDp
					; _resolveExplicitLevels+99Ap

var_C4		= dword	ptr -0C4h
arg_0		= dword	ptr  8
arg_4		= byte ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C4h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C4]
		mov	ecx, 31h ; '1'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+1ECh], 0
		xor	eax, eax
		mov	ecx, [ebp+arg_0]
		mov	[ecx+1F6h], ax
		mov	eax, [ebp+arg_0]
		mov	cl, [ebp+arg_4]
		mov	[eax+1F8h], cl
		movzx	eax, [ebp+arg_4]
		and	eax, 1
		mov	[ebp+var_C4], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_C4]
		mov	[ecx+1FCh], edx
		mov	eax, [ebp+arg_0]
		mov	cl, byte ptr [ebp+var_C4]
		mov	[eax+1FAh], cl
		mov	edx, [ebp+arg_0]
		mov	al, byte ptr [ebp+var_C4]
		mov	[edx+1F9h], al
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+1F0h], 0
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_bracketProcessB endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2E34h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_bracketProcessBoundary	proc near	; CODE XREF: _resolveExplicitLevels+5D7p
					; _resolveExplicitLevels+747p ...

var_DC		= dword	ptr -0DCh
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= byte ptr  10h
arg_C		= byte ptr  14h

		push	ebp
		mov	ebp, esp
		sub	esp, 0DCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_DC]
		mov	ecx, 37h ; '7'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		lea	eax, [edx+ecx+1F0h]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+4Ch]
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_14]
		add	eax, [ebp+arg_4]
		movzx	ecx, byte ptr [eax]
		mov	edx, 1
		shl	edx, cl
		and	edx, 780000h
		jz	short loc_2E90
		jmp	short loc_2EFD
; ---------------------------------------------------------------------------

loc_2E90:				; CODE XREF: _bracketProcessBoundary+58j
		movzx	eax, [ebp+arg_C]
		and	eax, 0FFFFFF7Fh
		movzx	ecx, [ebp+arg_8]
		and	ecx, 0FFFFFF7Fh
		cmp	eax, ecx
		jle	short loc_2EAD
		mov	al, [ebp+arg_C]
		mov	[ebp+arg_8], al

loc_2EAD:				; CODE XREF: _bracketProcessBoundary+71j
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+var_8]
		mov	dx, [ecx+4]
		mov	[eax+6], dx
		mov	eax, [ebp+var_8]
		mov	cl, [ebp+arg_C]
		mov	[eax+8], cl
		movzx	eax, [ebp+arg_8]
		and	eax, 1
		mov	[ebp+var_DC], eax
		mov	ecx, [ebp+var_8]
		mov	edx, [ebp+var_DC]
		mov	[ecx+0Ch], edx
		mov	eax, [ebp+var_8]
		mov	cl, byte ptr [ebp+var_DC]
		mov	[eax+0Ah], cl
		mov	edx, [ebp+var_8]
		mov	al, byte ptr [ebp+var_DC]
		mov	[edx+9], al
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_4]
		mov	[eax], ecx

loc_2EFD:				; CODE XREF: _bracketProcessBoundary+5Aj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_bracketProcessBoundary	endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2F04h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_bracketProcessLRI_RLI proc near	; CODE XREF: _resolveExplicitLevels+6E5p

var_DC		= dword	ptr -0DCh
var_14		= word ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= byte ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0DCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_DC]
		mov	ecx, 37h ; '7'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		lea	eax, [edx+ecx+1F0h]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax+0Ah], 0Ah
		mov	eax, [ebp+var_8]
		mov	cx, [eax+6]
		mov	[ebp+var_14], cx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		add	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+1ECh], ecx
		mov	eax, [ebp+var_8]
		add	eax, 10h
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_8]
		mov	cx, [ebp+var_14]
		mov	[eax+6], cx
		mov	edx, [ebp+var_8]
		mov	ax, [ebp+var_14]
		mov	[edx+4], ax
		mov	eax, [ebp+var_8]
		mov	cl, [ebp+arg_4]
		mov	[eax+8], cl
		movzx	eax, [ebp+arg_4]
		and	eax, 1
		mov	[ebp+var_DC], eax
		mov	ecx, [ebp+var_8]
		mov	edx, [ebp+var_DC]
		mov	[ecx+0Ch], edx
		mov	eax, [ebp+var_8]
		mov	cl, byte ptr [ebp+var_DC]
		mov	[eax+0Ah], cl
		mov	edx, [ebp+var_8]
		mov	al, byte ptr [ebp+var_DC]
		mov	[edx+9], al
		mov	eax, [ebp+var_8]
		mov	dword ptr [eax], 0
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_bracketProcessLRI_RLI endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 2FCCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_bracketProcessPDI proc	near		; CODE XREF: _resolveExplicitLevels+7F3p

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		sub	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+1ECh], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		lea	eax, [edx+ecx+1F0h]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax+0Ah], 0Ah
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_bracketProcessPDI endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3028h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_bracketProcessChar proc near		; CODE XREF: _resolveExplicitLevels+2E5p
					; _resolveExplicitLevels+A76p

var_150		= byte ptr -150h
var_8C		= word ptr -8Ch
var_80		= dword	ptr -80h
var_74		= dword	ptr -74h
var_68		= word ptr -68h
var_5C		= dword	ptr -5Ch
var_50		= word ptr -50h
var_44		= word ptr -44h
var_35		= byte ptr -35h
var_29		= byte ptr -29h
var_1D		= byte ptr -1Dh
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 150h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_150]
		mov	ecx, 54h ; 'T'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		lea	eax, [edx+ecx+1F0h]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+4Ch]
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_14]
		add	eax, [ebp+arg_4]
		mov	cl, [eax]
		mov	[ebp+var_1D], cl
		movzx	eax, [ebp+var_1D]
		cmp	eax, 0Ah
		jnz	loc_32EB
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+8]
		mov	eax, [ebp+arg_4]
		mov	cx, [edx+eax*2]
		mov	[ebp+var_44], cx
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		sub	ecx, 1
		mov	[ebp+var_5C], ecx
		jmp	short loc_30AD
; ---------------------------------------------------------------------------

loc_30A4:				; CODE XREF: _bracketProcessChar+AEj
					; _bracketProcessChar+1EDj
		mov	eax, [ebp+var_5C]
		sub	eax, 1
		mov	[ebp+var_5C], eax

loc_30AD:				; CODE XREF: _bracketProcessChar+7Aj
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+4]
		cmp	[ebp+var_5C], ecx
		jl	loc_321A
		mov	eax, [ebp+var_5C]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+1E4h]
		movzx	ecx, [ebp+var_44]
		cmp	[edx+eax+4], ecx
		jz	short loc_30D8
		jmp	short loc_30A4
; ---------------------------------------------------------------------------

loc_30D8:				; CODE XREF: _bracketProcessChar+ACj
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+var_5C]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_bracketProcessClosing
		add	esp, 0Ch
		mov	[ebp+var_29], al
		movzx	eax, [ebp+var_29]
		cmp	eax, 0Ah
		jnz	short loc_3103
		xor	eax, eax
		mov	[ebp+var_44], ax
		jmp	loc_321A
; ---------------------------------------------------------------------------

loc_3103:				; CODE XREF: _bracketProcessChar+CEj
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax+0Ah], 0Ah
		movzx	eax, [ebp+var_29]
		mov	ecx, [ebp+var_8]
		mov	[ecx+0Ch], eax
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_4]
		mov	[eax], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+50h]
		mov	eax, [ebp+arg_4]
		mov	cl, [edx+eax]
		mov	[ebp+var_35], cl
		movzx	eax, [ebp+var_35]
		and	eax, 80h
		jz	loc_31CE
		movzx	eax, [ebp+var_35]
		and	eax, 1
		mov	[ebp+var_29], al
		mov	eax, [ebp+var_8]
		mov	cl, [ebp+var_29]
		mov	[eax+9], cl
		movzx	ecx, [ebp+var_29]
		mov	eax, 1
		shl	eax, cl
		mov	[ebp+var_68], ax
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+4]
		mov	[ebp+var_74], ecx
		jmp	short loc_3173
; ---------------------------------------------------------------------------

loc_316A:				; CODE XREF: _bracketProcessChar+181j
		mov	eax, [ebp+var_74]
		add	eax, 1
		mov	[ebp+var_74], eax

loc_3173:				; CODE XREF: _bracketProcessChar+140j
		mov	eax, [ebp+var_74]
		cmp	eax, [ebp+var_5C]
		jge	short loc_31AB
		mov	eax, [ebp+var_74]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+1E4h]
		movzx	ecx, [ebp+var_68]
		movzx	edx, word ptr [edx+eax+0Ch]
		or	edx, ecx
		mov	eax, [ebp+var_74]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		mov	ecx, [ecx+1E4h]
		mov	[ecx+eax+0Ch], dx
		jmp	short loc_316A
; ---------------------------------------------------------------------------

loc_31AB:				; CODE XREF: _bracketProcessChar+151j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+50h]
		mov	eax, [ebp+arg_4]
		movzx	ecx, byte ptr [edx+eax]
		and	ecx, 0FFFFFF7Fh
		mov	edx, [ebp+arg_0]
		mov	eax, [edx]
		mov	edx, [eax+50h]
		mov	eax, [ebp+arg_4]
		mov	[edx+eax], cl

loc_31CE:				; CODE XREF: _bracketProcessChar+10Ej
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+var_5C]
		imul	edx, 18h
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+1E4h]
		mov	ecx, [ecx+50h]
		mov	edx, [eax+edx]
		movzx	eax, byte ptr [ecx+edx]
		and	eax, 0FFFFFF7Fh
		mov	ecx, [ebp+var_5C]
		imul	ecx, 18h
		mov	edx, [ebp+arg_0]
		mov	edx, [edx+1E4h]
		mov	esi, [ebp+arg_0]
		mov	esi, [esi]
		mov	esi, [esi+50h]
		mov	ecx, [edx+ecx]
		mov	[esi+ecx], al
		mov	al, 1
		jmp	loc_3524
; ---------------------------------------------------------------------------
		jmp	loc_30A4
; ---------------------------------------------------------------------------

loc_321A:				; CODE XREF: _bracketProcessChar+8Fj
					; _bracketProcessChar+D6j
		movzx	eax, [ebp+var_44]
		test	eax, eax
		jz	short loc_3235
		movzx	eax, [ebp+var_44]
		push	eax
		call	_u_getBidiPairedBracket_56
		add	esp, 4
		mov	[ebp+var_50], ax
		jmp	short loc_323B
; ---------------------------------------------------------------------------

loc_3235:				; CODE XREF: _bracketProcessChar+1F8j
		xor	eax, eax
		mov	[ebp+var_50], ax

loc_323B:				; CODE XREF: _bracketProcessChar+20Bj
		movzx	eax, [ebp+var_50]
		movzx	ecx, [ebp+var_44]
		cmp	eax, ecx
		jz	loc_32EB
		movzx	eax, [ebp+var_44]
		push	eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx]
		mov	eax, [edx+4]
		push	eax
		call	_ubidi_getPairedBracketType_56
		add	esp, 8
		cmp	eax, 1
		jnz	loc_32EB
		movzx	eax, [ebp+var_50]
		cmp	eax, 232Ah
		jnz	short loc_329A
		mov	eax, [ebp+arg_4]
		push	eax
		push	3009h
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_bracketAddOpening
		add	esp, 0Ch
		movsx	edx, al
		test	edx, edx
		jnz	short loc_3298
		xor	al, al
		jmp	loc_3524
; ---------------------------------------------------------------------------

loc_3298:				; CODE XREF: _bracketProcessChar+267j
		jmp	short loc_32C8
; ---------------------------------------------------------------------------

loc_329A:				; CODE XREF: _bracketProcessChar+24Bj
		movzx	eax, [ebp+var_50]
		cmp	eax, 3009h
		jnz	short loc_32C8
		mov	eax, [ebp+arg_4]
		push	eax
		push	232Ah
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_bracketAddOpening
		add	esp, 0Ch
		movsx	edx, al
		test	edx, edx
		jnz	short loc_32C8
		xor	al, al
		jmp	loc_3524
; ---------------------------------------------------------------------------

loc_32C8:				; CODE XREF: _bracketProcessChar:loc_3298j
					; _bracketProcessChar+27Bj ...
		mov	eax, [ebp+arg_4]
		push	eax
		movzx	ecx, [ebp+var_50]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_bracketAddOpening
		add	esp, 0Ch
		movsx	eax, al
		test	eax, eax
		jnz	short loc_32EB
		xor	al, al
		jmp	loc_3524
; ---------------------------------------------------------------------------

loc_32EB:				; CODE XREF: _bracketProcessChar+54j
					; _bracketProcessChar+21Dj ...
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+50h]
		mov	eax, [ebp+arg_4]
		mov	cl, [edx+eax]
		mov	[ebp+var_35], cl
		movzx	eax, [ebp+var_35]
		and	eax, 80h
		jz	short loc_3360
		movzx	eax, [ebp+var_35]
		and	eax, 1
		mov	[ebp+var_29], al
		movzx	eax, [ebp+var_1D]
		cmp	eax, 8
		jz	short loc_3337
		movzx	eax, [ebp+var_1D]
		cmp	eax, 9
		jz	short loc_3337
		movzx	eax, [ebp+var_1D]
		cmp	eax, 0Ah
		jz	short loc_3337
		mov	eax, [ebp+var_14]
		add	eax, [ebp+arg_4]
		mov	cl, [ebp+var_29]
		mov	[eax], cl

loc_3337:				; CODE XREF: _bracketProcessChar+2F0j
					; _bracketProcessChar+2F9j ...
		mov	eax, [ebp+var_8]
		mov	cl, [ebp+var_29]
		mov	[eax+0Ah], cl
		mov	eax, [ebp+var_8]
		mov	cl, [ebp+var_29]
		mov	[eax+9], cl
		movzx	eax, [ebp+var_29]
		mov	ecx, [ebp+var_8]
		mov	[ecx+0Ch], eax
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_4]
		mov	[eax], ecx
		jmp	loc_3489
; ---------------------------------------------------------------------------

loc_3360:				; CODE XREF: _bracketProcessChar+2DDj
		movzx	eax, [ebp+var_1D]
		cmp	eax, 1
		jle	short loc_3372
		movzx	eax, [ebp+var_1D]
		cmp	eax, 0Dh
		jnz	short loc_33A8

loc_3372:				; CODE XREF: _bracketProcessChar+33Fj
		movzx	eax, [ebp+var_1D]
		neg	eax
		sbb	eax, eax
		neg	eax
		mov	[ebp+var_29], al
		mov	eax, [ebp+var_8]
		mov	cl, [ebp+var_1D]
		mov	[eax+0Ah], cl
		mov	eax, [ebp+var_8]
		mov	cl, [ebp+var_1D]
		mov	[eax+9], cl
		movzx	eax, [ebp+var_29]
		mov	ecx, [ebp+var_8]
		mov	[ecx+0Ch], eax
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_4]
		mov	[eax], ecx
		jmp	loc_3489
; ---------------------------------------------------------------------------

loc_33A8:				; CODE XREF: _bracketProcessChar+348j
		movzx	eax, [ebp+var_1D]
		cmp	eax, 2
		jnz	short loc_342A
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax+0Ah], 2
		mov	eax, [ebp+var_8]
		movzx	ecx, byte ptr [eax+9]
		test	ecx, ecx
		jnz	short loc_33F2
		mov	[ebp+var_29], 0
		mov	eax, [ebp+arg_0]
		movsx	ecx, byte ptr [eax+9E0h]
		test	ecx, ecx
		jnz	short loc_33DE
		mov	eax, [ebp+var_14]
		add	eax, [ebp+arg_4]
		mov	byte ptr [eax],	17h

loc_33DE:				; CODE XREF: _bracketProcessChar+3ABj
		mov	eax, [ebp+var_8]
		mov	dword ptr [eax+0Ch], 0
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_4]
		mov	[eax], ecx
		jmp	short loc_3428
; ---------------------------------------------------------------------------

loc_33F2:				; CODE XREF: _bracketProcessChar+399j
		mov	[ebp+var_29], 1
		mov	eax, [ebp+var_8]
		movzx	ecx, byte ptr [eax+9]
		cmp	ecx, 0Dh
		jnz	short loc_340D
		mov	eax, [ebp+var_14]
		add	eax, [ebp+arg_4]
		mov	byte ptr [eax],	5
		jmp	short loc_3416
; ---------------------------------------------------------------------------

loc_340D:				; CODE XREF: _bracketProcessChar+3D8j
		mov	eax, [ebp+var_14]
		add	eax, [ebp+arg_4]
		mov	byte ptr [eax],	18h

loc_3416:				; CODE XREF: _bracketProcessChar+3E3j
		mov	eax, [ebp+var_8]
		mov	dword ptr [eax+0Ch], 1
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_4]
		mov	[eax], ecx

loc_3428:				; CODE XREF: _bracketProcessChar+3C8j
		jmp	short loc_3489
; ---------------------------------------------------------------------------

loc_342A:				; CODE XREF: _bracketProcessChar+387j
		movzx	eax, [ebp+var_1D]
		cmp	eax, 5
		jnz	short loc_3452
		mov	[ebp+var_29], 1
		mov	eax, [ebp+var_8]
		mov	byte ptr [eax+0Ah], 5
		mov	eax, [ebp+var_8]
		mov	dword ptr [eax+0Ch], 1
		mov	eax, [ebp+var_8]
		mov	ecx, [ebp+arg_4]
		mov	[eax], ecx
		jmp	short loc_3489
; ---------------------------------------------------------------------------

loc_3452:				; CODE XREF: _bracketProcessChar+409j
		movzx	eax, [ebp+var_1D]
		cmp	eax, 11h
		jnz	short loc_347A
		mov	eax, [ebp+var_8]
		mov	cl, [eax+0Ah]
		mov	[ebp+var_29], cl
		movzx	eax, [ebp+var_29]
		cmp	eax, 0Ah
		jnz	short loc_3478
		mov	eax, [ebp+var_14]
		add	eax, [ebp+arg_4]
		mov	cl, [ebp+var_29]
		mov	[eax], cl

loc_3478:				; CODE XREF: _bracketProcessChar+443j
		jmp	short loc_3489
; ---------------------------------------------------------------------------

loc_347A:				; CODE XREF: _bracketProcessChar+431j
		mov	al, [ebp+var_1D]
		mov	[ebp+var_29], al
		mov	eax, [ebp+var_8]
		mov	cl, [ebp+var_1D]
		mov	[eax+0Ah], cl

loc_3489:				; CODE XREF: _bracketProcessChar+333j
					; _bracketProcessChar+37Bj ...
		movzx	eax, [ebp+var_29]
		cmp	eax, 1
		jle	short loc_349F
		movzx	eax, [ebp+var_29]
		cmp	eax, 0Dh
		jnz	loc_3522

loc_349F:				; CODE XREF: _bracketProcessChar+468j
		movzx	ecx, [ebp+var_29]
		neg	ecx
		sbb	ecx, ecx
		neg	ecx
		mov	eax, 1
		shl	eax, cl
		mov	[ebp+var_8C], ax
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+4]
		mov	[ebp+var_80], ecx
		jmp	short loc_34CC
; ---------------------------------------------------------------------------

loc_34C3:				; CODE XREF: _bracketProcessChar:loc_3520j
		mov	eax, [ebp+var_80]
		add	eax, 1
		mov	[ebp+var_80], eax

loc_34CC:				; CODE XREF: _bracketProcessChar+499j
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		cmp	[ebp+var_80], ecx
		jge	short loc_3522
		mov	eax, [ebp+var_80]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+1E4h]
		mov	ecx, [ebp+arg_4]
		cmp	ecx, [eax+edx]
		jle	short loc_3520
		mov	eax, [ebp+var_80]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+1E4h]
		movzx	ecx, [ebp+var_8C]
		movzx	edx, word ptr [edx+eax+0Ch]
		or	edx, ecx
		mov	eax, [ebp+var_80]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		mov	ecx, [ecx+1E4h]
		mov	[ecx+eax+0Ch], dx

loc_3520:				; CODE XREF: _bracketProcessChar+4C5j
		jmp	short loc_34C3
; ---------------------------------------------------------------------------

loc_3522:				; CODE XREF: _bracketProcessChar+471j
					; _bracketProcessChar+4AEj
		mov	al, 1

loc_3524:				; CODE XREF: _bracketProcessChar+1E8j
					; _bracketProcessChar+26Bj ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 150h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_bracketProcessChar endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3538h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_bracketAddOpening proc	near		; CODE XREF: _bracketProcessChar+25Ap
					; _bracketProcessChar+28Ap ...

var_E4		= byte ptr -0E4h
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= word ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 0E4h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_E4]
		mov	ecx, 39h ; '9'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		lea	eax, [edx+ecx+1F0h]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		mov	edx, [ebp+arg_0]
		cmp	ecx, [edx+1E8h]
		jl	loc_3624
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	[ebp+var_20], ecx
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		shl	ecx, 1
		imul	ecx, 18h
		push	ecx
		push	1
		mov	edx, [ebp+var_20]
		add	edx, 20h ; ' '
		push	edx
		mov	eax, [ebp+var_20]
		add	eax, 38h ; '8'
		push	eax
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	ecx, al
		test	ecx, ecx
		jnz	short loc_35C0
		xor	al, al
		jmp	loc_3680
; ---------------------------------------------------------------------------

loc_35C0:				; CODE XREF: _bracketAddOpening+7Fj
		mov	eax, [ebp+arg_0]
		add	eax, 4
		mov	ecx, [ebp+arg_0]
		cmp	[ecx+1E4h], eax
		jnz	short loc_35FD
		push	1
		mov	eax, [ebp+arg_0]
		add	eax, 4
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		push	1E0h		; Size
		mov	ecx, [ebp+arg_0]
		add	ecx, 4
		push	ecx		; Src
		mov	edx, [ebp+var_20]
		mov	eax, [edx+38h]
		push	eax		; Dst
		call	_memcpy
		add	esp, 0Ch

loc_35FD:				; CODE XREF: _bracketAddOpening+97j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_20]
		mov	edx, [ecx+38h]
		mov	[eax+1E4h], edx
		mov	eax, [ebp+var_20]
		mov	eax, [eax+20h]
		xor	edx, edx
		mov	ecx, 18h
		div	ecx
		mov	edx, [ebp+arg_0]
		mov	[edx+1E8h], eax

loc_3624:				; CODE XREF: _bracketAddOpening+47j
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		imul	ecx, 18h
		mov	edx, [ebp+arg_0]
		add	ecx, [edx+1E4h]
		mov	[ebp+var_14], ecx
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+arg_8]
		mov	[eax], ecx
		movzx	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_14]
		mov	[ecx+4], eax
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx+0Ch]
		mov	[eax+10h], edx
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx]
		mov	[eax+8], edx
		xor	eax, eax
		mov	ecx, [ebp+var_14]
		mov	[ecx+0Ch], ax
		mov	eax, [ebp+var_8]
		mov	cx, [eax+6]
		add	cx, 1
		mov	edx, [ebp+var_8]
		mov	[edx+6], cx
		mov	al, 1

loc_3680:				; CODE XREF: _bracketAddOpening+83j
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0E4h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_bracketAddOpening endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3694h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_bracketProcessClosing proc near	; CODE XREF: _bracketProcessChar+BCp

var_114		= byte ptr -114h
var_50		= dword	ptr -50h
var_41		= byte ptr -41h
var_35		= byte ptr -35h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 114h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_114]
		mov	ecx, 45h ; 'E'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		lea	eax, [edx+ecx+1F0h]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_4]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		add	eax, [ecx+1E4h]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_8]
		movzx	ecx, byte ptr [eax+8]
		and	ecx, 1
		mov	[ebp+var_2C], ecx
		mov	[ebp+var_35], 1
		cmp	[ebp+var_2C], 0
		jnz	short loc_3700
		mov	eax, [ebp+var_14]
		movzx	ecx, word ptr [eax+0Ch]
		and	ecx, 1
		jnz	short loc_3712

loc_3700:				; CODE XREF: _bracketProcessClosing+5Ej
		cmp	[ebp+var_2C], 1
		jnz	short loc_371A
		mov	eax, [ebp+var_14]
		movzx	ecx, word ptr [eax+0Ch]
		and	ecx, 2
		jz	short loc_371A

loc_3712:				; CODE XREF: _bracketProcessClosing+6Aj
		mov	al, byte ptr [ebp+var_2C]
		mov	[ebp+var_41], al
		jmp	short loc_3768
; ---------------------------------------------------------------------------

loc_371A:				; CODE XREF: _bracketProcessClosing+70j
					; _bracketProcessClosing+7Cj
		mov	eax, [ebp+var_14]
		movzx	ecx, word ptr [eax+0Ch]
		and	ecx, 3
		jz	short loc_3756
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+4]
		xor	edx, edx
		cmp	[ebp+arg_4], ecx
		setz	dl
		mov	[ebp+var_35], dl
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+var_2C]
		cmp	ecx, [eax+10h]
		jz	short loc_374E
		mov	eax, [ebp+var_14]
		mov	cl, [eax+10h]
		mov	[ebp+var_41], cl
		jmp	short loc_3754
; ---------------------------------------------------------------------------

loc_374E:				; CODE XREF: _bracketProcessClosing+ADj
		mov	al, byte ptr [ebp+var_2C]
		mov	[ebp+var_41], al

loc_3754:				; CODE XREF: _bracketProcessClosing+B8j
		jmp	short loc_3768
; ---------------------------------------------------------------------------

loc_3756:				; CODE XREF: _bracketProcessClosing+90j
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+arg_4]
		mov	[eax+6], cx
		mov	al, 0Ah
		jmp	loc_38B6
; ---------------------------------------------------------------------------

loc_3768:				; CODE XREF: _bracketProcessClosing+84j
					; _bracketProcessClosing:loc_3754j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+4Ch]
		mov	eax, [ebp+var_14]
		mov	ecx, [eax]
		mov	al, [ebp+var_41]
		mov	[edx+ecx], al
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+4Ch]
		mov	eax, [ebp+arg_8]
		mov	cl, [ebp+var_41]
		mov	[edx+eax], cl
		movzx	eax, [ebp+var_41]
		push	eax
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx]
		push	edx
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_fixN0c
		add	esp, 10h
		movsx	eax, [ebp+var_35]
		test	eax, eax
		jz	short loc_3805
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+arg_4]
		mov	[eax+6], cx

loc_37BA:				; CODE XREF: _bracketProcessClosing+16Aj
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		mov	edx, [ebp+var_8]
		movzx	eax, word ptr [edx+4]
		cmp	ecx, eax
		jle	short loc_3800
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		sub	ecx, 1
		imul	ecx, 18h
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+1E4h]
		mov	edx, [ebp+var_14]
		mov	eax, [ecx+eax]
		cmp	eax, [edx]
		jnz	short loc_3800
		mov	eax, [ebp+var_8]
		mov	cx, [eax+6]
		sub	cx, 1
		mov	edx, [ebp+var_8]
		mov	[edx+6], cx
		jmp	short loc_37BA
; ---------------------------------------------------------------------------

loc_3800:				; CODE XREF: _bracketProcessClosing+136j
					; _bracketProcessClosing+156j
		jmp	loc_38B3
; ---------------------------------------------------------------------------

loc_3805:				; CODE XREF: _bracketProcessClosing+119j
		mov	eax, [ebp+arg_8]
		neg	eax
		mov	ecx, [ebp+var_14]
		mov	[ecx+4], eax
		mov	eax, [ebp+arg_4]
		sub	eax, 1
		mov	[ebp+var_50], eax

loc_3819:				; CODE XREF: _bracketProcessClosing+1CAj
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+4]
		cmp	[ebp+var_50], ecx
		jl	short loc_3860
		mov	eax, [ebp+var_50]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+1E4h]
		mov	ecx, [ebp+var_14]
		mov	edx, [eax+edx]
		cmp	edx, [ecx]
		jnz	short loc_3860
		mov	eax, [ebp+var_50]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+1E4h]
		mov	dword ptr [edx+eax+4], 0
		mov	eax, [ebp+var_50]
		sub	eax, 1
		mov	[ebp+var_50], eax
		jmp	short loc_3819
; ---------------------------------------------------------------------------

loc_3860:				; CODE XREF: _bracketProcessClosing+18Fj
					; _bracketProcessClosing+1A8j
		mov	eax, [ebp+arg_4]
		add	eax, 1
		mov	[ebp+var_50], eax
		jmp	short loc_3874
; ---------------------------------------------------------------------------

loc_386B:				; CODE XREF: _bracketProcessClosing:loc_38B1j
		mov	eax, [ebp+var_50]
		add	eax, 1
		mov	[ebp+var_50], eax

loc_3874:				; CODE XREF: _bracketProcessClosing+1D5j
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		cmp	[ebp+var_50], ecx
		jge	short loc_38B3
		mov	eax, [ebp+var_50]
		imul	eax, 18h
		mov	ecx, [ebp+arg_0]
		add	eax, [ecx+1E4h]
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_20]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_8]
		jl	short loc_389E
		jmp	short loc_38B3
; ---------------------------------------------------------------------------

loc_389E:				; CODE XREF: _bracketProcessClosing+206j
		mov	eax, [ebp+var_20]
		cmp	dword ptr [eax+4], 0
		jle	short loc_38B1
		mov	eax, [ebp+var_20]
		mov	dword ptr [eax+4], 0

loc_38B1:				; CODE XREF: _bracketProcessClosing+211j
		jmp	short loc_386B
; ---------------------------------------------------------------------------

loc_38B3:				; CODE XREF: _bracketProcessClosing:loc_3800j
					; _bracketProcessClosing+1EAj ...
		mov	al, [ebp+var_41]

loc_38B6:				; CODE XREF: _bracketProcessClosing+CFj
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 114h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_bracketProcessClosing endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 38CCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_fixN0c		proc near		; CODE XREF: _bracketProcessClosing+10Bp
					; _fixN0c+FAp ...

var_108		= byte ptr -108h
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= byte ptr  14h

		push	ebp
		mov	ebp, esp
		sub	esp, 108h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_108]
		mov	ecx, 42h ; 'B'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1ECh]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		lea	eax, [edx+ecx+1F0h]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ecx+4Ch]
		mov	[ebp+var_20], edx
		mov	eax, [ebp+arg_4]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	ecx, [ebp+var_2C]
		imul	ecx, 18h
		mov	edx, [ebp+arg_0]
		add	ecx, [edx+1E4h]
		mov	[ebp+var_14], ecx
		jmp	short loc_393D
; ---------------------------------------------------------------------------

loc_392B:				; CODE XREF: _fixN0c+8Aj _fixN0c+A6j ...
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	ecx, [ebp+var_14]
		add	ecx, 18h
		mov	[ebp+var_14], ecx

loc_393D:				; CODE XREF: _fixN0c+5Dj
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+6]
		cmp	[ebp+var_2C], ecx
		jge	loc_39EC
		mov	eax, [ebp+var_14]
		cmp	dword ptr [eax+4], 0
		jl	short loc_3958
		jmp	short loc_392B
; ---------------------------------------------------------------------------

loc_3958:				; CODE XREF: _fixN0c+88j
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+arg_8]
		cmp	ecx, [eax+8]
		jge	short loc_3968
		jmp	loc_39EC
; ---------------------------------------------------------------------------

loc_3968:				; CODE XREF: _fixN0c+95j
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+arg_8]
		cmp	ecx, [eax]
		jl	short loc_3974
		jmp	short loc_392B
; ---------------------------------------------------------------------------

loc_3974:				; CODE XREF: _fixN0c+A4j
		movzx	eax, [ebp+arg_C]
		mov	ecx, [ebp+var_14]
		cmp	eax, [ecx+10h]
		jnz	short loc_3982
		jmp	short loc_39EC
; ---------------------------------------------------------------------------

loc_3982:				; CODE XREF: _fixN0c+B2j
		mov	eax, [ebp+var_14]
		mov	ecx, [eax]
		mov	[ebp+var_38], ecx
		mov	eax, [ebp+var_20]
		add	eax, [ebp+var_38]
		mov	cl, [ebp+arg_C]
		mov	[eax], cl
		mov	eax, [ebp+var_14]
		mov	ecx, [eax+4]
		neg	ecx
		mov	[ebp+var_44], ecx
		mov	eax, [ebp+var_20]
		add	eax, [ebp+var_44]
		mov	cl, [ebp+arg_C]
		mov	[eax], cl
		mov	eax, [ebp+var_14]
		mov	dword ptr [eax+4], 0
		movzx	eax, [ebp+arg_C]
		push	eax
		mov	ecx, [ebp+var_38]
		push	ecx
		mov	edx, [ebp+var_2C]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_fixN0c
		add	esp, 10h
		movzx	eax, [ebp+arg_C]
		push	eax
		mov	ecx, [ebp+var_44]
		push	ecx
		mov	edx, [ebp+var_2C]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_fixN0c
		add	esp, 10h
		jmp	loc_392B
; ---------------------------------------------------------------------------

loc_39EC:				; CODE XREF: _fixN0c+7Bj _fixN0c+97j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 108h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_fixN0c		endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3A00h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_directionFromFlags proc near		; CODE XREF: _resolveExplicitLevels+C8p
					; _resolveExplicitLevels+AF1p ...

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+7Ch]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+var_8]
		and	eax, 20E002h
		jnz	short loc_3A49
		mov	eax, [ebp+var_8]
		and	eax, 20h
		jz	short loc_3A43
		mov	eax, [ebp+var_8]
		and	eax, 7DDFD8h
		jnz	short loc_3A49

loc_3A43:				; CODE XREF: _directionFromFlags+37j
		xor	eax, eax
		jmp	short loc_3A61
; ---------------------------------------------------------------------------
		jmp	short loc_3A61
; ---------------------------------------------------------------------------

loc_3A49:				; CODE XREF: _directionFromFlags+2Fj
					; _directionFromFlags+41j
		mov	eax, [ebp+var_8]
		and	eax, 1901825h
		jnz	short loc_3A5C
		mov	eax, 1
		jmp	short loc_3A61
; ---------------------------------------------------------------------------
		jmp	short loc_3A61
; ---------------------------------------------------------------------------

loc_3A5C:				; CODE XREF: _directionFromFlags+51j
		mov	eax, 2

loc_3A61:				; CODE XREF: _directionFromFlags+45j
					; _directionFromFlags+47j ...
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_directionFromFlags endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3A68h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_checkExplicitLevels proc near		; CODE XREF: _ubidi_setPara_56+2E5p

var_124		= dword	ptr -124h
var_59		= byte ptr -59h
var_50		= dword	ptr -50h
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_11		= byte ptr -11h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 124h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_124]
		mov	ecx, 49h ; 'I'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4Ch]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		mov	[ebp+var_20], ecx
		mov	[ebp+var_2C], 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+10h]
		mov	[ebp+var_44], ecx
		mov	[ebp+var_50], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+0F4h], 0
		mov	[ebp+var_38], 0
		jmp	short loc_3ACE
; ---------------------------------------------------------------------------

loc_3AC5:				; CODE XREF: _checkExplicitLevels:loc_3C10j
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax

loc_3ACE:				; CODE XREF: _checkExplicitLevels+5Bj
		mov	eax, [ebp+var_38]
		cmp	eax, [ebp+var_44]
		jge	loc_3C15
		mov	eax, [ebp+var_20]
		add	eax, [ebp+var_38]
		mov	cl, [eax]
		mov	[ebp+var_59], cl
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_38]
		mov	cl, [eax]
		mov	[ebp+var_11], cl
		movzx	eax, [ebp+var_11]
		cmp	eax, 14h
		jz	short loc_3B02
		movzx	eax, [ebp+var_11]
		cmp	eax, 15h
		jnz	short loc_3B27

loc_3B02:				; CODE XREF: _checkExplicitLevels+8Fj
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_2C]
		cmp	ecx, [eax+0F4h]
		jle	short loc_3B25
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_2C]
		mov	[eax+0F4h], ecx

loc_3B25:				; CODE XREF: _checkExplicitLevels+AFj
		jmp	short loc_3B4B
; ---------------------------------------------------------------------------

loc_3B27:				; CODE XREF: _checkExplicitLevels+98j
		movzx	eax, [ebp+var_11]
		cmp	eax, 16h
		jnz	short loc_3B3B
		mov	eax, [ebp+var_2C]
		sub	eax, 1
		mov	[ebp+var_2C], eax
		jmp	short loc_3B4B
; ---------------------------------------------------------------------------

loc_3B3B:				; CODE XREF: _checkExplicitLevels+C6j
		movzx	eax, [ebp+var_11]
		cmp	eax, 7
		jnz	short loc_3B4B
		mov	[ebp+var_2C], 0

loc_3B4B:				; CODE XREF: _checkExplicitLevels:loc_3B25j
					; _checkExplicitLevels+D1j ...
		movzx	eax, [ebp+var_59]
		and	eax, 80h
		jz	short loc_3B78
		movzx	eax, [ebp+var_59]
		and	eax, 0FFFFFF7Fh
		mov	[ebp+var_59], al
		movzx	eax, [ebp+var_59]
		and	eax, 1
		mov	ecx, [ebp+var_50]
		or	ecx, _flagO[eax*4]
		mov	[ebp+var_50], ecx
		jmp	short loc_3B97
; ---------------------------------------------------------------------------

loc_3B78:				; CODE XREF: _checkExplicitLevels+ECj
		movzx	eax, [ebp+var_59]
		and	eax, 1
		movzx	ecx, [ebp+var_11]
		mov	edx, 1
		shl	edx, cl
		or	edx, _flagE[eax*4]
		or	edx, [ebp+var_50]
		mov	[ebp+var_50], edx

loc_3B97:				; CODE XREF: _checkExplicitLevels+10Ej
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_3BCD
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	ecx, [ebp+var_38]
		cmp	ecx, [eax]
		jl	short loc_3BCD
		mov	edx, [ebp+var_38]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_124], ecx
		jmp	short loc_3BDA
; ---------------------------------------------------------------------------

loc_3BCD:				; CODE XREF: _checkExplicitLevels+138j
					; _checkExplicitLevels+148j
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_124], eax

loc_3BDA:				; CODE XREF: _checkExplicitLevels+163j
		movzx	ecx, [ebp+var_59]
		movzx	edx, byte ptr [ebp+var_124]
		cmp	ecx, edx
		jge	short loc_3BFA
		movzx	eax, [ebp+var_59]
		test	eax, eax
		jnz	short loc_3C03
		movzx	eax, [ebp+var_11]
		cmp	eax, 7
		jnz	short loc_3C03

loc_3BFA:				; CODE XREF: _checkExplicitLevels+17Fj
		movzx	eax, [ebp+var_59]
		cmp	eax, 7Dh ; '}'
		jle	short loc_3C10

loc_3C03:				; CODE XREF: _checkExplicitLevels+187j
					; _checkExplicitLevels+190j
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 1
		xor	eax, eax
		jmp	short loc_3C4B
; ---------------------------------------------------------------------------

loc_3C10:				; CODE XREF: _checkExplicitLevels+199j
		jmp	loc_3AC5
; ---------------------------------------------------------------------------

loc_3C15:				; CODE XREF: _checkExplicitLevels+6Cj
		mov	eax, [ebp+var_50]
		and	eax, 7FDFD8h
		jz	short loc_3C36
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		and	ecx, 1
		mov	edx, [ebp+var_50]
		or	edx, _flagLR[ecx*4]
		mov	[ebp+var_50], edx

loc_3C36:				; CODE XREF: _checkExplicitLevels+1B5j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_50]
		mov	[eax+7Ch], ecx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_directionFromFlags
		add	esp, 4

loc_3C4B:				; CODE XREF: _checkExplicitLevels+1A6j
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 124h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_checkExplicitLevels endp

; ---------------------------------------------------------------------------
		align 10h
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3C60h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_addPoint	proc near		; CODE XREF: _ubidi_setPara_56+921p
					; _processPropertySeq+155p ...

var_E8		= byte ptr -0E8h
var_24		= dword	ptr -24h
var_18		= dword	ptr -18h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 0E8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_E8]
		mov	ecx, 3Ah ; ':'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		add	eax, 14Ch
		mov	[ebp+var_18], eax
		mov	eax, [ebp+var_18]
		cmp	dword ptr [eax], 0
		jnz	short loc_3CC2
		push	50h ; 'P'
		call	_uprv_malloc_56
		add	esp, 4
		mov	ecx, [ebp+var_18]
		mov	[ecx+10h], eax
		mov	eax, [ebp+var_18]
		cmp	dword ptr [eax+10h], 0
		jnz	short loc_3CB9
		mov	eax, [ebp+var_18]
		mov	dword ptr [eax+0Ch], 7
		jmp	loc_3D58
; ---------------------------------------------------------------------------

loc_3CB9:				; CODE XREF: _addPoint+48j
		mov	eax, [ebp+var_18]
		mov	dword ptr [eax], 0Ah

loc_3CC2:				; CODE XREF: _addPoint+2Fj
		mov	eax, [ebp+var_18]
		mov	ecx, [ebp+var_18]
		mov	edx, [eax+4]
		cmp	edx, [ecx]
		jl	short loc_3D24
		mov	eax, [ebp+var_18]
		mov	ecx, [eax+10h]
		mov	[ebp+var_24], ecx
		mov	eax, [ebp+var_18]
		mov	ecx, [eax]
		shl	ecx, 1
		shl	ecx, 3
		push	ecx
		mov	edx, [ebp+var_18]
		mov	eax, [edx+10h]
		push	eax
		call	_uprv_realloc_56
		add	esp, 8
		mov	ecx, [ebp+var_18]
		mov	[ecx+10h], eax
		mov	eax, [ebp+var_18]
		cmp	dword ptr [eax+10h], 0
		jnz	short loc_3D18
		mov	eax, [ebp+var_18]
		mov	ecx, [ebp+var_24]
		mov	[eax+10h], ecx
		mov	eax, [ebp+var_18]
		mov	dword ptr [eax+0Ch], 7
		jmp	short loc_3D58
; ---------------------------------------------------------------------------
		jmp	short loc_3D24
; ---------------------------------------------------------------------------

loc_3D18:				; CODE XREF: _addPoint+9Fj
		mov	eax, [ebp+var_18]
		mov	ecx, [eax]
		shl	ecx, 1
		mov	edx, [ebp+var_18]
		mov	[edx], ecx

loc_3D24:				; CODE XREF: _addPoint+6Dj
					; _addPoint+B6j
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_C], eax
		mov	eax, [ebp+arg_8]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_18]
		mov	ecx, [eax+4]
		mov	edx, [ebp+var_18]
		mov	eax, [edx+10h]
		mov	edx, [ebp+var_C]
		mov	[eax+ecx*8], edx
		mov	edx, [ebp+var_8]
		mov	[eax+ecx*8+4], edx
		mov	eax, [ebp+var_18]
		mov	ecx, [eax+4]
		add	ecx, 1
		mov	edx, [ebp+var_18]
		mov	[edx+4], ecx

loc_3D58:				; CODE XREF: _addPoint+54j
					; _addPoint+B4j
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN10
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0E8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_addPoint	endp

; ---------------------------------------------------------------------------
		align 10h
$LN10		dd 1			; DATA XREF: _addPoint+FCo
		dd offset $LN9
$LN9		dd 0FFFFFFF4h, 8	; DATA XREF: .text:00003D84o
		dd offset $LN8_0	; "point"
$LN8_0		db 'point',0            ; DATA XREF: .text:00003D90o
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 3D9Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_resolveImplicitLevels proc near	; CODE XREF: _ubidi_setPara_56+586p
					; _ubidi_setPara_56+77Fp

var_1E0		= byte ptr -1E0h
var_1DD		= byte ptr -1DDh
var_1DC		= dword	ptr -1DCh
var_111		= byte ptr -111h
var_108		= dword	ptr -108h
var_F9		= byte ptr -0F9h
var_ED		= byte ptr -0EDh
var_E4		= dword	ptr -0E4h
var_D5		= byte ptr -0D5h
var_CC		= dword	ptr -0CCh
var_BD		= byte ptr -0BDh
var_B1		= byte ptr -0B1h
var_A5		= byte ptr -0A5h
var_99		= byte ptr -99h
var_8D		= byte ptr -8Dh
var_84		= word ptr -84h
var_78		= word ptr -78h
var_6C		= word ptr -6Ch
var_60		= dword	ptr -60h
var_54		= dword	ptr -54h
var_48		= dword	ptr -48h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= byte ptr -20h
var_11		= byte ptr -11h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= byte ptr  14h
arg_10		= byte ptr  18h

		push	ebp
		mov	ebp, esp
		sub	esp, 1E0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_1E0]
		mov	ecx, 78h ; 'x'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4Ch]
		mov	[ebp+var_8], ecx
		mov	[ebp+var_BD], 1
		mov	[ebp+var_CC], 0FFFFFFFFh
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		cmp	ecx, [eax+80h]
		jge	short loc_3E4C
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+62h]
		test	eax, eax
		jz	short loc_3E18
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+8Ch]
		mov	eax, [ebp+arg_4]
		cmp	eax, [edx]
		jl	short loc_3E18
		mov	ecx, [ebp+arg_4]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	eax, al
		mov	[ebp+var_1DC], eax
		jmp	short loc_3E25
; ---------------------------------------------------------------------------

loc_3E18:				; CODE XREF: _resolveImplicitLevels+4Fj
					; _resolveImplicitLevels+5Fj
		mov	ecx, [ebp+arg_0]
		movzx	edx, byte ptr [ecx+61h]
		mov	[ebp+var_1DC], edx

loc_3E25:				; CODE XREF: _resolveImplicitLevels+7Aj
		movzx	eax, byte ptr [ebp+var_1DC]
		and	eax, 1
		jz	short loc_3E4C
		mov	ecx, [ebp+arg_0]
		cmp	dword ptr [ecx+58h], 5
		jz	short loc_3E43
		mov	edx, [ebp+arg_0]
		cmp	dword ptr [edx+58h], 6
		jnz	short loc_3E4C

loc_3E43:				; CODE XREF: _resolveImplicitLevels+9Cj
		mov	[ebp+var_1DD], 1
		jmp	short loc_3E53
; ---------------------------------------------------------------------------

loc_3E4C:				; CODE XREF: _resolveImplicitLevels+44j
					; _resolveImplicitLevels+93j ...
		mov	[ebp+var_1DD], 0

loc_3E53:				; CODE XREF: _resolveImplicitLevels+AEj
		mov	al, [ebp+var_1DD]
		mov	[ebp+var_B1], al
		mov	[ebp+var_30], 0FFFFFFFFh
		mov	[ebp+var_2C], 0FFFFFFFFh
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_24], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		mov	edx, [ebp+arg_4]
		mov	al, [ecx+edx]
		mov	[ebp+var_20], al
		movzx	eax, [ebp+var_20]
		and	eax, 1
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+74h]
		mov	eax, [edx+eax*4]
		mov	[ebp+var_3C], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+74h]
		movzx	edx, [ebp+var_20]
		and	edx, 1
		mov	eax, [ecx+edx*4+8]
		mov	[ebp+var_38], eax
		cmp	[ebp+arg_4], 0
		jnz	short loc_3EDF
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+68h], 0
		jle	short loc_3EDF
		mov	eax, [ebp+arg_0]
		push	eax
		call	_lastL_R_AL
		add	esp, 4
		mov	[ebp+var_D5], al
		movzx	eax, [ebp+var_D5]
		cmp	eax, 4
		jz	short loc_3EDF
		mov	al, [ebp+var_D5]
		mov	[ebp+arg_C], al

loc_3EDF:				; CODE XREF: _resolveImplicitLevels+111j
					; _resolveImplicitLevels+11Aj ...
		mov	eax, [ebp+var_8]
		add	eax, [ebp+arg_4]
		movzx	ecx, byte ptr [eax]
		cmp	ecx, 16h
		jnz	loc_3F89
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+0F4h], 0
		jl	loc_3F89
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0F8h]
		mov	ecx, [ecx+eax]
		mov	[ebp+var_34], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0F8h]
		mov	ecx, [eax+ecx+4]
		mov	[ebp+var_54], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0F8h]
		mov	cx, [eax+ecx+0Ch]
		mov	[ebp+var_78], cx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0F8h]
		mov	ecx, [eax+ecx+8]
		mov	[ebp+var_28], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		sub	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+0F4h], ecx
		jmp	short loc_3FDB
; ---------------------------------------------------------------------------

loc_3F89:				; CODE XREF: _resolveImplicitLevels+14Fj
					; _resolveImplicitLevels+15Fj
		mov	[ebp+var_34], 0FFFFFFFFh
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_54], eax
		mov	eax, [ebp+var_8]
		add	eax, [ebp+arg_4]
		movzx	ecx, byte ptr [eax]
		cmp	ecx, 11h
		jnz	short loc_3FB1
		movzx	eax, [ebp+arg_C]
		add	eax, 1
		mov	[ebp+var_78], ax
		jmp	short loc_3FB7
; ---------------------------------------------------------------------------

loc_3FB1:				; CODE XREF: _resolveImplicitLevels+206j
		xor	eax, eax
		mov	[ebp+var_78], ax

loc_3FB7:				; CODE XREF: _resolveImplicitLevels+213j
		mov	[ebp+var_28], 0
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+arg_4]
		push	ecx
		movzx	edx, [ebp+arg_C]
		push	edx
		lea	eax, [ebp+var_3C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_processPropertySeq
		add	esp, 14h

loc_3FDB:				; CODE XREF: _resolveImplicitLevels+1EBj
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_60], eax
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_48], eax
		jmp	short loc_3FF2
; ---------------------------------------------------------------------------

loc_3FE9:				; CODE XREF: _resolveImplicitLevels:loc_4322j
		mov	eax, [ebp+var_48]
		add	eax, 1
		mov	[ebp+var_48], eax

loc_3FF2:				; CODE XREF: _resolveImplicitLevels+24Bj
		mov	eax, [ebp+var_48]
		cmp	eax, [ebp+arg_8]
		jg	loc_4327

loc_3FFE:				; DATA XREF: .rdata:0000000Co
		mov	eax, [ebp+var_48]
		cmp	eax, [ebp+arg_8]
		jl	short loc_407E
		mov	eax, [ebp+arg_8]
		sub	eax, 1
		mov	[ebp+var_E4], eax
		jmp	short loc_4023
; ---------------------------------------------------------------------------

loc_4014:				; CODE XREF: _resolveImplicitLevels+2ADj
		mov	eax, [ebp+var_E4]
		sub	eax, 1
		mov	[ebp+var_E4], eax

loc_4023:				; CODE XREF: _resolveImplicitLevels+276j
		mov	eax, [ebp+var_E4]
		cmp	eax, [ebp+arg_4]
		jle	short loc_404B
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_E4]
		movzx	ecx, byte ptr [eax]
		mov	edx, 1
		shl	edx, cl
		and	edx, 5D800h
		jz	short loc_404B
		jmp	short loc_4014
; ---------------------------------------------------------------------------

loc_404B:				; CODE XREF: _resolveImplicitLevels+290j
					; _resolveImplicitLevels+2ABj
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_E4]
		mov	cl, [eax]
		mov	[ebp+var_11], cl
		movzx	eax, [ebp+var_11]
		cmp	eax, 14h
		jz	short loc_406B
		movzx	eax, [ebp+var_11]
		cmp	eax, 15h
		jnz	short loc_4070

loc_406B:				; CODE XREF: _resolveImplicitLevels+2C4j
		jmp	loc_4327
; ---------------------------------------------------------------------------

loc_4070:				; CODE XREF: _resolveImplicitLevels+2CDj
		mov	al, [ebp+arg_10]
		mov	[ebp+var_8D], al
		jmp	loc_4199
; ---------------------------------------------------------------------------

loc_407E:				; CODE XREF: _resolveImplicitLevels+268j
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_48]
		mov	cl, [eax]
		mov	[ebp+var_ED], cl
		movzx	eax, [ebp+var_ED]
		cmp	eax, 7
		jnz	short loc_40A5
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+0F4h], 0FFFFFFFFh

loc_40A5:				; CODE XREF: _resolveImplicitLevels+2FAj
		movsx	eax, [ebp+var_B1]
		test	eax, eax
		jz	loc_4186
		movzx	eax, [ebp+var_ED]
		cmp	eax, 0Dh
		jnz	short loc_40CC
		mov	[ebp+var_ED], 1
		jmp	loc_4186
; ---------------------------------------------------------------------------

loc_40CC:				; CODE XREF: _resolveImplicitLevels+322j
		movzx	eax, [ebp+var_ED]
		cmp	eax, 2
		jnz	loc_4186
		mov	eax, [ebp+var_CC]
		cmp	eax, [ebp+var_48]
		jg	loc_4173
		mov	[ebp+var_BD], 1
		mov	eax, [ebp+arg_8]
		mov	[ebp+var_CC], eax
		mov	eax, [ebp+var_48]
		add	eax, 1
		mov	[ebp+var_108], eax
		jmp	short loc_4118
; ---------------------------------------------------------------------------

loc_4109:				; CODE XREF: _resolveImplicitLevels:loc_4171j
		mov	eax, [ebp+var_108]
		add	eax, 1
		mov	[ebp+var_108], eax

loc_4118:				; CODE XREF: _resolveImplicitLevels+36Bj
		mov	eax, [ebp+var_108]
		cmp	eax, [ebp+arg_8]
		jge	short loc_4173
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_108]
		mov	cl, [eax]
		mov	[ebp+var_F9], cl
		movzx	eax, [ebp+var_F9]
		test	eax, eax
		jz	short loc_4157
		movzx	eax, [ebp+var_F9]
		cmp	eax, 1
		jz	short loc_4157
		movzx	eax, [ebp+var_F9]
		cmp	eax, 0Dh
		jnz	short loc_4171

loc_4157:				; CODE XREF: _resolveImplicitLevels+3A1j
					; _resolveImplicitLevels+3ADj
		mov	al, [ebp+var_F9]
		mov	[ebp+var_BD], al
		mov	eax, [ebp+var_108]
		mov	[ebp+var_CC], eax
		jmp	short loc_4173
; ---------------------------------------------------------------------------

loc_4171:				; CODE XREF: _resolveImplicitLevels+3B9j
		jmp	short loc_4109
; ---------------------------------------------------------------------------

loc_4173:				; CODE XREF: _resolveImplicitLevels+349j
					; _resolveImplicitLevels+385j ...
		movzx	eax, [ebp+var_BD]
		cmp	eax, 0Dh
		jnz	short loc_4186
		mov	[ebp+var_ED], 5

loc_4186:				; CODE XREF: _resolveImplicitLevels+312j
					; _resolveImplicitLevels+32Bj ...
		movzx	eax, [ebp+var_ED]
		mov	cl, _groupProp[eax]
		mov	[ebp+var_8D], cl

loc_4199:				; CODE XREF: _resolveImplicitLevels+2DDj
		mov	ax, [ebp+var_78]
		mov	[ebp+var_6C], ax
		movzx	eax, [ebp+var_6C]
		shl	eax, 4
		movzx	ecx, [ebp+var_8D]
		mov	dl, _impTabProps[eax+ecx]
		mov	[ebp+var_A5], dl
		movzx	eax, [ebp+var_A5]
		and	eax, 1Fh
		mov	[ebp+var_78], ax
		movzx	eax, [ebp+var_A5]
		sar	eax, 5
		mov	[ebp+var_84], ax
		mov	eax, [ebp+var_48]
		cmp	eax, [ebp+arg_8]
		jnz	short loc_41FA
		movzx	eax, [ebp+var_84]
		test	eax, eax
		jnz	short loc_41FA
		mov	eax, 1
		mov	[ebp+var_84], ax

loc_41FA:				; CODE XREF: _resolveImplicitLevels+445j
					; _resolveImplicitLevels+450j
		movzx	eax, [ebp+var_84]
		test	eax, eax
		jz	loc_4322
		movzx	eax, [ebp+var_6C]
		shl	eax, 4
		mov	cl, byte_47[eax]
		mov	[ebp+var_99], cl
		movzx	eax, [ebp+var_84]
		mov	[ebp+var_1DC], eax
		mov	ecx, [ebp+var_1DC]
		sub	ecx, 1
		mov	[ebp+var_1DC], ecx
		cmp	[ebp+var_1DC], 3 ; switch 4 cases
		ja	loc_42F8	; jumptable 0000424B default case
		mov	edx, [ebp+var_1DC]
		jmp	ds:$LN57[edx*4]	; switch jump
; ---------------------------------------------------------------------------

$LN13:					; CODE XREF: _resolveImplicitLevels+4AFj
					; DATA XREF: .text:$LN57o
		mov	eax, [ebp+var_48] ; jumptable 0000424B case 0
		push	eax
		mov	ecx, [ebp+var_54]
		push	ecx
		movzx	edx, [ebp+var_99]
		push	edx
		lea	eax, [ebp+var_3C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_processPropertySeq
		add	esp, 14h
		mov	eax, [ebp+var_48]
		mov	[ebp+var_54], eax
		jmp	loc_4322
; ---------------------------------------------------------------------------

$LN12:					; CODE XREF: _resolveImplicitLevels+4AFj
					; DATA XREF: .text:$LN57o
		mov	eax, [ebp+var_48] ; jumptable 0000424B case 1
		mov	[ebp+var_60], eax
		jmp	loc_4322
; ---------------------------------------------------------------------------

$LN11_0:				; CODE XREF: _resolveImplicitLevels+4AFj
					; DATA XREF: .text:$LN57o
		mov	eax, [ebp+var_60] ; jumptable 0000424B case 2
		push	eax
		mov	ecx, [ebp+var_54]
		push	ecx
		movzx	edx, [ebp+var_99]
		push	edx
		lea	eax, [ebp+var_3C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_processPropertySeq
		add	esp, 14h
		mov	eax, [ebp+var_48]
		push	eax
		mov	ecx, [ebp+var_60]
		push	ecx
		push	4
		lea	edx, [ebp+var_3C]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_processPropertySeq
		add	esp, 14h
		mov	eax, [ebp+var_48]
		mov	[ebp+var_54], eax
		jmp	short loc_4322
; ---------------------------------------------------------------------------

$LN10_0:				; CODE XREF: _resolveImplicitLevels+4AFj
					; DATA XREF: .text:$LN57o
		mov	eax, [ebp+var_60] ; jumptable 0000424B case 3
		push	eax
		mov	ecx, [ebp+var_54]
		push	ecx
		movzx	edx, [ebp+var_99]
		push	edx
		lea	eax, [ebp+var_3C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_processPropertySeq
		add	esp, 14h
		mov	eax, [ebp+var_60]
		mov	[ebp+var_54], eax
		mov	eax, [ebp+var_48]
		mov	[ebp+var_60], eax
		jmp	short loc_4322
; ---------------------------------------------------------------------------

loc_42F8:				; CODE XREF: _resolveImplicitLevels+4A3j
		xor	eax, eax	; jumptable 0000424B default case
		jnz	short loc_4322
		mov	ecx, ds:?__LINE__Var@?1??resolveImplicitLevels@@9@9@80f45a25
		add	ecx, 7Eh ; '~'
		mov	esi, esp
		push	ecx		; Line
		push	offset ??_C@_1FE@CHIMDBDO@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@ ; "d:\\mozilla\\intl\\icu\\source\\common\"...
		push	offset ??_C@_13COJANIEC@?$AA0?$AA?$AA@ ; Message
		call	dword ptr ds:__imp___wassert
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp

loc_4322:				; CODE XREF: _resolveImplicitLevels+467j
					; _resolveImplicitLevels+4DCj ...
		jmp	loc_3FE9
; ---------------------------------------------------------------------------

loc_4327:				; CODE XREF: _resolveImplicitLevels+25Cj
					; _resolveImplicitLevels:loc_406Bj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		cmp	ecx, [eax+10h]
		jnz	short loc_4362
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+70h], 0
		jle	short loc_4362
		mov	eax, [ebp+arg_0]
		push	eax
		call	_firstL_R_AL_EN_AN
		add	esp, 4
		mov	[ebp+var_111], al
		movzx	eax, [ebp+var_111]
		cmp	eax, 4
		jz	short loc_4362
		mov	al, [ebp+var_111]
		mov	[ebp+arg_10], al

loc_4362:				; CODE XREF: _resolveImplicitLevels+594j
					; _resolveImplicitLevels+59Dj ...
		mov	eax, [ebp+arg_8]
		sub	eax, 1
		mov	[ebp+var_48], eax
		jmp	short loc_4376
; ---------------------------------------------------------------------------

loc_436D:				; CODE XREF: _resolveImplicitLevels+5FAj
		mov	eax, [ebp+var_48]
		sub	eax, 1
		mov	[ebp+var_48], eax

loc_4376:				; CODE XREF: _resolveImplicitLevels+5CFj
		mov	eax, [ebp+var_48]
		cmp	eax, [ebp+arg_4]
		jle	short loc_4398
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_48]
		movzx	ecx, byte ptr [eax]
		mov	edx, 1
		shl	edx, cl
		and	edx, 5D800h
		jz	short loc_4398
		jmp	short loc_436D
; ---------------------------------------------------------------------------

loc_4398:				; CODE XREF: _resolveImplicitLevels+5E0j
					; _resolveImplicitLevels+5F8j
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_48]
		mov	cl, [eax]
		mov	[ebp+var_11], cl
		movzx	eax, [ebp+var_11]
		cmp	eax, 14h
		jz	short loc_43B9
		movzx	eax, [ebp+var_11]
		cmp	eax, 15h
		jnz	loc_4450

loc_43B9:				; CODE XREF: _resolveImplicitLevels+60Ej
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		cmp	ecx, [eax+10h]
		jge	loc_4450
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		add	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+0F4h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0F8h]
		mov	dx, [ebp+var_78]
		mov	[eax+ecx+0Ch], dx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0F8h]
		mov	edx, [ebp+var_28]
		mov	[eax+ecx+8], edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0F8h]
		mov	edx, [ebp+var_54]
		mov	[eax+ecx+4], edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0F4h]
		shl	ecx, 4
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0F8h]
		mov	edx, [ebp+var_34]
		mov	[ecx+eax], edx
		jmp	short loc_446D
; ---------------------------------------------------------------------------

loc_4450:				; CODE XREF: _resolveImplicitLevels+617j
					; _resolveImplicitLevels+626j
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_8]
		push	ecx
		movzx	edx, [ebp+arg_10]
		push	edx
		lea	eax, [ebp+var_3C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_processPropertySeq
		add	esp, 14h

loc_446D:				; CODE XREF: _resolveImplicitLevels+6B2j
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN56
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 1E0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_resolveImplicitLevels endp

; ---------------------------------------------------------------------------
		align 4
$LN56		dd 1			; DATA XREF: _resolveImplicitLevels+6D5o
		dd offset $LN55
$LN55		dd 0FFFFFFC4h, 20h	; DATA XREF: .text:00004498o
		dd offset $LN54		; "levState"
$LN54		db 'levState',0         ; DATA XREF: .text:000044A4o
		align 4
$LN57		dd offset $LN13		; DATA XREF: _resolveImplicitLevels+4AFr
		dd offset $LN12		; jump table for switch	statement
		dd offset $LN11_0
		dd offset $LN10_0
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_data		segment	dword public 'DATA' use32
		assume cs:_data
		;org 44C4h
		public ?__LINE__Var@?1??resolveImplicitLevels@@9@9@80f45a25
?__LINE__Var@?1??resolveImplicitLevels@@9@9@80f45a25 dd	836h
					; DATA XREF: _resolveImplicitLevels+560r
_data		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 44C8h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_processPropertySeq proc near		; CODE XREF: _resolveImplicitLevels+237p
					; _resolveImplicitLevels+4CEp ...

var_148		= dword	ptr -148h
var_80		= dword	ptr -80h
var_74		= dword	ptr -74h
var_68		= dword	ptr -68h
var_59		= byte ptr -59h
var_4D		= byte ptr -4Dh
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_1D		= byte ptr -1Dh
var_11		= byte ptr -11h
var_5		= byte ptr -5
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= byte ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h

		push	ebp
		mov	ebp, esp
		sub	esp, 148h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_148]
		mov	ecx, 52h ; 'R'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		mov	[ebp+var_2C], ecx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+4]
		mov	[ebp+var_38], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		mov	[ebp+var_44], ecx
		mov	eax, [ebp+arg_C]
		mov	[ebp+var_74], eax
		mov	eax, [ebp+arg_4]
		mov	cl, [eax+14h]
		mov	[ebp+var_11], cl
		movzx	eax, [ebp+var_11]
		mov	ecx, [ebp+var_2C]
		lea	edx, [ecx+eax*8]
		movzx	eax, [ebp+arg_8]
		mov	cl, [edx+eax]
		mov	[ebp+var_5], cl
		movzx	eax, [ebp+var_5]
		and	eax, 0Fh
		mov	ecx, [ebp+arg_4]
		mov	[ecx+14h], eax
		movzx	eax, [ebp+var_5]
		sar	eax, 4
		mov	ecx, [ebp+var_38]
		mov	dl, [ecx+eax]
		mov	[ebp+var_1D], dl
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+14h]
		mov	edx, [ebp+var_2C]
		mov	al, [edx+ecx*8+7]
		mov	[ebp+var_59], al
		movzx	eax, [ebp+var_1D]
		test	eax, eax
		jz	loc_4AAC
		movzx	eax, [ebp+var_1D]
		mov	[ebp+var_148], eax
		mov	ecx, [ebp+var_148]
		sub	ecx, 1
		mov	[ebp+var_148], ecx
		cmp	[ebp+var_148], 0Dh ; switch 14 cases
		ja	loc_4A7F	; jumptable 00004588 default case
		mov	edx, [ebp+var_148]
		jmp	ds:$LN65[edx*4]	; switch jump
; ---------------------------------------------------------------------------

$LN58:					; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_4] ; jumptable 00004588 case 0
		mov	ecx, [ebp+var_74]
		mov	[eax+8], ecx
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN57_0:				; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_4] ; jumptable 00004588 case 1
		mov	ecx, [eax+8]
		mov	[ebp+arg_C], ecx
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN56_0:				; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_4] ; jumptable 00004588 case 2
		movzx	ecx, byte ptr [eax+1Ch]
		add	ecx, 1
		mov	[ebp+var_4D], cl
		movzx	eax, [ebp+var_4D]
		push	eax
		mov	ecx, [ebp+var_74]
		push	ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+8]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_setLevelsOutsideIsolates
		add	esp, 10h
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN55_0:				; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_4] ; jumptable 00004588 case 3
		movzx	ecx, byte ptr [eax+1Ch]
		add	ecx, 2
		mov	[ebp+var_4D], cl
		movzx	eax, [ebp+var_4D]
		push	eax
		mov	ecx, [ebp+var_74]
		push	ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+8]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_setLevelsOutsideIsolates
		add	esp, 10h
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN54_0:				; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_4] ; jumptable 00004588 case 4
		cmp	dword ptr [eax+0Ch], 0
		jl	short loc_4625
		push	1
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0Ch]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_addPoint
		add	esp, 0Ch

loc_4625:				; CODE XREF: _processPropertySeq+146j
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+0Ch], 0FFFFFFFFh
		mov	eax, [ebp+arg_0]
		add	eax, 14Ch
		mov	[ebp+var_68], eax
		mov	eax, [ebp+var_68]
		cmp	dword ptr [eax], 0
		jz	short loc_4650
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [eax+4]
		cmp	edx, [ecx+8]
		jg	short loc_46AF

loc_4650:				; CODE XREF: _processPropertySeq+178j
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+10h], 0FFFFFFFFh
		movzx	eax, [ebp+var_11]
		mov	ecx, [ebp+var_2C]
		mov	dl, [ecx+eax*8+7]
		mov	[ebp+var_4D], dl
		movzx	eax, [ebp+var_4D]
		and	eax, 1
		jz	short loc_4683
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax+8], 0
		jle	short loc_4683
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+8]
		mov	[ebp+arg_C], ecx

loc_4683:				; CODE XREF: _processPropertySeq+1A7j
					; _processPropertySeq+1B0j
		movzx	eax, [ebp+arg_8]
		cmp	eax, 5
		jnz	short loc_46AA
		push	1
		mov	eax, [ebp+var_74]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_addPoint
		add	esp, 0Ch
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [ecx+4]
		mov	[eax+8], edx

loc_46AA:				; CODE XREF: _processPropertySeq+1C2j
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

loc_46AF:				; CODE XREF: _processPropertySeq+186j
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+10h]
		add	ecx, 1
		mov	[ebp+var_80], ecx
		jmp	short loc_46C6
; ---------------------------------------------------------------------------

loc_46BD:				; CODE XREF: _processPropertySeq+21Dj
		mov	eax, [ebp+var_80]
		add	eax, 1
		mov	[ebp+var_80], eax

loc_46C6:				; CODE XREF: _processPropertySeq+1F3j
		mov	eax, [ebp+var_80]
		cmp	eax, [ebp+var_74]
		jge	short loc_46E7
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		sub	ecx, 2
		and	ecx, 0FFFFFFFEh
		mov	edx, [ebp+var_44]
		add	edx, [ebp+var_80]
		mov	[edx], cl
		jmp	short loc_46BD
; ---------------------------------------------------------------------------

loc_46E7:				; CODE XREF: _processPropertySeq+204j
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [ecx+4]
		mov	[eax+8], edx
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+10h], 0FFFFFFFFh
		movzx	eax, [ebp+arg_8]
		cmp	eax, 5
		jnz	short loc_4724
		push	1
		mov	eax, [ebp+var_74]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_addPoint
		add	esp, 0Ch
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [ecx+4]
		mov	[eax+8], edx

loc_4724:				; CODE XREF: _processPropertySeq+23Cj
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN44:					; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_0] ; jumptable 00004588 case 5
		add	eax, 14Ch
		mov	[ebp+var_68], eax
		mov	eax, [ebp+var_68]
		cmp	dword ptr [eax], 0
		jle	short loc_4748
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [ecx+8]
		mov	[eax+4], edx

loc_4748:				; CODE XREF: _processPropertySeq+272j
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+8], 0FFFFFFFFh
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+0Ch], 0FFFFFFFFh
		mov	eax, [ebp+arg_10]
		sub	eax, 1
		mov	ecx, [ebp+arg_4]
		mov	[ecx+10h], eax
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN42_0:				; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		movzx	eax, [ebp+arg_8] ; jumptable 00004588 case 6
		cmp	eax, 3
		jnz	short loc_47EA
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4Ch]
		mov	edx, [ebp+var_74]
		movzx	eax, byte ptr [ecx+edx]
		cmp	eax, 5
		jnz	short loc_47EA
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+58h], 6
		jz	short loc_47EA
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax+0Ch], 0FFFFFFFFh
		jnz	short loc_47AB
		mov	eax, [ebp+arg_10]
		sub	eax, 1
		mov	ecx, [ebp+arg_4]
		mov	[ecx+10h], eax
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

loc_47AB:				; CODE XREF: _processPropertySeq+2D0j
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax+0Ch], 0
		jl	short loc_47D3
		push	1
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0Ch]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_addPoint
		add	esp, 0Ch
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+0Ch], 0FFFFFFFEh

loc_47D3:				; CODE XREF: _processPropertySeq+2EAj
		push	1
		mov	eax, [ebp+var_74]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_addPoint
		add	esp, 0Ch
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

loc_47EA:				; CODE XREF: _processPropertySeq+2ACj
					; _processPropertySeq+2BEj ...
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax+0Ch], 0FFFFFFFFh
		jnz	short loc_47FC
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_74]
		mov	[eax+0Ch], ecx

loc_47FC:				; CODE XREF: _processPropertySeq+329j
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN37:					; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_10] ; jumptable 00004588 case 7
		sub	eax, 1
		mov	ecx, [ebp+arg_4]
		mov	[ecx+10h], eax
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+8], 0FFFFFFFFh
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN36:					; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+var_74] ; jumptable 00004588 case 8
		sub	eax, 1
		mov	[ebp+var_80], eax
		jmp	short loc_4830
; ---------------------------------------------------------------------------

loc_4827:				; CODE XREF: _processPropertySeq+37Cj
		mov	eax, [ebp+var_80]
		sub	eax, 1
		mov	[ebp+var_80], eax

loc_4830:				; CODE XREF: _processPropertySeq+35Dj
		cmp	[ebp+var_80], 0
		jl	short loc_4846
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		and	ecx, 1
		jnz	short loc_4846
		jmp	short loc_4827
; ---------------------------------------------------------------------------

loc_4846:				; CODE XREF: _processPropertySeq+36Cj
					; _processPropertySeq+37Aj
		cmp	[ebp+var_80], 0
		jl	short loc_4875
		push	4
		mov	eax, [ebp+var_80]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_addPoint
		add	esp, 0Ch
		mov	eax, [ebp+arg_0]
		add	eax, 14Ch
		mov	[ebp+var_68], eax
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [ecx+4]
		mov	[eax+8], edx

loc_4875:				; CODE XREF: _processPropertySeq+382j
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_74]
		mov	[eax+8], ecx
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN31:					; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		push	1		; jumptable 00004588 case 9
		mov	eax, [ebp+var_74]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_addPoint
		add	esp, 0Ch
		push	2
		mov	eax, [ebp+var_74]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_addPoint
		add	esp, 0Ch
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN30_0:				; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_0] ; jumptable 00004588 case 10
		add	eax, 14Ch
		mov	[ebp+var_68], eax
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [ecx+8]
		mov	[eax+4], edx
		movzx	eax, [ebp+arg_8]
		cmp	eax, 5
		jnz	short loc_48EA
		push	4
		mov	eax, [ebp+var_74]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_addPoint
		add	esp, 0Ch
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [ecx+4]
		mov	[eax+8], edx

loc_48EA:				; CODE XREF: _processPropertySeq+402j
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN28:					; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_4] ; jumptable 00004588 case 11
		movzx	ecx, byte ptr [eax+1Ch]
		movzx	edx, [ebp+var_59]
		add	ecx, edx
		mov	[ebp+var_4D], cl
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+8]
		mov	[ebp+var_80], ecx
		jmp	short loc_4913
; ---------------------------------------------------------------------------

loc_490A:				; CODE XREF: _processPropertySeq:loc_4937j
		mov	eax, [ebp+var_80]
		add	eax, 1
		mov	[ebp+var_80], eax

loc_4913:				; CODE XREF: _processPropertySeq+440j
		mov	eax, [ebp+var_80]
		cmp	eax, [ebp+var_74]
		jge	short loc_4939
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		movzx	edx, [ebp+var_4D]
		cmp	ecx, edx
		jge	short loc_4937
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		mov	cl, [ebp+var_4D]
		mov	[eax], cl

loc_4937:				; CODE XREF: _processPropertySeq+462j
		jmp	short loc_490A
; ---------------------------------------------------------------------------

loc_4939:				; CODE XREF: _processPropertySeq+451j
		mov	eax, [ebp+arg_0]
		add	eax, 14Ch
		mov	[ebp+var_68], eax
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_68]
		mov	edx, [ecx+4]
		mov	[eax+8], edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_74]
		mov	[eax+8], ecx
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN23:					; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_4] ; jumptable 00004588 case 12
		mov	cl, [eax+1Ch]
		mov	[ebp+var_4D], cl
		mov	eax, [ebp+var_74]
		sub	eax, 1
		mov	[ebp+var_80], eax
		jmp	short loc_497B
; ---------------------------------------------------------------------------

loc_4972:				; CODE XREF: _processPropertySeq+544j
					; _processPropertySeq+558j
		mov	eax, [ebp+var_80]
		sub	eax, 1
		mov	[ebp+var_80], eax

loc_497B:				; CODE XREF: _processPropertySeq+4A8j
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_80]
		cmp	ecx, [eax+8]
		jl	loc_4A25
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		movzx	edx, [ebp+var_4D]
		add	edx, 3
		cmp	ecx, edx
		jnz	short loc_49ED

loc_499E:				; CODE XREF: _processPropertySeq+507j
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		movzx	edx, [ebp+var_4D]
		add	edx, 3
		cmp	ecx, edx
		jnz	short loc_49D1
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		sub	ecx, 2
		mov	edx, [ebp+var_44]
		add	edx, [ebp+var_80]
		mov	[edx], cl
		mov	eax, [ebp+var_80]
		sub	eax, 1
		mov	[ebp+var_80], eax
		jmp	short loc_499E
; ---------------------------------------------------------------------------

loc_49D1:				; CODE XREF: _processPropertySeq+4E8j
					; _processPropertySeq+523j
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		movzx	edx, [ebp+var_4D]
		cmp	ecx, edx
		jnz	short loc_49ED
		mov	eax, [ebp+var_80]
		sub	eax, 1
		mov	[ebp+var_80], eax
		jmp	short loc_49D1
; ---------------------------------------------------------------------------

loc_49ED:				; CODE XREF: _processPropertySeq+4D4j
					; _processPropertySeq+518j
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		movzx	edx, [ebp+var_4D]
		add	edx, 2
		cmp	ecx, edx
		jnz	short loc_4A11
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		mov	cl, [ebp+var_4D]
		mov	[eax], cl
		jmp	loc_4972
; ---------------------------------------------------------------------------

loc_4A11:				; CODE XREF: _processPropertySeq+537j
		movzx	eax, [ebp+var_4D]
		add	eax, 1
		mov	ecx, [ebp+var_44]
		add	ecx, [ebp+var_80]
		mov	[ecx], al
		jmp	loc_4972
; ---------------------------------------------------------------------------

loc_4A25:				; CODE XREF: _processPropertySeq+4BCj
		jmp	loc_4AAC
; ---------------------------------------------------------------------------

$LN13_0:				; CODE XREF: _processPropertySeq+C0j
					; DATA XREF: .text:$LN65o
		mov	eax, [ebp+arg_4] ; jumptable 00004588 case 13
		movzx	ecx, byte ptr [eax+1Ch]
		add	ecx, 1
		mov	[ebp+var_4D], cl
		mov	eax, [ebp+var_74]
		sub	eax, 1
		mov	[ebp+var_80], eax
		jmp	short loc_4A4B
; ---------------------------------------------------------------------------

loc_4A42:				; CODE XREF: _processPropertySeq:loc_4A7Bj
		mov	eax, [ebp+var_80]
		sub	eax, 1
		mov	[ebp+var_80], eax

loc_4A4B:				; CODE XREF: _processPropertySeq+578j
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_80]
		cmp	ecx, [eax+8]
		jl	short loc_4A7D
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		movzx	edx, [ebp+var_4D]
		cmp	ecx, edx
		jle	short loc_4A7B
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		movzx	ecx, byte ptr [eax]
		sub	ecx, 2
		mov	edx, [ebp+var_44]
		add	edx, [ebp+var_80]
		mov	[edx], cl

loc_4A7B:				; CODE XREF: _processPropertySeq+59Dj
		jmp	short loc_4A42
; ---------------------------------------------------------------------------

loc_4A7D:				; CODE XREF: _processPropertySeq+58Cj
		jmp	short loc_4AAC
; ---------------------------------------------------------------------------

loc_4A7F:				; CODE XREF: _processPropertySeq+B4j
		xor	eax, eax	; jumptable 00004588 default case
		jnz	short loc_4AAC
		mov	ecx, ds:?__LINE__Var@?1??processPropertySeq@@9@9@80f45a25
		add	ecx, 0BDh ; '½'
		mov	esi, esp
		push	ecx		; Line
		push	offset ??_C@_1FE@CHIMDBDO@?$AAd?$AA?3?$AA?2?$AAm?$AAo?$AAz?$AAi?$AAl?$AAl?$AAa?$AA?2?$AAi?$AAn?$AAt?$AAl?$AA?2?$AAi?$AAc?$AAu?$AA?2?$AAs?$AAo?$AAu?$AAr?$AAc?$AAe?$AA?2?$AAc?$AAo?$AAm?$AAm?$AAo@ ; "d:\\mozilla\\intl\\icu\\source\\common\"...
		push	offset ??_C@_13COJANIEC@?$AA0?$AA?$AA@ ; Message
		call	dword ptr ds:__imp___wassert
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp

loc_4AAC:				; CODE XREF: _processPropertySeq+8Ej
					; _processPropertySeq+D0j ...
		movzx	eax, [ebp+var_59]
		test	eax, eax
		jnz	short loc_4ABC
		mov	eax, [ebp+arg_C]
		cmp	eax, [ebp+var_74]
		jge	short loc_4B18

loc_4ABC:				; CODE XREF: _processPropertySeq+5EAj
		mov	eax, [ebp+arg_4]
		movzx	ecx, byte ptr [eax+1Ch]
		movzx	edx, [ebp+var_59]
		add	ecx, edx
		mov	[ebp+var_4D], cl
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_C]
		cmp	ecx, [eax+18h]
		jl	short loc_4AFF
		mov	eax, [ebp+arg_C]
		mov	[ebp+var_80], eax
		jmp	short loc_4AE8
; ---------------------------------------------------------------------------

loc_4ADF:				; CODE XREF: _processPropertySeq+633j
		mov	eax, [ebp+var_80]
		add	eax, 1
		mov	[ebp+var_80], eax

loc_4AE8:				; CODE XREF: _processPropertySeq+615j
		mov	eax, [ebp+var_80]
		cmp	eax, [ebp+arg_10]
		jge	short loc_4AFD
		mov	eax, [ebp+var_44]
		add	eax, [ebp+var_80]
		mov	cl, [ebp+var_4D]
		mov	[eax], cl
		jmp	short loc_4ADF
; ---------------------------------------------------------------------------

loc_4AFD:				; CODE XREF: _processPropertySeq+626j
		jmp	short loc_4B18
; ---------------------------------------------------------------------------

loc_4AFF:				; CODE XREF: _processPropertySeq+60Dj
		movzx	eax, [ebp+var_4D]
		push	eax
		mov	ecx, [ebp+arg_10]
		push	ecx
		mov	edx, [ebp+arg_C]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_setLevelsOutsideIsolates
		add	esp, 10h

loc_4B18:				; CODE XREF: _processPropertySeq+5F2j
					; _processPropertySeq:loc_4AFDj
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 148h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_processPropertySeq endp

; ---------------------------------------------------------------------------
$LN65		dd offset $LN58		; DATA XREF: _processPropertySeq+C0r
		dd offset $LN57_0	; jump table for switch	statement
		dd offset $LN56_0
		dd offset $LN55_0
		dd offset $LN54_0
		dd offset $LN44
		dd offset $LN42_0
		dd offset $LN37
		dd offset $LN36
		dd offset $LN31
		dd offset $LN30_0
		dd offset $LN28
		dd offset $LN23
		dd offset $LN13_0
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_data		segment	dword public 'DATA' use32
		assume cs:_data
		;org 4B64h
		public ?__LINE__Var@?1??processPropertySeq@@9@9@80f45a25
?__LINE__Var@?1??processPropertySeq@@9@9@80f45a25 dd 72Bh
					; DATA XREF: _processPropertySeq+5BBr
_data		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 4B68h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_setLevelsOutsideIsolates proc near	; CODE XREF: _processPropertySeq+104p
					; _processPropertySeq+132p ...

var_FC		= byte ptr -0FCh
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_11		= byte ptr -11h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= byte ptr  14h

		push	ebp
		mov	ebp, esp
		sub	esp, 0FCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_FC]
		mov	ecx, 3Fh ; '?'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4Ch]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		mov	[ebp+var_20], ecx
		mov	[ebp+var_2C], 0
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_38], eax
		jmp	short loc_4BB0
; ---------------------------------------------------------------------------

loc_4BA7:				; CODE XREF: _setLevelsOutsideIsolates:loc_4C01j
		mov	eax, [ebp+var_38]
		add	eax, 1
		mov	[ebp+var_38], eax

loc_4BB0:				; CODE XREF: _setLevelsOutsideIsolates+3Dj
		mov	eax, [ebp+var_38]
		cmp	eax, [ebp+arg_8]
		jge	short loc_4C03
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_38]
		mov	cl, [eax]
		mov	[ebp+var_11], cl
		movzx	eax, [ebp+var_11]
		cmp	eax, 16h
		jnz	short loc_4BD5
		mov	eax, [ebp+var_2C]
		sub	eax, 1
		mov	[ebp+var_2C], eax

loc_4BD5:				; CODE XREF: _setLevelsOutsideIsolates+62j
		cmp	[ebp+var_2C], 0
		jnz	short loc_4BE6
		mov	eax, [ebp+var_20]
		add	eax, [ebp+var_38]
		mov	cl, [ebp+arg_C]
		mov	[eax], cl

loc_4BE6:				; CODE XREF: _setLevelsOutsideIsolates+71j
		movzx	eax, [ebp+var_11]
		cmp	eax, 14h
		jz	short loc_4BF8
		movzx	eax, [ebp+var_11]
		cmp	eax, 15h
		jnz	short loc_4C01

loc_4BF8:				; CODE XREF: _setLevelsOutsideIsolates+85j
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax

loc_4C01:				; CODE XREF: _setLevelsOutsideIsolates+8Ej
		jmp	short loc_4BA7
; ---------------------------------------------------------------------------

loc_4C03:				; CODE XREF: _setLevelsOutsideIsolates+4Ej
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_setLevelsOutsideIsolates endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 4C0Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_lastL_R_AL	proc near		; CODE XREF: _resolveImplicitLevels+120p

var_108		= byte ptr -108h
var_44		= word ptr -44h
var_35		= byte ptr -35h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 108h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_108]
		mov	ecx, 42h ; 'B'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+64h]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+68h]
		mov	[ebp+var_14], ecx
		mov	eax, [ebp+var_14]
		mov	[ebp+var_20], eax

loc_4C42:				; CODE XREF: _lastL_R_AL:loc_4CF5j
		cmp	[ebp+var_20], 0
		jle	loc_4CFA
		mov	eax, [ebp+var_20]
		sub	eax, 1
		mov	[ebp+var_20], eax
		mov	ecx, [ebp+var_20]
		mov	edx, [ebp+var_8]
		movzx	eax, word ptr [edx+ecx*2]
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_2C]
		and	eax, 0FFFFFC00h
		cmp	eax, 0DC00h
		jnz	short loc_4CB3
		cmp	[ebp+var_20], 0
		jle	short loc_4CB3
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+var_8]
		mov	dx, [ecx+eax*2-2]
		mov	[ebp+var_44], dx
		movzx	eax, [ebp+var_44]
		and	eax, 0FFFFFC00h
		cmp	eax, 0D800h
		jnz	short loc_4CB3
		mov	eax, [ebp+var_20]
		sub	eax, 1
		mov	[ebp+var_20], eax
		movzx	eax, [ebp+var_44]
		shl	eax, 0Ah
		mov	ecx, [ebp+var_2C]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_2C], edx

loc_4CB3:				; CODE XREF: _lastL_R_AL+63j
					; _lastL_R_AL+69j ...
		mov	eax, [ebp+var_2C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getCustomizedClass_56
		add	esp, 8
		mov	[ebp+var_35], al
		movzx	eax, [ebp+var_35]
		test	eax, eax
		jnz	short loc_4CD2
		xor	al, al
		jmp	short loc_4CFC
; ---------------------------------------------------------------------------

loc_4CD2:				; CODE XREF: _lastL_R_AL+C0j
		movzx	eax, [ebp+var_35]
		cmp	eax, 1
		jz	short loc_4CE4
		movzx	eax, [ebp+var_35]
		cmp	eax, 0Dh
		jnz	short loc_4CE8

loc_4CE4:				; CODE XREF: _lastL_R_AL+CDj
		mov	al, 1
		jmp	short loc_4CFC
; ---------------------------------------------------------------------------

loc_4CE8:				; CODE XREF: _lastL_R_AL+D6j
		movzx	eax, [ebp+var_35]
		cmp	eax, 7
		jnz	short loc_4CF5
		mov	al, 4
		jmp	short loc_4CFC
; ---------------------------------------------------------------------------

loc_4CF5:				; CODE XREF: _lastL_R_AL+E3j
		jmp	loc_4C42
; ---------------------------------------------------------------------------

loc_4CFA:				; CODE XREF: _lastL_R_AL+3Aj
		mov	al, 4

loc_4CFC:				; CODE XREF: _lastL_R_AL+C4j
					; _lastL_R_AL+DAj ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 108h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_lastL_R_AL	endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 4D10h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_firstL_R_AL_EN_AN proc	near		; CODE XREF: _resolveImplicitLevels+5A3p

var_108		= byte ptr -108h
var_44		= word ptr -44h
var_35		= byte ptr -35h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 108h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_108]
		mov	ecx, 42h ; 'B'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+6Ch]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+70h]
		mov	[ebp+var_14], ecx
		mov	[ebp+var_20], 0

loc_4D47:				; CODE XREF: _firstL_R_AL_EN_AN:loc_4E0Aj
		mov	eax, [ebp+var_20]
		cmp	eax, [ebp+var_14]
		jge	loc_4E0F
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+var_8]
		movzx	edx, word ptr [ecx+eax*2]
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		and	eax, 0FFFFFC00h
		cmp	eax, 0D800h
		jnz	short loc_4DBB
		mov	eax, [ebp+var_20]
		cmp	eax, [ebp+var_14]
		jz	short loc_4DBB
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+var_8]
		mov	dx, [ecx+eax*2]
		mov	[ebp+var_44], dx
		movzx	eax, [ebp+var_44]
		and	eax, 0FFFFFC00h
		cmp	eax, 0DC00h
		jnz	short loc_4DBB
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax
		mov	eax, [ebp+var_2C]
		shl	eax, 0Ah
		movzx	ecx, [ebp+var_44]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_2C], edx

loc_4DBB:				; CODE XREF: _firstL_R_AL_EN_AN+66j
					; _firstL_R_AL_EN_AN+6Ej ...
		mov	eax, [ebp+var_2C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getCustomizedClass_56
		add	esp, 8
		mov	[ebp+var_35], al
		movzx	eax, [ebp+var_35]
		test	eax, eax
		jnz	short loc_4DDA
		xor	al, al
		jmp	short loc_4E11
; ---------------------------------------------------------------------------

loc_4DDA:				; CODE XREF: _firstL_R_AL_EN_AN+C4j
		movzx	eax, [ebp+var_35]
		cmp	eax, 1
		jz	short loc_4DEC
		movzx	eax, [ebp+var_35]
		cmp	eax, 0Dh
		jnz	short loc_4DF0

loc_4DEC:				; CODE XREF: _firstL_R_AL_EN_AN+D1j
		mov	al, 1
		jmp	short loc_4E11
; ---------------------------------------------------------------------------

loc_4DF0:				; CODE XREF: _firstL_R_AL_EN_AN+DAj
		movzx	eax, [ebp+var_35]
		cmp	eax, 2
		jnz	short loc_4DFD
		mov	al, 2
		jmp	short loc_4E11
; ---------------------------------------------------------------------------

loc_4DFD:				; CODE XREF: _firstL_R_AL_EN_AN+E7j
		movzx	eax, [ebp+var_35]
		cmp	eax, 5
		jnz	short loc_4E0A
		mov	al, 3
		jmp	short loc_4E11
; ---------------------------------------------------------------------------

loc_4E0A:				; CODE XREF: _firstL_R_AL_EN_AN+F4j
		jmp	loc_4D47
; ---------------------------------------------------------------------------

loc_4E0F:				; CODE XREF: _firstL_R_AL_EN_AN+3Dj
		mov	al, 4

loc_4E11:				; CODE XREF: _firstL_R_AL_EN_AN+C8j
					; _firstL_R_AL_EN_AN+DEj ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 108h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_firstL_R_AL_EN_AN endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 4E28h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_adjustWSLevels	proc near		; CODE XREF: _ubidi_setPara_56+7E0p

var_100		= dword	ptr -100h
var_38		= dword	ptr -38h
var_29		= byte ptr -29h
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 100h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_100]
		mov	ecx, 40h ; '@'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4Ch]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		mov	[ebp+var_14], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+7Ch]
		and	ecx, 7DDB80h
		jz	loc_4FF5
		mov	eax, [ebp+arg_0]
		mov	cl, [eax+60h]
		mov	[ebp+var_29], cl
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+84h]
		mov	[ebp+var_20], ecx

loc_4E7F:				; CODE XREF: _adjustWSLevels:loc_4FF0j
		cmp	[ebp+var_20], 0
		jle	loc_4FF5

loc_4E89:				; CODE XREF: _adjustWSLevels:loc_4F27j
		cmp	[ebp+var_20], 0
		jle	loc_4F2C
		mov	eax, [ebp+var_20]
		sub	eax, 1
		mov	[ebp+var_20], eax
		mov	ecx, [ebp+var_8]
		add	ecx, [ebp+var_20]
		movzx	ecx, byte ptr [ecx]
		mov	edx, 1
		shl	edx, cl
		mov	[ebp+var_38], edx
		mov	eax, [ebp+var_38]
		and	eax, 7DDB80h
		jz	short loc_4F2C
		movsx	eax, [ebp+var_29]
		test	eax, eax
		jz	short loc_4ED6
		mov	eax, [ebp+var_38]
		and	eax, 80h
		jz	short loc_4ED6
		mov	eax, [ebp+var_14]
		add	eax, [ebp+var_20]
		mov	byte ptr [eax],	0
		jmp	short loc_4F27
; ---------------------------------------------------------------------------

loc_4ED6:				; CODE XREF: _adjustWSLevels+97j
					; _adjustWSLevels+A1j
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_4F0C
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	ecx, [ebp+var_20]
		cmp	ecx, [eax]
		jl	short loc_4F0C
		mov	edx, [ebp+var_20]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_100], ecx
		jmp	short loc_4F19
; ---------------------------------------------------------------------------

loc_4F0C:				; CODE XREF: _adjustWSLevels+B7j
					; _adjustWSLevels+C7j
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_100], eax

loc_4F19:				; CODE XREF: _adjustWSLevels+E2j
		mov	ecx, [ebp+var_14]
		add	ecx, [ebp+var_20]
		mov	dl, byte ptr [ebp+var_100]
		mov	[ecx], dl

loc_4F27:				; CODE XREF: _adjustWSLevels+ACj
		jmp	loc_4E89
; ---------------------------------------------------------------------------

loc_4F2C:				; CODE XREF: _adjustWSLevels+65j
					; _adjustWSLevels+8Fj ...
		cmp	[ebp+var_20], 0
		jle	loc_4FF0
		mov	eax, [ebp+var_20]
		sub	eax, 1
		mov	[ebp+var_20], eax
		mov	ecx, [ebp+var_8]
		add	ecx, [ebp+var_20]
		movzx	ecx, byte ptr [ecx]
		mov	edx, 1
		shl	edx, cl
		mov	[ebp+var_38], edx
		mov	eax, [ebp+var_38]
		and	eax, 5D800h
		jz	short loc_4F6F
		mov	eax, [ebp+var_14]
		add	eax, [ebp+var_20]
		mov	ecx, [ebp+var_14]
		add	ecx, [ebp+var_20]
		mov	dl, [ecx+1]
		mov	[eax], dl
		jmp	short loc_4FEB
; ---------------------------------------------------------------------------

loc_4F6F:				; CODE XREF: _adjustWSLevels+132j
		movsx	eax, [ebp+var_29]
		test	eax, eax
		jz	short loc_4F8E
		mov	eax, [ebp+var_38]
		and	eax, 80h
		jz	short loc_4F8E
		mov	eax, [ebp+var_14]
		add	eax, [ebp+var_20]
		mov	byte ptr [eax],	0
		jmp	short loc_4FF0
; ---------------------------------------------------------------------------
		jmp	short loc_4FEB
; ---------------------------------------------------------------------------

loc_4F8E:				; CODE XREF: _adjustWSLevels+14Dj
					; _adjustWSLevels+157j
		mov	eax, [ebp+var_38]
		and	eax, 180h
		jz	short loc_4FEB
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_4FCE
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	ecx, [ebp+var_20]
		cmp	ecx, [eax]
		jl	short loc_4FCE
		mov	edx, [ebp+var_20]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_100], ecx
		jmp	short loc_4FDB
; ---------------------------------------------------------------------------

loc_4FCE:				; CODE XREF: _adjustWSLevels+179j
					; _adjustWSLevels+189j
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_100], eax

loc_4FDB:				; CODE XREF: _adjustWSLevels+1A4j
		mov	ecx, [ebp+var_14]
		add	ecx, [ebp+var_20]
		mov	dl, byte ptr [ebp+var_100]
		mov	[ecx], dl
		jmp	short loc_4FF0
; ---------------------------------------------------------------------------

loc_4FEB:				; CODE XREF: _adjustWSLevels+145j
					; _adjustWSLevels+164j	...
		jmp	loc_4F2C
; ---------------------------------------------------------------------------

loc_4FF0:				; CODE XREF: _adjustWSLevels+108j
					; _adjustWSLevels+162j	...
		jmp	loc_4E7F
; ---------------------------------------------------------------------------

loc_4FF5:				; CODE XREF: _adjustWSLevels+3Cj
					; _adjustWSLevels+5Bj
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 100h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_adjustWSLevels	endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 500Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_setParaSuccess	proc near		; CODE XREF: _ubidi_setPara_56+19Ep
					; _ubidi_setPara_56+987p

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+68h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+70h], 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	[eax], ecx
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_setParaSuccess	endp

; ---------------------------------------------------------------------------
		align 10h
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5050h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_setParaRunsOnly proc near		; CODE XREF: _ubidi_setPara_56+98p

var_208		= dword	ptr -208h
var_140		= dword	ptr -140h
var_134		= dword	ptr -134h
var_128		= dword	ptr -128h
var_11C		= dword	ptr -11Ch
var_110		= dword	ptr -110h
var_104		= dword	ptr -104h
var_F8		= dword	ptr -0F8h
var_EC		= dword	ptr -0ECh
var_E0		= dword	ptr -0E0h
var_D4		= dword	ptr -0D4h
var_C8		= dword	ptr -0C8h
var_BC		= dword	ptr -0BCh
var_B0		= dword	ptr -0B0h
var_A4		= dword	ptr -0A4h
var_98		= dword	ptr -98h
var_8C		= dword	ptr -8Ch
var_80		= dword	ptr -80h
var_74		= dword	ptr -74h
var_65		= byte ptr -65h
var_5C		= dword	ptr -5Ch
Dst		= dword	ptr -50h
Src		= dword	ptr -44h
var_38		= dword	ptr -38h
Size		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= byte ptr  14h
arg_10		= dword	ptr  18h

		push	ebp
		mov	ebp, esp
		sub	esp, 208h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_208]
		mov	ecx, 82h ; '‚'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+58h], 0
		cmp	[ebp+arg_8], 0
		jnz	short loc_50A9
		mov	eax, [ebp+arg_10]
		push	eax
		push	0
		movzx	ecx, [ebp+arg_C]
		push	ecx
		mov	edx, [ebp+arg_8]
		push	edx
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_setPara_56
		add	esp, 18h
		jmp	$cleanup3$10051
; ---------------------------------------------------------------------------

loc_50A9:				; CODE XREF: _setParaRunsOnly+33j
		mov	eax, [ebp+arg_8]
		imul	eax, 7
		push	eax
		call	_uprv_malloc_56
		add	esp, 4
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jnz	short loc_50CF
		mov	eax, [ebp+arg_10]
		mov	dword ptr [eax], 7
		jmp	$cleanup3$10051
; ---------------------------------------------------------------------------

loc_50CF:				; CODE XREF: _setParaRunsOnly+6Fj
		mov	eax, [ebp+var_8]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_14]
		lea	edx, [ecx+eax*4]
		mov	[ebp+var_20], edx
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_20]
		lea	edx, [ecx+eax*2]
		mov	[ebp+Dst], edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		mov	[ebp+var_140], ecx
		mov	eax, [ebp+var_140]
		and	eax, 1
		jz	short loc_5122
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		and	ecx, 0FFFFFFFEh
		mov	edx, [ebp+arg_0]
		mov	[edx+5Ch], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+5Ch]
		or	ecx, 2
		mov	edx, [ebp+arg_0]
		mov	[edx+5Ch], ecx

loc_5122:				; CODE XREF: _setParaRunsOnly+B2j
		movzx	eax, [ebp+arg_C]
		and	eax, 1
		mov	[ebp+arg_C], al
		mov	eax, [ebp+arg_10]
		push	eax
		push	0
		movzx	ecx, [ebp+arg_C]
		push	ecx
		mov	edx, [ebp+arg_8]
		push	edx
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_setPara_56
		add	esp, 18h
		mov	eax, [ebp+arg_10]
		cmp	dword ptr [eax], 0
		jle	short loc_5158
		jmp	$cleanup3$10051
; ---------------------------------------------------------------------------

loc_5158:				; CODE XREF: _setParaRunsOnly+101j
		mov	eax, [ebp+arg_10]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getLevels_56
		add	esp, 8
		mov	[ebp+Src], eax
		push	1
		mov	eax, [ebp+Src]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+10h]
		push	edx		; Size
		mov	eax, [ebp+Src]
		push	eax		; Src
		mov	ecx, [ebp+Dst]
		push	ecx		; Dst
		call	_memcpy
		add	esp, 0Ch
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+84h]
		mov	[ebp+var_38], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+10h]
		mov	[ebp+Size], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+78h]
		mov	[ebp+var_5C], ecx
		mov	eax, [ebp+arg_10]
		push	eax
		push	2
		mov	ecx, [ebp+arg_8]
		push	ecx
		mov	edx, [ebp+var_20]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_writeReordered_56
		add	esp, 14h
		mov	[ebp+var_80], eax
		mov	eax, [ebp+arg_10]
		push	eax
		mov	ecx, [ebp+var_14]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_ubidi_getVisualMap_56
		add	esp, 0Ch
		mov	eax, [ebp+arg_10]
		cmp	dword ptr [eax], 0
		jle	short loc_51EC
		jmp	$cleanup2$10064
; ---------------------------------------------------------------------------

loc_51EC:				; CODE XREF: _setParaRunsOnly+195j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_140]
		mov	[eax+5Ch], ecx
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+58h], 5
		movzx	eax, [ebp+arg_C]
		xor	eax, 1
		mov	[ebp+arg_C], al
		mov	eax, [ebp+arg_0]
		mov	cl, [eax+48h]
		mov	[ebp+var_65], cl
		mov	eax, [ebp+arg_0]
		mov	byte ptr [eax+48h], 0
		mov	eax, [ebp+arg_10]
		push	eax
		push	0
		movzx	ecx, [ebp+arg_C]
		push	ecx
		mov	edx, [ebp+var_80]
		push	edx
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_setPara_56
		add	esp, 18h
		mov	eax, [ebp+arg_0]
		mov	cl, [ebp+var_65]
		mov	[eax+48h], cl
		mov	eax, [ebp+arg_10]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_ubidi_getRuns_56
		add	esp, 8
		mov	eax, [ebp+arg_10]
		cmp	dword ptr [eax], 0
		jle	short loc_5261
		jmp	$cleanup1$10067
; ---------------------------------------------------------------------------

loc_5261:				; CODE XREF: _setParaRunsOnly+20Aj
		mov	[ebp+var_D4], 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0E0h]
		mov	[ebp+var_BC], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0E4h]
		mov	[ebp+var_74], ecx
		mov	[ebp+var_A4], 0
		mov	[ebp+var_8C], 0
		jmp	short loc_52BD
; ---------------------------------------------------------------------------

loc_529C:				; CODE XREF: _setParaRunsOnly+2A4j
					; _setParaRunsOnly:loc_53DDj
		mov	eax, [ebp+var_8C]
		add	eax, 1
		mov	[ebp+var_8C], eax
		mov	ecx, [ebp+var_A4]
		add	ecx, [ebp+var_C8]
		mov	[ebp+var_A4], ecx

loc_52BD:				; CODE XREF: _setParaRunsOnly+24Aj
		mov	eax, [ebp+var_8C]
		cmp	eax, [ebp+var_BC]
		jge	loc_53E2
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		mov	ecx, [ebp+var_74]
		mov	edx, [ecx+eax+4]
		sub	edx, [ebp+var_A4]
		mov	[ebp+var_C8], edx
		cmp	[ebp+var_C8], 2
		jge	short loc_52F6
		jmp	short loc_529C
; ---------------------------------------------------------------------------

loc_52F6:				; CODE XREF: _setParaRunsOnly+2A2j
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		mov	ecx, [ebp+var_74]
		mov	edx, [ecx+eax]
		and	edx, 7FFFFFFFh
		mov	[ebp+var_B0], edx
		mov	eax, [ebp+var_B0]
		add	eax, 1
		mov	[ebp+var_98], eax
		jmp	short loc_5331
; ---------------------------------------------------------------------------

loc_5322:				; CODE XREF: _setParaRunsOnly:loc_53D8j
		mov	eax, [ebp+var_98]
		add	eax, 1
		mov	[ebp+var_98], eax

loc_5331:				; CODE XREF: _setParaRunsOnly+2D0j
		mov	eax, [ebp+var_B0]
		add	eax, [ebp+var_C8]
		cmp	[ebp+var_98], eax
		jge	loc_53DD
		mov	eax, [ebp+var_98]
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+eax*4]
		mov	[ebp+var_128], edx
		mov	eax, [ebp+var_98]
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+eax*4-4]
		mov	[ebp+var_134], edx
		mov	eax, [ebp+var_128]
		sub	eax, [ebp+var_134]
		js	short loc_5390
		mov	ecx, [ebp+var_128]
		sub	ecx, [ebp+var_134]
		mov	[ebp+var_208], ecx
		jmp	short loc_53A4
; ---------------------------------------------------------------------------

loc_5390:				; CODE XREF: _setParaRunsOnly+32Aj
		mov	edx, [ebp+var_128]
		sub	edx, [ebp+var_134]
		neg	edx
		mov	[ebp+var_208], edx

loc_53A4:				; CODE XREF: _setParaRunsOnly+33Ej
		cmp	[ebp+var_208], 1
		jnz	short loc_53C9
		mov	eax, [ebp+Dst]
		add	eax, [ebp+var_128]
		movzx	ecx, byte ptr [eax]
		mov	edx, [ebp+Dst]
		add	edx, [ebp+var_134]
		movzx	eax, byte ptr [edx]
		cmp	ecx, eax
		jz	short loc_53D8

loc_53C9:				; CODE XREF: _setParaRunsOnly+35Bj
		mov	eax, [ebp+var_D4]
		add	eax, 1
		mov	[ebp+var_D4], eax

loc_53D8:				; CODE XREF: _setParaRunsOnly+377j
		jmp	loc_5322
; ---------------------------------------------------------------------------

loc_53DD:				; CODE XREF: _setParaRunsOnly+2F3j
		jmp	loc_529C
; ---------------------------------------------------------------------------

loc_53E2:				; CODE XREF: _setParaRunsOnly+279j
		cmp	[ebp+var_D4], 0
		jz	loc_5480
		mov	eax, [ebp+var_BC]
		add	eax, [ebp+var_D4]
		imul	eax, 0Ch
		push	eax
		mov	ecx, [ebp+arg_0]
		movzx	edx, byte ptr [ecx+49h]
		push	edx
		mov	eax, [ebp+arg_0]
		add	eax, 28h ; '('
		push	eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 40h ; '@'
		push	ecx
		call	_ubidi_getMemory_56
		add	esp, 10h
		movsx	edx, al
		test	edx, edx
		jz	short loc_547B
		cmp	[ebp+var_BC], 1
		jnz	short loc_5446
		mov	eax, [ebp+var_74]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+40h]
		mov	ecx, [eax]
		mov	[edx], ecx
		mov	ecx, [eax+4]
		mov	[edx+4], ecx
		mov	eax, [eax+8]
		mov	[edx+8], eax

loc_5446:				; CODE XREF: _setParaRunsOnly+3DBj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+40h]
		mov	[eax+0E4h], edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0E4h]
		mov	[ebp+var_74], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0E0h]
		add	ecx, [ebp+var_D4]
		mov	edx, [ebp+arg_0]
		mov	[edx+0E0h], ecx
		jmp	short loc_5480
; ---------------------------------------------------------------------------

loc_547B:				; CODE XREF: _setParaRunsOnly+3D2j
		jmp	$cleanup1$10067
; ---------------------------------------------------------------------------

loc_5480:				; CODE XREF: _setParaRunsOnly+399j
					; _setParaRunsOnly+429j
		mov	eax, [ebp+var_BC]
		sub	eax, 1
		mov	[ebp+var_8C], eax
		jmp	short loc_54A0
; ---------------------------------------------------------------------------

loc_5491:				; CODE XREF: _setParaRunsOnly+560j
					; _setParaRunsOnly+8B0j
		mov	eax, [ebp+var_8C]
		sub	eax, 1
		mov	[ebp+var_8C], eax

loc_54A0:				; CODE XREF: _setParaRunsOnly+43Fj
		cmp	[ebp+var_8C], 0
		jl	$cleanup1$10067
		cmp	[ebp+var_8C], 0
		jnz	short loc_54C4
		mov	eax, [ebp+var_74]
		mov	ecx, [eax+4]
		mov	[ebp+var_208], ecx
		jmp	short loc_54ED
; ---------------------------------------------------------------------------

loc_54C4:				; CODE XREF: _setParaRunsOnly+464j
		mov	edx, [ebp+var_8C]
		imul	edx, 0Ch
		mov	eax, [ebp+var_8C]
		sub	eax, 1
		imul	eax, 0Ch
		mov	ecx, [ebp+var_74]
		mov	esi, [ebp+var_74]
		mov	edx, [ecx+edx+4]
		sub	edx, [esi+eax+4]
		mov	[ebp+var_208], edx

loc_54ED:				; CODE XREF: _setParaRunsOnly+472j
		mov	eax, [ebp+var_208]
		mov	[ebp+var_C8], eax
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		mov	ecx, [ebp+var_74]
		mov	edx, [ecx+eax]
		mov	[ebp+var_B0], edx
		mov	eax, [ebp+var_B0]
		shr	eax, 1Fh
		mov	[ebp+var_110], eax
		mov	eax, [ebp+var_B0]
		and	eax, 7FFFFFFFh
		mov	[ebp+var_B0], eax
		cmp	[ebp+var_C8], 2
		jge	short loc_55B5
		cmp	[ebp+var_D4], 0
		jz	short loc_556E
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		add	eax, [ebp+var_74]
		mov	ecx, [ebp+var_8C]
		add	ecx, [ebp+var_D4]
		imul	ecx, 0Ch
		add	ecx, [ebp+var_74]
		mov	edx, [eax]
		mov	[ecx], edx
		mov	edx, [eax+4]
		mov	[ecx+4], edx
		mov	eax, [eax+8]
		mov	[ecx+8], eax

loc_556E:				; CODE XREF: _setParaRunsOnly+4EEj
		mov	eax, [ebp+var_B0]
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+eax*4]
		mov	[ebp+var_11C], edx
		mov	eax, [ebp+Dst]
		add	eax, [ebp+var_11C]
		movzx	ecx, byte ptr [eax]
		xor	ecx, [ebp+var_110]
		shl	ecx, 1Fh
		or	ecx, [ebp+var_11C]
		mov	edx, [ebp+var_8C]
		add	edx, [ebp+var_D4]
		imul	edx, 0Ch
		mov	eax, [ebp+var_74]
		mov	[eax+edx], ecx
		jmp	loc_5491
; ---------------------------------------------------------------------------

loc_55B5:				; CODE XREF: _setParaRunsOnly+4E5j
		cmp	[ebp+var_110], 0
		jz	short loc_55EC
		mov	eax, [ebp+var_B0]
		mov	[ebp+var_EC], eax
		mov	eax, [ebp+var_C8]
		mov	ecx, [ebp+var_B0]
		lea	edx, [ecx+eax-1]
		mov	[ebp+var_F8], edx
		mov	[ebp+var_104], 1
		jmp	short loc_5618
; ---------------------------------------------------------------------------

loc_55EC:				; CODE XREF: _setParaRunsOnly+56Cj
		mov	eax, [ebp+var_C8]
		mov	ecx, [ebp+var_B0]
		lea	edx, [ecx+eax-1]
		mov	[ebp+var_EC], edx
		mov	eax, [ebp+var_B0]
		mov	[ebp+var_F8], eax
		mov	[ebp+var_104], 0FFFFFFFFh

loc_5618:				; CODE XREF: _setParaRunsOnly+59Aj
		mov	eax, [ebp+var_EC]
		mov	[ebp+var_98], eax
		jmp	short loc_5638
; ---------------------------------------------------------------------------

loc_5626:				; CODE XREF: _setParaRunsOnly:loc_5848j
		mov	eax, [ebp+var_98]
		add	eax, [ebp+var_104]
		mov	[ebp+var_98], eax

loc_5638:				; CODE XREF: _setParaRunsOnly+5D4j
		mov	eax, [ebp+var_98]
		cmp	eax, [ebp+var_F8]
		jz	loc_584D
		mov	eax, [ebp+var_98]
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+eax*4]
		mov	[ebp+var_128], edx
		mov	eax, [ebp+var_98]
		add	eax, [ebp+var_104]
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+eax*4]
		mov	[ebp+var_134], edx
		mov	eax, [ebp+var_128]
		sub	eax, [ebp+var_134]
		js	short loc_5696
		mov	ecx, [ebp+var_128]
		sub	ecx, [ebp+var_134]
		mov	[ebp+var_208], ecx
		jmp	short loc_56AA
; ---------------------------------------------------------------------------

loc_5696:				; CODE XREF: _setParaRunsOnly+630j
		mov	edx, [ebp+var_128]
		sub	edx, [ebp+var_134]
		neg	edx
		mov	[ebp+var_208], edx

loc_56AA:				; CODE XREF: _setParaRunsOnly+644j
		cmp	[ebp+var_208], 1
		jnz	short loc_56D3
		mov	eax, [ebp+Dst]
		add	eax, [ebp+var_128]
		movzx	ecx, byte ptr [eax]
		mov	edx, [ebp+Dst]
		add	edx, [ebp+var_134]
		movzx	eax, byte ptr [edx]
		cmp	ecx, eax
		jz	loc_5848

loc_56D3:				; CODE XREF: _setParaRunsOnly+661j
		mov	eax, [ebp+var_EC]
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+eax*4]
		cmp	edx, [ebp+var_128]
		jge	short loc_56FB
		mov	eax, [ebp+var_EC]
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+eax*4]
		mov	[ebp+var_208], edx
		jmp	short loc_5707
; ---------------------------------------------------------------------------

loc_56FB:				; CODE XREF: _setParaRunsOnly+695j
		mov	eax, [ebp+var_128]
		mov	[ebp+var_208], eax

loc_5707:				; CODE XREF: _setParaRunsOnly+6A9j
		mov	ecx, [ebp+var_208]
		mov	[ebp+var_11C], ecx
		mov	eax, [ebp+Dst]
		add	eax, [ebp+var_11C]
		movzx	ecx, byte ptr [eax]
		xor	ecx, [ebp+var_110]
		shl	ecx, 1Fh
		or	ecx, [ebp+var_11C]
		mov	edx, [ebp+var_8C]
		add	edx, [ebp+var_D4]
		imul	edx, 0Ch
		mov	eax, [ebp+var_74]
		mov	[eax+edx], ecx
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		mov	ecx, [ebp+var_8C]
		add	ecx, [ebp+var_D4]
		imul	ecx, 0Ch
		mov	edx, [ebp+var_74]
		mov	esi, [ebp+var_74]
		mov	eax, [esi+eax+4]
		mov	[edx+ecx+4], eax
		mov	eax, [ebp+var_98]
		sub	eax, [ebp+var_EC]
		js	short loc_578B
		mov	ecx, [ebp+var_98]
		sub	ecx, [ebp+var_EC]
		mov	[ebp+var_208], ecx
		jmp	short loc_579F
; ---------------------------------------------------------------------------

loc_578B:				; CODE XREF: _setParaRunsOnly+725j
		mov	edx, [ebp+var_98]
		sub	edx, [ebp+var_EC]
		neg	edx
		mov	[ebp+var_208], edx

loc_579F:				; CODE XREF: _setParaRunsOnly+739j
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		mov	ecx, [ebp+var_208]
		add	ecx, 1
		mov	edx, [ebp+var_74]
		mov	eax, [edx+eax+4]
		sub	eax, ecx
		mov	ecx, [ebp+var_8C]
		imul	ecx, 0Ch
		mov	edx, [ebp+var_74]
		mov	[edx+ecx+4], eax
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		mov	ecx, [ebp+var_74]
		mov	edx, [ecx+eax+8]
		and	edx, 0Ah
		mov	[ebp+var_E0], edx
		mov	eax, [ebp+var_8C]
		add	eax, [ebp+var_D4]
		imul	eax, 0Ch
		mov	ecx, [ebp+var_74]
		mov	edx, [ebp+var_E0]
		mov	[ecx+eax+8], edx
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		mov	ecx, [ebp+var_E0]
		not	ecx
		mov	edx, [ebp+var_74]
		and	ecx, [edx+eax+8]
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		mov	edx, [ebp+var_74]
		mov	[edx+eax+8], ecx
		mov	eax, [ebp+var_98]
		add	eax, [ebp+var_104]
		mov	[ebp+var_EC], eax
		mov	eax, [ebp+var_D4]
		sub	eax, 1
		mov	[ebp+var_D4], eax

loc_5848:				; CODE XREF: _setParaRunsOnly+67Dj
		jmp	loc_5626
; ---------------------------------------------------------------------------

loc_584D:				; CODE XREF: _setParaRunsOnly+5F4j
		cmp	[ebp+var_D4], 0
		jz	short loc_5884
		mov	eax, [ebp+var_8C]
		imul	eax, 0Ch
		add	eax, [ebp+var_74]
		mov	ecx, [ebp+var_8C]
		add	ecx, [ebp+var_D4]
		imul	ecx, 0Ch
		add	ecx, [ebp+var_74]
		mov	edx, [eax]
		mov	[ecx], edx
		mov	edx, [eax+4]
		mov	[ecx+4], edx
		mov	eax, [eax+8]
		mov	[ecx+8], eax

loc_5884:				; CODE XREF: _setParaRunsOnly+804j
		mov	eax, [ebp+var_EC]
		mov	ecx, [ebp+var_14]
		mov	edx, [ebp+var_F8]
		mov	esi, [ebp+var_14]
		mov	eax, [ecx+eax*4]
		cmp	eax, [esi+edx*4]
		jge	short loc_58B2
		mov	ecx, [ebp+var_EC]
		mov	edx, [ebp+var_14]
		mov	eax, [edx+ecx*4]
		mov	[ebp+var_208], eax
		jmp	short loc_58C4
; ---------------------------------------------------------------------------

loc_58B2:				; CODE XREF: _setParaRunsOnly+84Cj
		mov	ecx, [ebp+var_F8]
		mov	edx, [ebp+var_14]
		mov	eax, [edx+ecx*4]
		mov	[ebp+var_208], eax

loc_58C4:				; CODE XREF: _setParaRunsOnly+860j
		mov	ecx, [ebp+var_208]
		mov	[ebp+var_11C], ecx
		mov	eax, [ebp+Dst]
		add	eax, [ebp+var_11C]
		movzx	ecx, byte ptr [eax]
		xor	ecx, [ebp+var_110]
		shl	ecx, 1Fh
		or	ecx, [ebp+var_11C]
		mov	edx, [ebp+var_8C]
		add	edx, [ebp+var_D4]
		imul	edx, 0Ch
		mov	eax, [ebp+var_74]
		mov	[eax+edx], ecx
		jmp	loc_5491
; ---------------------------------------------------------------------------

$cleanup1$10067:			; CODE XREF: _setParaRunsOnly+20Cj
					; _setParaRunsOnly:loc_547Bj ...
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+61h]
		xor	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+61h], cl

$cleanup2$10064:			; CODE XREF: _setParaRunsOnly+197j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	[eax+8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+Size]
		mov	[eax+10h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		mov	[eax+0Ch], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_5C]
		mov	[eax+78h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+Size]
		cmp	ecx, [eax+1Ch]
		jle	short loc_594D
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+1Ch]
		mov	[ebp+Size], ecx

loc_594D:				; CODE XREF: _setParaRunsOnly+8F2j
		push	1
		mov	eax, [ebp+Dst]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+Size]
		push	ecx		; Size
		mov	edx, [ebp+Dst]
		push	edx		; Src
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		push	ecx		; Dst
		call	_memcpy
		add	esp, 0Ch
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_38]
		mov	[eax+84h], ecx
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+0E0h], 1
		jle	short $cleanup3$10051
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+78h], 2

$cleanup3$10051:			; CODE XREF: _setParaRunsOnly+54j
					; _setParaRunsOnly+7Aj	...
		mov	eax, [ebp+var_8]
		push	eax
		call	_uprv_free_56
		add	esp, 4
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+58h], 3
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 208h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_setParaRunsOnly endp

; ---------------------------------------------------------------------------
		align 10h
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 59C0h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_orderParagraphsLTR_56
_ubidi_orderParagraphsLTR_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= byte ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_59ED
		mov	eax, [ebp+arg_0]
		mov	cl, [ebp+arg_4]
		mov	[eax+60h], cl

loc_59ED:				; CODE XREF: _ubidi_orderParagraphsLTR_56+22j
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_orderParagraphsLTR_56 endp

_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 59F4h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_isOrderParagraphsLTR_56
_ubidi_isOrderParagraphsLTR_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_5A22
		mov	eax, [ebp+arg_0]
		mov	al, [eax+60h]
		jmp	short loc_5A24
; ---------------------------------------------------------------------------
		jmp	short loc_5A24
; ---------------------------------------------------------------------------

loc_5A22:				; CODE XREF: _ubidi_isOrderParagraphsLTR_56+22j
		xor	al, al

loc_5A24:				; CODE XREF: _ubidi_isOrderParagraphsLTR_56+2Aj
					; _ubidi_isOrderParagraphsLTR_56+2Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_isOrderParagraphsLTR_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5A2Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getDirection_56
_ubidi_getDirection_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_5A7A
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5A70
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5A7A
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jnz	short loc_5A7A

loc_5A70:				; CODE XREF: _ubidi_getDirection_56+2Cj
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+78h]
		jmp	short loc_5A7C
; ---------------------------------------------------------------------------
		jmp	short loc_5A7C
; ---------------------------------------------------------------------------

loc_5A7A:				; CODE XREF: _ubidi_getDirection_56+22j
					; _ubidi_getDirection_56+34j ...
		xor	eax, eax

loc_5A7C:				; CODE XREF: _ubidi_getDirection_56+4Aj
					; _ubidi_getDirection_56+4Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getDirection_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5A84h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getText_56
_ubidi_getText_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_5AD2
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5AC8
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5AD2
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jnz	short loc_5AD2

loc_5AC8:				; CODE XREF: _ubidi_getText_56+2Cj
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+8]
		jmp	short loc_5AD4
; ---------------------------------------------------------------------------
		jmp	short loc_5AD4
; ---------------------------------------------------------------------------

loc_5AD2:				; CODE XREF: _ubidi_getText_56+22j
					; _ubidi_getText_56+34j ...
		xor	eax, eax

loc_5AD4:				; CODE XREF: _ubidi_getText_56+4Aj
					; _ubidi_getText_56+4Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getText_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5ADCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getLength_56
_ubidi_getLength_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_5B2A
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5B20
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5B2A
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jnz	short loc_5B2A

loc_5B20:				; CODE XREF: _ubidi_getLength_56+2Cj
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+0Ch]
		jmp	short loc_5B2C
; ---------------------------------------------------------------------------
		jmp	short loc_5B2C
; ---------------------------------------------------------------------------

loc_5B2A:				; CODE XREF: _ubidi_getLength_56+22j
					; _ubidi_getLength_56+34j ...
		xor	eax, eax

loc_5B2C:				; CODE XREF: _ubidi_getLength_56+4Aj
					; _ubidi_getLength_56+4Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getLength_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5B34h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getProcessedLength_56
_ubidi_getProcessedLength_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_5B82
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5B78
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5B82
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jnz	short loc_5B82

loc_5B78:				; CODE XREF: _ubidi_getProcessedLength_56+2Cj
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+10h]
		jmp	short loc_5B84
; ---------------------------------------------------------------------------
		jmp	short loc_5B84
; ---------------------------------------------------------------------------

loc_5B82:				; CODE XREF: _ubidi_getProcessedLength_56+22j
					; _ubidi_getProcessedLength_56+34j ...
		xor	eax, eax

loc_5B84:				; CODE XREF: _ubidi_getProcessedLength_56+4Aj
					; _ubidi_getProcessedLength_56+4Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getProcessedLength_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5B8Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getResultLength_56
_ubidi_getResultLength_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_5BDA
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5BD0
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5BDA
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jnz	short loc_5BDA

loc_5BD0:				; CODE XREF: _ubidi_getResultLength_56+2Cj
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+14h]
		jmp	short loc_5BDC
; ---------------------------------------------------------------------------
		jmp	short loc_5BDC
; ---------------------------------------------------------------------------

loc_5BDA:				; CODE XREF: _ubidi_getResultLength_56+22j
					; _ubidi_getResultLength_56+34j ...
		xor	eax, eax

loc_5BDC:				; CODE XREF: _ubidi_getResultLength_56+4Aj
					; _ubidi_getResultLength_56+4Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getResultLength_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5BE4h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getParaLevel_56
_ubidi_getParaLevel_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_5C32
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5C28
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5C32
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jnz	short loc_5C32

loc_5C28:				; CODE XREF: _ubidi_getParaLevel_56+2Cj
		mov	eax, [ebp+arg_0]
		mov	al, [eax+61h]
		jmp	short loc_5C34
; ---------------------------------------------------------------------------
		jmp	short loc_5C34
; ---------------------------------------------------------------------------

loc_5C32:				; CODE XREF: _ubidi_getParaLevel_56+22j
					; _ubidi_getParaLevel_56+34j ...
		xor	al, al

loc_5C34:				; CODE XREF: _ubidi_getParaLevel_56+4Aj
					; _ubidi_getParaLevel_56+4Cj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getParaLevel_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5C3Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_countParagraphs_56
_ubidi_countParagraphs_56 proc near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jz	short loc_5C80
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5C86
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5C80
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jz	short loc_5C86

loc_5C80:				; CODE XREF: _ubidi_countParagraphs_56+22j
					; _ubidi_countParagraphs_56+34j
		xor	eax, eax
		jmp	short loc_5C8F
; ---------------------------------------------------------------------------
		jmp	short loc_5C8F
; ---------------------------------------------------------------------------

loc_5C86:				; CODE XREF: _ubidi_countParagraphs_56+2Cj
					; _ubidi_countParagraphs_56+42j
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+88h]

loc_5C8F:				; CODE XREF: _ubidi_countParagraphs_56+46j
					; _ubidi_countParagraphs_56+48j
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_countParagraphs_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5C98h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getParagraphByIndex_56
_ubidi_getParagraphByIndex_56 proc near	; CODE XREF: _ubidi_getParagraph_56+CFp

var_D0		= dword	ptr -0D0h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0D0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_D0]
		mov	ecx, 34h ; '4'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_14], 0
		jz	short loc_5CC4
		mov	eax, [ebp+arg_14]
		cmp	dword ptr [eax], 0
		jle	short loc_5CC9

loc_5CC4:				; CODE XREF: _ubidi_getParagraphByIndex_56+22j
		jmp	loc_5DC5
; ---------------------------------------------------------------------------

loc_5CC9:				; CODE XREF: _ubidi_getParagraphByIndex_56+2Aj
		cmp	[ebp+arg_0], 0
		jz	short loc_5CEF
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5CFD
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5CEF
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jz	short loc_5CFD

loc_5CEF:				; CODE XREF: _ubidi_getParagraphByIndex_56+35j
					; _ubidi_getParagraphByIndex_56+47j
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1Bh
		jmp	loc_5DC5
; ---------------------------------------------------------------------------

loc_5CFD:				; CODE XREF: _ubidi_getParagraphByIndex_56+3Fj
					; _ubidi_getParagraphByIndex_56+55j
		cmp	[ebp+arg_4], 0
		jl	short loc_5D11
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		cmp	ecx, [eax+88h]
		jl	short loc_5D1F

loc_5D11:				; CODE XREF: _ubidi_getParagraphByIndex_56+69j
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1
		jmp	loc_5DC5
; ---------------------------------------------------------------------------

loc_5D1F:				; CODE XREF: _ubidi_getParagraphByIndex_56+77j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	[ebp+arg_0], ecx
		cmp	[ebp+arg_4], 0
		jz	short loc_5D42
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+arg_4]
		mov	eax, [ecx+edx*8-8]
		mov	[ebp+var_8], eax
		jmp	short loc_5D49
; ---------------------------------------------------------------------------

loc_5D42:				; CODE XREF: _ubidi_getParagraphByIndex_56+93j
		mov	[ebp+var_8], 0

loc_5D49:				; CODE XREF: _ubidi_getParagraphByIndex_56+A8j
		cmp	[ebp+arg_8], 0
		jz	short loc_5D57
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_8]
		mov	[eax], ecx

loc_5D57:				; CODE XREF: _ubidi_getParagraphByIndex_56+B5j
		cmp	[ebp+arg_C], 0
		jz	short loc_5D71
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+arg_C]
		mov	eax, [ebp+arg_4]
		mov	ecx, [ecx+eax*8]
		mov	[edx], ecx

loc_5D71:				; CODE XREF: _ubidi_getParagraphByIndex_56+C3j
		cmp	[ebp+arg_10], 0
		jz	short loc_5DC5
		mov	eax, [ebp+arg_0]
		movzx	ecx, byte ptr [eax+62h]
		test	ecx, ecx
		jz	short loc_5DAD
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8Ch]
		mov	ecx, [ebp+var_8]
		cmp	ecx, [eax]
		jl	short loc_5DAD
		mov	edx, [ebp+var_8]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ubidi_getParaLevelAtIndex_56
		add	esp, 8
		movzx	ecx, al
		mov	[ebp+var_D0], ecx
		jmp	short loc_5DBA
; ---------------------------------------------------------------------------

loc_5DAD:				; CODE XREF: _ubidi_getParagraphByIndex_56+E8j
					; _ubidi_getParagraphByIndex_56+F8j
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx+61h]
		mov	[ebp+var_D0], eax

loc_5DBA:				; CODE XREF: _ubidi_getParagraphByIndex_56+113j
		mov	ecx, [ebp+arg_10]
		mov	dl, byte ptr [ebp+var_D0]
		mov	[ecx], dl

loc_5DC5:				; CODE XREF: _ubidi_getParagraphByIndex_56:loc_5CC4j
					; _ubidi_getParagraphByIndex_56+60j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0D0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getParagraphByIndex_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5DDCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getParagraph_56
_ubidi_getParagraph_56 proc near

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_14], 0
		jz	short loc_5E08
		mov	eax, [ebp+arg_14]
		cmp	dword ptr [eax], 0
		jle	short loc_5E10

loc_5E08:				; CODE XREF: _ubidi_getParagraph_56+22j
		or	eax, 0FFFFFFFFh
		jmp	loc_5EB6
; ---------------------------------------------------------------------------

loc_5E10:				; CODE XREF: _ubidi_getParagraph_56+2Aj
		cmp	[ebp+arg_0], 0
		jz	short loc_5E36
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		cmp	ecx, [ebp+arg_0]
		jz	short loc_5E44
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax], 0
		jz	short loc_5E36
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx]
		cmp	eax, [edx]
		jz	short loc_5E44

loc_5E36:				; CODE XREF: _ubidi_getParagraph_56+38j
					; _ubidi_getParagraph_56+4Aj
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1Bh
		or	eax, 0FFFFFFFFh
		jmp	short loc_5EB6
; ---------------------------------------------------------------------------

loc_5E44:				; CODE XREF: _ubidi_getParagraph_56+42j
					; _ubidi_getParagraph_56+58j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	[ebp+arg_0], ecx
		cmp	[ebp+arg_4], 0
		jl	short loc_5E5D
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		cmp	ecx, [eax+10h]
		jl	short loc_5E6B

loc_5E5D:				; CODE XREF: _ubidi_getParagraph_56+74j
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1
		or	eax, 0FFFFFFFFh
		jmp	short loc_5EB6
; ---------------------------------------------------------------------------

loc_5E6B:				; CODE XREF: _ubidi_getParagraph_56+7Fj
		mov	[ebp+var_8], 0
		jmp	short loc_5E7D
; ---------------------------------------------------------------------------

loc_5E74:				; CODE XREF: _ubidi_getParagraph_56+B5j
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax

loc_5E7D:				; CODE XREF: _ubidi_getParagraph_56+96j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8Ch]
		mov	edx, [ebp+var_8]
		mov	eax, [ebp+arg_4]
		cmp	eax, [ecx+edx*8]
		jl	short loc_5E93
		jmp	short loc_5E74
; ---------------------------------------------------------------------------

loc_5E93:				; CODE XREF: _ubidi_getParagraph_56+B3j
		mov	eax, [ebp+arg_14]
		push	eax
		mov	ecx, [ebp+arg_10]
		push	ecx
		mov	edx, [ebp+arg_C]
		push	edx
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_ubidi_getParagraphByIndex_56
		add	esp, 18h
		mov	eax, [ebp+var_8]

loc_5EB6:				; CODE XREF: _ubidi_getParagraph_56+2Fj
					; _ubidi_getParagraph_56+66j ...
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0CCh
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getParagraph_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5ECCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_setClassCallback_56
_ubidi_setClassCallback_56 proc	near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_14], 0
		jz	short loc_5EF8
		mov	eax, [ebp+arg_14]
		cmp	dword ptr [eax], 0
		jle	short loc_5EFA

loc_5EF8:				; CODE XREF: _ubidi_setClassCallback_56+22j
		jmp	short loc_5F4B
; ---------------------------------------------------------------------------

loc_5EFA:				; CODE XREF: _ubidi_setClassCallback_56+2Aj
		cmp	[ebp+arg_0], 0
		jnz	short loc_5F0B
		mov	eax, [ebp+arg_14]
		mov	dword ptr [eax], 1
		jmp	short loc_5F4B
; ---------------------------------------------------------------------------

loc_5F0B:				; CODE XREF: _ubidi_setClassCallback_56+32j
		cmp	[ebp+arg_C], 0
		jz	short loc_5F1F
		mov	eax, [ebp+arg_C]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+164h]
		mov	[eax], edx

loc_5F1F:				; CODE XREF: _ubidi_setClassCallback_56+43j
		cmp	[ebp+arg_10], 0
		jz	short loc_5F33
		mov	eax, [ebp+arg_10]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+168h]
		mov	[eax], edx

loc_5F33:				; CODE XREF: _ubidi_setClassCallback_56+57j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	[eax+164h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		mov	[eax+168h], ecx

loc_5F4B:				; CODE XREF: _ubidi_setClassCallback_56:loc_5EF8j
					; _ubidi_setClassCallback_56+3Dj
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_setClassCallback_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5F54h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getClassCallback_56
_ubidi_getClassCallback_56 proc	near

var_C0		= byte ptr -0C0h
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		cmp	[ebp+arg_0], 0
		jnz	short loc_5F7A
		jmp	short loc_5FA2
; ---------------------------------------------------------------------------

loc_5F7A:				; CODE XREF: _ubidi_getClassCallback_56+22j
		cmp	[ebp+arg_4], 0
		jz	short loc_5F8E
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+164h]
		mov	[eax], edx

loc_5F8E:				; CODE XREF: _ubidi_getClassCallback_56+2Aj
		cmp	[ebp+arg_8], 0
		jz	short loc_5FA2
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+168h]
		mov	[eax], edx

loc_5FA2:				; CODE XREF: _ubidi_getClassCallback_56+24j
					; _ubidi_getClassCallback_56+3Ej
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getClassCallback_56 endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

;
; Exported entry
;
; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 5FACh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

		public _ubidi_getCustomizedClass_56
_ubidi_getCustomizedClass_56 proc near	; CODE XREF: _getDirProps+23Ep
					; _firstL_R_AL+B7p ...

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+164h], 0
		jz	short loc_6004
		mov	esi, esp
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+168h]
		push	edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+164h]
		call	ecx
		add	esp, 8
		cmp	esi, esp
		call	__RTC_CheckEsp
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 17h
		jnz	short loc_601A

loc_6004:				; CODE XREF: _ubidi_getCustomizedClass_56+28j
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+4]
		push	edx
		call	_ubidi_getClass_56
		add	esp, 8
		mov	[ebp+var_8], eax

loc_601A:				; CODE XREF: _ubidi_getCustomizedClass_56+56j
		cmp	[ebp+var_8], 17h
		jl	short loc_6027
		mov	[ebp+var_8], 0Ah

loc_6027:				; CODE XREF: _ubidi_getCustomizedClass_56+72j
		mov	eax, [ebp+var_8]
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0CCh
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ubidi_getCustomizedClass_56 endp

_text		ends

; ===========================================================================

; Segment type:	Externs
; UNDEF
		extrn __RTC_CheckEsp:near ; CODE XREF: _ubidi_open_56+51p
					; _ubidi_openSized_56+16Bp ...
; __fastcall _RTC_CheckStackVars(x, x)
		extrn @_RTC_CheckStackVars@8:near ; CODE XREF: _ubidi_open_56+3Fp
					; _getDirProps+776p ...
		extrn __RTC_Shutdown:near ; DATA XREF: .rtc$TMZ:__RTC_Shutdown_rtc$TMZo
		extrn __RTC_InitBase:near ; DATA XREF: .rtc$IMZ:__RTC_InitBase_rtc$IMZo
		extrn _ubidi_getSingleton_56:near ; CODE XREF: _ubidi_openSized_56+8Ap
; void *__cdecl	memset(void *Dst, int Val, size_t Size)
		extrn _memset:near	; CODE XREF: _ubidi_openSized_56+82p
		extrn _uprv_malloc_56:near ; CODE XREF:	_ubidi_openSized_56+56p
					; _ubidi_getMemory_56+38p ...
		extrn _uprv_realloc_56:near ; CODE XREF: _ubidi_getMemory_56+89p
					; _addPoint+8Ap
		extrn _uprv_free_56:near ; CODE	XREF: _ubidi_close_56+41p
					; _ubidi_close_56+59p ...
		extrn _u_charDirection_56:near ; CODE XREF: _ubidi_getBaseDirection_56+C8p
		extrn _u_strlen_56:near	; CODE XREF: _ubidi_getBaseDirection_56+3Ep
					; _ubidi_setContext_56+70p ...
; void __cdecl __wassert(const wchar_t *Message, const wchar_t *File, unsigned int Line)
		extrn __imp___wassert:near ; CODE XREF:	_ubidi_setPara_56+4A2p
					; _resolveImplicitLevels+576p ...
		extrn ___security_cookie:near ;	DATA XREF: _getDirProps+1Er
					; _resolveExplicitLevels+22r
; __fastcall __security_check_cookie(x)
		extrn @__security_check_cookie@4:near ;	CODE XREF: _getDirProps+785p
					; _resolveExplicitLevels+B18p
; void *__cdecl	memcpy(void *Dst, const	void *Src, size_t Size)
		extrn _memcpy:near	; CODE XREF: _checkParaCount+A7p
					; _bracketAddOpening+BDp ...
		extrn _uprv_checkValidMemory:near ; CODE XREF: _checkParaCount+8Cp
					; _bracketAddOpening+A2p ...
		extrn __chkstk:near	; CODE XREF: _resolveExplicitLevels+8p
		extrn _ubidi_getPairedBracketType_56:near
					; CODE XREF: _bracketProcessChar+231p
		extrn _u_getBidiPairedBracket_56:near ;	CODE XREF: _bracketProcessChar+1FFp
		extrn _ubidi_getRuns_56:near ; CODE XREF: _setParaRunsOnly+1FCp
		extrn _ubidi_getVisualMap_56:near ; CODE XREF: _setParaRunsOnly+187p
		extrn _ubidi_writeReordered_56:near ; CODE XREF: _setParaRunsOnly+170p
		extrn _ubidi_getLevels_56:near ; CODE XREF: _setParaRunsOnly+110p
		extrn _ubidi_getClass_56:near ;	CODE XREF: _ubidi_getCustomizedClass_56+63p


		end
