;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	9B783B63A23C6F016E2A325CC1A1A432
; Input	CRC32 :	E248E3A0

; File Name   :	D:\compspace\objfiles\firefox\common\ucnv_ct.obj
; Format      :	COFF (X386MAGIC)
; includelib "msvcprtd"
; includelib "MSVCRTD"
; includelib "OLDNAMES"

		.686p
		.mmx
		.model flat

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
; Segment alignment 'qword' can not be represented in assembly
_rdata		segment	para public 'DATA' use32
		assume cs:_rdata
_escSeqCompoundText db 1Bh		; DATA XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+1D8r
					; _UConverter_fromUnicode_CompoundText_OFFSETS+1F3r ...
		db 2Dh,	41h, 0
dword_4		dd 4D2D1B00h, 2D1B0000h, 1B000046h, 472Dh, 4129241Bh, 29241B00h
		dd 241B0042h, 1B004329h, 442924h, 4729241Bh, 29241B00h
		dd 241B0048h, 1B004929h, 4725h,	4C2D1Bh, 482D1B00h, 2D1B0000h
		dd 1B000044h, 542Dh, 422D1Bh, 432D1B00h, 2D1B0000h, 1B00005Fh
		dd 622Dh, 0
__CompoundTextImpl dd offset dword_4+1Dh ; DATA	XREF: .rdata:0000012Co
		dd 2 dup(0)
		dd offset __CompoundTextOpen
		dd offset __CompoundTextClose
		dd offset __CompoundTextReset
		dd offset _UConverter_toUnicode_CompoundText_OFFSETS
		dd offset _UConverter_toUnicode_CompoundText_OFFSETS
		dd offset _UConverter_fromUnicode_CompoundText_OFFSETS
		dd offset _UConverter_fromUnicode_CompoundText_OFFSETS
		dd 2 dup(0)
		dd offset __CompoundTextgetName
		dd 2 dup(0)
		dd offset __CompoundText_GetUnicodeSet
		align 10h
__CompoundTextStaticData dd offset dword_4+60h ; DATA XREF: .rdata:00000124o
aCompound_text	db 'COMPOUND_TEXT',0
		align 4
dword_C4	dd 0Ch dup(0)
		dd 6012100h, 0EFh, 1, 6	dup(0)
		public __CompoundTextData_56
__CompoundTextData_56 dd offset	dword_C4+20h
		dd 0FFFFFFFFh, 0
		dd offset __CompoundTextStaticData
		dd 0
		dd offset __CompoundTextImpl
		dd 33h dup(0)
_rdata		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1FCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

__CompoundTextOpen proc	near		; DATA XREF: .rdata:00000074o

var_1DC		= byte ptr -1DCh
var_118		= dword	ptr -118h
var_114		= dword	ptr -114h
var_110		= dword	ptr -110h
var_10C		= dword	ptr -10Ch
var_108		= dword	ptr -108h
var_104		= dword	ptr -104h
var_100		= dword	ptr -100h
var_F4		= byte ptr -0F4h
var_C		= dword	ptr -0Ch
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 1DCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_1DC]
		mov	ecx, 77h ; 'w'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		push	54h ; 'T'
		call	_uprv_malloc_56
		add	esp, 4
		mov	ecx, [ebp+arg_0]
		mov	[ecx+8], eax
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+8], 0
		jz	loc_56F
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8]
		mov	[ebp+var_C], ecx
		mov	[ebp+var_118], 1Ch
		xor	eax, eax
		mov	[ebp+var_114], eax
		mov	[ebp+var_110], eax
		mov	[ebp+var_10C], eax
		mov	[ebp+var_108], eax
		mov	[ebp+var_104], eax
		mov	[ebp+var_100], eax
		mov	eax, [ebp+var_C]
		mov	dword ptr [eax], 0
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@ONCBAHBI@icu?9internal?9compound?9s1?$AA@ ; "icu-internal-compound-s1"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+4], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@MGAMFENL@icu?9internal?9compound?9s2?$AA@ ; "icu-internal-compound-s2"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+8], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@NPBHGFJK@icu?9internal?9compound?9s3?$AA@ ; "icu-internal-compound-s3"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+0Ch], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@PEEILCON@icu?9internal?9compound?9d1?$AA@ ; "icu-internal-compound-d1"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+10h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@NPGFOBCO@icu?9internal?9compound?9d2?$AA@ ; "icu-internal-compound-d2"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+14h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@MGHONAGP@icu?9internal?9compound?9d3?$AA@ ; "icu-internal-compound-d3"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+18h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@IJDPEGKI@icu?9internal?9compound?9d4?$AA@ ; "icu-internal-compound-d4"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+1Ch], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@JACEHHOJ@icu?9internal?9compound?9d5?$AA@ ; "icu-internal-compound-d5"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+20h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@LLAJCECK@icu?9internal?9compound?9d6?$AA@ ; "icu-internal-compound-d6"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+24h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BJ@KCBCBFGL@icu?9internal?9compound?9d7?$AA@ ; "icu-internal-compound-d7"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+28h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BI@IHBLKOHN@icu?9internal?9compound?9t?$AA@ ; "icu-internal-compound-t"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+2Ch], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BC@FCLNMLII@ibm?9915_P100?91995?$AA@ ; "ibm-915_P100-1995"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+30h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BC@CFCDBJHI@ibm?9916_P100?91995?$AA@ ; "ibm-916_P100-1995"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+34h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BC@MJBIIHOH@ibm?9914_P100?91995?$AA@ ; "ibm-914_P100-1995"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+38h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BC@PEPCLJEM@ibm?9874_P100?91995?$AA@ ; "ibm-874_P100-1995"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+3Ch], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BC@CGCFCCAH@ibm?9912_P100?91995?$AA@ ; "ibm-912_P100-1995"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+40h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BC@PFIOJEPI@ibm?9913_P100?92000?$AA@ ; "ibm-913_P100-2000"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+44h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BB@BCJEGKIH@iso?98859_14?91998?$AA@ ; "iso-8859_14-1998"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+48h], eax
		mov	eax, [ebp+arg_8]
		push	eax
		lea	ecx, [ebp+var_118]
		push	ecx
		lea	edx, [ebp+var_F4]
		push	edx
		push	offset ??_C@_0BC@LFOEHMOL@ibm?9923_P100?91998?$AA@ ; "ibm-923_P100-1998"
		call	_ucnv_loadSharedData_56
		add	esp, 10h
		mov	ecx, [ebp+var_C]
		mov	[ecx+4Ch], eax
		mov	eax, [ebp+arg_8]
		cmp	dword ptr [eax], 0
		jg	short loc_555
		mov	eax, [ebp+arg_4]
		movsx	ecx, byte ptr [eax+8]
		test	ecx, ecx
		jz	short loc_563

loc_555:				; CODE XREF: __CompoundTextOpen+34Cj
		mov	eax, [ebp+arg_0]
		push	eax
		call	__CompoundTextClose
		add	esp, 4
		jmp	short loc_578
; ---------------------------------------------------------------------------

loc_563:				; CODE XREF: __CompoundTextOpen+357j
		mov	eax, [ebp+var_C]
		mov	dword ptr [eax+50h], 0
		jmp	short loc_578
; ---------------------------------------------------------------------------

loc_56F:				; CODE XREF: __CompoundTextOpen+3Fj
		mov	eax, [ebp+arg_8]
		mov	dword ptr [eax], 7

loc_578:				; CODE XREF: __CompoundTextOpen+365j
					; __CompoundTextOpen+371j
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN10
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4 ; __security_check_cookie(x)
		add	esp, 1DCh
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
__CompoundTextOpen endp

; ---------------------------------------------------------------------------
		align 4
$LN10		dd 2			; DATA XREF: __CompoundTextOpen+380o
		dd offset $LN9
$LN9		dd 0FFFFFF0Ch, 0E0h	; DATA XREF: .text:000005ACo
		dd offset $LN7		; "stackPieces"
		dd 0FFFFFEE8h, 1Ch
		dd offset $LN8		; "stackArgs"
$LN8		db 'stackArgs',0        ; DATA XREF: .text:000005C4o
$LN7		db 'stackPieces',0      ; DATA XREF: .text:000005B8o
		align 10h
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 5E0h
		public ??_C@_0BC@LFOEHMOL@ibm?9923_P100?91998?$AA@
; `string'
??_C@_0BC@LFOEHMOL@ibm?9923_P100?91998?$AA@ db 'ibm-923_P100-1998',0
					; DATA XREF: __CompoundTextOpen+333o
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 5F4h
		public ??_C@_0BB@BCJEGKIH@iso?98859_14?91998?$AA@
; `string'
??_C@_0BB@BCJEGKIH@iso?98859_14?91998?$AA@ db 'iso-8859_14-1998',0
					; DATA XREF: __CompoundTextOpen+30Eo
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 608h
		public ??_C@_0BC@PFIOJEPI@ibm?9913_P100?92000?$AA@
; `string'
??_C@_0BC@PFIOJEPI@ibm?9913_P100?92000?$AA@ db 'ibm-913_P100-2000',0
					; DATA XREF: __CompoundTextOpen+2E9o
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 61Ch
		public ??_C@_0BC@CGCFCCAH@ibm?9912_P100?91995?$AA@
; `string'
??_C@_0BC@CGCFCCAH@ibm?9912_P100?91995?$AA@ db 'ibm-912_P100-1995',0
					; DATA XREF: __CompoundTextOpen+2C4o
		align 10h
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 630h
		public ??_C@_0BC@PEPCLJEM@ibm?9874_P100?91995?$AA@
; `string'
??_C@_0BC@PEPCLJEM@ibm?9874_P100?91995?$AA@ db 'ibm-874_P100-1995',0
					; DATA XREF: __CompoundTextOpen+29Fo
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 644h
		public ??_C@_0BC@MJBIIHOH@ibm?9914_P100?91995?$AA@
; `string'
??_C@_0BC@MJBIIHOH@ibm?9914_P100?91995?$AA@ db 'ibm-914_P100-1995',0
					; DATA XREF: __CompoundTextOpen+27Ao
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 658h
		public ??_C@_0BC@CFCDBJHI@ibm?9916_P100?91995?$AA@
; `string'
??_C@_0BC@CFCDBJHI@ibm?9916_P100?91995?$AA@ db 'ibm-916_P100-1995',0
					; DATA XREF: __CompoundTextOpen+255o
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 66Ch
		public ??_C@_0BC@FCLNMLII@ibm?9915_P100?91995?$AA@
; `string'
??_C@_0BC@FCLNMLII@ibm?9915_P100?91995?$AA@ db 'ibm-915_P100-1995',0
					; DATA XREF: __CompoundTextOpen+230o
		align 10h
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 680h
		public ??_C@_0BI@IHBLKOHN@icu?9internal?9compound?9t?$AA@
; `string'
??_C@_0BI@IHBLKOHN@icu?9internal?9compound?9t?$AA@ db 'icu-internal-compound-t',0
					; DATA XREF: __CompoundTextOpen+20Bo
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 698h
		public ??_C@_0BJ@KCBCBFGL@icu?9internal?9compound?9d7?$AA@
; `string'
??_C@_0BJ@KCBCBFGL@icu?9internal?9compound?9d7?$AA@ db 'icu-internal-compound-d7',0
					; DATA XREF: __CompoundTextOpen+1E6o
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 6B4h
		public ??_C@_0BJ@LLAJCECK@icu?9internal?9compound?9d6?$AA@
; `string'
??_C@_0BJ@LLAJCECK@icu?9internal?9compound?9d6?$AA@ db 'icu-internal-compound-d6',0
					; DATA XREF: __CompoundTextOpen+1C1o
		align 10h
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 6D0h
		public ??_C@_0BJ@JACEHHOJ@icu?9internal?9compound?9d5?$AA@
; `string'
??_C@_0BJ@JACEHHOJ@icu?9internal?9compound?9d5?$AA@ db 'icu-internal-compound-d5',0
					; DATA XREF: __CompoundTextOpen+19Co
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 6ECh
		public ??_C@_0BJ@IJDPEGKI@icu?9internal?9compound?9d4?$AA@
; `string'
??_C@_0BJ@IJDPEGKI@icu?9internal?9compound?9d4?$AA@ db 'icu-internal-compound-d4',0
					; DATA XREF: __CompoundTextOpen+177o
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 708h
		public ??_C@_0BJ@MGHONAGP@icu?9internal?9compound?9d3?$AA@
; `string'
??_C@_0BJ@MGHONAGP@icu?9internal?9compound?9d3?$AA@ db 'icu-internal-compound-d3',0
					; DATA XREF: __CompoundTextOpen+152o
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 724h
		public ??_C@_0BJ@NPGFOBCO@icu?9internal?9compound?9d2?$AA@
; `string'
??_C@_0BJ@NPGFOBCO@icu?9internal?9compound?9d2?$AA@ db 'icu-internal-compound-d2',0
					; DATA XREF: __CompoundTextOpen+12Do
		align 10h
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 740h
		public ??_C@_0BJ@PEEILCON@icu?9internal?9compound?9d1?$AA@
; `string'
??_C@_0BJ@PEEILCON@icu?9internal?9compound?9d1?$AA@ db 'icu-internal-compound-d1',0
					; DATA XREF: __CompoundTextOpen+108o
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 75Ch
		public ??_C@_0BJ@NPBHGFJK@icu?9internal?9compound?9s3?$AA@
; `string'
??_C@_0BJ@NPBHGFJK@icu?9internal?9compound?9s3?$AA@ db 'icu-internal-compound-s3',0
					; DATA XREF: __CompoundTextOpen+E3o
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 778h
		public ??_C@_0BJ@MGAMFENL@icu?9internal?9compound?9s2?$AA@
; `string'
??_C@_0BJ@MGAMFENL@icu?9internal?9compound?9s2?$AA@ db 'icu-internal-compound-s2',0
					; DATA XREF: __CompoundTextOpen+BEo
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 794h
		public ??_C@_0BJ@ONCBAHBI@icu?9internal?9compound?9s1?$AA@
; `string'
??_C@_0BJ@ONCBAHBI@icu?9internal?9compound?9s1?$AA@ db 'icu-internal-compound-s1',0
					; DATA XREF: __CompoundTextOpen+99o
		align 10h
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$TMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$TMZ
		;org 7B0h
__RTC_Shutdown_rtc$TMZ dd offset __RTC_Shutdown
_rtc$TMZ	ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$IMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$IMZ
		;org 7B4h
__RTC_InitBase_rtc$IMZ dd offset __RTC_InitBase
_rtc$IMZ	ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 7B8h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

__CompoundTextClose proc near		; CODE XREF: __CompoundTextOpen+35Dp
					; DATA XREF: .rdata:00000078o

var_D8		= byte ptr -0D8h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0D8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_D8]
		mov	ecx, 36h ; '6'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+8], 0
		jz	short loc_82F
		mov	[ebp+var_14], 0
		jmp	short loc_7FA
; ---------------------------------------------------------------------------

loc_7F1:				; CODE XREF: __CompoundTextClose:loc_81Ej
		mov	eax, [ebp+var_14]
		add	eax, 1
		mov	[ebp+var_14], eax

loc_7FA:				; CODE XREF: __CompoundTextClose+37j
		cmp	[ebp+var_14], 14h
		jge	short loc_820
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+var_8]
		cmp	dword ptr [ecx+eax*4], 0
		jz	short loc_81E
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx+eax*4]
		push	edx
		call	_ucnv_unloadSharedDataIfReady_56
		add	esp, 4

loc_81E:				; CODE XREF: __CompoundTextClose+52j
		jmp	short loc_7F1
; ---------------------------------------------------------------------------

loc_820:				; CODE XREF: __CompoundTextClose+46j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8]
		push	ecx
		call	_uprv_free_56
		add	esp, 4

loc_82F:				; CODE XREF: __CompoundTextClose+2Ej
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0D8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
__CompoundTextClose endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 844h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

__CompoundTextReset proc near		; DATA XREF: .rdata:0000007Co

var_C0		= byte ptr -0C0h

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
__CompoundTextReset endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 86Ch
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

__CompoundTextgetName proc near		; DATA XREF: .rdata:00000098o

var_C0		= byte ptr -0C0h

		push	ebp
		mov	ebp, esp
		sub	esp, 0C0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_C0]
		mov	ecx, 30h ; '0'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, offset ??_C@_0BC@MILLLJIK@x11?9compound?9text?$AA@	; "x11-compound-text"
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
__CompoundTextgetName endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 898h
		public ??_C@_0BC@MILLLJIK@x11?9compound?9text?$AA@
; `string'
??_C@_0BC@MILLLJIK@x11?9compound?9text?$AA@ db 'x11-compound-text',0
					; DATA XREF: __CompoundTextgetName+1Eo
		align 4
_rdata		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 8ACh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_UConverter_fromUnicode_CompoundText_OFFSETS proc near ; DATA XREF: .rdata:00000088o
					; .rdata:0000008Co

var_1A0		= byte ptr -1A0h
var_DC		= word ptr -0DCh
var_D0		= dword	ptr -0D0h
var_C4		= dword	ptr -0C4h
var_B8		= dword	ptr -0B8h
var_AC		= dword	ptr -0ACh
var_A0		= dword	ptr -0A0h
var_94		= dword	ptr -94h
var_88		= dword	ptr -88h
var_7C		= dword	ptr -7Ch
var_70		= dword	ptr -70h
var_64		= byte ptr -64h
var_51		= byte ptr -51h
var_48		= dword	ptr -48h
var_3C		= dword	ptr -3Ch
var_30		= dword	ptr -30h
var_24		= dword	ptr -24h
var_18		= dword	ptr -18h
var_C		= dword	ptr -0Ch
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 1A0h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_1A0]
		mov	ecx, 68h ; 'h'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4]
		mov	[ebp+var_C], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+10h]
		mov	[ebp+var_18], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+14h]
		mov	[ebp+var_24], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8]
		mov	[ebp+var_30], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0Ch]
		mov	[ebp+var_3C], ecx
		mov	eax, [ebp+var_C]
		mov	cl, [eax+23h]
		mov	[ebp+var_51], cl
		mov	[ebp+var_70], 0
		mov	[ebp+var_A0], 0
		mov	eax, [ebp+var_C]
		mov	ecx, [eax+8]
		mov	[ebp+var_D0], ecx
		mov	eax, [ebp+var_D0]
		mov	ecx, [eax+50h]
		mov	[ebp+var_7C], ecx
		mov	eax, [ebp+var_C]
		mov	ecx, [eax+38h]
		mov	[ebp+var_48], ecx
		cmp	[ebp+var_48], 0
		jz	short loc_94C
		mov	eax, [ebp+var_18]
		cmp	eax, [ebp+var_24]
		jnb	short loc_94C
		jmp	short $getTrail$11047
; ---------------------------------------------------------------------------

loc_94C:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+94j
					; _UConverter_fromUnicode_CompoundText_OFFSETS+9Cj ...
		mov	eax, [ebp+var_30]
		cmp	eax, [ebp+var_3C]
		jnb	loc_D55
		mov	eax, [ebp+var_18]
		cmp	eax, [ebp+var_24]
		jnb	loc_D45
		mov	eax, [ebp+var_30]
		movzx	ecx, word ptr [eax]
		mov	[ebp+var_48], ecx
		mov	edx, [ebp+var_30]
		add	edx, 2
		mov	[ebp+var_30], edx
		mov	eax, [ebp+var_48]
		and	eax, 0FFFFF800h
		cmp	eax, 0D800h
		jnz	loc_A27
		mov	eax, [ebp+var_48]
		and	eax, 400h
		jnz	short loc_A10

$getTrail$11047:			; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+9Ej
		mov	eax, [ebp+var_30]
		cmp	eax, [ebp+var_3C]
		jnb	short loc_A00
		mov	eax, [ebp+var_30]
		mov	cx, [eax]
		mov	[ebp+var_DC], cx
		movzx	eax, [ebp+var_DC]
		and	eax, 0FFFFFC00h
		cmp	eax, 0DC00h
		jnz	short loc_9E7
		mov	eax, [ebp+var_30]
		add	eax, 2
		mov	[ebp+var_30], eax
		mov	eax, [ebp+var_48]
		shl	eax, 0Ah
		movzx	ecx, [ebp+var_DC]
		lea	edx, [eax+ecx-35FDC00h]
		mov	[ebp+var_48], edx
		mov	eax, [ebp+var_C]
		mov	dword ptr [eax+38h], 0
		jmp	short loc_9FE
; ---------------------------------------------------------------------------

loc_9E7:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+10Dj
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0Ch
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+var_48]
		mov	[eax+38h], ecx
		jmp	loc_D55
; ---------------------------------------------------------------------------

loc_9FE:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+139j
		jmp	short loc_A0E
; ---------------------------------------------------------------------------

loc_A00:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+EDj
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+var_48]
		mov	[eax+38h], ecx
		jmp	loc_D55
; ---------------------------------------------------------------------------

loc_A0E:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS:loc_9FEj
		jmp	short loc_A27
; ---------------------------------------------------------------------------

loc_A10:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+E5j
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0Ch
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+var_48]
		mov	[eax+38h], ecx
		jmp	loc_D55
; ---------------------------------------------------------------------------

loc_A27:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+D7j
					; _UConverter_fromUnicode_CompoundText_OFFSETS:loc_A0Ej
		mov	[ebp+var_70], 0
		mov	eax, [ebp+var_48]
		push	eax
		call	_getState
		add	esp, 4
		mov	[ebp+var_88], eax
		cmp	[ebp+var_88], 0FFFFFFFFh
		jz	short loc_AB5
		mov	eax, [ebp+var_7C]
		cmp	eax, [ebp+var_88]
		jz	short loc_AB5
		mov	eax, [ebp+var_88]
		mov	[ebp+var_7C], eax
		mov	[ebp+var_AC], 0
		jmp	short loc_A78
; ---------------------------------------------------------------------------

loc_A69:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+207j
		mov	eax, [ebp+var_AC]
		add	eax, 1
		mov	[ebp+var_AC], eax

loc_A78:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+1BBj
		mov	eax, [ebp+var_7C]
		imul	eax, 5
		mov	ecx, [ebp+var_AC]
		movzx	edx, _escSeqCompoundText[eax+ecx]
		test	edx, edx
		jz	short loc_AB5
		mov	eax, [ebp+var_7C]
		imul	eax, 5
		mov	ecx, [ebp+var_70]
		mov	edx, [ebp+var_AC]
		mov	al, _escSeqCompoundText[eax+edx]
		mov	[ebp+ecx+var_64], al
		mov	ecx, [ebp+var_70]
		add	ecx, 1
		mov	[ebp+var_70], ecx
		jmp	short loc_A69
; ---------------------------------------------------------------------------

loc_AB5:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+19Bj
					; _UConverter_fromUnicode_CompoundText_OFFSETS+1A6j ...
		cmp	[ebp+var_88], 0FFFFFFFFh
		jnz	loc_BF5
		mov	[ebp+var_AC], 1
		jmp	short loc_ADD
; ---------------------------------------------------------------------------

loc_ACE:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS:loc_BEBj
		mov	eax, [ebp+var_AC]
		add	eax, 1
		mov	[ebp+var_AC], eax

loc_ADD:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+220j
		cmp	[ebp+var_AC], 0Ch
		jge	loc_BF0
		movzx	eax, [ebp+var_51]
		push	eax
		lea	ecx, [ebp+var_94]
		push	ecx
		mov	edx, [ebp+var_48]
		push	edx
		mov	eax, [ebp+var_AC]
		mov	ecx, [ebp+var_D0]
		mov	edx, [ecx+eax*4]
		push	edx
		call	_ucnv_MBCSFromUChar32_56
		add	esp, 10h
		mov	[ebp+var_A0], eax
		cmp	[ebp+var_A0], 0
		jle	loc_BEB
		mov	eax, [ebp+var_AC]
		mov	[ebp+var_88], eax
		mov	eax, [ebp+var_7C]
		cmp	eax, [ebp+var_88]
		jz	short loc_B9D
		mov	eax, [ebp+var_88]
		mov	[ebp+var_7C], eax
		mov	[ebp+var_C4], 0
		jmp	short loc_B60
; ---------------------------------------------------------------------------

loc_B51:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+2EFj
		mov	eax, [ebp+var_C4]
		add	eax, 1
		mov	[ebp+var_C4], eax

loc_B60:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+2A3j
		mov	eax, [ebp+var_7C]
		imul	eax, 5
		mov	ecx, [ebp+var_C4]
		movzx	edx, _escSeqCompoundText[eax+ecx]
		test	edx, edx
		jz	short loc_B9D
		mov	eax, [ebp+var_7C]
		imul	eax, 5
		mov	ecx, [ebp+var_70]
		mov	edx, [ebp+var_C4]
		mov	al, _escSeqCompoundText[eax+edx]
		mov	[ebp+ecx+var_64], al
		mov	ecx, [ebp+var_70]
		add	ecx, 1
		mov	[ebp+var_70], ecx
		jmp	short loc_B51
; ---------------------------------------------------------------------------

loc_B9D:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+28Ej
					; _UConverter_fromUnicode_CompoundText_OFFSETS+2CAj
		mov	eax, [ebp+var_A0]
		sub	eax, 1
		mov	[ebp+var_B8], eax
		jmp	short loc_BBD
; ---------------------------------------------------------------------------

loc_BAE:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+33Bj
		mov	eax, [ebp+var_B8]
		sub	eax, 1
		mov	[ebp+var_B8], eax

loc_BBD:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+300j
		cmp	[ebp+var_B8], 0
		jl	short loc_BE9
		mov	ecx, [ebp+var_B8]
		shl	ecx, 3
		mov	eax, [ebp+var_94]
		shr	eax, cl
		mov	ecx, [ebp+var_70]
		mov	[ebp+ecx+var_64], al
		mov	edx, [ebp+var_70]
		add	edx, 1
		mov	[ebp+var_70], edx
		jmp	short loc_BAE
; ---------------------------------------------------------------------------

loc_BE9:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+318j
		jmp	short loc_BF0
; ---------------------------------------------------------------------------

loc_BEB:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+273j
		jmp	loc_ACE
; ---------------------------------------------------------------------------

loc_BF0:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+238j
					; _UConverter_fromUnicode_CompoundText_OFFSETS:loc_BE9j
		jmp	loc_C96
; ---------------------------------------------------------------------------

loc_BF5:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+210j
		cmp	[ebp+var_88], 0
		jnz	short loc_C16
		mov	eax, [ebp+var_70]
		mov	cl, byte ptr [ebp+var_48]
		mov	[ebp+eax+var_64], cl
		mov	edx, [ebp+var_70]
		add	edx, 1
		mov	[ebp+var_70], edx
		jmp	loc_C96
; ---------------------------------------------------------------------------

loc_C16:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+350j
		movzx	eax, [ebp+var_51]
		push	eax
		lea	ecx, [ebp+var_94]
		push	ecx
		mov	edx, [ebp+var_48]
		push	edx
		mov	eax, [ebp+var_7C]
		mov	ecx, [ebp+var_D0]
		mov	edx, [ecx+eax*4]
		push	edx
		call	_ucnv_MBCSFromUChar32_56
		add	esp, 10h
		mov	[ebp+var_A0], eax
		cmp	[ebp+var_A0], 0
		jle	short loc_C96
		mov	eax, [ebp+var_A0]
		sub	eax, 1
		mov	[ebp+var_B8], eax
		jmp	short loc_C6A
; ---------------------------------------------------------------------------

loc_C5B:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+3E8j
		mov	eax, [ebp+var_B8]
		sub	eax, 1
		mov	[ebp+var_B8], eax

loc_C6A:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+3ADj
		cmp	[ebp+var_B8], 0
		jl	short loc_C96
		mov	ecx, [ebp+var_B8]
		shl	ecx, 3
		mov	eax, [ebp+var_94]
		shr	eax, cl
		mov	ecx, [ebp+var_70]
		mov	[ebp+ecx+var_64], al
		mov	edx, [ebp+var_70]
		add	edx, 1
		mov	[ebp+var_70], edx
		jmp	short loc_C5B
; ---------------------------------------------------------------------------

loc_C96:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS:loc_BF0j
					; _UConverter_fromUnicode_CompoundText_OFFSETS+365j ...
		mov	[ebp+var_AC], 0
		jmp	short loc_CB1
; ---------------------------------------------------------------------------

loc_CA2:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS:loc_CE9j
		mov	eax, [ebp+var_AC]
		add	eax, 1
		mov	[ebp+var_AC], eax

loc_CB1:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+3F4j
		mov	eax, [ebp+var_AC]
		cmp	eax, [ebp+var_70]
		jge	short loc_CEB
		mov	eax, [ebp+var_18]
		cmp	eax, [ebp+var_24]
		jnb	short loc_CDE
		mov	eax, [ebp+var_18]
		mov	ecx, [ebp+var_AC]
		mov	dl, [ebp+ecx+var_64]
		mov	[eax], dl
		mov	eax, [ebp+var_18]
		add	eax, 1
		mov	[ebp+var_18], eax
		jmp	short loc_CE9
; ---------------------------------------------------------------------------

loc_CDE:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+416j
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0Fh
		jmp	short loc_CEB
; ---------------------------------------------------------------------------

loc_CE9:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+430j
		jmp	short loc_CA2
; ---------------------------------------------------------------------------

loc_CEB:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+40Ej
					; _UConverter_fromUnicode_CompoundText_OFFSETS+43Bj
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax], 0Fh
		jnz	short loc_D43
		jmp	short loc_D04
; ---------------------------------------------------------------------------

loc_CF5:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+495j
		mov	eax, [ebp+var_AC]
		add	eax, 1
		mov	[ebp+var_AC], eax

loc_D04:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+447j
		mov	eax, [ebp+var_AC]
		cmp	eax, [ebp+var_70]
		jge	short loc_D43
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+4]
		movsx	edx, byte ptr [eax+3Fh]
		mov	eax, [ebp+var_AC]
		mov	al, [ebp+eax+var_64]
		mov	[ecx+edx+4Ch], al
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+4]
		mov	al, [edx+3Fh]
		add	al, 1
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+4]
		mov	[edx+3Fh], al
		jmp	short loc_CF5
; ---------------------------------------------------------------------------

loc_D43:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+445j
					; _UConverter_fromUnicode_CompoundText_OFFSETS+461j
		jmp	short loc_D50
; ---------------------------------------------------------------------------

loc_D45:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+B2j
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0Fh
		jmp	short loc_D55
; ---------------------------------------------------------------------------

loc_D50:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS:loc_D43j
		jmp	loc_94C
; ---------------------------------------------------------------------------

loc_D55:				; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+A6j
					; _UConverter_fromUnicode_CompoundText_OFFSETS+14Dj ...
		mov	eax, [ebp+var_D0]
		mov	ecx, [ebp+var_7C]
		mov	[eax+50h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_30]
		mov	[eax+8], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_18]
		mov	[eax+10h], ecx
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN50
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4 ; __security_check_cookie(x)
		add	esp, 1A0h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_UConverter_fromUnicode_CompoundText_OFFSETS endp

; ---------------------------------------------------------------------------
		align 4
$LN50		dd 2			; DATA XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+4CBo
		dd offset $LN49
$LN49		dd 0FFFFFF9Ch, 7	; DATA XREF: .text:00000DA8o
		dd offset $LN47		; "tmpTargetBuffer"
		dd 0FFFFFF6Ch, 4
		dd offset $LN48		; "pValue"
$LN48		db 'pValue',0           ; DATA XREF: .text:00000DC0o
$LN47		db 'tmpTargetBuffer',0  ; DATA XREF: .text:00000DB4o
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 0DDCh
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_getState	proc near		; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+186p

var_CC		= byte ptr -0CCh
var_8		= dword	ptr -8
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0CCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_CC]
		mov	ecx, 33h ; '3'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0FFFFFFFFh
		cmp	[ebp+arg_0], 0
		jz	short loc_E31
		cmp	[ebp+arg_0], 9
		jz	short loc_E31
		cmp	[ebp+arg_0], 0Ah
		jz	short loc_E31
		cmp	[ebp+arg_0], 20h ; ' '
		jl	short loc_E1F
		cmp	[ebp+arg_0], 7Fh ; ''
		jle	short loc_E31

loc_E1F:				; CODE XREF: _getState+3Bj
		cmp	[ebp+arg_0], 0A0h ; ' '
		jl	short loc_E3D
		cmp	[ebp+arg_0], 0FFh
		jg	short loc_E3D

loc_E31:				; CODE XREF: _getState+29j
					; _getState+2Fj ...
		mov	[ebp+var_8], 0
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_E3D:				; CODE XREF: _getState+4Aj
					; _getState+53j
		cmp	[ebp+arg_0], 102h
		jl	short loc_E53
		cmp	[ebp+arg_0], 107h
		jle	loc_FB4

loc_E53:				; CODE XREF: _getState+68j
		cmp	[ebp+arg_0], 10Ch
		jl	short loc_E69
		cmp	[ebp+arg_0], 111h
		jle	loc_FB4

loc_E69:				; CODE XREF: _getState+7Ej
		cmp	[ebp+arg_0], 118h
		jl	short loc_E7F
		cmp	[ebp+arg_0], 11Bh
		jle	loc_FB4

loc_E7F:				; CODE XREF: _getState+94j
		cmp	[ebp+arg_0], 139h
		jz	loc_FB4
		cmp	[ebp+arg_0], 13Ah
		jz	loc_FB4
		cmp	[ebp+arg_0], 13Dh
		jz	loc_FB4
		cmp	[ebp+arg_0], 13Eh
		jz	loc_FB4
		cmp	[ebp+arg_0], 141h
		jl	short loc_EC9
		cmp	[ebp+arg_0], 144h
		jle	loc_FB4

loc_EC9:				; CODE XREF: _getState+DEj
		cmp	[ebp+arg_0], 147h
		jz	loc_FB4
		cmp	[ebp+arg_0], 147h
		jz	loc_FB4
		cmp	[ebp+arg_0], 150h
		jz	loc_FB4
		cmp	[ebp+arg_0], 151h
		jz	loc_FB4
		cmp	[ebp+arg_0], 154h
		jz	loc_FB4
		cmp	[ebp+arg_0], 155h
		jz	loc_FB4
		cmp	[ebp+arg_0], 158h
		jl	short loc_F2D
		cmp	[ebp+arg_0], 15Bh
		jle	loc_FB4

loc_F2D:				; CODE XREF: _getState+142j
		cmp	[ebp+arg_0], 15Eh
		jz	short loc_FB4
		cmp	[ebp+arg_0], 15Fh
		jz	short loc_FB4
		cmp	[ebp+arg_0], 160h
		jl	short loc_F51
		cmp	[ebp+arg_0], 165h
		jle	short loc_FB4

loc_F51:				; CODE XREF: _getState+16Aj
		cmp	[ebp+arg_0], 16Eh
		jz	short loc_FB4
		cmp	[ebp+arg_0], 16Fh
		jz	short loc_FB4
		cmp	[ebp+arg_0], 170h
		jz	short loc_FB4
		cmp	[ebp+arg_0], 171h
		jz	short loc_FB4
		cmp	[ebp+arg_0], 179h
		jl	short loc_F87
		cmp	[ebp+arg_0], 17Eh
		jle	short loc_FB4

loc_F87:				; CODE XREF: _getState+1A0j
		cmp	[ebp+arg_0], 2C7h
		jz	short loc_FB4
		cmp	[ebp+arg_0], 2D8h
		jz	short loc_FB4
		cmp	[ebp+arg_0], 2D9h
		jz	short loc_FB4
		cmp	[ebp+arg_0], 2DBh
		jz	short loc_FB4
		cmp	[ebp+arg_0], 2DDh
		jnz	short loc_FC0

loc_FB4:				; CODE XREF: _getState+71j
					; _getState+87j ...
		mov	[ebp+var_8], 10h
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_FC0:				; CODE XREF: _getState+1D6j
		cmp	[ebp+arg_0], 108h
		jl	short loc_FD2
		cmp	[ebp+arg_0], 10Bh
		jle	short loc_103E

loc_FD2:				; CODE XREF: _getState+1EBj
		cmp	[ebp+arg_0], 11Ch
		jz	short loc_103E
		cmp	[ebp+arg_0], 11Dh
		jz	short loc_103E
		cmp	[ebp+arg_0], 120h
		jz	short loc_103E
		cmp	[ebp+arg_0], 121h
		jz	short loc_103E
		cmp	[ebp+arg_0], 124h
		jl	short loc_1008
		cmp	[ebp+arg_0], 127h
		jle	short loc_103E

loc_1008:				; CODE XREF: _getState+221j
		cmp	[ebp+arg_0], 134h
		jz	short loc_103E
		cmp	[ebp+arg_0], 135h
		jz	short loc_103E
		cmp	[ebp+arg_0], 15Ch
		jz	short loc_103E
		cmp	[ebp+arg_0], 15Dh
		jz	short loc_103E
		cmp	[ebp+arg_0], 16Ch
		jz	short loc_103E
		cmp	[ebp+arg_0], 16Dh
		jnz	short loc_104A

loc_103E:				; CODE XREF: _getState+1F4j
					; _getState+1FDj ...
		mov	[ebp+var_8], 11h
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_104A:				; CODE XREF: _getState+260j
		cmp	[ebp+arg_0], 174h
		jl	short loc_1060
		cmp	[ebp+arg_0], 177h
		jle	loc_10F4

loc_1060:				; CODE XREF: _getState+275j
		cmp	[ebp+arg_0], 1E0Ah
		jz	loc_10F4
		cmp	[ebp+arg_0], 1E0Bh
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E1Eh
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E1Fh
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E40h
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E41h
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E56h
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E57h
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E60h
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E61h
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E6Ah
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E6Bh
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1EF2h
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1EF3h
		jz	short loc_10F4
		cmp	[ebp+arg_0], 1E80h
		jl	short loc_1100
		cmp	[ebp+arg_0], 1E85h
		jg	short loc_1100

loc_10F4:				; CODE XREF: _getState+27Ej
					; _getState+28Bj ...
		mov	[ebp+var_8], 12h
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_1100:				; CODE XREF: _getState+30Dj
					; _getState+316j
		cmp	[ebp+arg_0], 152h
		jz	short loc_1124
		cmp	[ebp+arg_0], 153h
		jz	short loc_1124
		cmp	[ebp+arg_0], 178h
		jz	short loc_1124
		cmp	[ebp+arg_0], 20ACh
		jnz	short loc_1130

loc_1124:				; CODE XREF: _getState+32Bj
					; _getState+334j ...
		mov	[ebp+var_8], 13h
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_1130:				; CODE XREF: _getState+346j
		cmp	[ebp+arg_0], 0E01h
		jl	short loc_1142
		cmp	[ebp+arg_0], 0E3Ah
		jle	short loc_1154

loc_1142:				; CODE XREF: _getState+35Bj
		cmp	[ebp+arg_0], 0E3Fh
		jl	short loc_1160
		cmp	[ebp+arg_0], 0E5Bh
		jg	short loc_1160

loc_1154:				; CODE XREF: _getState+364j
		mov	[ebp+var_8], 0Fh
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_1160:				; CODE XREF: _getState+36Dj
					; _getState+376j
		cmp	[ebp+arg_0], 100h
		jz	loc_1272
		cmp	[ebp+arg_0], 101h
		jz	loc_1272
		cmp	[ebp+arg_0], 112h
		jz	loc_1272
		cmp	[ebp+arg_0], 113h
		jz	loc_1272
		cmp	[ebp+arg_0], 116h
		jz	loc_1272
		cmp	[ebp+arg_0], 117h
		jz	loc_1272
		cmp	[ebp+arg_0], 122h
		jz	loc_1272
		cmp	[ebp+arg_0], 123h
		jz	loc_1272
		cmp	[ebp+arg_0], 128h
		jl	short loc_11DE
		cmp	[ebp+arg_0], 12Bh
		jle	loc_1272

loc_11DE:				; CODE XREF: _getState+3F3j
		cmp	[ebp+arg_0], 12Eh
		jz	loc_1272
		cmp	[ebp+arg_0], 12Fh
		jz	short loc_1272
		cmp	[ebp+arg_0], 136h
		jl	short loc_1206
		cmp	[ebp+arg_0], 138h
		jle	short loc_1272

loc_1206:				; CODE XREF: _getState+41Fj
		cmp	[ebp+arg_0], 13Bh
		jz	short loc_1272
		cmp	[ebp+arg_0], 13Ch
		jz	short loc_1272
		cmp	[ebp+arg_0], 145h
		jz	short loc_1272
		cmp	[ebp+arg_0], 146h
		jz	short loc_1272
		cmp	[ebp+arg_0], 14Ah
		jl	short loc_123C
		cmp	[ebp+arg_0], 14Dh
		jle	short loc_1272

loc_123C:				; CODE XREF: _getState+455j
		cmp	[ebp+arg_0], 156h
		jz	short loc_1272
		cmp	[ebp+arg_0], 157h
		jz	short loc_1272
		cmp	[ebp+arg_0], 166h
		jl	short loc_1260
		cmp	[ebp+arg_0], 16Bh
		jle	short loc_1272

loc_1260:				; CODE XREF: _getState+479j
		cmp	[ebp+arg_0], 172h
		jz	short loc_1272
		cmp	[ebp+arg_0], 173h
		jnz	short loc_127E

loc_1272:				; CODE XREF: _getState+38Bj
					; _getState+398j ...
		mov	[ebp+var_8], 0Eh
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_127E:				; CODE XREF: _getState+494j
		cmp	[ebp+arg_0], 2BCh
		jz	short loc_12AB
		cmp	[ebp+arg_0], 2BDh
		jz	short loc_12AB
		cmp	[ebp+arg_0], 384h
		jl	short loc_12A2
		cmp	[ebp+arg_0], 3CEh
		jle	short loc_12AB

loc_12A2:				; CODE XREF: _getState+4BBj
		cmp	[ebp+arg_0], 2015h
		jnz	short loc_12B7

loc_12AB:				; CODE XREF: _getState+4A9j
					; _getState+4B2j ...
		mov	[ebp+var_8], 2
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_12B7:				; CODE XREF: _getState+4CDj
		cmp	[ebp+arg_0], 60Ch
		jz	short loc_133E
		cmp	[ebp+arg_0], 61Bh
		jz	short loc_133E
		cmp	[ebp+arg_0], 61Fh
		jz	short loc_133E
		cmp	[ebp+arg_0], 621h
		jl	short loc_12E4
		cmp	[ebp+arg_0], 63Ah
		jle	short loc_133E

loc_12E4:				; CODE XREF: _getState+4FDj
		cmp	[ebp+arg_0], 640h
		jl	short loc_12F6
		cmp	[ebp+arg_0], 652h
		jle	short loc_133E

loc_12F6:				; CODE XREF: _getState+50Fj
		cmp	[ebp+arg_0], 660h
		jl	short loc_1308
		cmp	[ebp+arg_0], 66Dh
		jle	short loc_133E

loc_1308:				; CODE XREF: _getState+521j
		cmp	[ebp+arg_0], 200Bh
		jz	short loc_133E
		cmp	[ebp+arg_0], 0FE70h
		jl	short loc_1323
		cmp	[ebp+arg_0], 0FE72h
		jle	short loc_133E

loc_1323:				; CODE XREF: _getState+53Cj
		cmp	[ebp+arg_0], 0FE74h
		jz	short loc_133E
		cmp	[ebp+arg_0], 0FE76h
		jl	short loc_134A
		cmp	[ebp+arg_0], 0FEBEh
		jg	short loc_134A

loc_133E:				; CODE XREF: _getState+4E2j
					; _getState+4EBj ...
		mov	[ebp+var_8], 3
		jmp	loc_13D8
; ---------------------------------------------------------------------------

loc_134A:				; CODE XREF: _getState+557j
					; _getState+560j
		cmp	[ebp+arg_0], 5D0h
		jl	short loc_135C
		cmp	[ebp+arg_0], 5EAh
		jle	short loc_136E

loc_135C:				; CODE XREF: _getState+575j
		cmp	[ebp+arg_0], 2017h
		jz	short loc_136E
		cmp	[ebp+arg_0], 203Eh
		jnz	short loc_1377

loc_136E:				; CODE XREF: _getState+57Ej
					; _getState+587j
		mov	[ebp+var_8], 0Dh
		jmp	short loc_13D8
; ---------------------------------------------------------------------------

loc_1377:				; CODE XREF: _getState+590j
		cmp	[ebp+arg_0], 401h
		jl	short loc_1389
		cmp	[ebp+arg_0], 45Fh
		jle	short loc_1392

loc_1389:				; CODE XREF: _getState+5A2j
		cmp	[ebp+arg_0], 2116h
		jnz	short loc_139B

loc_1392:				; CODE XREF: _getState+5ABj
		mov	[ebp+var_8], 0Ch
		jmp	short loc_13D8
; ---------------------------------------------------------------------------

loc_139B:				; CODE XREF: _getState+5B4j
		cmp	[ebp+arg_0], 11Eh
		jz	short loc_13D1
		cmp	[ebp+arg_0], 11Fh
		jz	short loc_13D1
		cmp	[ebp+arg_0], 130h
		jz	short loc_13D1
		cmp	[ebp+arg_0], 131h
		jz	short loc_13D1
		cmp	[ebp+arg_0], 218h
		jl	short loc_13D8
		cmp	[ebp+arg_0], 21Bh
		jg	short loc_13D8

loc_13D1:				; CODE XREF: _getState+5C6j
					; _getState+5CFj ...
		mov	[ebp+var_8], 1

loc_13D8:				; CODE XREF: _getState+5Cj
					; _getState+1DFj ...
		mov	eax, [ebp+var_8]
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_getState	endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 13E4h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl UConverter_toUnicode_CompoundText_OFFSETS(void *Src, int)
_UConverter_toUnicode_CompoundText_OFFSETS proc	near ; DATA XREF: .rdata:00000080o
					; .rdata:00000084o

var_168		= byte ptr -168h
Size		= dword	ptr -0A4h
Dst		= word ptr -98h
var_94		= dword	ptr -94h
var_90		= dword	ptr -90h
var_8C		= dword	ptr -8Ch
var_88		= dword	ptr -88h
var_74		= dword	ptr -74h
var_68		= dword	ptr -68h
var_5C		= dword	ptr -5Ch
var_50		= dword	ptr -50h
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
Src		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 168h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_168]
		mov	ecx, 5Ah ; 'Z'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+Src]
		mov	ecx, [eax+8]
		mov	[ebp+var_8], ecx
		mov	eax, [ebp+Src]
		mov	ecx, [eax+10h]
		mov	[ebp+var_14], ecx
		mov	eax, [ebp+Src]
		mov	ecx, [eax+0Ch]
		mov	[ebp+var_20], ecx
		mov	eax, [ebp+var_20]
		mov	[ebp+var_2C], eax
		mov	[ebp+var_38], 0
		mov	[ebp+var_5C], 0
		mov	eax, [ebp+Src]
		mov	ecx, [eax+4]
		mov	edx, [ecx+8]
		mov	[ebp+var_68], edx
		mov	[ebp+var_74], 0
		mov	eax, [ebp+Src]
		movzx	ecx, word ptr [eax]
		cmp	ecx, 1Ch
		jnb	short loc_145D
		mov	eax, [ebp+Src]
		movzx	ecx, word ptr [eax]
		mov	[ebp+Size], ecx
		jmp	short loc_1467
; ---------------------------------------------------------------------------

loc_145D:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+69j
		mov	[ebp+Size], 1Ch

loc_1467:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+77j
		push	1
		mov	eax, [ebp+Src]
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+Size]
		push	ecx		; Size
		mov	edx, [ebp+Src]
		push	edx		; Src
		lea	eax, [ebp+Dst]
		push	eax		; Dst
		call	_memcpy
		add	esp, 0Ch
		mov	ax, word ptr [ebp+Size]
		mov	[ebp+Dst], ax
		mov	eax, [ebp+var_68]
		mov	ecx, [eax+50h]
		mov	[ebp+var_50], ecx
		mov	edx, [ebp+var_50]
		mov	[ebp+var_44], edx

loc_14AC:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS:loc_175Ej
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_20]
		jnb	loc_1763
		mov	eax, [ebp+Src]
		mov	ecx, [ebp+var_14]
		cmp	ecx, [eax+14h]
		jnb	loc_1753
		mov	eax, [ebp+Src]
		mov	ecx, [eax+4]
		movsx	edx, byte ptr [ecx+24h]
		test	edx, edx
		jle	short loc_14E4
		mov	eax, [ebp+Src]
		mov	ecx, [eax+4]
		movzx	edx, byte ptr [ecx+25h]
		mov	[ebp+var_38], edx
		jmp	short loc_14ED
; ---------------------------------------------------------------------------

loc_14E4:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+EFj
		mov	eax, [ebp+var_8]
		movzx	ecx, byte ptr [eax]
		mov	[ebp+var_38], ecx

loc_14ED:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+FEj
		cmp	[ebp+var_38], 1Bh
		jnz	loc_15EA
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+Src]
		mov	edx, [ecx+4]
		movsx	eax, byte ptr [edx+24h]
		push	eax
		mov	ecx, [ebp+Src]
		mov	edx, [ecx+4]
		add	edx, 25h ; '%'
		push	edx
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		call	_findStateFromEscSeq
		add	esp, 14h
		mov	[ebp+var_50], eax
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax], 0Bh
		jnz	short loc_157B

loc_152B:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+185j
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_20]
		jnb	short loc_156B
		mov	eax, [ebp+Src]
		mov	ecx, [eax+4]
		mov	edx, [ebp+Src]
		mov	eax, [edx+4]
		movsx	edx, byte ptr [eax+24h]
		mov	eax, [ebp+var_8]
		mov	al, [eax]
		mov	[ecx+edx+25h], al
		mov	ecx, [ebp+Src]
		mov	edx, [ecx+4]
		mov	al, [edx+24h]
		add	al, 1
		mov	ecx, [ebp+Src]
		mov	edx, [ecx+4]
		mov	[edx+24h], al
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax
		jmp	short loc_152B
; ---------------------------------------------------------------------------

loc_156B:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+14Dj
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0
		jmp	loc_1763
; ---------------------------------------------------------------------------
		jmp	short loc_15A6
; ---------------------------------------------------------------------------

loc_157B:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+145j
		cmp	[ebp+var_50], 0FFFFFFFEh
		jnz	short loc_15A6
		mov	eax, [ebp+Src]
		mov	ecx, [eax+4]
		movsx	edx, byte ptr [ecx+24h]
		test	edx, edx
		jnz	short loc_1598
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax

loc_1598:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+1A9j
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0Ch
		jmp	loc_1763
; ---------------------------------------------------------------------------

loc_15A6:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+195j
					; _UConverter_toUnicode_CompoundText_OFFSETS+19Bj
		mov	eax, [ebp+var_50]
		cmp	eax, [ebp+var_44]
		jz	short loc_15B4
		mov	eax, [ebp+var_50]
		mov	[ebp+var_44], eax

loc_15B4:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+1C8j
		mov	eax, [ebp+var_44]
		imul	eax, 5
		add	eax, offset _escSeqCompoundText
		push	eax		; Str
		call	_strlen
		add	esp, 4
		mov	ecx, [ebp+Src]
		mov	edx, [ecx+4]
		movsx	ecx, byte ptr [edx+24h]
		sub	eax, ecx
		mov	[ebp+var_5C], eax
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_5C]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+Src]
		mov	ecx, [eax+4]
		mov	byte ptr [ecx+24h], 0

loc_15EA:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+10Dj
		cmp	[ebp+var_44], 0
		jnz	short loc_1648

loc_15F0:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS:loc_1641j
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_20]
		jnb	short loc_1643
		mov	eax, [ebp+var_8]
		movsx	ecx, byte ptr [eax]
		cmp	ecx, 1Bh
		jnz	short loc_1605
		jmp	short loc_1643
; ---------------------------------------------------------------------------

loc_1605:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+21Dj
		mov	eax, [ebp+Src]
		mov	ecx, [ebp+var_14]
		cmp	ecx, [eax+14h]
		jnb	short loc_1636
		mov	eax, [ebp+var_8]
		movsx	ecx, byte ptr [eax]
		and	ecx, 0FFh
		mov	edx, [ebp+var_14]
		mov	[edx], cx
		mov	eax, [ebp+var_14]
		add	eax, 2
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_8]
		add	ecx, 1
		mov	[ebp+var_8], ecx
		jmp	short loc_1641
; ---------------------------------------------------------------------------

loc_1636:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+22Aj
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0Fh
		jmp	short loc_1643
; ---------------------------------------------------------------------------

loc_1641:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+250j
		jmp	short loc_15F0
; ---------------------------------------------------------------------------

loc_1643:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+212j
					; _UConverter_toUnicode_CompoundText_OFFSETS+21Fj ...
		jmp	loc_1751
; ---------------------------------------------------------------------------

loc_1648:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+20Aj
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_20]
		jnb	loc_1751
		mov	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		call	_findNextEsc
		add	esp, 8
		mov	[ebp+var_5C], eax
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_5C]
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_8]
		mov	[ebp+var_90], eax
		mov	eax, [ebp+var_2C]
		mov	[ebp+var_8C], eax
		mov	eax, [ebp+var_14]
		mov	[ebp+var_88], eax
		mov	eax, [ebp+var_94]
		mov	ecx, [eax+18h]
		mov	[ebp+var_74], ecx
		mov	eax, [ebp+var_94]
		mov	ecx, [ebp+var_44]
		mov	edx, [ebp+var_68]
		mov	ecx, [edx+ecx*4]
		mov	[eax+18h], ecx
		mov	eax, [ebp+arg_4]
		push	eax
		lea	ecx, [ebp+Dst]
		push	ecx
		call	_ucnv_MBCSToUnicodeWithOffsets_56
		add	esp, 8
		mov	eax, [ebp+var_94]
		mov	ecx, [ebp+var_74]
		mov	[eax+18h], ecx
		mov	eax, [ebp+var_90]
		mov	[ebp+var_8], eax
		mov	eax, [ebp+var_88]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax], 0
		jle	short loc_1751
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax], 0Fh
		jnz	short loc_174F
		mov	eax, [ebp+var_94]
		movsx	ecx, byte ptr [eax+41h]
		test	ecx, ecx
		jle	short loc_1733
		push	1
		mov	eax, [ebp+var_94]
		add	eax, 74h ; 't'
		push	eax
		call	_uprv_checkValidMemory
		add	esp, 8
		mov	ecx, [ebp+var_94]
		movsx	edx, byte ptr [ecx+41h]
		push	edx		; Size
		mov	eax, [ebp+var_94]
		add	eax, 74h ; 't'
		push	eax		; Src
		mov	ecx, [ebp+Src]
		mov	edx, [ecx+4]
		add	edx, 74h ; 't'
		push	edx		; Dst
		call	_memcpy
		add	esp, 0Ch

loc_1733:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+312j
		mov	eax, [ebp+Src]
		mov	ecx, [eax+4]
		mov	edx, [ebp+var_94]
		mov	al, [edx+41h]
		mov	[ecx+41h], al
		mov	eax, [ebp+var_94]
		mov	byte ptr [eax+41h], 0

loc_174F:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+304j
		jmp	short loc_1763
; ---------------------------------------------------------------------------

loc_1751:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS:loc_1643j
					; _UConverter_toUnicode_CompoundText_OFFSETS+26Aj ...
		jmp	short loc_175E
; ---------------------------------------------------------------------------

loc_1753:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+DDj
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0Fh
		jmp	short loc_1763
; ---------------------------------------------------------------------------

loc_175E:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS:loc_1751j
		jmp	loc_14AC
; ---------------------------------------------------------------------------

loc_1763:				; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+CEj
					; _UConverter_toUnicode_CompoundText_OFFSETS+190j ...
		mov	eax, [ebp+var_68]
		mov	ecx, [ebp+var_44]
		mov	[eax+50h], ecx
		mov	eax, [ebp+Src]
		mov	ecx, [ebp+var_14]
		mov	[eax+10h], ecx
		mov	eax, [ebp+Src]
		mov	ecx, [ebp+var_8]
		mov	[eax+8], ecx
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN32
		call	@_RTC_CheckStackVars@8 ; _RTC_CheckStackVars(x,x)
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 168h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_UConverter_toUnicode_CompoundText_OFFSETS endp

; ---------------------------------------------------------------------------
		align 4
$LN32		dd 1			; DATA XREF: _UConverter_toUnicode_CompoundText_OFFSETS+39Eo
		dd offset $LN31
$LN31		dd 0FFFFFF68h, 1Ch	; DATA XREF: .text:000017A8o
		dd offset $LN30		; "subArgs"
$LN30		db 'subArgs',0          ; DATA XREF: .text:000017B4o
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 17C0h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_findNextEsc	proc near		; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+278p

var_D8		= byte ptr -0D8h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0D8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_D8]
		mov	ecx, 36h ; '6'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		sub	eax, [ebp+arg_0]
		mov	[ebp+var_8], eax
		mov	[ebp+var_14], 1
		jmp	short loc_17F9
; ---------------------------------------------------------------------------

loc_17F0:				; CODE XREF: _findNextEsc:loc_1814j
		mov	eax, [ebp+var_14]
		add	eax, 1
		mov	[ebp+var_14], eax

loc_17F9:				; CODE XREF: _findNextEsc+2Ej
		mov	eax, [ebp+var_14]
		cmp	eax, [ebp+var_8]
		jge	short loc_1816
		mov	eax, [ebp+arg_0]
		add	eax, [ebp+var_14]
		movsx	ecx, byte ptr [eax]
		cmp	ecx, 1Bh
		jnz	short loc_1814
		mov	eax, [ebp+var_14]
		jmp	short loc_1819
; ---------------------------------------------------------------------------

loc_1814:				; CODE XREF: _findNextEsc+4Dj
		jmp	short loc_17F0
; ---------------------------------------------------------------------------

loc_1816:				; CODE XREF: _findNextEsc+3Fj
		mov	eax, [ebp+var_8]

loc_1819:				; CODE XREF: _findNextEsc+52j
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_findNextEsc	endp

_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1820h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_findStateFromEscSeq proc near		; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+134p

var_FC		= byte ptr -0FCh
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_20		= dword	ptr -20h
var_11		= byte ptr -11h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h

		push	ebp
		mov	ebp, esp
		sub	esp, 0FCh
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_FC]
		mov	ecx, 3Fh ; '?'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_8], 0FFFFFFFEh
		mov	[ebp+var_11], 0
		mov	eax, [ebp+arg_C]
		mov	[ebp+var_38], eax
		mov	[ebp+var_20], 0
		jmp	short loc_1861
; ---------------------------------------------------------------------------

loc_1858:				; CODE XREF: _findStateFromEscSeq:loc_191Aj
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax

loc_1861:				; CODE XREF: _findStateFromEscSeq+36j
		cmp	[ebp+var_20], 14h
		jge	loc_191F
		mov	[ebp+var_11], 1
		mov	[ebp+var_2C], 0
		jmp	short loc_1881
; ---------------------------------------------------------------------------

loc_1878:				; CODE XREF: _findStateFromEscSeq:loc_190Bj
		mov	eax, [ebp+var_2C]
		add	eax, 1
		mov	[ebp+var_2C], eax

loc_1881:				; CODE XREF: _findStateFromEscSeq+56j
		mov	eax, [ebp+var_20]
		imul	eax, 5
		mov	ecx, [ebp+var_2C]
		movzx	edx, _escSeqCompoundText[eax+ecx]
		test	edx, edx
		jz	short loc_1910
		mov	eax, [ebp+var_2C]
		cmp	eax, [ebp+arg_C]
		jge	short loc_18C4
		mov	eax, [ebp+arg_8]
		add	eax, [ebp+var_2C]
		movzx	ecx, byte ptr [eax]
		mov	edx, [ebp+var_20]
		imul	edx, 5
		mov	eax, [ebp+var_2C]
		movzx	edx, _escSeqCompoundText[edx+eax]
		cmp	ecx, edx
		jz	short loc_18C2
		mov	[ebp+var_11], 0
		jmp	short loc_1910
; ---------------------------------------------------------------------------

loc_18C2:				; CODE XREF: _findStateFromEscSeq+9Aj
		jmp	short loc_190B
; ---------------------------------------------------------------------------

loc_18C4:				; CODE XREF: _findStateFromEscSeq+7Cj
		mov	eax, [ebp+var_2C]
		sub	eax, [ebp+var_38]
		add	eax, [ebp+arg_0]
		cmp	eax, [ebp+arg_4]
		jb	short loc_18E3
		mov	eax, [ebp+arg_10]
		mov	dword ptr [eax], 0Bh
		mov	[ebp+var_11], 0
		jmp	short loc_1910
; ---------------------------------------------------------------------------
		jmp	short loc_190B
; ---------------------------------------------------------------------------

loc_18E3:				; CODE XREF: _findStateFromEscSeq+B0j
		mov	eax, [ebp+var_2C]
		sub	eax, [ebp+var_38]
		mov	ecx, [ebp+arg_0]
		movsx	edx, byte ptr [ecx+eax]
		mov	eax, [ebp+var_20]
		imul	eax, 5
		mov	ecx, [ebp+var_2C]
		movzx	eax, _escSeqCompoundText[eax+ecx]
		cmp	edx, eax
		jz	short loc_190B
		mov	[ebp+var_11], 0
		jmp	short loc_1910
; ---------------------------------------------------------------------------

loc_190B:				; CODE XREF: _findStateFromEscSeq:loc_18C2j
					; _findStateFromEscSeq+C1j ...
		jmp	loc_1878
; ---------------------------------------------------------------------------

loc_1910:				; CODE XREF: _findStateFromEscSeq+74j
					; _findStateFromEscSeq+A0j ...
		movsx	eax, [ebp+var_11]
		test	eax, eax
		jz	short loc_191A
		jmp	short loc_191F
; ---------------------------------------------------------------------------

loc_191A:				; CODE XREF: _findStateFromEscSeq+F6j
		jmp	loc_1858
; ---------------------------------------------------------------------------

loc_191F:				; CODE XREF: _findStateFromEscSeq+45j
					; _findStateFromEscSeq+F8j
		movsx	eax, [ebp+var_11]
		test	eax, eax
		jz	short loc_192D
		mov	eax, [ebp+var_20]
		mov	[ebp+var_8], eax

loc_192D:				; CODE XREF: _findStateFromEscSeq+105j
		mov	eax, [ebp+var_8]
		pop	edi
		pop	esi
		pop	ebx
		mov	esp, ebp
		pop	ebp
		retn
_findStateFromEscSeq endp

; ---------------------------------------------------------------------------
		align 4
_text		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text		segment	para public 'CODE' use32
		assume cs:_text
		;org 1938h
		assume es:nothing, ss:nothing, ds:_rdata, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

__CompoundText_GetUnicodeSet proc near	; DATA XREF: .rdata:000000A4o

var_D8		= byte ptr -0D8h
var_14		= dword	ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		sub	esp, 0D8h
		push	ebx
		push	esi
		push	edi
		lea	edi, [ebp+var_D8]
		mov	ecx, 36h ; '6'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+8]
		mov	[ebp+var_8], ecx
		mov	[ebp+var_14], 1
		jmp	short loc_1971
; ---------------------------------------------------------------------------

loc_1968:				; CODE XREF: __CompoundText_GetUnicodeSet+5Dj
		mov	eax, [ebp+var_14]
		add	eax, 1
		mov	[ebp+var_14], eax

loc_1971:				; CODE XREF: __CompoundText_GetUnicodeSet+2Ej
		cmp	[ebp+var_14], 14h
		jge	short loc_1997
		mov	eax, [ebp+arg_C]
		push	eax
		mov	ecx, [ebp+arg_8]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx+eax*4]
		push	edx
		call	_ucnv_MBCSGetUnicodeSetForUnicode_56
		add	esp, 10h
		jmp	short loc_1968
; ---------------------------------------------------------------------------

loc_1997:				; CODE XREF: __CompoundText_GetUnicodeSet+3Dj
		mov	esi, esp
		push	0
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		push	ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+4]
		call	eax
		add	esp, 8
		cmp	esi, esp
		call	__RTC_CheckEsp
		mov	esi, esp
		push	9
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		push	ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+4]
		call	eax
		add	esp, 8
		cmp	esi, esp
		call	__RTC_CheckEsp
		mov	esi, esp
		push	0Ah
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		push	ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+4]
		call	eax
		add	esp, 8
		cmp	esi, esp
		call	__RTC_CheckEsp
		mov	esi, esp
		push	7Fh ; ''
		push	20h ; ' '
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		push	ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+8]
		call	eax
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		mov	esi, esp
		push	0FFh
		push	0A0h ; ' '
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		push	ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+8]
		call	eax
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		pop	edi
		pop	esi
		pop	ebx
		add	esp, 0D8h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
__CompoundText_GetUnicodeSet endp

_text		ends

; ===========================================================================

; Segment type:	Externs
; UNDEF
		extrn _ucnv_loadSharedData_56:near ; CODE XREF:	__CompoundTextOpen+9Ep
					; __CompoundTextOpen+C3p ...
		extrn _uprv_malloc_56:near ; CODE XREF:	__CompoundTextOpen+2Ap
		extrn ___security_cookie:near ;	DATA XREF: __CompoundTextOpen+1Er
					; _UConverter_fromUnicode_CompoundText_OFFSETS+1Er
		extrn __RTC_CheckEsp:near ; CODE XREF: __CompoundTextOpen+3A2p
					; __CompoundTextClose+82p ...
; __fastcall __security_check_cookie(x)
		extrn @__security_check_cookie@4:near ;	CODE XREF: __CompoundTextOpen+395p
					; _UConverter_fromUnicode_CompoundText_OFFSETS+4E0p
; __fastcall _RTC_CheckStackVars(x, x)
		extrn @_RTC_CheckStackVars@8:near ; CODE XREF: __CompoundTextOpen+386p
					; _UConverter_fromUnicode_CompoundText_OFFSETS+4D1p ...
		extrn __RTC_Shutdown:near ; DATA XREF: .rtc$TMZ:__RTC_Shutdown_rtc$TMZo
		extrn __RTC_InitBase:near ; DATA XREF: .rtc$IMZ:__RTC_InitBase_rtc$IMZo
		extrn _uprv_free_56:near ; CODE	XREF: __CompoundTextClose+6Fp
		extrn _ucnv_unloadSharedDataIfReady_56:near
					; CODE XREF: __CompoundTextClose+5Ep
		extrn _ucnv_MBCSFromUChar32_56:near
					; CODE XREF: _UConverter_fromUnicode_CompoundText_OFFSETS+25Ep
					; _UConverter_fromUnicode_CompoundText_OFFSETS+387p
		extrn _ucnv_MBCSToUnicodeWithOffsets_56:near
					; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+2D0p
; size_t __cdecl strlen(const char *Str)
		extrn _strlen:near	; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+1DCp
; void *__cdecl	memcpy(void *Dst, const	void *Src, size_t Size)
		extrn _memcpy:near	; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+A3p
					; _UConverter_toUnicode_CompoundText_OFFSETS+347p
		extrn _uprv_checkValidMemory:near
					; CODE XREF: _UConverter_toUnicode_CompoundText_OFFSETS+89p
					; _UConverter_toUnicode_CompoundText_OFFSETS+320p
		extrn _ucnv_MBCSGetUnicodeSetForUnicode_56:near
					; CODE XREF: __CompoundText_GetUnicodeSet+55p


		end
