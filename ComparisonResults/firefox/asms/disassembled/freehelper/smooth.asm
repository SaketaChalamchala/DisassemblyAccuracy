;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	47443A82CCBA732019DAE4C35AA8D14B
; Input	CRC32 :	B1C5D63B

; File Name   :	D:\compspace\objfiles\firefox\freehelper\smooth.obj
; Format      :	COFF (X386MAGIC)
; includelib "MSVCRTD"

		.686p
		.mmx
		.model flat
.intel_syntax noprefix

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text$mn	segment	para public 'CODE' use32
		assume cs:_text$mn
		assume es:nothing, ss:nothing, ds:_data, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_init_cells proc near		; CODE XREF: _gray_raster_render+25Bp

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	[eax+528h], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_8]
		mov	[edx+52Ch], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_4]
		mov	[ecx+530h], edx
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+6Ch], 0
		mov	ecx, [ebp+arg_0]
		mov	dword ptr [ecx+70h], 0
		mov	edx, [ebp+arg_0]
		mov	dword ptr [edx+74h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+60h], 0
		mov	ecx, [ebp+arg_0]
		mov	dword ptr [ecx+64h], 0
		mov	edx, [ebp+arg_0]
		mov	dword ptr [edx+68h], 1
		pop	ebp
		retn
_gray_init_cells endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_compute_cbox proc	near		; CODE XREF: _gray_convert_glyph+2Ap

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 14h
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		add	eax, 414h
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+4]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_4]
		movsx	ecx, word ptr [eax+2]
		mov	edx, [ebp+var_8]
		lea	eax, [edx+ecx*8]
		mov	[ebp+var_C], eax
		mov	ecx, [ebp+var_4]
		movsx	edx, word ptr [ecx+2]
		test	edx, edx
		jg	short loc_E6
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+4Ch], 0
		mov	ecx, [ebp+arg_0]
		mov	dword ptr [ecx+48h], 0
		mov	edx, [ebp+arg_0]
		mov	dword ptr [edx+54h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+50h], 0
		jmp	loc_1D6
; ---------------------------------------------------------------------------

loc_E6:					; CODE XREF: _gray_compute_cbox+47j
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_8]
		mov	eax, [edx]
		mov	[ecx+4Ch], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+4Ch]
		mov	[ecx+48h], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_8]
		mov	eax, [edx+4]
		mov	[ecx+54h], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+54h]
		mov	[ecx+50h], eax
		mov	ecx, [ebp+var_8]
		add	ecx, 8
		mov	[ebp+var_8], ecx
		jmp	short loc_129
; ---------------------------------------------------------------------------

loc_120:				; CODE XREF: _gray_compute_cbox:loc_192j
		mov	edx, [ebp+var_8]
		add	edx, 8
		mov	[ebp+var_8], edx

loc_129:				; CODE XREF: _gray_compute_cbox+AEj
		mov	eax, [ebp+var_8]
		cmp	eax, [ebp+var_C]
		jnb	short loc_194
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx]
		mov	[ebp+var_10], edx
		mov	eax, [ebp+var_8]
		mov	ecx, [eax+4]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_10]
		cmp	eax, [edx+48h]
		jge	short loc_156
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_10]
		mov	[ecx+48h], edx

loc_156:				; CODE XREF: _gray_compute_cbox+DBj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_10]
		cmp	ecx, [eax+4Ch]
		jle	short loc_16A
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_10]
		mov	[edx+4Ch], eax

loc_16A:				; CODE XREF: _gray_compute_cbox+EFj
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_14]
		cmp	edx, [ecx+50h]
		jge	short loc_17E
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_14]
		mov	[eax+50h], ecx

loc_17E:				; CODE XREF: _gray_compute_cbox+103j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_14]
		cmp	eax, [edx+54h]
		jle	short loc_192
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_14]
		mov	[ecx+54h], edx

loc_192:				; CODE XREF: _gray_compute_cbox+117j
		jmp	short loc_120
; ---------------------------------------------------------------------------

loc_194:				; CODE XREF: _gray_compute_cbox+BFj
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+48h]
		sar	ecx, 6
		mov	edx, [ebp+arg_0]
		mov	[edx+48h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		sar	ecx, 6
		mov	edx, [ebp+arg_0]
		mov	[edx+50h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4Ch]
		add	ecx, 3Fh ; '?'
		sar	ecx, 6
		mov	edx, [ebp+arg_0]
		mov	[edx+4Ch], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+54h]
		add	ecx, 3Fh ; '?'
		sar	ecx, 6
		mov	edx, [ebp+arg_0]
		mov	[edx+54h], ecx

loc_1D6:				; CODE XREF: _gray_compute_cbox+71j
		mov	esp, ebp
		pop	ebp
		retn
_gray_compute_cbox endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_find_cell(int *__attribute__((__org_typedef(jmp_buf))) )
_gray_find_cell	proc near		; CODE XREF: _gray_record_cell+1Dp

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 0Ch
		push	esi
		mov	[ebp+var_C], 0CCCCCCCCh
		mov	[ebp+var_8], 0CCCCCCCCh
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+40h]
		mov	[ebp+var_C], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_C]
		cmp	eax, [edx+58h]
		jle	short loc_219
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+58h]
		mov	[ebp+var_C], edx

loc_219:				; CODE XREF: _gray_find_cell+2Ej
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+44h]
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+530h]
		lea	ecx, [eax+ecx*4]
		mov	[ebp+var_4], ecx

loc_22E:				; CODE XREF: _gray_find_cell+7Dj
		mov	edx, [ebp+var_4]
		mov	eax, [edx]
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_246
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx]
		cmp	edx, [ebp+var_C]
		jle	short loc_248

loc_246:				; CODE XREF: _gray_find_cell+5Aj
		jmp	short loc_25F
; ---------------------------------------------------------------------------

loc_248:				; CODE XREF: _gray_find_cell+64j
		mov	eax, [ebp+var_8]
		mov	ecx, [eax]
		cmp	ecx, [ebp+var_C]
		jnz	short loc_254
		jmp	short $Exit$10
; ---------------------------------------------------------------------------

loc_254:				; CODE XREF: _gray_find_cell+70j
		mov	edx, [ebp+var_8]
		add	edx, 0Ch
		mov	[ebp+var_4], edx
		jmp	short loc_22E
; ---------------------------------------------------------------------------

loc_25F:				; CODE XREF: _gray_find_cell:loc_246j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [eax+74h]
		cmp	edx, [ecx+70h]
		jl	short loc_282
		mov	esi, esp
		push	1		; int
		mov	eax, [ebp+arg_0]
		push	eax		; jmp_buf
		call	dword ptr ds:__imp__longjmp
; ---------------------------------------------------------------------------
		cmp	esi, esp
		call	__RTC_CheckEsp

loc_282:				; CODE XREF: _gray_find_cell+8Bj
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+74h]
		shl	edx, 4
		mov	eax, [ebp+arg_0]
		add	edx, [eax+6Ch]
		mov	[ebp+var_8], edx
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+74h]
		add	edx, 1
		mov	eax, [ebp+arg_0]
		mov	[eax+74h], edx
		mov	ecx, [ebp+var_8]
		mov	edx, [ebp+var_C]
		mov	[ecx], edx
		mov	eax, [ebp+var_8]
		mov	dword ptr [eax+8], 0
		mov	ecx, [ebp+var_8]
		mov	dword ptr [ecx+4], 0
		mov	edx, [ebp+var_8]
		mov	eax, [ebp+var_4]
		mov	ecx, [eax]
		mov	[edx+0Ch], ecx
		mov	edx, [ebp+var_4]
		mov	eax, [ebp+var_8]
		mov	[edx], eax

$Exit$10:				; CODE XREF: _gray_find_cell+72j
		mov	eax, [ebp+var_8]
		pop	esi
		add	esp, 0Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_find_cell	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_record_cell(int *__attribute__((__org_typedef(jmp_buf))) )
_gray_record_cell proc near		; CODE XREF: _gray_set_cell+63p
					; _gray_move_to+21p ...

var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [eax+60h]
		or	edx, [ecx+64h]
		jz	short loc_33C
		mov	eax, [ebp+arg_0]
		push	eax		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_find_cell
		add	esp, 4
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+8]
		mov	eax, [ebp+arg_0]
		add	edx, [eax+60h]
		mov	ecx, [ebp+var_4]
		mov	[ecx+8], edx
		mov	edx, [ebp+var_4]
		mov	eax, [edx+4]
		mov	ecx, [ebp+arg_0]
		add	eax, [ecx+64h]
		mov	edx, [ebp+var_4]
		mov	[edx+4], eax

loc_33C:				; CODE XREF: _gray_record_cell+17j
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_record_cell endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_set_cell(int	*__attribute__((__org_typedef(jmp_buf))) , int,	int)
_gray_set_cell	proc near		; CODE XREF: _gray_start_cell+85p
					; _gray_render_scanline+61p ...

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		sub	ecx, [eax+50h]
		mov	[ebp+arg_8], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_4]
		cmp	eax, [edx+4Ch]
		jle	short loc_37B
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+4Ch]
		mov	[ebp+arg_4], edx

loc_37B:				; CODE XREF: _gray_set_cell+20j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		sub	ecx, [eax+48h]
		mov	[ebp+arg_4], ecx
		jns	short loc_390
		mov	[ebp+arg_4], 0FFFFFFFFh

loc_390:				; CODE XREF: _gray_set_cell+37j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_4]
		cmp	eax, [edx+40h]
		jnz	short loc_3A6
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_8]
		cmp	edx, [ecx+44h]
		jz	short loc_3E1

loc_3A6:				; CODE XREF: _gray_set_cell+49j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+68h], 0
		jnz	short loc_3BB
		mov	ecx, [ebp+arg_0]
		push	ecx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_record_cell
		add	esp, 4

loc_3BB:				; CODE XREF: _gray_set_cell+5Dj
		mov	edx, [ebp+arg_0]
		mov	dword ptr [edx+60h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+64h], 0
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_4]
		mov	[ecx+40h], edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		mov	[eax+44h], ecx

loc_3E1:				; CODE XREF: _gray_set_cell+54j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_8]
		cmp	eax, [edx+5Ch]
		jnb	short loc_400
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_4]
		cmp	edx, [ecx+58h]
		jge	short loc_400
		mov	[ebp+var_4], 0
		jmp	short loc_407
; ---------------------------------------------------------------------------

loc_400:				; CODE XREF: _gray_set_cell+9Aj
					; _gray_set_cell+A5j
		mov	[ebp+var_4], 1

loc_407:				; CODE XREF: _gray_set_cell+AEj
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_4]
		mov	[eax+68h], ecx
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_set_cell	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_start_cell(int *__attribute__((__org_typedef(jmp_buf))) , int, int)
_gray_start_cell proc near		; CODE XREF: _gray_move_to+52p

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		cmp	ecx, [eax+4Ch]
		jle	short loc_437
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+4Ch]
		mov	[ebp+arg_4], eax

loc_437:				; CODE XREF: _gray_start_cell+Cj
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_4]
		cmp	edx, [ecx+48h]
		jge	short loc_44E
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+48h]
		sub	ecx, 1
		mov	[ebp+arg_4], ecx

loc_44E:				; CODE XREF: _gray_start_cell+20j
		mov	edx, [ebp+arg_0]
		mov	dword ptr [edx+60h], 0
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+64h], 0
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_4]
		sub	edx, [ecx+48h]
		mov	eax, [ebp+arg_0]
		mov	[eax+40h], edx
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_8]
		sub	edx, [ecx+50h]
		mov	eax, [ebp+arg_0]
		mov	[eax+44h], edx
		mov	ecx, [ebp+arg_8]
		shl	ecx, 8
		mov	edx, [ebp+arg_0]
		mov	[edx+88h], ecx
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+68h], 0
		mov	ecx, [ebp+arg_8]
		push	ecx		; int
		mov	edx, [ebp+arg_4]
		push	edx		; int
		mov	eax, [ebp+arg_0]
		push	eax		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_set_cell
		add	esp, 0Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		pop	ebp
		retn
_gray_start_cell endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_render_scanline(int *__attribute__((__org_typedef(jmp_buf)))	, int, int, int, int, int)
_gray_render_scanline proc near		; CODE XREF: _gray_render_line+D0p
					; _gray_render_line+2ACp ...

var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 30h
		push	edi
		lea	edi, [ebp+var_30]
		mov	ecx, 0Ch
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_10]
		sub	eax, [ebp+arg_8]
		mov	[ebp+var_24], eax
		mov	ecx, [ebp+arg_8]
		sar	ecx, 8
		mov	[ebp+var_4], ecx
		mov	edx, [ebp+arg_10]
		sar	edx, 8
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_4]
		shl	eax, 8
		mov	ecx, [ebp+arg_8]
		sub	ecx, eax
		mov	[ebp+var_C], ecx
		mov	edx, [ebp+var_8]
		shl	edx, 8
		mov	eax, [ebp+arg_10]
		sub	eax, edx
		mov	[ebp+var_10], eax
		mov	ecx, [ebp+arg_C]
		cmp	ecx, [ebp+arg_14]
		jnz	short loc_52E
		mov	edx, [ebp+arg_4]
		push	edx		; int
		mov	eax, [ebp+var_8]
		push	eax		; int
		mov	ecx, [ebp+arg_0]
		push	ecx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_set_cell
		add	esp, 0Ch
		jmp	loc_72A
; ---------------------------------------------------------------------------

loc_52E:				; CODE XREF: _gray_render_scanline+53j
		mov	edx, [ebp+var_4]
		cmp	edx, [ebp+var_8]
		jnz	short loc_569
		mov	eax, [ebp+arg_14]
		sub	eax, [ebp+arg_C]
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_C]
		add	ecx, [ebp+var_10]
		imul	ecx, [ebp+var_14]
		mov	edx, [ebp+arg_0]
		add	ecx, [edx+60h]
		mov	eax, [ebp+arg_0]
		mov	[eax+60h], ecx
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+64h]
		add	edx, [ebp+var_14]
		mov	eax, [ebp+arg_0]
		mov	[eax+64h], edx
		jmp	loc_72A
; ---------------------------------------------------------------------------

loc_569:				; CODE XREF: _gray_render_scanline+74j
		mov	ecx, 100h
		sub	ecx, [ebp+var_C]
		mov	edx, [ebp+arg_14]
		sub	edx, [ebp+arg_C]
		imul	ecx, edx
		mov	[ebp+var_1C], ecx
		mov	[ebp+var_20], 100h
		mov	[ebp+var_28], 1
		cmp	[ebp+var_24], 0
		jge	short loc_5B4
		mov	eax, [ebp+arg_14]
		sub	eax, [ebp+arg_C]
		imul	eax, [ebp+var_C]
		mov	[ebp+var_1C], eax
		mov	[ebp+var_20], 0
		mov	[ebp+var_28], 0FFFFFFFFh
		mov	ecx, [ebp+var_24]
		neg	ecx
		mov	[ebp+var_24], ecx

loc_5B4:				; CODE XREF: _gray_render_scanline+CFj
					; _gray_render_scanline+122j
		mov	eax, [ebp+var_1C]
		cdq
		idiv	[ebp+var_24]
		mov	[ebp+var_14], eax
		mov	eax, [ebp+var_1C]
		cdq
		idiv	[ebp+var_24]
		mov	[ebp+var_18], edx
		cmp	[ebp+var_18], 0
		jge	short loc_5E0
		mov	edx, [ebp+var_14]
		sub	edx, 1
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_24]
		mov	[ebp+var_18], eax

loc_5E0:				; CODE XREF: _gray_render_scanline+10Cj
		xor	ecx, ecx
		jnz	short loc_5B4
		mov	edx, [ebp+var_C]
		add	edx, [ebp+var_20]
		imul	edx, [ebp+var_14]
		mov	eax, [ebp+arg_0]
		add	edx, [eax+60h]
		mov	ecx, [ebp+arg_0]
		mov	[ecx+60h], edx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+64h]
		add	eax, [ebp+var_14]
		mov	ecx, [ebp+arg_0]
		mov	[ecx+64h], eax
		mov	edx, [ebp+var_4]
		add	edx, [ebp+var_28]
		mov	[ebp+var_4], edx
		mov	eax, [ebp+arg_4]
		push	eax		; int
		mov	ecx, [ebp+var_4]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_set_cell
		add	esp, 0Ch
		mov	eax, [ebp+arg_C]
		add	eax, [ebp+var_14]
		mov	[ebp+arg_C], eax
		mov	ecx, [ebp+var_4]
		cmp	ecx, [ebp+var_8]
		jz	loc_6F7
		mov	edx, [ebp+arg_14]
		sub	edx, [ebp+arg_C]
		add	edx, [ebp+var_14]
		shl	edx, 8
		mov	[ebp+var_1C], edx

loc_64A:				; CODE XREF: _gray_render_scanline+1B8j
		mov	eax, [ebp+var_1C]
		cdq
		idiv	[ebp+var_24]
		mov	[ebp+var_2C], eax
		mov	eax, [ebp+var_1C]
		cdq
		idiv	[ebp+var_24]
		mov	[ebp+var_30], edx
		cmp	[ebp+var_30], 0
		jge	short loc_676
		mov	eax, [ebp+var_2C]
		sub	eax, 1
		mov	[ebp+var_2C], eax
		mov	ecx, [ebp+var_30]
		add	ecx, [ebp+var_24]
		mov	[ebp+var_30], ecx

loc_676:				; CODE XREF: _gray_render_scanline+1A2j
		xor	edx, edx
		jnz	short loc_64A
		mov	eax, [ebp+var_18]
		sub	eax, [ebp+var_24]
		mov	[ebp+var_18], eax

loc_683:				; CODE XREF: _gray_render_scanline+235j
		mov	ecx, [ebp+var_4]
		cmp	ecx, [ebp+var_8]
		jz	short loc_6F7
		mov	edx, [ebp+var_2C]
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_18]
		add	eax, [ebp+var_30]
		mov	[ebp+var_18], eax
		js	short loc_6AE
		mov	ecx, [ebp+var_18]
		sub	ecx, [ebp+var_24]
		mov	[ebp+var_18], ecx
		mov	edx, [ebp+var_14]
		add	edx, 1
		mov	[ebp+var_14], edx

loc_6AE:				; CODE XREF: _gray_render_scanline+1DAj
		mov	eax, [ebp+var_14]
		shl	eax, 8
		mov	ecx, [ebp+arg_0]
		add	eax, [ecx+60h]
		mov	edx, [ebp+arg_0]
		mov	[edx+60h], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+64h]
		add	ecx, [ebp+var_14]
		mov	edx, [ebp+arg_0]
		mov	[edx+64h], ecx
		mov	eax, [ebp+arg_C]
		add	eax, [ebp+var_14]
		mov	[ebp+arg_C], eax
		mov	ecx, [ebp+var_4]
		add	ecx, [ebp+var_28]
		mov	[ebp+var_4], ecx
		mov	edx, [ebp+arg_4]
		push	edx		; int
		mov	eax, [ebp+var_4]
		push	eax		; int
		mov	ecx, [ebp+arg_0]
		push	ecx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_set_cell
		add	esp, 0Ch
		jmp	short loc_683
; ---------------------------------------------------------------------------

loc_6F7:				; CODE XREF: _gray_render_scanline+175j
					; _gray_render_scanline+1C9j
		mov	edx, [ebp+arg_14]
		sub	edx, [ebp+arg_C]
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_10]
		add	eax, 100h
		sub	eax, [ebp+var_20]
		imul	eax, [ebp+var_14]
		mov	ecx, [ebp+arg_0]
		add	eax, [ecx+60h]
		mov	edx, [ebp+arg_0]
		mov	[edx+60h], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+64h]
		add	ecx, [ebp+var_14]
		mov	edx, [ebp+arg_0]
		mov	[edx+64h], ecx

loc_72A:				; CODE XREF: _gray_render_scanline+69j
					; _gray_render_scanline+A4j
		pop	edi
		add	esp, 30h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_render_scanline endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_render_line(int *__attribute__((__org_typedef(jmp_buf))) , int, int)
_gray_render_line proc near		; CODE XREF: _gray_render_conic+34Cp
					; _gray_render_cubic+3ECp ...

var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 50h
		push	edi
		lea	edi, [ebp+var_50]
		mov	ecx, 14h
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+88h]
		sar	ecx, 8
		mov	[ebp+var_4], ecx
		mov	edx, [ebp+arg_8]
		sar	edx, 8
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [eax+84h]
		sub	edx, [ecx+88h]
		mov	[ebp+var_C], edx
		mov	eax, [ebp+var_8]
		shl	eax, 8
		mov	ecx, [ebp+arg_8]
		sub	ecx, eax
		mov	[ebp+var_10], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_4]
		sub	eax, [edx+80h]
		mov	[ebp+var_18], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_8]
		sub	edx, [ecx+84h]
		mov	[ebp+var_1C], edx
		mov	eax, [ebp+var_4]
		mov	[ebp+var_40], eax
		mov	ecx, [ebp+var_8]
		mov	[ebp+var_44], ecx
		mov	edx, [ebp+var_4]
		cmp	edx, [ebp+var_8]
		jle	short loc_7CF
		mov	eax, [ebp+var_8]
		mov	[ebp+var_40], eax
		mov	ecx, [ebp+var_4]
		mov	[ebp+var_44], ecx

loc_7CF:				; CODE XREF: _gray_render_line+81j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_40]
		cmp	eax, [edx+54h]
		jge	short loc_7E5
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_44]
		cmp	edx, [ecx+50h]
		jge	short loc_7EA

loc_7E5:				; CODE XREF: _gray_render_line+98j
		jmp	$End$24
; ---------------------------------------------------------------------------

loc_7EA:				; CODE XREF: _gray_render_line+A3j
		mov	eax, [ebp+var_4]
		cmp	eax, [ebp+var_8]
		jnz	short loc_81D
		mov	ecx, [ebp+var_10]
		push	ecx		; int
		mov	edx, [ebp+arg_4]
		push	edx		; int
		mov	eax, [ebp+var_C]
		push	eax		; int
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+80h]
		push	edx		; int
		mov	eax, [ebp+var_4]
		push	eax		; int
		mov	ecx, [ebp+arg_0]
		push	ecx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_scanline
		add	esp, 18h
		jmp	$End$24
; ---------------------------------------------------------------------------

loc_81D:				; CODE XREF: _gray_render_line+B0j
		mov	[ebp+var_3C], 1
		cmp	[ebp+var_18], 0
		jnz	loc_94C
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+80h]
		sar	eax, 8
		mov	[ebp+var_48], eax
		mov	ecx, [ebp+var_48]
		shl	ecx, 8
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+80h]
		sub	eax, ecx
		shl	eax, 1
		mov	[ebp+var_4C], eax
		mov	[ebp+var_2C], 100h
		cmp	[ebp+var_1C], 0
		jge	short loc_86E
		mov	[ebp+var_2C], 0
		mov	[ebp+var_3C], 0FFFFFFFFh

loc_86E:				; CODE XREF: _gray_render_line+11Ej
		mov	ecx, [ebp+var_2C]
		sub	ecx, [ebp+var_C]
		mov	[ebp+var_30], ecx
		mov	edx, [ebp+var_4C]
		imul	edx, [ebp+var_30]
		mov	eax, [ebp+arg_0]
		add	edx, [eax+60h]
		mov	ecx, [ebp+arg_0]
		mov	[ecx+60h], edx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+64h]
		add	eax, [ebp+var_30]
		mov	ecx, [ebp+arg_0]
		mov	[ecx+64h], eax
		mov	edx, [ebp+var_4]
		add	edx, [ebp+var_3C]
		mov	[ebp+var_4], edx
		mov	eax, [ebp+var_4]
		push	eax		; int
		mov	ecx, [ebp+var_48]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_set_cell
		add	esp, 0Ch
		mov	eax, [ebp+var_2C]
		mov	ecx, [ebp+var_2C]
		lea	edx, [ecx+eax-100h]
		mov	[ebp+var_30], edx
		mov	eax, [ebp+var_4C]
		imul	eax, [ebp+var_30]
		mov	[ebp+var_50], eax

loc_8D0:				; CODE XREF: _gray_render_line+1D3j
		mov	ecx, [ebp+var_4]
		cmp	ecx, [ebp+var_8]
		jz	short loc_915
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+60h]
		add	eax, [ebp+var_50]
		mov	ecx, [ebp+arg_0]
		mov	[ecx+60h], eax
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+64h]
		add	eax, [ebp+var_30]
		mov	ecx, [ebp+arg_0]
		mov	[ecx+64h], eax
		mov	edx, [ebp+var_4]
		add	edx, [ebp+var_3C]
		mov	[ebp+var_4], edx
		mov	eax, [ebp+var_4]
		push	eax		; int
		mov	ecx, [ebp+var_48]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_set_cell
		add	esp, 0Ch
		jmp	short loc_8D0
; ---------------------------------------------------------------------------

loc_915:				; CODE XREF: _gray_render_line+196j
		mov	eax, [ebp+var_2C]
		mov	ecx, [ebp+var_10]
		lea	edx, [ecx+eax-100h]
		mov	[ebp+var_30], edx
		mov	eax, [ebp+var_4C]
		imul	eax, [ebp+var_30]
		mov	ecx, [ebp+arg_0]
		add	eax, [ecx+60h]
		mov	edx, [ebp+arg_0]
		mov	[edx+60h], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+64h]
		add	ecx, [ebp+var_30]
		mov	edx, [ebp+arg_0]
		mov	[edx+64h], ecx
		jmp	$End$24
; ---------------------------------------------------------------------------

loc_94C:				; CODE XREF: _gray_render_line+E8j
		mov	eax, 100h
		sub	eax, [ebp+var_C]
		imul	eax, [ebp+var_18]
		mov	[ebp+var_28], eax
		mov	[ebp+var_2C], 100h
		mov	[ebp+var_3C], 1
		cmp	[ebp+var_1C], 0
		jge	short loc_98F
		mov	ecx, [ebp+var_C]
		imul	ecx, [ebp+var_18]
		mov	[ebp+var_28], ecx
		mov	[ebp+var_2C], 0
		mov	[ebp+var_3C], 0FFFFFFFFh
		mov	edx, [ebp+var_1C]
		neg	edx
		mov	[ebp+var_1C], edx

loc_98F:				; CODE XREF: _gray_render_line+22Dj
					; _gray_render_line+27Dj
		mov	eax, [ebp+var_28]
		cdq
		idiv	[ebp+var_1C]
		mov	[ebp+var_30], eax
		mov	eax, [ebp+var_28]
		cdq
		idiv	[ebp+var_1C]
		mov	[ebp+var_14], edx
		cmp	[ebp+var_14], 0
		jge	short loc_9BB
		mov	eax, [ebp+var_30]
		sub	eax, 1
		mov	[ebp+var_30], eax
		mov	ecx, [ebp+var_14]
		add	ecx, [ebp+var_1C]
		mov	[ebp+var_14], ecx

loc_9BB:				; CODE XREF: _gray_render_line+267j
		xor	edx, edx
		jnz	short loc_98F
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+80h]
		add	ecx, [ebp+var_30]
		mov	[ebp+var_20], ecx
		mov	edx, [ebp+var_2C]
		push	edx		; int
		mov	eax, [ebp+var_20]
		push	eax		; int
		mov	ecx, [ebp+var_C]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+80h]
		push	eax		; int
		mov	ecx, [ebp+var_4]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_scanline
		add	esp, 18h
		mov	eax, [ebp+var_4]
		add	eax, [ebp+var_3C]
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+var_4]
		push	ecx		; int
		mov	edx, [ebp+var_20]
		sar	edx, 8
		push	edx		; int
		mov	eax, [ebp+arg_0]
		push	eax		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_set_cell
		add	esp, 0Ch
		mov	ecx, [ebp+var_4]
		cmp	ecx, [ebp+var_8]
		jz	loc_AE6
		mov	edx, [ebp+var_18]
		shl	edx, 8
		mov	[ebp+var_28], edx

loc_A29:				; CODE XREF: _gray_render_line+317j
		mov	eax, [ebp+var_28]
		cdq
		idiv	[ebp+var_1C]
		mov	[ebp+var_38], eax
		mov	eax, [ebp+var_28]
		cdq
		idiv	[ebp+var_1C]
		mov	[ebp+var_34], edx
		cmp	[ebp+var_34], 0
		jge	short loc_A55
		mov	eax, [ebp+var_38]
		sub	eax, 1
		mov	[ebp+var_38], eax
		mov	ecx, [ebp+var_34]
		add	ecx, [ebp+var_1C]
		mov	[ebp+var_34], ecx

loc_A55:				; CODE XREF: _gray_render_line+301j
		xor	edx, edx
		jnz	short loc_A29
		mov	eax, [ebp+var_14]
		sub	eax, [ebp+var_1C]
		mov	[ebp+var_14], eax

loc_A62:				; CODE XREF: _gray_render_line+3A1j
		mov	ecx, [ebp+var_4]
		cmp	ecx, [ebp+var_8]
		jz	short loc_AE6
		mov	edx, [ebp+var_38]
		mov	[ebp+var_30], edx
		mov	eax, [ebp+var_14]
		add	eax, [ebp+var_34]
		mov	[ebp+var_14], eax
		js	short loc_A8D
		mov	ecx, [ebp+var_14]
		sub	ecx, [ebp+var_1C]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+var_30]
		add	edx, 1
		mov	[ebp+var_30], edx

loc_A8D:				; CODE XREF: _gray_render_line+339j
		mov	eax, [ebp+var_20]
		add	eax, [ebp+var_30]
		mov	[ebp+var_24], eax
		mov	ecx, [ebp+var_2C]
		push	ecx		; int
		mov	edx, [ebp+var_24]
		push	edx		; int
		mov	eax, 100h
		sub	eax, [ebp+var_2C]
		push	eax		; int
		mov	ecx, [ebp+var_20]
		push	ecx		; int
		mov	edx, [ebp+var_4]
		push	edx		; int
		mov	eax, [ebp+arg_0]
		push	eax		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_scanline
		add	esp, 18h
		mov	ecx, [ebp+var_24]
		mov	[ebp+var_20], ecx
		mov	edx, [ebp+var_4]
		add	edx, [ebp+var_3C]
		mov	[ebp+var_4], edx
		mov	eax, [ebp+var_4]
		push	eax		; int
		mov	ecx, [ebp+var_20]
		sar	ecx, 8
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_set_cell
		add	esp, 0Ch
		jmp	loc_A62
; ---------------------------------------------------------------------------

loc_AE6:				; CODE XREF: _gray_render_line+2DAj
					; _gray_render_line+328j
		mov	eax, [ebp+var_10]
		push	eax		; int
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		mov	edx, 100h
		sub	edx, [ebp+var_2C]
		push	edx		; int
		mov	eax, [ebp+var_20]
		push	eax		; int
		mov	ecx, [ebp+var_4]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_scanline
		add	esp, 18h

$End$24:				; CODE XREF: _gray_render_line:loc_7E5j
					; _gray_render_line+D8j ...
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	[eax+80h], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_8]
		mov	[edx+84h], eax
		mov	ecx, [ebp+var_8]
		shl	ecx, 8
		mov	edx, [ebp+arg_0]
		mov	[edx+88h], ecx
		pop	edi
		add	esp, 50h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_render_line endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_split_conic proc near		; CODE XREF: _gray_render_conic+2EBp

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		push	esi
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_18], eax
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, 8
		shl	eax, 1
		mov	ecx, 8
		shl	ecx, 2
		mov	edx, [ebp+arg_0]
		mov	esi, [ebp+arg_0]
		mov	eax, [esi+eax]
		mov	[edx+ecx], eax
		mov	ecx, 8
		shl	ecx, 0
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+ecx]
		mov	[ebp+var_8], eax
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+ecx]
		add	eax, [ebp+var_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_C], eax
		mov	eax, 8
		imul	ecx, eax, 3
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_C]
		mov	[edx+ecx], eax
		mov	ecx, [ebp+var_C]
		mov	[ebp+var_4], ecx
		mov	edx, 8
		imul	eax, edx, 0
		mov	ecx, [ebp+arg_0]
		mov	eax, [ecx+eax]
		add	eax, [ebp+var_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_10], eax
		mov	edx, 8
		shl	edx, 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_10]
		mov	[eax+edx], ecx
		mov	edx, [ebp+var_10]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_4]
		add	eax, [ebp+var_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+ecx], eax
		mov	eax, 8
		shl	eax, 1
		mov	ecx, 8
		shl	ecx, 2
		mov	edx, [ebp+arg_0]
		mov	esi, [ebp+arg_0]
		mov	eax, [esi+eax+4]
		mov	[edx+ecx+4], eax
		mov	ecx, 8
		shl	ecx, 0
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+ecx+4]
		mov	[ebp+var_8], eax
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+ecx+4]
		add	eax, [ebp+var_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_14], eax
		mov	eax, 8
		imul	ecx, eax, 3
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_14]
		mov	[edx+ecx+4], eax
		mov	ecx, [ebp+var_14]
		mov	[ebp+var_4], ecx
		mov	edx, 8
		imul	eax, edx, 0
		mov	ecx, [ebp+arg_0]
		mov	eax, [ecx+eax+4]
		add	eax, [ebp+var_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_18], eax
		mov	edx, 8
		shl	edx, 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_18]
		mov	[eax+edx+4], ecx
		mov	edx, [ebp+var_18]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_4]
		add	eax, [ebp+var_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+ecx+4], eax
		pop	esi
		mov	esp, ebp
		pop	ebp
		retn
_gray_split_conic endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_render_conic(int *__attribute__((__org_typedef(jmp_buf))) , int, int)
_gray_render_conic proc	near		; CODE XREF: _gray_conic_to+Fp

var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 30h
		push	edi
		lea	edi, [ebp+var_30]
		mov	ecx, 0Ch
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		add	eax, 394h
		mov	[ebp+var_20], eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 8Ch ; 'Œ'
		mov	[ebp+var_24], ecx
		mov	edx, [ebp+arg_8]
		mov	eax, [edx]
		shl	eax, 2
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	ecx, [ebp+var_24]
		mov	[ecx+edx], eax
		mov	edx, [ebp+arg_8]
		mov	eax, [edx+4]
		shl	eax, 2
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	ecx, [ebp+var_24]
		mov	[ecx+edx+4], eax
		mov	edx, [ebp+arg_4]
		mov	eax, [edx]
		shl	eax, 2
		mov	ecx, 8
		shl	ecx, 0
		mov	edx, [ebp+var_24]
		mov	[edx+ecx], eax
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+4]
		shl	ecx, 2
		mov	edx, 8
		shl	edx, 0
		mov	eax, [ebp+var_24]
		mov	[eax+edx+4], ecx
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, [ebp+var_24]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+80h]
		mov	[edx+ecx], eax
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, [ebp+var_24]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+84h]
		mov	[edx+ecx+4], eax
		mov	[ebp+var_18], 0
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, 8
		imul	eax, edx, 0
		mov	edx, [ebp+var_24]
		mov	ecx, [edx+ecx]
		mov	edx, [ebp+var_24]
		add	ecx, [edx+eax]
		mov	eax, 8
		shl	eax, 0
		mov	edx, [ebp+var_24]
		mov	eax, [edx+eax]
		shl	eax, 1
		sub	ecx, eax
		jns	short loc_DF0
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, 8
		imul	eax, edx, 0
		mov	edx, [ebp+var_24]
		mov	ecx, [edx+ecx]
		mov	edx, [ebp+var_24]
		add	ecx, [edx+eax]
		mov	eax, 8
		shl	eax, 0
		mov	edx, [ebp+var_24]
		mov	eax, [edx+eax]
		shl	eax, 1
		sub	ecx, eax
		neg	ecx
		mov	[ebp+var_28], ecx
		jmp	short loc_E20
; ---------------------------------------------------------------------------

loc_DF0:				; CODE XREF: _gray_render_conic+EAj
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, 8
		imul	eax, edx, 0
		mov	edx, [ebp+var_24]
		mov	ecx, [edx+ecx]
		mov	edx, [ebp+var_24]
		add	ecx, [edx+eax]
		mov	eax, 8
		shl	eax, 0
		mov	edx, [ebp+var_24]
		mov	eax, [edx+eax]
		shl	eax, 1
		sub	ecx, eax
		mov	[ebp+var_28], ecx

loc_E20:				; CODE XREF: _gray_render_conic+11Ej
		mov	ecx, [ebp+var_28]
		mov	[ebp+var_4], ecx
		mov	edx, 8
		shl	edx, 1
		mov	eax, 8
		imul	ecx, eax, 0
		mov	eax, [ebp+var_24]
		mov	edx, [eax+edx+4]
		mov	eax, [ebp+var_24]
		add	edx, [eax+ecx+4]
		mov	ecx, 8
		shl	ecx, 0
		mov	eax, [ebp+var_24]
		mov	ecx, [eax+ecx+4]
		shl	ecx, 1
		sub	edx, ecx
		jns	short loc_E8F
		mov	edx, 8
		shl	edx, 1
		mov	eax, 8
		imul	ecx, eax, 0
		mov	eax, [ebp+var_24]
		mov	edx, [eax+edx+4]
		mov	eax, [ebp+var_24]
		add	edx, [eax+ecx+4]
		mov	ecx, 8
		shl	ecx, 0
		mov	eax, [ebp+var_24]
		mov	ecx, [eax+ecx+4]
		shl	ecx, 1
		sub	edx, ecx
		neg	edx
		mov	[ebp+var_2C], edx
		jmp	short loc_EC2
; ---------------------------------------------------------------------------

loc_E8F:				; CODE XREF: _gray_render_conic+186j
		mov	edx, 8
		shl	edx, 1
		mov	eax, 8
		imul	ecx, eax, 0
		mov	eax, [ebp+var_24]
		mov	edx, [eax+edx+4]
		mov	eax, [ebp+var_24]
		add	edx, [eax+ecx+4]
		mov	ecx, 8
		shl	ecx, 0
		mov	eax, [ebp+var_24]
		mov	ecx, [eax+ecx+4]
		shl	ecx, 1
		sub	edx, ecx
		mov	[ebp+var_2C], edx

loc_EC2:				; CODE XREF: _gray_render_conic+1BDj
		mov	edx, [ebp+var_2C]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_4]
		cmp	eax, [ebp+var_8]
		jge	short loc_ED6
		mov	ecx, [ebp+var_8]
		mov	[ebp+var_4], ecx

loc_ED6:				; CODE XREF: _gray_render_conic+1FEj
		cmp	[ebp+var_4], 40h ; '@'
		jge	short loc_EE1
		jmp	$Draw$22
; ---------------------------------------------------------------------------

loc_EE1:				; CODE XREF: _gray_render_conic+20Aj
		mov	edx, 8
		imul	eax, edx, 0
		mov	ecx, [ebp+var_24]
		mov	edx, [ecx+eax+4]
		mov	[ebp+var_10], edx
		mov	eax, [ebp+var_10]
		mov	[ebp+var_C], eax
		mov	ecx, 8
		shl	ecx, 0
		mov	edx, [ebp+var_24]
		mov	eax, [edx+ecx+4]
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_14]
		cmp	ecx, [ebp+var_C]
		jge	short loc_F19
		mov	edx, [ebp+var_14]
		mov	[ebp+var_C], edx

loc_F19:				; CODE XREF: _gray_render_conic+241j
		mov	eax, [ebp+var_14]
		cmp	eax, [ebp+var_10]
		jle	short loc_F27
		mov	ecx, [ebp+var_14]
		mov	[ebp+var_10], ecx

loc_F27:				; CODE XREF: _gray_render_conic+24Fj
		mov	edx, 8
		shl	edx, 1
		mov	eax, [ebp+var_24]
		mov	ecx, [eax+edx+4]
		mov	[ebp+var_14], ecx
		mov	edx, [ebp+var_14]
		cmp	edx, [ebp+var_C]
		jge	short loc_F46
		mov	eax, [ebp+var_14]
		mov	[ebp+var_C], eax

loc_F46:				; CODE XREF: _gray_render_conic+26Ej
		mov	ecx, [ebp+var_14]
		cmp	ecx, [ebp+var_10]
		jle	short loc_F54
		mov	edx, [ebp+var_14]
		mov	[ebp+var_10], edx

loc_F54:				; CODE XREF: _gray_render_conic+27Cj
		mov	eax, [ebp+var_C]
		sar	eax, 8
		mov	ecx, [ebp+arg_0]
		cmp	eax, [ecx+54h]
		jge	short loc_F70
		mov	edx, [ebp+var_10]
		sar	edx, 8
		mov	eax, [ebp+arg_0]
		cmp	edx, [eax+50h]
		jge	short loc_F75

loc_F70:				; CODE XREF: _gray_render_conic+290j
		jmp	$Draw$22
; ---------------------------------------------------------------------------

loc_F75:				; CODE XREF: _gray_render_conic+29Ej
		mov	[ebp+var_1C], 0

loc_F7C:				; CODE XREF: _gray_render_conic+2C2j
		mov	ecx, [ebp+var_4]
		sar	ecx, 2
		mov	[ebp+var_4], ecx
		mov	edx, [ebp+var_1C]
		add	edx, 1
		mov	[ebp+var_1C], edx
		cmp	[ebp+var_4], 40h ; '@'
		jg	short loc_F7C
		mov	eax, 4
		imul	ecx, eax, 0
		mov	edx, [ebp+var_20]
		mov	eax, [ebp+var_1C]
		mov	[edx+ecx], eax

loc_FA5:				; CODE XREF: _gray_render_conic+36Aj
		mov	ecx, [ebp+var_18]
		mov	edx, [ebp+var_20]
		mov	eax, [edx+ecx*4]
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jle	short $Draw$22
		mov	ecx, [ebp+var_24]
		push	ecx
		call	_gray_split_conic
		add	esp, 4
		mov	edx, [ebp+var_24]
		add	edx, 10h
		mov	[ebp+var_24], edx
		mov	eax, [ebp+var_18]
		add	eax, 1
		mov	[ebp+var_18], eax
		mov	ecx, [ebp+var_1C]
		sub	ecx, 1
		mov	[ebp+var_30], ecx
		mov	edx, [ebp+var_18]
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+var_30]
		mov	[eax+edx*4-4], ecx
		mov	edx, [ebp+var_18]
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+var_30]
		mov	[eax+edx*4], ecx
		jmp	short loc_1036
; ---------------------------------------------------------------------------

$Draw$22:				; CODE XREF: _gray_render_conic+20Cj
					; _gray_render_conic:loc_F70j ...
		mov	edx, 8
		imul	eax, edx, 0
		mov	ecx, [ebp+var_24]
		mov	edx, [ecx+eax+4]
		push	edx		; int
		mov	eax, 8
		imul	ecx, eax, 0
		mov	edx, [ebp+var_24]
		mov	eax, [edx+ecx]
		push	eax		; int
		mov	ecx, [ebp+arg_0]
		push	ecx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_line
		add	esp, 0Ch
		mov	edx, [ebp+var_18]
		sub	edx, 1
		mov	[ebp+var_18], edx
		mov	eax, [ebp+var_24]
		sub	eax, 10h
		mov	[ebp+var_24], eax

loc_1036:				; CODE XREF: _gray_render_conic+327j
		cmp	[ebp+var_18], 0
		jge	loc_FA5
		pop	edi
		add	esp, 30h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_render_conic endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_split_cubic proc near		; CODE XREF: _gray_render_cubic+3B3p

var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 10h
		push	esi
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, 8
		imul	ecx, eax, 3
		mov	edx, 8
		imul	eax, edx, 6
		mov	edx, [ebp+arg_0]
		mov	esi, [ebp+arg_0]
		mov	ecx, [esi+ecx]
		mov	[edx+eax], ecx
		mov	edx, 8
		shl	edx, 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+edx]
		mov	[ebp+var_C], ecx
		mov	edx, 8
		shl	edx, 1
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+edx]
		mov	[ebp+var_10], ecx
		mov	edx, 8
		imul	eax, edx, 0
		mov	ecx, [ebp+arg_0]
		mov	eax, [ecx+eax]
		add	eax, [ebp+var_C]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_4], eax
		mov	edx, 8
		shl	edx, 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_4]
		mov	[eax+edx], ecx
		mov	edx, 8
		imul	eax, edx, 3
		mov	ecx, [ebp+arg_0]
		mov	eax, [ecx+eax]
		add	eax, [ebp+var_10]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_8], eax
		mov	edx, 8
		imul	eax, edx, 5
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_8]
		mov	[ecx+eax], edx
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_10]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_C], eax
		mov	eax, [ebp+var_4]
		add	eax, [ebp+var_C]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_4], eax
		mov	eax, 8
		shl	eax, 1
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_4]
		mov	[ecx+eax], edx
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_C]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_8], eax
		mov	eax, 8
		shl	eax, 2
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_8]
		mov	[ecx+eax], edx
		mov	eax, [ebp+var_4]
		add	eax, [ebp+var_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	ecx, 8
		imul	edx, ecx, 3
		mov	ecx, [ebp+arg_0]
		mov	[ecx+edx], eax
		mov	edx, 8
		imul	eax, edx, 3
		mov	ecx, 8
		imul	edx, ecx, 6
		mov	ecx, [ebp+arg_0]
		mov	esi, [ebp+arg_0]
		mov	eax, [esi+eax+4]
		mov	[ecx+edx+4], eax
		mov	ecx, 8
		shl	ecx, 0
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+ecx+4]
		mov	[ebp+var_C], eax
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+ecx+4]
		mov	[ebp+var_10], eax
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+edx+4]
		add	eax, [ebp+var_C]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_4], eax
		mov	ecx, 8
		shl	ecx, 0
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_4]
		mov	[edx+ecx+4], eax
		mov	ecx, 8
		imul	edx, ecx, 3
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+edx+4]
		add	eax, [ebp+var_10]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_8], eax
		mov	ecx, 8
		imul	edx, ecx, 5
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_8]
		mov	[eax+edx+4], ecx
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_10]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_C], eax
		mov	eax, [ebp+var_4]
		add	eax, [ebp+var_C]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_4], eax
		mov	edx, 8
		shl	edx, 1
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_4]
		mov	[eax+edx+4], ecx
		mov	eax, [ebp+var_8]
		add	eax, [ebp+var_C]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	[ebp+var_8], eax
		mov	edx, 8
		shl	edx, 2
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_8]
		mov	[eax+edx+4], ecx
		mov	eax, [ebp+var_4]
		add	eax, [ebp+var_8]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	edx, 8
		imul	ecx, edx, 3
		mov	edx, [ebp+arg_0]
		mov	[edx+ecx+4], eax
		pop	esi
		mov	esp, ebp
		pop	ebp
		retn
_gray_split_cubic endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_render_cubic(int *__attribute__((__org_typedef(jmp_buf))) , int, int, int)
_gray_render_cubic proc	near		; CODE XREF: _gray_cubic_to+13p

var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		sub	esp, 50h
		push	esi
		push	edi
		lea	edi, [ebp+var_50]
		mov	ecx, 14h
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_0]
		add	eax, 8Ch ; 'Œ'
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+arg_C]
		mov	edx, [ecx]
		shl	edx, 2
		mov	eax, 8
		imul	ecx, eax, 0
		mov	eax, [ebp+var_4]
		mov	[eax+ecx], edx
		mov	ecx, [ebp+arg_C]
		mov	edx, [ecx+4]
		shl	edx, 2
		mov	eax, 8
		imul	ecx, eax, 0
		mov	eax, [ebp+var_4]
		mov	[eax+ecx+4], edx
		mov	ecx, [ebp+arg_8]
		mov	edx, [ecx]
		shl	edx, 2
		mov	eax, 8
		shl	eax, 0
		mov	ecx, [ebp+var_4]
		mov	[ecx+eax], edx
		mov	edx, [ebp+arg_8]
		mov	eax, [edx+4]
		shl	eax, 2
		mov	ecx, 8
		shl	ecx, 0
		mov	edx, [ebp+var_4]
		mov	[edx+ecx+4], eax
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		shl	ecx, 2
		mov	edx, 8
		shl	edx, 1
		mov	eax, [ebp+var_4]
		mov	[eax+edx], ecx
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+4]
		shl	edx, 2
		mov	eax, 8
		shl	eax, 1
		mov	ecx, [ebp+var_4]
		mov	[ecx+eax+4], edx
		mov	edx, 8
		imul	eax, edx, 3
		mov	ecx, [ebp+var_4]
		mov	edx, [ebp+arg_0]
		mov	edx, [edx+80h]
		mov	[ecx+eax], edx
		mov	eax, 8
		imul	ecx, eax, 3
		mov	edx, [ebp+var_4]
		mov	eax, [ebp+arg_0]
		mov	eax, [eax+84h]
		mov	[edx+ecx+4], eax
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+edx+4]
		mov	[ebp+var_C], ecx
		mov	edx, [ebp+var_C]
		mov	[ebp+var_8], edx
		mov	eax, 8
		shl	eax, 0
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+eax+4]
		mov	[ebp+var_10], edx
		mov	eax, [ebp+var_10]
		cmp	eax, [ebp+var_8]
		jge	short loc_1381
		mov	ecx, [ebp+var_10]
		mov	[ebp+var_8], ecx

loc_1381:				; CODE XREF: _gray_render_cubic+109j
		mov	edx, [ebp+var_10]
		cmp	edx, [ebp+var_C]
		jle	short loc_138F
		mov	eax, [ebp+var_10]
		mov	[ebp+var_C], eax

loc_138F:				; CODE XREF: _gray_render_cubic+117j
		mov	ecx, 8
		shl	ecx, 1
		mov	edx, [ebp+var_4]
		mov	eax, [edx+ecx+4]
		mov	[ebp+var_10], eax
		mov	ecx, [ebp+var_10]
		cmp	ecx, [ebp+var_8]
		jge	short loc_13AE
		mov	edx, [ebp+var_10]
		mov	[ebp+var_8], edx

loc_13AE:				; CODE XREF: _gray_render_cubic+136j
		mov	eax, [ebp+var_10]
		cmp	eax, [ebp+var_C]
		jle	short loc_13BC
		mov	ecx, [ebp+var_10]
		mov	[ebp+var_C], ecx

loc_13BC:				; CODE XREF: _gray_render_cubic+144j
		mov	edx, 8
		imul	eax, edx, 3
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+eax+4]
		mov	[ebp+var_10], edx
		mov	eax, [ebp+var_10]
		cmp	eax, [ebp+var_8]
		jge	short loc_13DC
		mov	ecx, [ebp+var_10]
		mov	[ebp+var_8], ecx

loc_13DC:				; CODE XREF: _gray_render_cubic+164j
		mov	edx, [ebp+var_10]
		cmp	edx, [ebp+var_C]
		jle	short loc_13EA
		mov	eax, [ebp+var_10]
		mov	[ebp+var_C], eax

loc_13EA:				; CODE XREF: _gray_render_cubic+172j
		mov	ecx, [ebp+var_8]
		sar	ecx, 8
		mov	edx, [ebp+arg_0]
		cmp	ecx, [edx+54h]
		jge	short loc_1406
		mov	eax, [ebp+var_C]
		sar	eax, 8
		mov	ecx, [ebp+arg_0]
		cmp	eax, [ecx+50h]
		jge	short loc_140B

loc_1406:				; CODE XREF: _gray_render_cubic+186j
		jmp	$Draw$29
; ---------------------------------------------------------------------------

loc_140B:				; CODE XREF: _gray_render_cubic+194j
					; _gray_render_cubic+3C4j ...
		mov	edx, 8
		imul	eax, edx, 3
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	ecx, [ebp+var_4]
		mov	esi, [ebp+var_4]
		mov	eax, [ecx+eax]
		sub	eax, [esi+edx]
		mov	[ebp+var_1C], eax
		mov	ecx, [ebp+var_1C]
		mov	[ebp+var_14], ecx
		mov	edx, 8
		imul	eax, edx, 3
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	ecx, [ebp+var_4]
		mov	esi, [ebp+var_4]
		mov	eax, [ecx+eax+4]
		sub	eax, [esi+edx+4]
		mov	[ebp+var_20], eax
		mov	ecx, [ebp+var_20]
		mov	[ebp+var_18], ecx
		cmp	[ebp+var_1C], 0
		jge	short loc_1467
		mov	edx, [ebp+var_1C]
		neg	edx
		mov	[ebp+var_40], edx
		jmp	short loc_146D
; ---------------------------------------------------------------------------

loc_1467:				; CODE XREF: _gray_render_cubic+1EBj
		mov	eax, [ebp+var_1C]
		mov	[ebp+var_40], eax

loc_146D:				; CODE XREF: _gray_render_cubic+1F5j
		mov	ecx, [ebp+var_40]
		mov	[ebp+var_1C], ecx
		cmp	[ebp+var_20], 0
		jge	short loc_1483
		mov	edx, [ebp+var_20]
		neg	edx
		mov	[ebp+var_44], edx
		jmp	short loc_1489
; ---------------------------------------------------------------------------

loc_1483:				; CODE XREF: _gray_render_cubic+207j
		mov	eax, [ebp+var_20]
		mov	[ebp+var_44], eax

loc_1489:				; CODE XREF: _gray_render_cubic+211j
		mov	ecx, [ebp+var_44]
		mov	[ebp+var_20], ecx
		mov	edx, [ebp+var_1C]
		cmp	edx, [ebp+var_20]
		jle	short loc_14A6
		imul	eax, [ebp+var_20], 3
		sar	eax, 3
		add	eax, [ebp+var_1C]
		mov	[ebp+var_48], eax
		jmp	short loc_14B3
; ---------------------------------------------------------------------------

loc_14A6:				; CODE XREF: _gray_render_cubic+225j
		imul	ecx, [ebp+var_1C], 3
		sar	ecx, 3
		add	ecx, [ebp+var_20]
		mov	[ebp+var_48], ecx

loc_14B3:				; CODE XREF: _gray_render_cubic+234j
		mov	edx, [ebp+var_48]
		mov	[ebp+var_34], edx
		cmp	[ebp+var_34], 7FFFh
		jle	short loc_14C7
		jmp	$Split$30
; ---------------------------------------------------------------------------

loc_14C7:				; CODE XREF: _gray_render_cubic+250j
		imul	eax, [ebp+var_34], 2Ah
		mov	[ebp+var_3C], eax
		mov	ecx, 8
		shl	ecx, 0
		mov	edx, 8
		imul	eax, edx, 0
		mov	edx, [ebp+var_4]
		mov	esi, [ebp+var_4]
		mov	ecx, [edx+ecx]
		sub	ecx, [esi+eax]
		mov	[ebp+var_24], ecx
		mov	edx, 8
		shl	edx, 0
		mov	eax, 8
		imul	ecx, eax, 0
		mov	eax, [ebp+var_4]
		mov	esi, [ebp+var_4]
		mov	edx, [eax+edx+4]
		sub	edx, [esi+ecx+4]
		mov	[ebp+var_28], edx
		mov	eax, [ebp+var_18]
		imul	eax, [ebp+var_24]
		mov	ecx, [ebp+var_14]
		imul	ecx, [ebp+var_28]
		sub	eax, ecx
		jns	short loc_1537
		mov	edx, [ebp+var_18]
		imul	edx, [ebp+var_24]
		mov	eax, [ebp+var_14]
		imul	eax, [ebp+var_28]
		sub	edx, eax
		neg	edx
		mov	[ebp+var_4C], edx
		jmp	short loc_154A
; ---------------------------------------------------------------------------

loc_1537:				; CODE XREF: _gray_render_cubic+2AEj
		mov	ecx, [ebp+var_18]
		imul	ecx, [ebp+var_24]
		mov	edx, [ebp+var_14]
		imul	edx, [ebp+var_28]
		sub	ecx, edx
		mov	[ebp+var_4C], ecx

loc_154A:				; CODE XREF: _gray_render_cubic+2C5j
		mov	eax, [ebp+var_4C]
		mov	[ebp+var_38], eax
		mov	ecx, [ebp+var_38]
		cmp	ecx, [ebp+var_3C]
		jle	short loc_155D
		jmp	$Split$30
; ---------------------------------------------------------------------------

loc_155D:				; CODE XREF: _gray_render_cubic+2E6j
		mov	edx, 8
		shl	edx, 1
		mov	eax, 8
		imul	ecx, eax, 0
		mov	eax, [ebp+var_4]
		mov	esi, [ebp+var_4]
		mov	edx, [eax+edx]
		sub	edx, [esi+ecx]
		mov	[ebp+var_2C], edx
		mov	eax, 8
		shl	eax, 1
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	ecx, [ebp+var_4]
		mov	esi, [ebp+var_4]
		mov	eax, [ecx+eax+4]
		sub	eax, [esi+edx+4]
		mov	[ebp+var_30], eax
		mov	ecx, [ebp+var_18]
		imul	ecx, [ebp+var_2C]
		mov	edx, [ebp+var_14]
		imul	edx, [ebp+var_30]
		sub	ecx, edx
		jns	short loc_15C4
		mov	eax, [ebp+var_18]
		imul	eax, [ebp+var_2C]
		mov	ecx, [ebp+var_14]
		imul	ecx, [ebp+var_30]
		sub	eax, ecx
		neg	eax
		mov	[ebp+var_50], eax
		jmp	short loc_15D7
; ---------------------------------------------------------------------------

loc_15C4:				; CODE XREF: _gray_render_cubic+33Bj
		mov	edx, [ebp+var_18]
		imul	edx, [ebp+var_2C]
		mov	eax, [ebp+var_14]
		imul	eax, [ebp+var_30]
		sub	edx, eax
		mov	[ebp+var_50], edx

loc_15D7:				; CODE XREF: _gray_render_cubic+352j
		mov	ecx, [ebp+var_50]
		mov	[ebp+var_38], ecx
		mov	edx, [ebp+var_38]
		cmp	edx, [ebp+var_3C]
		jle	short loc_15E7
		jmp	short $Split$30
; ---------------------------------------------------------------------------

loc_15E7:				; CODE XREF: _gray_render_cubic+373j
		mov	eax, [ebp+var_24]
		sub	eax, [ebp+var_14]
		imul	eax, [ebp+var_24]
		mov	ecx, [ebp+var_28]
		sub	ecx, [ebp+var_18]
		imul	ecx, [ebp+var_28]
		add	eax, ecx
		test	eax, eax
		jg	short loc_161B
		mov	edx, [ebp+var_2C]
		sub	edx, [ebp+var_14]
		imul	edx, [ebp+var_2C]
		mov	eax, [ebp+var_30]
		sub	eax, [ebp+var_18]
		imul	eax, [ebp+var_30]
		add	edx, eax
		test	edx, edx
		jle	short loc_161D

loc_161B:				; CODE XREF: _gray_render_cubic+38Fj
		jmp	short $Split$30
; ---------------------------------------------------------------------------

loc_161D:				; CODE XREF: _gray_render_cubic+3A9j
		jmp	short $Draw$29
; ---------------------------------------------------------------------------

$Split$30:				; CODE XREF: _gray_render_cubic+252j
					; _gray_render_cubic+2E8j ...
		mov	ecx, [ebp+var_4]
		push	ecx
		call	_gray_split_cubic
		add	esp, 4
		mov	edx, [ebp+var_4]
		add	edx, 18h
		mov	[ebp+var_4], edx
		jmp	loc_140B
; ---------------------------------------------------------------------------

$Draw$29:				; CODE XREF: _gray_render_cubic:loc_1406j
					; _gray_render_cubic:loc_161Dj
		mov	eax, 8
		imul	ecx, eax, 0
		mov	edx, [ebp+var_4]
		mov	eax, [edx+ecx+4]
		push	eax		; int
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+edx]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_line
		add	esp, 0Ch
		mov	eax, [ebp+arg_0]
		add	eax, 8Ch ; 'Œ'
		cmp	[ebp+var_4], eax
		jnz	short loc_1673
		jmp	short loc_1681
; ---------------------------------------------------------------------------

loc_1673:				; CODE XREF: _gray_render_cubic+3FFj
		mov	ecx, [ebp+var_4]
		sub	ecx, 18h
		mov	[ebp+var_4], ecx
		jmp	loc_140B
; ---------------------------------------------------------------------------

loc_1681:				; CODE XREF: _gray_render_cubic+401j
		pop	edi
		pop	esi
		add	esp, 50h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_render_cubic endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_move_to(int,	int *__attribute__((__org_typedef(jmp_buf))) )
_gray_move_to	proc near		; DATA XREF: .rdata:_func_interfaceo

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 8
		mov	[ebp+var_8], 0CCCCCCCCh
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_4]
		cmp	dword ptr [eax+68h], 0
		jnz	short loc_16C9
		mov	ecx, [ebp+arg_4]
		push	ecx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_record_cell
		add	esp, 4

loc_16C9:				; CODE XREF: _gray_move_to+1Bj
		mov	edx, [ebp+arg_0]
		mov	eax, [edx]
		shl	eax, 2
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+4]
		shl	edx, 2
		mov	[ebp+var_8], edx
		mov	eax, [ebp+var_8]
		sar	eax, 8
		push	eax		; int
		mov	ecx, [ebp+var_4]
		sar	ecx, 8
		push	ecx		; int
		mov	edx, [ebp+arg_4]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_start_cell
		add	esp, 0Ch
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_4]
		mov	[eax+80h], ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+var_8]
		mov	[edx+84h], eax
		xor	eax, eax
		add	esp, 8
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_move_to	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_line_to(int,	int *__attribute__((__org_typedef(jmp_buf))) )
_gray_line_to	proc near		; DATA XREF: .rdata:000036A4o

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4]
		shl	ecx, 2
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		mov	eax, [edx]
		shl	eax, 2
		push	eax		; int
		mov	ecx, [ebp+arg_4]
		push	ecx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_line
		add	esp, 0Ch
		xor	eax, eax
		cmp	ebp, esp
		call	__RTC_CheckEsp
		pop	ebp
		retn
_gray_line_to	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_conic_to(int, int, int *__attribute__((__org_typedef(jmp_buf))) )
_gray_conic_to	proc near		; DATA XREF: .rdata:000036A8o

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_4]
		push	eax		; int
		mov	ecx, [ebp+arg_0]
		push	ecx		; int
		mov	edx, [ebp+arg_8]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_conic
		add	esp, 0Ch
		xor	eax, eax
		cmp	ebp, esp
		call	__RTC_CheckEsp
		pop	ebp
		retn
_gray_conic_to	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_cubic_to(int, int, int, int *__attribute__((__org_typedef(jmp_buf)))	)
_gray_cubic_to	proc near		; DATA XREF: .rdata:000036ACo

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_8]
		push	eax		; int
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		mov	edx, [ebp+arg_0]
		push	edx		; int
		mov	eax, [ebp+arg_C]
		push	eax		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_render_cubic
		add	esp, 10h
		xor	eax, eax
		cmp	ebp, esp
		call	__RTC_CheckEsp
		pop	ebp
		retn
_gray_cubic_to	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_render_span proc near		; DATA XREF: _gray_raster_render+316o

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		sub	esp, 14h
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_C]
		add	eax, 428h
		mov	[ebp+var_8], eax
		mov	ecx, [ebp+var_8]
		mov	edx, [ebp+arg_0]
		imul	edx, [ecx+8]
		mov	eax, [ebp+var_8]
		mov	ecx, [eax+0Ch]
		sub	ecx, edx
		mov	[ebp+var_4], ecx
		mov	edx, [ebp+var_8]
		cmp	dword ptr [edx+8], 0
		jl	short loc_1818
		mov	eax, [ebp+var_8]
		mov	ecx, [eax]
		sub	ecx, 1
		mov	edx, [ebp+var_8]
		imul	ecx, [edx+8]
		add	ecx, [ebp+var_4]
		mov	[ebp+var_4], ecx

loc_1818:				; CODE XREF: _gray_render_span+41j
		jmp	short loc_182C
; ---------------------------------------------------------------------------

loc_181A:				; CODE XREF: _gray_render_span:loc_1918j
		mov	eax, [ebp+arg_4]
		sub	eax, 1
		mov	[ebp+arg_4], eax
		mov	ecx, [ebp+arg_8]
		add	ecx, 6
		mov	[ebp+arg_8], ecx

loc_182C:				; CODE XREF: _gray_render_span:loc_1818j
		cmp	[ebp+arg_4], 0
		jle	loc_191D
		mov	edx, [ebp+arg_8]
		mov	al, [edx+4]
		mov	byte ptr [ebp+var_C+3],	al
		movzx	ecx, byte ptr [ebp+var_C+3]
		test	ecx, ecx
		jz	loc_1918	; jumptable 000018A3 default case
		mov	edx, [ebp+arg_8]
		movzx	eax, word ptr [edx+2]
		cmp	eax, 8
		jl	short loc_187B
		mov	ecx, [ebp+arg_8]
		movzx	edx, word ptr [ecx+2]
		push	edx		; size_t
		movzx	eax, byte ptr [ebp+var_C+3]
		push	eax		; int
		mov	ecx, [ebp+arg_8]
		movsx	edx, word ptr [ecx]
		add	edx, [ebp+var_4]
		push	edx		; void *
		call	_memset
		add	esp, 0Ch
		jmp	loc_1918	; jumptable 000018A3 default case
; ---------------------------------------------------------------------------

loc_187B:				; CODE XREF: _gray_render_span+95j
		mov	eax, [ebp+arg_8]
		movsx	ecx, word ptr [eax]
		add	ecx, [ebp+var_4]
		mov	[ebp+var_10], ecx
		mov	edx, [ebp+arg_8]
		movzx	eax, word ptr [edx+2]
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_14]
		sub	ecx, 1
		mov	[ebp+var_14], ecx
		cmp	[ebp+var_14], 6	; switch 7 cases
		ja	short loc_1918	; jumptable 000018A3 default case
		mov	edx, [ebp+var_14]
		jmp	ds:$LN20[edx*4]	; switch jump
; ---------------------------------------------------------------------------

$LN8:					; CODE XREF: _gray_render_span+E3j
					; DATA XREF: .text$mn:$LN20o
		mov	eax, [ebp+var_10] ; jumptable 000018A3 case 6
		mov	cl, byte ptr [ebp+var_C+3]
		mov	[eax], cl
		mov	edx, [ebp+var_10]
		add	edx, 1
		mov	[ebp+var_10], edx

$LN7:					; CODE XREF: _gray_render_span+E3j
					; DATA XREF: .text$mn:$LN20o
		mov	eax, [ebp+var_10] ; jumptable 000018A3 case 5
		mov	cl, byte ptr [ebp+var_C+3]
		mov	[eax], cl
		mov	edx, [ebp+var_10]
		add	edx, 1
		mov	[ebp+var_10], edx

$LN6:					; CODE XREF: _gray_render_span+E3j
					; DATA XREF: .text$mn:$LN20o
		mov	eax, [ebp+var_10] ; jumptable 000018A3 case 4
		mov	cl, byte ptr [ebp+var_C+3]
		mov	[eax], cl
		mov	edx, [ebp+var_10]
		add	edx, 1
		mov	[ebp+var_10], edx

$LN5:					; CODE XREF: _gray_render_span+E3j
					; DATA XREF: .text$mn:$LN20o
		mov	eax, [ebp+var_10] ; jumptable 000018A3 case 3
		mov	cl, byte ptr [ebp+var_C+3]
		mov	[eax], cl
		mov	edx, [ebp+var_10]
		add	edx, 1
		mov	[ebp+var_10], edx

$LN4:					; CODE XREF: _gray_render_span+E3j
					; DATA XREF: .text$mn:$LN20o
		mov	eax, [ebp+var_10] ; jumptable 000018A3 case 2
		mov	cl, byte ptr [ebp+var_C+3]
		mov	[eax], cl
		mov	edx, [ebp+var_10]
		add	edx, 1
		mov	[ebp+var_10], edx

$LN3:					; CODE XREF: _gray_render_span+E3j
					; DATA XREF: .text$mn:$LN20o
		mov	eax, [ebp+var_10] ; jumptable 000018A3 case 1
		mov	cl, byte ptr [ebp+var_C+3]
		mov	[eax], cl
		mov	edx, [ebp+var_10]
		add	edx, 1
		mov	[ebp+var_10], edx

$LN2:					; CODE XREF: _gray_render_span+E3j
					; DATA XREF: .text$mn:$LN20o
		mov	eax, [ebp+var_10] ; jumptable 000018A3 case 0
		mov	cl, byte ptr [ebp+var_C+3]
		mov	[eax], cl

loc_1918:				; CODE XREF: _gray_render_span+85j
					; _gray_render_span+B6j ...
		jmp	loc_181A	; jumptable 000018A3 default case
; ---------------------------------------------------------------------------

loc_191D:				; CODE XREF: _gray_render_span+70j
		add	esp, 14h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_render_span endp

; ---------------------------------------------------------------------------
		align 4
$LN20		dd offset $LN2		; DATA XREF: _gray_render_span+E3r
		dd offset $LN3		; jump table for switch	statement
		dd offset $LN4
		dd offset $LN5
		dd offset $LN6
		dd offset $LN7
		dd offset $LN8
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_hline	proc near		; CODE XREF: _gray_sweep+E9p
					; _gray_sweep+12Ap ...

var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h

		push	ebp
		mov	ebp, esp
		sub	esp, 10h
		push	esi
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_C]
		sar	eax, 9
		mov	[ebp+var_4], eax
		cmp	[ebp+var_4], 0
		jge	short loc_197F
		mov	ecx, [ebp+var_4]
		neg	ecx
		mov	[ebp+var_4], ecx

loc_197F:				; CODE XREF: _gray_hline+25j
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+424h]
		and	eax, 2
		jz	short loc_19C1
		mov	ecx, [ebp+var_4]
		and	ecx, 1FFh
		mov	[ebp+var_4], ecx
		cmp	[ebp+var_4], 100h
		jle	short loc_19AF
		mov	edx, 200h
		sub	edx, [ebp+var_4]
		mov	[ebp+var_4], edx
		jmp	short loc_19BF
; ---------------------------------------------------------------------------

loc_19AF:				; CODE XREF: _gray_hline+50j
		cmp	[ebp+var_4], 100h
		jnz	short loc_19BF
		mov	[ebp+var_4], 0FFh

loc_19BF:				; CODE XREF: _gray_hline+5Dj
					; _gray_hline+66j
		jmp	short loc_19D1
; ---------------------------------------------------------------------------

loc_19C1:				; CODE XREF: _gray_hline+3Bj
		cmp	[ebp+var_4], 100h
		jl	short loc_19D1
		mov	[ebp+var_4], 0FFh

loc_19D1:				; CODE XREF: _gray_hline:loc_19BFj
					; _gray_hline+78j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_8]
		add	ecx, [eax+50h]
		mov	[ebp+arg_8], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_4]
		add	eax, [edx+48h]
		mov	[ebp+arg_4], eax
		cmp	[ebp+arg_4], 7FFFh
		jl	short loc_19F9
		mov	[ebp+arg_4], 7FFFh

loc_19F9:				; CODE XREF: _gray_hline+A0j
		cmp	[ebp+arg_8], 7FFFFFFFh
		jl	short loc_1A09
		mov	[ebp+arg_8], 7FFFFFFFh

loc_1A09:				; CODE XREF: _gray_hline+B0j
		cmp	[ebp+var_4], 0
		jz	loc_1C0B
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+510h]
		mov	[ebp+var_C], edx
		imul	eax, [ebp+var_C], 6
		mov	ecx, [ebp+arg_0]
		lea	edx, [ecx+eax+44Ah]
		mov	[ebp+var_8], edx
		cmp	[ebp+var_C], 0
		jle	short loc_1A7A
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+51Ch]
		cmp	ecx, [ebp+arg_8]
		jnz	short loc_1A7A
		mov	edx, [ebp+var_8]
		movsx	eax, word ptr [edx]
		mov	ecx, [ebp+var_8]
		movzx	edx, word ptr [ecx+2]
		add	eax, edx
		cmp	eax, [ebp+arg_4]
		jnz	short loc_1A7A
		mov	eax, [ebp+var_8]
		movzx	ecx, byte ptr [eax+4]
		cmp	ecx, [ebp+var_4]
		jnz	short loc_1A7A
		mov	edx, [ebp+var_8]
		movzx	eax, word ptr [edx+2]
		add	eax, [ebp+arg_10]
		mov	ecx, [ebp+var_8]
		mov	[ecx+2], ax
		jmp	loc_1C0B
; ---------------------------------------------------------------------------

loc_1A7A:				; CODE XREF: _gray_hline+E4j
					; _gray_hline+F2j ...
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+51Ch]
		cmp	eax, [ebp+arg_8]
		jnz	short loc_1A92
		cmp	[ebp+var_C], 20h ; ' '
		jl	loc_1BCF

loc_1A92:				; CODE XREF: _gray_hline+136j
		mov	ecx, [ebp+arg_0]
		cmp	dword ptr [ecx+514h], 0
		jz	short loc_1ADD
		cmp	[ebp+var_C], 0
		jle	short loc_1ADD
		mov	esi, esp
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+518h]
		push	eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 450h
		push	ecx
		mov	edx, [ebp+var_C]
		push	edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+51Ch]
		push	ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+514h]
		call	eax
		add	esp, 10h
		cmp	esi, esp
		call	__RTC_CheckEsp

loc_1ADD:				; CODE XREF: _gray_hline+14Cj
					; _gray_hline+152j
		cmp	[ebp+var_C], 0
		jle	loc_1BA8

loc_1AE7:				; CODE XREF: _gray_hline+1C1j
		mov	ecx, 4
		imul	edx, ecx, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[edx], 7
		jl	short loc_1B0F
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+51Ch]
		push	ecx
		push	offset $SG7653	; "y = %3d "
		call	_FT_Message
		add	esp, 8

loc_1B0F:				; CODE XREF: _gray_hline+1A6j
		xor	edx, edx
		jnz	short loc_1AE7
		mov	eax, [ebp+arg_0]
		add	eax, 450h
		mov	[ebp+var_8], eax
		mov	[ebp+var_10], 0
		jmp	short loc_1B39
; ---------------------------------------------------------------------------

loc_1B27:				; CODE XREF: _gray_hline+234j
		mov	ecx, [ebp+var_10]
		add	ecx, 1
		mov	[ebp+var_10], ecx
		mov	edx, [ebp+var_8]
		add	edx, 6
		mov	[ebp+var_8], edx

loc_1B39:				; CODE XREF: _gray_hline+1D5j
		mov	eax, [ebp+var_10]
		cmp	eax, [ebp+var_C]
		jge	short loc_1B86

loc_1B41:				; CODE XREF: _gray_hline+232j
		mov	ecx, 4
		imul	edx, ecx, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[edx], 7
		jl	short loc_1B80
		mov	eax, [ebp+var_8]
		movzx	ecx, byte ptr [eax+4]
		push	ecx
		mov	edx, [ebp+var_8]
		movsx	eax, word ptr [edx]
		mov	ecx, [ebp+var_8]
		movzx	edx, word ptr [ecx+2]
		lea	eax, [eax+edx-1]
		push	eax
		mov	ecx, [ebp+var_8]
		movsx	edx, word ptr [ecx]
		push	edx
		push	offset $SG7661	; "[%d..%d]:%02x "
		call	_FT_Message
		add	esp, 10h

loc_1B80:				; CODE XREF: _gray_hline+200j
		xor	eax, eax
		jnz	short loc_1B41
		jmp	short loc_1B27
; ---------------------------------------------------------------------------

loc_1B86:				; CODE XREF: _gray_hline+1EFj
					; _gray_hline+256j
		mov	ecx, 4
		imul	edx, ecx, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[edx], 7
		jl	short loc_1BA4
		push	offset $SG7666	; "\n"
		call	_FT_Message
		add	esp, 4

loc_1BA4:				; CODE XREF: _gray_hline+245j
		xor	eax, eax
		jnz	short loc_1B86

loc_1BA8:				; CODE XREF: _gray_hline+191j
		mov	ecx, [ebp+arg_0]
		mov	dword ptr [ecx+510h], 0
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_8]
		mov	[edx+51Ch], eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 450h
		mov	[ebp+var_8], ecx
		jmp	short loc_1BD8
; ---------------------------------------------------------------------------

loc_1BCF:				; CODE XREF: _gray_hline+13Cj
		mov	edx, [ebp+var_8]
		add	edx, 6
		mov	[ebp+var_8], edx

loc_1BD8:				; CODE XREF: _gray_hline+27Dj
		mov	eax, [ebp+var_8]
		mov	cx, word ptr [ebp+arg_4]
		mov	[eax], cx
		mov	edx, [ebp+var_8]
		mov	ax, word ptr [ebp+arg_10]
		mov	[edx+2], ax
		mov	ecx, [ebp+var_8]
		mov	dl, byte ptr [ebp+var_4]
		mov	[ecx+4], dl
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+510h]
		add	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+510h], ecx

loc_1C0B:				; CODE XREF: _gray_hline+BDj
					; _gray_hline+125j
		pop	esi
		add	esp, 10h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_hline	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_sweep	proc near		; CODE XREF: _gray_convert_glyph+409p

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 1Ch
		push	esi
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_1C], eax
		mov	[ebp+var_18], eax
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_4]
		mov	[ebp+arg_4], eax
		mov	ecx, [ebp+arg_0]
		cmp	dword ptr [ecx+74h], 0
		jnz	short loc_1C55
		jmp	loc_1EE2
; ---------------------------------------------------------------------------

loc_1C55:				; CODE XREF: _gray_sweep+2Ej
		mov	edx, [ebp+arg_0]
		mov	dword ptr [edx+510h], 0

loc_1C62:				; CODE XREF: _gray_sweep+62j
		mov	eax, 4
		imul	ecx, eax, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[ecx], 7
		jl	short loc_1C80
		push	offset $SG7700	; "gray_sweep: start\n"
		call	_FT_Message
		add	esp, 4

loc_1C80:				; CODE XREF: _gray_sweep+51j
		xor	edx, edx
		jnz	short loc_1C62
		mov	[ebp+var_4], 0
		jmp	short loc_1C96
; ---------------------------------------------------------------------------

loc_1C8D:				; CODE XREF: _gray_sweep:loc_1D8Dj
		mov	eax, [ebp+var_4]
		add	eax, 1
		mov	[ebp+var_4], eax

loc_1C96:				; CODE XREF: _gray_sweep+6Bj
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_4]
		cmp	edx, [ecx+534h]
		jge	loc_1D92
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+530h]
		mov	edx, [ebp+var_4]
		mov	eax, [ecx+edx*4]
		mov	[ebp+var_8], eax
		mov	[ebp+var_C], 0
		mov	[ebp+var_10], 0
		jmp	short loc_1CD3
; ---------------------------------------------------------------------------

loc_1CCA:				; CODE XREF: _gray_sweep+13Dj
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx+0Ch]
		mov	[ebp+var_8], edx

loc_1CD3:				; CODE XREF: _gray_sweep+A8j
		cmp	[ebp+var_8], 0
		jz	loc_1D62
		mov	eax, [ebp+var_8]
		mov	ecx, [eax]
		cmp	ecx, [ebp+var_10]
		jle	short loc_1D11
		cmp	[ebp+var_C], 0
		jz	short loc_1D11
		mov	edx, [ebp+var_8]
		mov	eax, [edx]
		sub	eax, [ebp+var_10]
		push	eax
		mov	ecx, [ebp+var_C]
		shl	ecx, 9
		push	ecx
		mov	edx, [ebp+var_4]
		push	edx
		mov	eax, [ebp+var_10]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_gray_hline
		add	esp, 14h

loc_1D11:				; CODE XREF: _gray_sweep+C5j
					; _gray_sweep+CBj
		mov	edx, [ebp+var_8]
		mov	eax, [ebp+var_C]
		add	eax, [edx+4]
		mov	[ebp+var_C], eax
		mov	ecx, [ebp+var_C]
		shl	ecx, 9
		mov	edx, [ebp+var_8]
		sub	ecx, [edx+8]
		mov	[ebp+var_14], ecx
		jz	short loc_1D52
		mov	eax, [ebp+var_8]
		cmp	dword ptr [eax], 0
		jl	short loc_1D52
		push	1
		mov	ecx, [ebp+var_14]
		push	ecx
		mov	edx, [ebp+var_4]
		push	edx
		mov	eax, [ebp+var_8]
		mov	ecx, [eax]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_gray_hline
		add	esp, 14h

loc_1D52:				; CODE XREF: _gray_sweep+10Cj
					; _gray_sweep+114j
		mov	eax, [ebp+var_8]
		mov	ecx, [eax]
		add	ecx, 1
		mov	[ebp+var_10], ecx
		jmp	loc_1CCA
; ---------------------------------------------------------------------------

loc_1D62:				; CODE XREF: _gray_sweep+B7j
		cmp	[ebp+var_C], 0
		jz	short loc_1D8D
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+58h]
		sub	eax, [ebp+var_10]
		push	eax
		mov	ecx, [ebp+var_C]
		shl	ecx, 9
		push	ecx
		mov	edx, [ebp+var_4]
		push	edx
		mov	eax, [ebp+var_10]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_gray_hline
		add	esp, 14h

loc_1D8D:				; CODE XREF: _gray_sweep+146j
		jmp	loc_1C8D
; ---------------------------------------------------------------------------

loc_1D92:				; CODE XREF: _gray_sweep+82j
		mov	edx, [ebp+arg_0]
		cmp	dword ptr [edx+514h], 0
		jz	short loc_1DE8
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+510h], 0
		jle	short loc_1DE8
		mov	esi, esp
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+518h]
		push	edx
		mov	eax, [ebp+arg_0]
		add	eax, 450h
		push	eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+510h]
		push	edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+51Ch]
		push	ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+514h]
		call	eax
		add	esp, 10h
		cmp	esi, esp
		call	__RTC_CheckEsp

loc_1DE8:				; CODE XREF: _gray_sweep+17Cj
					; _gray_sweep+188j
		mov	ecx, [ebp+arg_0]
		cmp	dword ptr [ecx+510h], 0
		jle	loc_1EC0

loc_1DF8:				; CODE XREF: _gray_sweep+202j
		mov	edx, 4
		imul	eax, edx, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[eax], 7
		jl	short loc_1E20
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+51Ch]
		push	edx
		push	offset $SG7723	; "y = %3d "
		call	_FT_Message
		add	esp, 8

loc_1E20:				; CODE XREF: _gray_sweep+1E7j
		xor	eax, eax
		jnz	short loc_1DF8
		mov	ecx, [ebp+arg_0]
		add	ecx, 450h
		mov	[ebp+var_18], ecx
		mov	[ebp+var_1C], 0
		jmp	short loc_1E4B
; ---------------------------------------------------------------------------

loc_1E39:				; CODE XREF: _gray_sweep+27Cj
		mov	edx, [ebp+var_1C]
		add	edx, 1
		mov	[ebp+var_1C], edx
		mov	eax, [ebp+var_18]
		add	eax, 6
		mov	[ebp+var_18], eax

loc_1E4B:				; CODE XREF: _gray_sweep+217j
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_1C]
		cmp	edx, [ecx+510h]
		jge	short loc_1E9E

loc_1E59:				; CODE XREF: _gray_sweep+27Aj
		mov	eax, 4
		imul	ecx, eax, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[ecx], 7
		jl	short loc_1E98
		mov	edx, [ebp+var_18]
		movzx	eax, byte ptr [edx+4]
		push	eax
		mov	ecx, [ebp+var_18]
		movsx	edx, word ptr [ecx]
		mov	eax, [ebp+var_18]
		movzx	ecx, word ptr [eax+2]
		lea	edx, [edx+ecx-1]
		push	edx
		mov	eax, [ebp+var_18]
		movsx	ecx, word ptr [eax]
		push	ecx
		push	offset $SG7731	; "[%d..%d]:%02x "
		call	_FT_Message
		add	esp, 10h

loc_1E98:				; CODE XREF: _gray_sweep+248j
		xor	edx, edx
		jnz	short loc_1E59
		jmp	short loc_1E39
; ---------------------------------------------------------------------------

loc_1E9E:				; CODE XREF: _gray_sweep+237j
					; _gray_sweep+29Ej
		mov	eax, 4
		imul	ecx, eax, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[ecx], 7
		jl	short loc_1EBC
		push	offset $SG7736	; "\n"
		call	_FT_Message
		add	esp, 4

loc_1EBC:				; CODE XREF: _gray_sweep+28Dj
		xor	edx, edx
		jnz	short loc_1E9E

loc_1EC0:				; CODE XREF: _gray_sweep+1D2j
					; _gray_sweep+2C0j
		mov	eax, 4
		imul	ecx, eax, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[ecx], 7
		jl	short loc_1EDE
		push	offset $SG7741	; "gray_sweep: end\n"
		call	_FT_Message
		add	esp, 4

loc_1EDE:				; CODE XREF: _gray_sweep+2AFj
		xor	edx, edx
		jnz	short loc_1EC0

loc_1EE2:				; CODE XREF: _gray_sweep+30j
		pop	esi
		add	esp, 1Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_sweep	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_convert_glyph_inner(int *__attribute__((__org_typedef(jmp_buf))) )
_gray_convert_glyph_inner proc near	; CODE XREF: _gray_convert_glyph+3E4p

var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	[ebp+var_4], 0
		mov	eax, [ebp+arg_0]
		push	0
		push	eax
		call	__setjmp3
		add	esp, 8
		test	eax, eax
		jnz	short loc_1F59
		mov	ecx, [ebp+arg_0]
		push	ecx
		push	offset _func_interface
		mov	edx, [ebp+arg_0]
		add	edx, 414h
		push	edx
		call	_FT_Outline_Decompose
		add	esp, 0Ch
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+68h], 0
		jnz	short loc_1F57
		mov	ecx, [ebp+arg_0]
		push	ecx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_record_cell
		add	esp, 4

loc_1F57:				; CODE XREF: _gray_convert_glyph_inner+49j
		jmp	short loc_1F73
; ---------------------------------------------------------------------------

loc_1F59:				; CODE XREF: _gray_convert_glyph_inner+22j
		push	offset $SG7760	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	6EEh
		push	40h ; '@'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 40h
		mov	[ebp+var_4], eax

loc_1F73:				; CODE XREF: _gray_convert_glyph_inner:loc_1F57j
		mov	eax, [ebp+var_4]
		mov	esp, ebp
		pop	ebp
		retn
_gray_convert_glyph_inner endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl gray_convert_glyph(int *__attribute__((__org_typedef(jmp_buf))) )
_gray_convert_glyph proc near		; CODE XREF: _gray_raster_render+330p

var_18C		= dword	ptr -18Ch
var_188		= dword	ptr -188h
var_184		= dword	ptr -184h
var_180		= dword	ptr -180h
var_17C		= dword	ptr -17Ch
var_178		= dword	ptr -178h
var_174		= dword	ptr -174h
var_170		= dword	ptr -170h
var_16C		= dword	ptr -16Ch
var_168		= dword	ptr -168h
var_164		= dword	ptr -164h
var_160		= dword	ptr -160h
var_15C		= dword	ptr -15Ch
var_158		= dword	ptr -158h
var_154		= dword	ptr -154h
var_150		= dword	ptr -150h
var_148		= dword	ptr -148h
var_144		= dword	ptr -144h
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 18Ch
		push	edi
		lea	edi, [ebp+var_18C]
		mov	ecx, 63h ; 'c'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		push	eax
		call	_gray_compute_cbox
		add	esp, 4
		mov	ecx, [ebp+arg_0]
		add	ecx, 440h
		mov	[ebp+var_168], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [edx+4Ch]
		cmp	ecx, [eax]
		jle	short loc_2004
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [edx+48h]
		cmp	ecx, [eax+8]
		jge	short loc_2004
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [edx+54h]
		cmp	ecx, [eax+4]
		jle	short loc_2004
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [edx+50h]
		cmp	ecx, [eax+0Ch]
		jl	short loc_200B

loc_2004:				; CODE XREF: _gray_convert_glyph+4Fj
					; _gray_convert_glyph+60j ...
		xor	eax, eax
		jmp	loc_24FF
; ---------------------------------------------------------------------------

loc_200B:				; CODE XREF: _gray_convert_glyph+82j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [edx+48h]
		cmp	ecx, [eax]
		jge	short loc_2029
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [eax]
		mov	[edx+48h], ecx

loc_2029:				; CODE XREF: _gray_convert_glyph+99j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [edx+50h]
		cmp	ecx, [eax+4]
		jge	short loc_2049
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [eax+4]
		mov	[edx+50h], ecx

loc_2049:				; CODE XREF: _gray_convert_glyph+B8j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [edx+4Ch]
		cmp	ecx, [eax+8]
		jle	short loc_2069
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [eax+8]
		mov	[edx+4Ch], ecx

loc_2069:				; CODE XREF: _gray_convert_glyph+D8j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [edx+54h]
		cmp	ecx, [eax+0Ch]
		jle	short loc_2089
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_168]
		mov	ecx, [eax+0Ch]
		mov	[edx+54h], ecx

loc_2089:				; CODE XREF: _gray_convert_glyph+F8j
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_0]
		mov	ecx, [edx+4Ch]
		sub	ecx, [eax+48h]
		mov	edx, [ebp+arg_0]
		mov	[edx+58h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_0]
		mov	edx, [eax+54h]
		sub	edx, [ecx+50h]
		mov	eax, [ebp+arg_0]
		mov	[eax+5Ch], edx
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx+54h]
		sub	eax, [edx+50h]
		mov	ecx, [ebp+arg_0]
		cdq
		idiv	dword ptr [ecx+520h]
		mov	[ebp+var_158], eax
		cmp	[ebp+var_158], 0
		jnz	short loc_20DC
		mov	[ebp+var_158], 1

loc_20DC:				; CODE XREF: _gray_convert_glyph+150j
		cmp	[ebp+var_158], 27h ; '''
		jl	short loc_20EF
		mov	[ebp+var_158], 27h ; '''

loc_20EF:				; CODE XREF: _gray_convert_glyph+163j
		mov	edx, [ebp+arg_0]
		mov	dword ptr [edx+524h], 0
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+50h]
		mov	[ebp+var_15C], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+54h]
		mov	[ebp+var_164], eax
		mov	[ebp+var_154], 0
		jmp	short loc_213B
; ---------------------------------------------------------------------------

loc_2120:				; CODE XREF: _gray_convert_glyph:loc_24C9j
		mov	ecx, [ebp+var_154]
		add	ecx, 1
		mov	[ebp+var_154], ecx
		mov	edx, [ebp+var_160]
		mov	[ebp+var_15C], edx

loc_213B:				; CODE XREF: _gray_convert_glyph+19Ej
		mov	eax, [ebp+var_158]
		cmp	[ebp+var_154], eax
		jge	loc_24CE
		mov	ecx, [ebp+var_15C]
		mov	edx, [ebp+arg_0]
		add	ecx, [edx+520h]
		mov	[ebp+var_160], ecx
		mov	eax, [ebp+var_158]
		sub	eax, 1
		cmp	[ebp+var_154], eax
		jz	short loc_2181
		mov	ecx, [ebp+var_164]
		cmp	[ebp+var_160], ecx
		jle	short loc_218D

loc_2181:				; CODE XREF: _gray_convert_glyph+1F1j
		mov	edx, [ebp+var_164]
		mov	[ebp+var_160], edx

loc_218D:				; CODE XREF: _gray_convert_glyph+1FFj
		mov	eax, 8
		imul	ecx, eax, 0
		mov	edx, [ebp+var_15C]
		mov	[ebp+ecx+var_148], edx
		mov	eax, 8
		imul	ecx, eax, 0
		mov	edx, [ebp+var_160]
		mov	[ebp+ecx+var_144], edx
		lea	eax, [ebp+var_148]
		mov	[ebp+var_150], eax

loc_21C3:				; CODE XREF: _gray_convert_glyph+420j
					; _gray_convert_glyph+544j
		lea	ecx, [ebp+var_148]
		cmp	[ebp+var_150], ecx
		jb	loc_24C9
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+528h]
		mov	[edx+530h], ecx
		mov	edx, [ebp+var_150]
		mov	eax, [ebp+var_150]
		mov	ecx, [edx+4]
		sub	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	[edx+534h], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+534h]
		shl	ecx, 2
		mov	[ebp+var_184], ecx
		mov	eax, [ebp+var_184]
		xor	edx, edx
		mov	ecx, 10h
		div	ecx
		mov	[ebp+var_18C], edx
		cmp	[ebp+var_18C], 0
		jle	short loc_2248
		mov	edx, 10h
		sub	edx, [ebp+var_18C]
		add	edx, [ebp+var_184]
		mov	[ebp+var_184], edx

loc_2248:				; CODE XREF: _gray_convert_glyph+2AFj
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+52Ch]
		mov	[ebp+var_188], ecx
		mov	eax, [ebp+var_188]
		xor	edx, edx
		mov	ecx, 10h
		div	ecx
		mov	eax, [ebp+var_188]
		sub	eax, edx
		mov	[ebp+var_188], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+528h]
		add	edx, [ebp+var_188]
		mov	[ebp+var_17C], edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+528h]
		add	ecx, [ebp+var_184]
		mov	edx, [ebp+arg_0]
		mov	[edx+6Ch], ecx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+6Ch]
		cmp	ecx, [ebp+var_17C]
		jb	short loc_22B1
		jmp	$ReduceBands$38
; ---------------------------------------------------------------------------

loc_22B1:				; CODE XREF: _gray_convert_glyph+32Aj
		mov	edx, [ebp+arg_0]
		mov	eax, [ebp+var_17C]
		sub	eax, [edx+6Ch]
		sar	eax, 4
		mov	ecx, [ebp+arg_0]
		mov	[ecx+70h], eax
		mov	edx, [ebp+arg_0]
		cmp	dword ptr [edx+70h], 2
		jge	short loc_22D4
		jmp	$ReduceBands$38
; ---------------------------------------------------------------------------

loc_22D4:				; CODE XREF: _gray_convert_glyph+34Dj
		mov	[ebp+var_180], 0
		jmp	short loc_22EF
; ---------------------------------------------------------------------------

loc_22E0:				; CODE XREF: _gray_convert_glyph+396j
		mov	eax, [ebp+var_180]
		add	eax, 1
		mov	[ebp+var_180], eax

loc_22EF:				; CODE XREF: _gray_convert_glyph+35Ej
		mov	ecx, [ebp+arg_0]
		mov	edx, [ebp+var_180]
		cmp	edx, [ecx+534h]
		jge	short loc_2318
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+530h]
		mov	edx, [ebp+var_180]
		mov	dword ptr [ecx+edx*4], 0
		jmp	short loc_22E0
; ---------------------------------------------------------------------------

loc_2318:				; CODE XREF: _gray_convert_glyph+37Ej
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+74h], 0
		mov	ecx, [ebp+arg_0]
		mov	dword ptr [ecx+68h], 1
		mov	edx, [ebp+var_150]
		mov	eax, [ebp+arg_0]
		mov	ecx, [edx]
		mov	[eax+50h], ecx
		mov	edx, [ebp+var_150]
		mov	eax, [ebp+arg_0]
		mov	ecx, [edx+4]
		mov	[eax+54h], ecx
		mov	edx, [ebp+var_150]
		mov	eax, [ebp+var_150]
		mov	ecx, [edx+4]
		sub	ecx, [eax]
		mov	edx, [ebp+arg_0]
		mov	[edx+5Ch], ecx
		mov	eax, [ebp+arg_0]
		push	eax		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_convert_glyph_inner
		add	esp, 4
		mov	[ebp+var_178], eax
		cmp	[ebp+var_178], 0
		jnz	short loc_23A7
		mov	ecx, [ebp+arg_0]
		add	ecx, 428h
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_gray_sweep
		add	esp, 8
		mov	eax, [ebp+var_150]
		sub	eax, 8
		mov	[ebp+var_150], eax
		jmp	loc_21C3
; ---------------------------------------------------------------------------
		jmp	short $ReduceBands$38
; ---------------------------------------------------------------------------

loc_23A7:				; CODE XREF: _gray_convert_glyph+3F9j
		cmp	[ebp+var_178], 40h ; '@'
		jz	short $ReduceBands$38
		mov	eax, 1
		jmp	loc_24FF
; ---------------------------------------------------------------------------

$ReduceBands$38:			; CODE XREF: _gray_convert_glyph+32Cj
					; _gray_convert_glyph+34Fj ...
		mov	ecx, [ebp+var_150]
		mov	edx, [ecx]
		mov	[ebp+var_16C], edx
		mov	eax, [ebp+var_150]
		mov	ecx, [eax+4]
		mov	[ebp+var_170], ecx
		mov	edx, [ebp+var_170]
		sub	edx, [ebp+var_16C]
		sar	edx, 1
		add	edx, [ebp+var_16C]
		mov	[ebp+var_174], edx
		mov	eax, [ebp+var_174]
		cmp	eax, [ebp+var_16C]
		jnz	short loc_242B

loc_23FF:				; CODE XREF: _gray_convert_glyph+49Fj
		mov	ecx, 4
		imul	edx, ecx, 0Ch
		cmp	dword ptr ds:_ft_trace_levels[edx], 7
		jl	short loc_241D
		push	offset $SG7824	; "gray_convert_glyph: rotten glyph\n"
		call	_FT_Message
		add	esp, 4

loc_241D:				; CODE XREF: _gray_convert_glyph+48Ej
		xor	eax, eax
		jnz	short loc_23FF
		mov	eax, 1
		jmp	loc_24FF
; ---------------------------------------------------------------------------

loc_242B:				; CODE XREF: _gray_convert_glyph+47Dj
		mov	ecx, [ebp+var_16C]
		sub	ecx, [ebp+var_170]
		mov	edx, [ebp+arg_0]
		cmp	ecx, [edx+520h]
		jl	short loc_2457
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+524h]
		add	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	[edx+524h], ecx

loc_2457:				; CODE XREF: _gray_convert_glyph+4C0j
		mov	eax, 8
		shl	eax, 0
		mov	ecx, [ebp+var_150]
		mov	edx, [ebp+var_16C]
		mov	[ecx+eax], edx
		mov	eax, 8
		shl	eax, 0
		mov	ecx, [ebp+var_150]
		mov	edx, [ebp+var_174]
		mov	[ecx+eax+4], edx
		mov	eax, 8
		imul	ecx, eax, 0
		mov	edx, [ebp+var_150]
		mov	eax, [ebp+var_174]
		mov	[edx+ecx], eax
		mov	ecx, 8
		imul	edx, ecx, 0
		mov	eax, [ebp+var_150]
		mov	ecx, [ebp+var_170]
		mov	[eax+edx+4], ecx
		mov	edx, [ebp+var_150]
		add	edx, 8
		mov	[ebp+var_150], edx
		jmp	loc_21C3
; ---------------------------------------------------------------------------

loc_24C9:				; CODE XREF: _gray_convert_glyph+24Fj
		jmp	loc_2120
; ---------------------------------------------------------------------------

loc_24CE:				; CODE XREF: _gray_convert_glyph+1C7j
		mov	eax, [ebp+arg_0]
		cmp	dword ptr [eax+524h], 8
		jle	short loc_24FD
		mov	ecx, [ebp+arg_0]
		cmp	dword ptr [ecx+520h], 10h
		jle	short loc_24FD
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+520h]
		cdq
		sub	eax, edx
		sar	eax, 1
		mov	ecx, [ebp+arg_0]
		mov	[ecx+520h], eax

loc_24FD:				; CODE XREF: _gray_convert_glyph+558j
					; _gray_convert_glyph+564j
		xor	eax, eax

loc_24FF:				; CODE XREF: _gray_convert_glyph+86j
					; _gray_convert_glyph+435j ...
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN37
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4
		add	esp, 18Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_convert_glyph endp

; ---------------------------------------------------------------------------
$LN37		dd 1			; DATA XREF: _gray_convert_glyph+583o
		dd offset $LN36
$LN36		dd 0FFFFFEB8h, 140h	; DATA XREF: .text$mn:00002530o
		dd offset $LN35		; "bands"
$LN35		db 'bands',0            ; DATA XREF: .text$mn:0000253Co
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_raster_render proc near		; DATA XREF: .rdata:00003740o

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0Ch
		mov	[ebp+var_C], 0CCCCCCCCh
		mov	[ebp+var_8], 0CCCCCCCCh
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+4]
		mov	[ebp+var_4], ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx]
		mov	[ebp+var_8], eax
		cmp	[ebp+arg_0], 0
		jz	short loc_2593
		mov	ecx, [ebp+arg_0]
		cmp	dword ptr [ecx], 0
		jz	short loc_2593
		mov	edx, [ebp+arg_0]
		cmp	dword ptr [edx+4], 0
		jnz	short loc_25AF

loc_2593:				; CODE XREF: _gray_raster_render+30j
					; _gray_raster_render+38j
		push	offset $SG7839	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	787h
		push	6
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 6
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_25AF:				; CODE XREF: _gray_raster_render+41j
		cmp	[ebp+var_4], 0
		jnz	short loc_25D1
		push	offset $SG7841	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	78Ah
		push	14h
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 14h
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_25D1:				; CODE XREF: _gray_raster_render+63j
		mov	eax, [ebp+var_4]
		movsx	ecx, word ptr [eax+2]
		test	ecx, ecx
		jz	short loc_25E6
		mov	edx, [ebp+var_4]
		movsx	eax, word ptr [edx]
		test	eax, eax
		jg	short loc_25ED

loc_25E6:				; CODE XREF: _gray_raster_render+8Aj
		xor	eax, eax
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_25ED:				; CODE XREF: _gray_raster_render+94j
		mov	ecx, [ebp+var_4]
		cmp	dword ptr [ecx+0Ch], 0
		jz	short loc_25FF
		mov	edx, [ebp+var_4]
		cmp	dword ptr [edx+4], 0
		jnz	short loc_261B

loc_25FF:				; CODE XREF: _gray_raster_render+A4j
		push	offset $SG7846	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	791h
		push	14h
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 14h
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_261B:				; CODE XREF: _gray_raster_render+ADj
		mov	eax, [ebp+var_4]
		movsx	ecx, word ptr [eax+2]
		mov	edx, [ebp+var_4]
		movsx	eax, word ptr [edx]
		mov	edx, [ebp+var_4]
		mov	edx, [edx+0Ch]
		movsx	eax, word ptr [edx+eax*2-2]
		add	eax, 1
		cmp	ecx, eax
		jz	short loc_2656
		push	offset $SG7848	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	795h
		push	14h
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 14h
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_2656:				; CODE XREF: _gray_raster_render+E8j
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+10h]
		mov	[ebp+var_C], edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+8]
		and	ecx, 2
		jnz	short loc_26C9
		cmp	[ebp+var_8], 0
		jnz	short loc_268C
		push	offset $SG7851	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	79Dh
		push	6
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 6
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_268C:				; CODE XREF: _gray_raster_render+11Ej
		mov	edx, [ebp+var_8]
		cmp	dword ptr [edx+4], 0
		jz	short loc_269D
		mov	eax, [ebp+var_8]
		cmp	dword ptr [eax], 0
		jnz	short loc_26A4

loc_269D:				; CODE XREF: _gray_raster_render+143j
		xor	eax, eax
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_26A4:				; CODE XREF: _gray_raster_render+14Bj
		mov	ecx, [ebp+var_8]
		cmp	dword ptr [ecx+0Ch], 0
		jnz	short loc_26C9
		push	offset $SG7855	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	7A4h
		push	6
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 6
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_26C9:				; CODE XREF: _gray_raster_render+118j
					; _gray_raster_render+15Bj
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+8]
		and	eax, 1
		jnz	short loc_26F0
		push	offset $SG7857	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	7A9h
		push	13h
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 13h
		jmp	loc_2888
; ---------------------------------------------------------------------------

loc_26F0:				; CODE XREF: _gray_raster_render+182j
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+8]
		and	edx, 2
		jnz	short loc_2734
		mov	eax, [ebp+var_C]
		mov	dword ptr [eax+440h], 0
		mov	ecx, [ebp+var_C]
		mov	dword ptr [ecx+444h], 0
		mov	edx, [ebp+var_C]
		mov	eax, [ebp+var_8]
		mov	ecx, [eax+4]
		mov	[edx+448h], ecx
		mov	edx, [ebp+var_C]
		mov	eax, [ebp+var_8]
		mov	ecx, [eax]
		mov	[edx+44Ch], ecx
		jmp	short loc_279A
; ---------------------------------------------------------------------------

loc_2734:				; CODE XREF: _gray_raster_render+1A9j
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+8]
		and	eax, 4
		jz	short loc_2766
		mov	ecx, [ebp+arg_4]
		add	ecx, 20h ; ' '
		mov	edx, [ebp+var_C]
		add	edx, 440h
		mov	eax, [ecx]
		mov	[edx], eax
		mov	eax, [ecx+4]
		mov	[edx+4], eax
		mov	eax, [ecx+8]
		mov	[edx+8], eax
		mov	ecx, [ecx+0Ch]
		mov	[edx+0Ch], ecx
		jmp	short loc_279A
; ---------------------------------------------------------------------------

loc_2766:				; CODE XREF: _gray_raster_render+1EDj
		mov	edx, [ebp+var_C]
		mov	dword ptr [edx+440h], 0FFFF8000h
		mov	eax, [ebp+var_C]
		mov	dword ptr [eax+444h], 0FFFF8000h
		mov	ecx, [ebp+var_C]
		mov	dword ptr [ecx+448h], 7FFFh
		mov	edx, [ebp+var_C]
		mov	dword ptr [edx+44Ch], 7FFFh

loc_279A:				; CODE XREF: _gray_raster_render+1E2j
					; _gray_raster_render+214j
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4]
		push	ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx]
		push	eax
		mov	ecx, [ebp+var_C]
		push	ecx
		call	_gray_init_cells
		add	esp, 0Ch
		mov	edx, [ebp+var_C]
		add	edx, 414h
		mov	eax, [ebp+var_4]
		mov	ecx, [eax]
		mov	[edx], ecx
		mov	ecx, [eax+4]
		mov	[edx+4], ecx
		mov	ecx, [eax+8]
		mov	[edx+8], ecx
		mov	ecx, [eax+0Ch]
		mov	[edx+0Ch], ecx
		mov	eax, [eax+10h]
		mov	[edx+10h], eax
		mov	ecx, [ebp+var_C]
		mov	dword ptr [ecx+74h], 0
		mov	edx, [ebp+var_C]
		mov	dword ptr [edx+68h], 1
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+8]
		mov	[eax+520h], edx
		mov	eax, [ebp+var_C]
		mov	dword ptr [eax+510h], 0
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+8]
		and	edx, 2
		jz	short loc_2836
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+0Ch]
		mov	[eax+514h], edx
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+1Ch]
		mov	[eax+518h], edx
		jmp	short loc_287C
; ---------------------------------------------------------------------------

loc_2836:				; CODE XREF: _gray_raster_render+2C4j
		mov	eax, [ebp+var_C]
		add	eax, 428h
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx]
		mov	[eax], edx
		mov	edx, [ecx+4]
		mov	[eax+4], edx
		mov	edx, [ecx+8]
		mov	[eax+8], edx
		mov	edx, [ecx+0Ch]
		mov	[eax+0Ch], edx
		mov	edx, [ecx+10h]
		mov	[eax+10h], edx
		mov	ecx, [ecx+14h]
		mov	[eax+14h], ecx
		mov	edx, [ebp+var_C]
		mov	dword ptr [edx+514h], offset _gray_render_span
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+var_C]
		mov	[eax+518h], ecx

loc_287C:				; CODE XREF: _gray_raster_render+2E4j
		mov	edx, [ebp+var_C]
		push	edx		; int *__attribute__((__org_typedef(jmp_buf)))
		call	_gray_convert_glyph
		add	esp, 4

loc_2888:				; CODE XREF: _gray_raster_render+5Aj
					; _gray_raster_render+7Cj ...
		add	esp, 0Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_raster_render endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_raster_new proc near		; DATA XREF: .rdata:00003734o

var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 10h
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	[ebp+var_10], 0
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0
		lea	ecx, [ebp+var_8]
		push	ecx
		push	14h
		mov	edx, [ebp+arg_0]
		push	edx
		call	_ft_mem_alloc
		add	esp, 0Ch
		mov	[ebp+var_10], eax
		cmp	[ebp+var_8], 0
		jnz	short loc_28F3
		mov	eax, [ebp+var_10]
		mov	ecx, [ebp+arg_0]
		mov	[eax+0Ch], ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+var_10]
		mov	[edx], eax

loc_28F3:				; CODE XREF: _gray_raster_new+40j
		mov	eax, [ebp+var_8]
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN6_0
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		add	esp, 10h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_raster_new endp

; ---------------------------------------------------------------------------
		align 4
$LN6_0		dd 1			; DATA XREF: _gray_raster_new+5Ao
		dd offset $LN5_0
$LN5_0		dd 0FFFFFFF8h, 4	; DATA XREF: .text$mn:0000291Co
		dd offset $LN4_0	; "error"
$LN4_0		db 'error',0            ; DATA XREF: .text$mn:00002928o
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_raster_done proc near		; DATA XREF: .rdata:00003744o

var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+0Ch]
		mov	[ebp+var_4], ecx

loc_2954:				; CODE XREF: _gray_raster_done+2Dj
		mov	edx, [ebp+arg_0]
		push	edx
		mov	eax, [ebp+var_4]
		push	eax
		call	_ft_mem_free
		add	esp, 8
		mov	[ebp+arg_0], 0
		xor	ecx, ecx
		jnz	short loc_2954
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_gray_raster_done endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_raster_reset proc	near		; DATA XREF: .rdata:00003738o

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 8
		mov	[ebp+var_8], 0CCCCCCCCh
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_4], eax
		cmp	[ebp+arg_0], 0
		jz	short loc_2A0E
		cmp	[ebp+arg_4], 0
		jz	short loc_29F1
		cmp	[ebp+arg_8], 0D38h
		jl	short loc_29F1
		mov	ecx, [ebp+arg_4]
		mov	[ebp+var_8], ecx
		mov	edx, [ebp+var_4]
		mov	eax, [ebp+var_8]
		mov	[edx+10h], eax
		mov	ecx, [ebp+arg_4]
		add	ecx, 540h
		mov	edx, [ebp+var_4]
		mov	[edx], ecx
		mov	eax, [ebp+arg_4]
		add	eax, [ebp+arg_8]
		mov	ecx, [ebp+var_4]
		sub	eax, [ecx]
		and	eax, 0FFFFFFF0h
		mov	edx, [ebp+var_4]
		mov	[edx+4], eax
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+4]
		shr	ecx, 7
		mov	edx, [ebp+var_4]
		mov	[edx+8], ecx
		jmp	short loc_2A0E
; ---------------------------------------------------------------------------

loc_29F1:				; CODE XREF: _gray_raster_reset+24j
					; _gray_raster_reset+2Dj
		mov	eax, [ebp+var_4]
		mov	dword ptr [eax], 0
		mov	ecx, [ebp+var_4]
		mov	dword ptr [ecx+4], 0
		mov	edx, [ebp+var_4]
		mov	dword ptr [edx+10h], 0

loc_2A0E:				; CODE XREF: _gray_raster_reset+1Ej
					; _gray_raster_reset+6Fj
		mov	esp, ebp
		pop	ebp
		retn
_gray_raster_reset endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_gray_raster_set_mode proc near		; DATA XREF: .rdata:0000373Co

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_0]
		mov	[ebp+arg_0], eax
		mov	ecx, [ebp+arg_4]
		mov	[ebp+arg_4], ecx
		mov	edx, [ebp+arg_8]
		mov	[ebp+arg_8], edx
		xor	eax, eax
		pop	ebp
		retn
_gray_raster_set_mode endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_ft_smooth_init	proc near		; DATA XREF: .rdata:000036D0o
					; .rdata:0000370Co ...

var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	ecx
		push	esi
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+4]
		mov	[ebp+var_4], ecx
		mov	esi, esp
		mov	edx, [ebp+var_4]
		mov	eax, [edx+0A8h]
		push	eax
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+0A4h]
		push	edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+34h]
		push	ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+0Ch]
		mov	ecx, [eax+38h]
		mov	edx, [ecx+8]
		call	edx
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		xor	eax, eax
		pop	esi
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ft_smooth_init	endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_ft_smooth_set_mode proc near		; DATA XREF: .rdata:000036ECo
					; .rdata:00003728o ...

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	esi
		mov	esi, esp
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_4]
		push	ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+34h]
		push	eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+0Ch]
		mov	eax, [edx+38h]
		mov	ecx, [eax+0Ch]
		call	ecx
		add	esp, 0Ch
		cmp	esi, esp
		call	__RTC_CheckEsp
		pop	esi
		cmp	ebp, esp
		call	__RTC_CheckEsp
		pop	ebp
		retn
_ft_smooth_set_mode endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_ft_smooth_transform proc near		; DATA XREF: .rdata:000036E4o
					; .rdata:00003720o ...

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	[ebp+var_4], 0
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		mov	edx, [eax+48h]
		cmp	edx, [ecx+10h]
		jz	short loc_2B19
		push	offset $SG7962	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	45h ; 'E'
		push	6
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 6
		mov	[ebp+var_4], eax
		jmp	short $Exit$6
; ---------------------------------------------------------------------------

loc_2B19:				; CODE XREF: _ft_smooth_transform+1Ej
		cmp	[ebp+arg_8], 0
		jz	short loc_2B32
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_4]
		add	ecx, 6Ch ; 'l'
		push	ecx
		call	_FT_Outline_Transform
		add	esp, 8

loc_2B32:				; CODE XREF: _ft_smooth_transform+3Dj
		cmp	[ebp+arg_C], 0
		jz	short $Exit$6
		mov	edx, [ebp+arg_C]
		mov	eax, [edx+4]
		push	eax
		mov	ecx, [ebp+arg_C]
		mov	edx, [ecx]
		push	edx
		mov	eax, [ebp+arg_4]
		add	eax, 6Ch ; 'l'
		push	eax
		call	_FT_Outline_Translate
		add	esp, 0Ch

$Exit$6:				; CODE XREF: _ft_smooth_transform+37j
					; _ft_smooth_transform+56j
		mov	eax, [ebp+var_4]
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ft_smooth_transform endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl ft_smooth_get_cbox(int, int, void	*)
_ft_smooth_get_cbox proc near		; DATA XREF: .rdata:000036E8o
					; .rdata:00003724o ...

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	10h		; size_t
		push	0		; int
		mov	eax, [ebp+arg_8]
		push	eax		; void *
		call	_memset
		add	esp, 0Ch
		mov	ecx, [ebp+arg_4]
		mov	edx, [ebp+arg_0]
		mov	eax, [ecx+48h]
		cmp	eax, [edx+10h]
		jnz	short loc_2BA4
		mov	ecx, [ebp+arg_8]
		push	ecx
		mov	edx, [ebp+arg_4]
		add	edx, 6Ch ; 'l'
		push	edx
		call	_FT_Outline_Get_CBox
		add	esp, 8

loc_2BA4:				; CODE XREF: _ft_smooth_get_cbox+1Fj
		cmp	ebp, esp
		call	__RTC_CheckEsp
		pop	ebp
		retn
_ft_smooth_get_cbox endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_ft_smooth_render_generic proc near	; CODE XREF: _ft_smooth_render+22p
					; _ft_smooth_render_lcd+1Dp ...

var_C4		= dword	ptr -0C4h
var_C0		= dword	ptr -0C0h
var_BC		= dword	ptr -0BCh
var_B8		= dword	ptr -0B8h
var_B4		= dword	ptr -0B4h
var_B0		= dword	ptr -0B0h
var_AC		= dword	ptr -0ACh
var_A8		= dword	ptr -0A8h
var_A4		= dword	ptr -0A4h
var_A0		= dword	ptr -0A0h
var_9A		= byte ptr -9Ah
var_99		= byte ptr -99h
var_94		= dword	ptr -94h
var_90		= dword	ptr -90h
var_8C		= dword	ptr -8Ch
var_60		= dword	ptr -60h
var_5C		= dword	ptr -5Ch
var_58		= dword	ptr -58h
var_54		= dword	ptr -54h
var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_C		= dword	ptr -0Ch
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h

		push	ebp
		mov	ebp, esp
		sub	esp, 0C4h
		push	esi
		push	edi
		lea	edi, [ebp+var_C4]
		mov	ecx, 31h ; '1'
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_4]
		add	eax, 6Ch ; 'l'
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+arg_4]
		add	ecx, 4Ch ; 'L'
		mov	[ebp+var_18], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+8]
		mov	[ebp+var_1C], eax
		mov	[ebp+var_38], 0
		mov	[ebp+var_3C], 0
		cmp	[ebp+arg_8], 3
		jnz	short loc_2C12
		mov	[ebp+var_C0], 1
		jmp	short loc_2C1C
; ---------------------------------------------------------------------------

loc_2C12:				; CODE XREF: _ft_smooth_render_generic+54j
		mov	[ebp+var_C0], 0

loc_2C1C:				; CODE XREF: _ft_smooth_render_generic+60j
		mov	ecx, [ebp+var_C0]
		mov	[ebp+var_5C], ecx
		cmp	[ebp+arg_8], 4
		jnz	short loc_2C37
		mov	[ebp+var_C4], 1
		jmp	short loc_2C41
; ---------------------------------------------------------------------------

loc_2C37:				; CODE XREF: _ft_smooth_render_generic+79j
		mov	[ebp+var_C4], 0

loc_2C41:				; CODE XREF: _ft_smooth_render_generic+85j
		mov	edx, [ebp+var_C4]
		mov	[ebp+var_60], edx
		mov	[ebp+var_99], 0
		mov	[ebp+var_9A], 0
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		mov	edx, [eax+48h]
		cmp	edx, [ecx+10h]
		jz	short loc_2C85
		push	offset $SG8007	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	81h ; ''
		push	6
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 6
		mov	[ebp+var_C], eax
		jmp	$Exit$46
; ---------------------------------------------------------------------------

loc_2C85:				; CODE XREF: _ft_smooth_render_generic+B4j
		mov	eax, [ebp+arg_8]
		cmp	eax, [ebp+arg_10]
		jz	short loc_2CAC
		push	offset $SG8010	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	88h ; 'ˆ'
		push	13h
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 13h
		mov	[ebp+var_C], eax
		jmp	$Exit$46
; ---------------------------------------------------------------------------

loc_2CAC:				; CODE XREF: _ft_smooth_render_generic+DBj
		cmp	[ebp+arg_C], 0
		jz	short loc_2CC3
		mov	ecx, [ebp+arg_C]
		mov	edx, [ecx]
		mov	[ebp+var_38], edx
		mov	eax, [ebp+arg_C]
		mov	ecx, [eax+4]
		mov	[ebp+var_3C], ecx

loc_2CC3:				; CODE XREF: _ft_smooth_render_generic+100j
		lea	edx, [ebp+var_30]
		push	edx
		mov	eax, [ebp+var_14]
		push	eax
		call	_FT_Outline_Get_CBox
		add	esp, 8
		mov	ecx, [ebp+var_30]
		add	ecx, [ebp+var_38]
		and	ecx, 0FFFFFFC0h
		mov	[ebp+var_30], ecx
		mov	edx, [ebp+var_2C]
		add	edx, [ebp+var_3C]
		and	edx, 0FFFFFFC0h
		mov	[ebp+var_2C], edx
		mov	eax, [ebp+var_38]
		mov	ecx, [ebp+var_28]
		lea	edx, [ecx+eax+3Fh]
		and	edx, 0FFFFFFC0h
		mov	[ebp+var_28], edx
		mov	eax, [ebp+var_3C]
		mov	ecx, [ebp+var_24]
		lea	edx, [ecx+eax+3Fh]
		and	edx, 0FFFFFFC0h
		mov	[ebp+var_24], edx
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_30]
		mov	[ebp+var_38], eax
		mov	ecx, [ebp+var_3C]
		sub	ecx, [ebp+var_2C]
		mov	[ebp+var_3C], ecx
		mov	edx, [ebp+var_30]
		sar	edx, 6
		mov	[ebp+var_40], edx
		mov	eax, [ebp+var_24]
		sar	eax, 6
		mov	[ebp+var_44], eax
		mov	ecx, [ebp+var_28]
		sub	ecx, [ebp+var_30]
		shr	ecx, 6
		mov	[ebp+var_48], ecx
		mov	edx, [ebp+var_24]
		sub	edx, [ebp+var_2C]
		shr	edx, 6
		mov	[ebp+var_4C], edx
		mov	eax, [ebp+var_48]
		mov	[ebp+var_58], eax
		mov	ecx, [ebp+var_4C]
		mov	[ebp+var_54], ecx
		mov	edx, [ebp+var_48]
		mov	[ebp+var_50], edx
		cmp	[ebp+var_5C], 0
		jz	short loc_2D72
		imul	eax, [ebp+var_48], 3
		mov	[ebp+var_48], eax
		mov	ecx, [ebp+var_48]
		add	ecx, 3
		and	ecx, 0FFFFFFFCh
		mov	[ebp+var_50], ecx

loc_2D72:				; CODE XREF: _ft_smooth_render_generic+1ADj
		cmp	[ebp+var_60], 0
		jz	short loc_2D7F
		imul	edx, [ebp+var_4C], 3
		mov	[ebp+var_4C], edx

loc_2D7F:				; CODE XREF: _ft_smooth_render_generic+1C6j
		cmp	[ebp+var_40], 7FFFFFFFh
		jg	short loc_2DA3
		cmp	[ebp+var_44], 7FFFFFFFh
		jg	short loc_2DA3
		cmp	[ebp+var_40], 80000000h
		jl	short loc_2DA3
		cmp	[ebp+var_44], 80000000h
		jge	short loc_2DC2

loc_2DA3:				; CODE XREF: _ft_smooth_render_generic+1D6j
					; _ft_smooth_render_generic+1DFj ...
		push	offset $SG8018	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	0D3h ; 'Ó'
		push	17h
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 17h
		mov	[ebp+var_C], eax
		jmp	$Exit$46
; ---------------------------------------------------------------------------

loc_2DC2:				; CODE XREF: _ft_smooth_render_generic+1F1j
		cmp	[ebp+var_48], 7FFFh
		jg	short loc_2DD4
		cmp	[ebp+var_4C], 7FFFh
		jle	short loc_2E08

loc_2DD4:				; CODE XREF: _ft_smooth_render_generic+219j
		mov	eax, [ebp+var_4C]
		push	eax
		mov	ecx, [ebp+var_48]
		push	ecx
		push	offset $SG8021	; "ft_smooth_render_generic: glyph too lar"...
		call	_FT_Message
		add	esp, 0Ch
		push	offset $SG8022	; "d:\\mozilla\\modules\\freetype2\\src\\s"...
		push	0DDh ; 'Ý'
		push	62h ; 'b'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 62h
		mov	[ebp+var_C], eax
		jmp	$Exit$46
; ---------------------------------------------------------------------------

loc_2E08:				; CODE XREF: _ft_smooth_render_generic+222j
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+9Ch]
		mov	ecx, [eax+4]
		and	ecx, 1
		jz	short loc_2E55

loc_2E19:				; CODE XREF: _ft_smooth_render_generic+288j
		mov	edx, [ebp+var_18]
		mov	eax, [edx+0Ch]
		push	eax
		mov	ecx, [ebp+var_1C]
		push	ecx
		call	_ft_mem_free
		add	esp, 8
		mov	edx, [ebp+var_18]
		mov	dword ptr [edx+0Ch], 0
		xor	eax, eax
		jnz	short loc_2E19
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+9Ch]
		mov	eax, [edx+4]
		and	eax, 0FFFFFFFEh
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+9Ch]
		mov	[edx+4], eax

loc_2E55:				; CODE XREF: _ft_smooth_render_generic+267j
		lea	eax, [ebp+var_C]
		push	eax
		mov	ecx, [ebp+var_50]
		imul	ecx, [ebp+var_4C]
		push	ecx
		mov	edx, [ebp+var_1C]
		push	edx
		call	_ft_mem_alloc
		add	esp, 0Ch
		mov	ecx, [ebp+var_18]
		mov	[ecx+0Ch], eax
		cmp	[ebp+var_C], 0
		jz	short loc_2E80
		jmp	$Exit$46
; ---------------------------------------------------------------------------
		jmp	short loc_2E87
; ---------------------------------------------------------------------------

loc_2E80:				; CODE XREF: _ft_smooth_render_generic+2C7j
		mov	[ebp+var_9A], 1

loc_2E87:				; CODE XREF: _ft_smooth_render_generic+2CEj
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+9Ch]
		mov	ecx, [eax+4]
		or	ecx, 1
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+9Ch]
		mov	[eax+4], ecx
		mov	ecx, [ebp+arg_4]
		mov	dword ptr [ecx+48h], 62697473h
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+var_40]
		mov	[edx+64h], eax
		mov	ecx, [ebp+arg_4]
		mov	edx, [ebp+var_44]
		mov	[ecx+68h], edx
		mov	eax, [ebp+var_18]
		mov	byte ptr [eax+12h], 2
		mov	ecx, 100h
		mov	edx, [ebp+var_18]
		mov	[edx+10h], cx
		mov	eax, [ebp+var_18]
		mov	ecx, [ebp+var_48]
		mov	[eax+4], ecx
		mov	edx, [ebp+var_18]
		mov	eax, [ebp+var_4C]
		mov	[edx], eax
		mov	ecx, [ebp+var_18]
		mov	edx, [ebp+var_50]
		mov	[ecx+8], edx
		cmp	[ebp+var_38], 0
		jnz	short loc_2EF7
		cmp	[ebp+var_3C], 0
		jz	short loc_2F12

loc_2EF7:				; CODE XREF: _ft_smooth_render_generic+33Fj
		mov	eax, [ebp+var_3C]
		push	eax
		mov	ecx, [ebp+var_38]
		push	ecx
		mov	edx, [ebp+var_14]
		push	edx
		call	_FT_Outline_Translate
		add	esp, 0Ch
		mov	[ebp+var_99], 1

loc_2F12:				; CODE XREF: _ft_smooth_render_generic+345j
		mov	eax, [ebp+var_18]
		mov	[ebp+var_94], eax
		mov	ecx, [ebp+var_14]
		mov	[ebp+var_90], ecx
		mov	[ebp+var_8C], 1
		mov	esi, esp
		lea	edx, [ebp+var_94]
		push	edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+34h]
		push	ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+38h]
		call	eax
		add	esp, 8
		cmp	esi, esp
		call	__RTC_CheckEsp
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jz	short loc_2F5E
		jmp	$Exit$46
; ---------------------------------------------------------------------------

loc_2F5E:				; CODE XREF: _ft_smooth_render_generic+3A7j
		cmp	[ebp+var_5C], 0
		jz	loc_3050
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+0Ch]
		mov	[ebp+var_A0], edx
		mov	eax, [ebp+var_54]
		mov	[ebp+var_A4], eax
		jmp	short loc_2F9D
; ---------------------------------------------------------------------------

loc_2F7F:				; CODE XREF: _ft_smooth_render_generic:loc_304Bj
		mov	ecx, [ebp+var_A4]
		sub	ecx, 1
		mov	[ebp+var_A4], ecx
		mov	edx, [ebp+var_A0]
		add	edx, [ebp+var_50]
		mov	[ebp+var_A0], edx

loc_2F9D:				; CODE XREF: _ft_smooth_render_generic+3CDj
		cmp	[ebp+var_A4], 0
		jbe	loc_3050
		mov	eax, [ebp+var_A0]
		add	eax, [ebp+var_48]
		mov	[ebp+var_AC], eax
		mov	ecx, [ebp+var_58]
		mov	[ebp+var_A8], ecx
		jmp	short loc_2FD3
; ---------------------------------------------------------------------------

loc_2FC4:				; CODE XREF: _ft_smooth_render_generic+496j
		mov	edx, [ebp+var_A8]
		sub	edx, 1
		mov	[ebp+var_A8], edx

loc_2FD3:				; CODE XREF: _ft_smooth_render_generic+412j
		cmp	[ebp+var_A8], 0
		jbe	short loc_304B
		mov	eax, [ebp+var_A0]
		add	eax, [ebp+var_A8]
		movzx	ecx, byte ptr [eax-1]
		mov	[ebp+var_B0], ecx
		mov	edx, 1
		imul	eax, edx, -3
		mov	ecx, [ebp+var_AC]
		mov	dl, byte ptr [ebp+var_B0]
		mov	[ecx+eax], dl
		mov	eax, 1
		imul	ecx, eax, -2
		mov	edx, [ebp+var_AC]
		mov	al, byte ptr [ebp+var_B0]
		mov	[edx+ecx], al
		mov	ecx, 1
		imul	edx, ecx, -1
		mov	eax, [ebp+var_AC]
		mov	cl, byte ptr [ebp+var_B0]
		mov	[eax+edx], cl
		mov	edx, [ebp+var_AC]
		sub	edx, 3
		mov	[ebp+var_AC], edx
		jmp	loc_2FC4
; ---------------------------------------------------------------------------

loc_304B:				; CODE XREF: _ft_smooth_render_generic+42Aj
		jmp	loc_2F7F
; ---------------------------------------------------------------------------

loc_3050:				; CODE XREF: _ft_smooth_render_generic+3B2j
					; _ft_smooth_render_generic+3F4j
		cmp	[ebp+var_60], 0
		jz	loc_3132
		mov	eax, [ebp+var_4C]
		sub	eax, [ebp+var_54]
		imul	eax, [ebp+var_50]
		mov	ecx, [ebp+var_18]
		add	eax, [ecx+0Ch]
		mov	[ebp+var_B4], eax
		mov	edx, [ebp+var_18]
		mov	eax, [edx+0Ch]
		mov	[ebp+var_B8], eax
		mov	ecx, [ebp+var_54]
		mov	[ebp+var_BC], ecx
		jmp	short loc_3096
; ---------------------------------------------------------------------------

loc_3087:				; CODE XREF: _ft_smooth_render_generic+57Dj
		mov	edx, [ebp+var_BC]
		sub	edx, 1
		mov	[ebp+var_BC], edx

loc_3096:				; CODE XREF: _ft_smooth_render_generic+4D5j
		cmp	[ebp+var_BC], 0
		jbe	loc_3132
		mov	eax, [ebp+var_50]
		push	eax		; size_t
		mov	ecx, [ebp+var_B4]
		push	ecx		; void *
		mov	edx, [ebp+var_B8]
		push	edx		; void *
		call	_memcpy
		add	esp, 0Ch
		mov	eax, [ebp+var_B8]
		add	eax, [ebp+var_50]
		mov	[ebp+var_B8], eax
		mov	ecx, [ebp+var_50]
		push	ecx		; size_t
		mov	edx, [ebp+var_B4]
		push	edx		; void *
		mov	eax, [ebp+var_B8]
		push	eax		; void *
		call	_memcpy
		add	esp, 0Ch
		mov	ecx, [ebp+var_B8]
		add	ecx, [ebp+var_50]
		mov	[ebp+var_B8], ecx
		mov	edx, [ebp+var_50]
		push	edx		; size_t
		mov	eax, [ebp+var_B4]
		push	eax		; void *
		mov	ecx, [ebp+var_B8]
		push	ecx		; void *
		call	_memcpy
		add	esp, 0Ch
		mov	edx, [ebp+var_B8]
		add	edx, [ebp+var_50]
		mov	[ebp+var_B8], edx
		mov	eax, [ebp+var_B4]
		add	eax, [ebp+var_50]
		mov	[ebp+var_B4], eax
		jmp	loc_3087
; ---------------------------------------------------------------------------

loc_3132:				; CODE XREF: _ft_smooth_render_generic+4A4j
					; _ft_smooth_render_generic+4EDj
		mov	[ebp+var_9A], 0
		mov	[ebp+var_C], 0

$Exit$46:				; CODE XREF: _ft_smooth_render_generic+D0j
					; _ft_smooth_render_generic+F7j ...
		movzx	ecx, [ebp+var_99]
		test	ecx, ecx
		jz	short loc_3163
		mov	edx, [ebp+var_3C]
		neg	edx
		push	edx
		mov	eax, [ebp+var_38]
		neg	eax
		push	eax
		mov	ecx, [ebp+var_14]
		push	ecx
		call	_FT_Outline_Translate
		add	esp, 0Ch

loc_3163:				; CODE XREF: _ft_smooth_render_generic+599j
		movzx	edx, [ebp+var_9A]
		test	edx, edx
		jz	short loc_31AA

loc_316E:				; CODE XREF: _ft_smooth_render_generic+5DDj
		mov	eax, [ebp+var_18]
		mov	ecx, [eax+0Ch]
		push	ecx
		mov	edx, [ebp+var_1C]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	eax, [ebp+var_18]
		mov	dword ptr [eax+0Ch], 0
		xor	ecx, ecx
		jnz	short loc_316E
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+9Ch]
		mov	ecx, [eax+4]
		and	ecx, 0FFFFFFFEh
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+9Ch]
		mov	[eax+4], ecx

loc_31AA:				; CODE XREF: _ft_smooth_render_generic+5BCj
		mov	eax, [ebp+var_C]
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN45
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4
		add	esp, 0C4h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ft_smooth_render_generic endp

; ---------------------------------------------------------------------------
		align 4
$LN45		dd 3			; DATA XREF: _ft_smooth_render_generic+601o
		dd offset $LN44
$LN44		dd 0FFFFFFF4h, 4	; DATA XREF: .text$mn:000031E0o
		dd offset $LN41		; "error"
		dd 0FFFFFFD0h, 10h
		dd offset $LN42		; "cbox"
		dd 0FFFFFF6Ch, 30h
		dd offset $LN43		; "params"
$LN43		db 'params',0           ; DATA XREF: .text$mn:00003204o
$LN42		db 'cbox',0             ; DATA XREF: .text$mn:000031F8o
$LN41		db 'error',0            ; DATA XREF: .text$mn:000031ECo
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_ft_smooth_render proc near		; DATA XREF: .rdata:000036E0o

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		cmp	[ebp+arg_8], 1
		jnz	short loc_3230
		mov	[ebp+arg_8], 0

loc_3230:				; CODE XREF: _ft_smooth_render+7j
		push	0
		mov	eax, [ebp+arg_C]
		push	eax
		mov	ecx, [ebp+arg_8]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ft_smooth_render_generic
		add	esp, 14h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		pop	ebp
		retn
_ft_smooth_render endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_ft_smooth_render_lcd proc near		; DATA XREF: .rdata:0000371Co

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		push	3
		mov	eax, [ebp+arg_C]
		push	eax
		mov	ecx, [ebp+arg_8]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ft_smooth_render_generic
		add	esp, 14h
		mov	[ebp+var_4], eax
		cmp	[ebp+var_4], 0
		jnz	short loc_3295
		mov	ecx, [ebp+arg_4]
		mov	byte ptr [ecx+5Eh], 5

loc_3295:				; CODE XREF: _ft_smooth_render_lcd+2Cj
		mov	eax, [ebp+var_4]
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ft_smooth_render_lcd endp

; ---------------------------------------------------------------------------
		align 10h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_ft_smooth_render_lcd_v	proc near	; DATA XREF: .rdata:00003770o

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		push	4
		mov	eax, [ebp+arg_C]
		push	eax
		mov	ecx, [ebp+arg_8]
		push	ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ft_smooth_render_generic
		add	esp, 14h
		mov	[ebp+var_4], eax
		cmp	[ebp+var_4], 0
		jnz	short loc_32E5
		mov	ecx, [ebp+arg_4]
		mov	byte ptr [ecx+5Eh], 6

loc_32E5:				; CODE XREF: _ft_smooth_render_lcd_v+2Cj
		mov	eax, [ebp+var_4]
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_ft_smooth_render_lcd_v	endp

; ---------------------------------------------------------------------------
		align 4
_text$mn	ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
_data		segment	dword public 'DATA' use32
		assume cs:_data
		;org 32F8h
$SG7653		db 'y = %3d ',0         ; DATA XREF: _gray_hline+1B2o
		align 4
$SG7661		db '[%d..%d]:%02x ',0   ; DATA XREF: _gray_hline+223o
		align 4
$SG7666		db 0Ah,0		; DATA XREF: _gray_hline+247o
		align 4
$SG7681		db '%3d:',0
		align 10h
$SG7686		db ' (%3ld, c:%4ld, a:%6d)',0
		align 4
$SG7687		db 0Ah,0
		align 4
$SG7700		db 'gray_sweep: start',0Ah,0 ; DATA XREF: _gray_sweep+53o
		align 10h
$SG7723		db 'y = %3d ',0         ; DATA XREF: _gray_sweep+1F3o
		align 4
$SG7731		db '[%d..%d]:%02x ',0   ; DATA XREF: _gray_sweep+26Bo
		align 4
$SG7736		db 0Ah,0		; DATA XREF: _gray_sweep+28Fo
		align 10h
$SG7741		db 'gray_sweep: end',0Ah,0 ; DATA XREF: _gray_sweep+2B1o
		align 4
$SG7760		db 'd:\mozilla\modules\freetype2\src\smooth\ftgrays.c',0
					; DATA XREF: _gray_convert_glyph_inner:loc_1F59o
		align 4
$SG7824		db 'gray_convert_glyph: rotten glyph',0Ah,0
					; DATA XREF: _gray_convert_glyph+490o
		align 4
$SG7839		db 'd:\mozilla\modules\freetype2\src\smooth\ftgrays.c',0
					; DATA XREF: _gray_raster_render:loc_2593o
		align 10h
$SG7841		db 'd:\mozilla\modules\freetype2\src\smooth\ftgrays.c',0
					; DATA XREF: _gray_raster_render+65o
		align 4
$SG7846		db 'd:\mozilla\modules\freetype2\src\smooth\ftgrays.c',0
					; DATA XREF: _gray_raster_render:loc_25FFo
		align 4
$SG7848		db 'd:\mozilla\modules\freetype2\src\smooth\ftgrays.c',0
					; DATA XREF: _gray_raster_render+EAo
		align 4
$SG7851		db 'd:\mozilla\modules\freetype2\src\smooth\ftgrays.c',0
					; DATA XREF: _gray_raster_render+120o
		align 10h
$SG7855		db 'd:\mozilla\modules\freetype2\src\smooth\ftgrays.c',0
					; DATA XREF: _gray_raster_render+15Do
		align 4
$SG7857		db 'd:\mozilla\modules\freetype2\src\smooth\ftgrays.c',0
					; DATA XREF: _gray_raster_render+184o
		align 4
$SG7962		db 'd:\mozilla\modules\freetype2\src\smooth\ftsmooth.c',0
					; DATA XREF: _ft_smooth_transform+20o
		align 4
$SG8007		db 'd:\mozilla\modules\freetype2\src\smooth\ftsmooth.c',0
					; DATA XREF: _ft_smooth_render_generic+B6o
		align 10h
$SG8010		db 'd:\mozilla\modules\freetype2\src\smooth\ftsmooth.c',0
					; DATA XREF: _ft_smooth_render_generic+DDo
		align 4
$SG8018		db 'd:\mozilla\modules\freetype2\src\smooth\ftsmooth.c',0
					; DATA XREF: _ft_smooth_render_generic:loc_2DA3o
		align 4
$SG8021		db 'ft_smooth_render_generic: glyph too large: %u x %u',0Ah,0
					; DATA XREF: _ft_smooth_render_generic+22Co
$SG8022		db 'd:\mozilla\modules\freetype2\src\smooth\ftsmooth.c',0
					; DATA XREF: _ft_smooth_render_generic+239o
		align 10h
$SG8109		db 'smooth',0           ; DATA XREF: .rdata:000036C0o
		align 4
$SG8119		db 'smooth-lcd',0       ; DATA XREF: .rdata:000036FCo
		align 4
$SG8130		db 'smooth-lcdv',0      ; DATA XREF: .rdata:00003750o
_data		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rdata		segment	dword public 'DATA' use32
		assume cs:_rdata
		;org 36A0h
_func_interface	dd offset _gray_move_to	; DATA XREF: _gray_convert_glyph_inner+28o
		dd offset _gray_line_to
		dd offset _gray_conic_to
		dd offset _gray_cubic_to
		dd 2 dup(0)
		public _ft_smooth_renderer_class
_ft_smooth_renderer_class dd 2,	40h
		dd offset $SG8109	; "smooth"
		dd 10000h, 20000h, 0
		dd offset _ft_smooth_init
		dd 2 dup(0)
		dd 6F75746Ch
		dd offset _ft_smooth_render
		dd offset _ft_smooth_transform
		dd offset _ft_smooth_get_cbox
		dd offset _ft_smooth_set_mode
		dd offset _ft_grays_raster
		public _ft_smooth_lcd_renderer_class
_ft_smooth_lcd_renderer_class dd 2, 40h
		dd offset $SG8119	; "smooth-lcd"
		dd 10000h, 20000h, 0
		dd offset _ft_smooth_init
		dd 2 dup(0)
		dd 6F75746Ch
		dd offset _ft_smooth_render_lcd
		dd offset _ft_smooth_transform
		dd offset _ft_smooth_get_cbox
		dd offset _ft_smooth_set_mode
		dd offset _ft_grays_raster
		public _ft_grays_raster
_ft_grays_raster dd 6F75746Ch		; DATA XREF: .rdata:000036F0o
					; .rdata:0000372Co ...
		dd offset _gray_raster_new
		dd offset _gray_raster_reset
		dd offset _gray_raster_set_mode
		dd offset _gray_raster_render
		dd offset _gray_raster_done
		public _ft_smooth_lcdv_renderer_class
_ft_smooth_lcdv_renderer_class dd 2, 40h
		dd offset $SG8130	; "smooth-lcdv"
		dd 10000h, 20000h, 0
		dd offset _ft_smooth_init
		dd 2 dup(0)
		dd 6F75746Ch
		dd offset _ft_smooth_render_lcd_v
		dd offset _ft_smooth_transform
		dd offset _ft_smooth_get_cbox
		dd offset _ft_smooth_set_mode
		dd offset _ft_grays_raster
_rdata		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$IMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$IMZ
		;org 3784h
; COMDAT (pick any)
__RTC_InitBase_rtc$IMZ dd offset __RTC_InitBase
_rtc$IMZ	ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$TMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$TMZ
		;org 3788h
; COMDAT (pick any)
__RTC_Shutdown_rtc$TMZ dd offset __RTC_Shutdown
_rtc$TMZ	ends

; ===========================================================================

; Segment type:	Externs
; UNDEF
; void *__cdecl	memcpy(void *, const void *, size_t)
		extrn _memcpy:near	; CODE XREF: _ft_smooth_render_generic+505p
					; _ft_smooth_render_generic+52Ep ...
; void *__cdecl	memset(void *, int, size_t)
		extrn _memset:near	; CODE XREF: _gray_render_span+AEp
					; _ft_smooth_get_cbox+Bp
; void __cdecl __noreturn _longjmp(jmp_buf, int)
		extrn __imp__longjmp:near ; CODE XREF: _gray_find_cell+95p
					; DATA XREF: _gray_find_cell+95r
		extrn _ft_mem_alloc:near ; CODE	XREF: _gray_raster_new+31p
					; _ft_smooth_render_generic+2B5p
		extrn _ft_mem_free:near	; CODE XREF: _gray_raster_done+1Cp
					; _ft_smooth_render_generic+274p ...
		extrn _FT_Message:near	; CODE XREF: _gray_hline+1B7p
					; _gray_hline+228p ...
		extrn _FT_Throw:near	; CODE XREF: _gray_convert_glyph_inner+65p
					; _gray_raster_render+4Fp ...
		extrn _FT_Outline_Decompose:near ; CODE	XREF: _gray_convert_glyph_inner+37p
		extrn _FT_Outline_Get_CBox:near	; CODE XREF: _ft_smooth_get_cbox+2Cp
					; _ft_smooth_render_generic+11Bp
		extrn _FT_Outline_Translate:near ; CODE	XREF: _ft_smooth_transform+6Cp
					; _ft_smooth_render_generic+353p ...
		extrn _FT_Outline_Transform:near ; CODE	XREF: _ft_smooth_transform+4Ap
		extrn @_RTC_CheckStackVars@8:near ; CODE XREF: _gray_convert_glyph+589p
					; _gray_raster_new+60p	...
		extrn @__security_check_cookie@4:near ;	CODE XREF: _gray_convert_glyph+596p
					; _ft_smooth_render_generic+615p
		extrn __RTC_CheckEsp:near ; CODE XREF: _gray_find_cell+9Dp
					; _gray_find_cell+FBp ...
		extrn __RTC_InitBase:near ; DATA XREF: .rtc$IMZ:__RTC_InitBase_rtc$IMZo
		extrn __RTC_Shutdown:near ; DATA XREF: .rtc$TMZ:__RTC_Shutdown_rtc$TMZo
		extrn __setjmp3:near	; CODE XREF: _gray_convert_glyph_inner+18p
		extrn _ft_trace_levels:near ; DATA XREF: _gray_hline+19Fr
					; _gray_hline+1F9r ...
		extrn ___security_cookie:near ;	DATA XREF: _gray_convert_glyph+1Cr
					; _ft_smooth_render_generic+1Dr


		end
