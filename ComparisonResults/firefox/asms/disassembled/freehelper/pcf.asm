;
; +-------------------------------------------------------------------------+
; |   This file	has been generated by The Interactive Disassembler (IDA)    |
; |	      Copyright	(c) 2015 Hex-Rays, <support@hex-rays.com>	    |
; |			 License info: 48-3677-7074-51			    |
; |		Michalis Polychronakis,	Stony Brook University		    |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	52932A54A8CFF9D9BE5ED77C2524F810
; Input	CRC32 :	4CE0BCF3

; File Name   :	D:\compspace\objfiles\firefox\freehelper\pcf.obj
; Format      :	COFF (X386MAGIC)
; includelib "MSVCRTD"

		.686p
		.mmx
		.model flat
.intel_syntax noprefix

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read/Write
; Segment alignment 'qword' can not be represented in assembly
_data		segment	para public 'DATA' use32
		assume cs:_data
; char _SG8224[]
$SG8224		db 'SLANT',0            ; DATA XREF: _pcf_interpret_style+5Co
		align 4
$SG8229		db 'Oblique',0          ; DATA XREF: _pcf_interpret_style:loc_3349o
$SG8230		db 'Italic',0           ; DATA XREF: _pcf_interpret_style+ECo
		align 4
; char _SG8231[]
$SG8231		db 'WEIGHT_NAME',0      ; DATA XREF: _pcf_interpret_style:loc_335Eo
$SG8235		db 'Bold',0             ; DATA XREF: _pcf_interpret_style+162o
		align 4
; char _SG8236[]
$SG8236		db 'SETWIDTH_NAME',0    ; DATA XREF: .rdata:00000BACo
					; _pcf_interpret_style:loc_33BEo ...
		align 4
; char _SG8239[]
$SG8239		db 'ADD_STYLE_NAME',0   ; DATA XREF: _pcf_interpret_style:loc_341Eo
					; .data:$SG7463o
		align 4
$SG8248		db 'Regular',0          ; DATA XREF: _pcf_interpret_style+296o
; char _SG8290[]
$SG8290		db 'FAMILY_NAME',0      ; DATA XREF: _pcf_load_font:loc_1053o
; char _SG8305[]
$SG8305		db 'AVERAGE_WIDTH',0    ; DATA XREF: _pcf_load_font+26Ao
		align 10h
; char _SG8310[]
$SG8310		db 'POINT_SIZE',0       ; DATA XREF: _pcf_load_font:loc_1179o
		align 4
; char _SG8313[]
$SG8313		db 'PIXEL_SIZE',0       ; DATA XREF: _pcf_load_font:loc_11B5o
		align 4
; char _SG8316[]
$SG8316		db 'RESOLUTION_X',0     ; DATA XREF: _pcf_load_font:loc_11DFo
		align 4
; char _SG8319[]
$SG8319		db 'RESOLUTION_Y',0     ; DATA XREF: _pcf_load_font:loc_1204o
					; .rdata:00000BB0o
		align 4
; char _SG8328[]
$SG8328		db 'CHARSET_REGISTRY',0 ; DATA XREF: _pcf_load_font+3E3o
		align 4
; char _SG8329[]
$SG8329		db 'CHARSET_ENCODING',0 ; DATA XREF: _pcf_load_font+3F7o
		align 10h
$SG8338		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_load_font+479o
		align 10h
$SG7367		db 'prop',0             ; DATA XREF: .rdata:_tableNameso
		align 4
$SG7368		db 'accl',0             ; DATA XREF: .rdata:00000B38o
		align 10h
$SG7369		db 'mtrcs',0            ; DATA XREF: .rdata:00000B3Co
		align 4
$SG7370		db 'bmps',0             ; DATA XREF: .rdata:00000B40o
		align 10h
$SG7371		db 'imtrcs',0           ; DATA XREF: .rdata:00000B44o
		align 4
$SG7372		db 'enc',0              ; DATA XREF: .rdata:00000B48o
$SG7373		db 'swidth',0           ; DATA XREF: .rdata:00000B4Co
		align 4
$SG7374		db 'names',0            ; DATA XREF: .rdata:00000B50o
		align 4
$SG7375		db 'accel',0            ; DATA XREF: .rdata:00000B54o
		align 4
$SG7424		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_read_TOC:loc_14AEo
					; .rdata:00000BA8o
		align 4
$SG7427		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_read_TOC:loc_14E7o
		align 4
$SG7431		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_read_TOC+E8o
		align 4
$SG7449		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_read_TOC:loc_16D9o
		align 4
$SG7456		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_read_TOC:loc_175Bo
		align 4
$SG7458		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_read_TOC+34Co
		align 4
$SG7463		dd offset $SG8239+3	; DATA XREF: _pcf_read_TOC:loc_17CFo
					; "_STYLE_NAME"
$SG7468		db 'pcf_read_TOC:',0Ah,0 ; DATA XREF: _pcf_read_TOC+3A3o
		align 4
$SG8496		db 'pcf_cmap_char_next: charcode 0x%x > 32bit API',0
					; DATA XREF: _pcf_cmap_char_next+EFo
		align 4
$SG7473		db '  number of tables: %ld',0Ah,0 ; DATA XREF: _pcf_read_TOC+3CFo
		align 4
$SG8587		db 'PCF driver',0Ah,0   ; DATA XREF: _PCF_Face_Init+39o
$SG7486		db '  %d: type=%s, format=0x%X, size=%ld (0x%lX), offset=%ld (0x%lX)',0Ah
					; DATA XREF: _pcf_read_TOC+4ABo
		db 0
		align 4
$SG8598		db 'PCF_Face_Init: invalid face index',0Ah,0
					; DATA XREF: _PCF_Face_Init+12Fo
		align 4
$SG8599		db 'd:\mozilla\modules\freetype2\src\pcf\pcfdrivr.c',0
					; DATA XREF: _PCF_Face_Init+148o
; char _SG8611[]
$SG8611		db '10646',0            ; DATA XREF: _PCF_Face_Init+21Do
		align 10h
; char _SG8612[]
$SG8612		db '8859',0             ; DATA XREF: _PCF_Face_Init+232o
		align 4
; char _SG8613[]
$SG8613		dd offset $SG8236+5	; DATA XREF: _PCF_Face_Init+247o
					; "DTH_NAME"
$SG8624		db '  not a PCF file',0Ah,0 ; DATA XREF: _PCF_Face_Init+2CEo
		align 10h
$SG8625		db 'd:\mozilla\modules\freetype2\src\pcf\pcfdrivr.c',0
					; DATA XREF: _PCF_Face_Init+2EBo
$SG7621		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_seek_to_table_type+63o
		align 10h
$SG7625		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_seek_to_table_type+A8o
		align 10h
$SG8655		db 'd:\mozilla\modules\freetype2\src\pcf\pcfdrivr.c',0
					; DATA XREF: _PCF_Size_Request:loc_3FBCo
$SG8680		db 'PCF_Glyph_Load: glyph index %d',0Ah,0 ; DATA XREF: _PCF_Glyph_Load+49o
$SG8682		db 'd:\mozilla\modules\freetype2\src\pcf\pcfdrivr.c',0
					; DATA XREF: _PCF_Glyph_Load+60o
$SG8686		db 'd:\mozilla\modules\freetype2\src\pcf\pcfdrivr.c',0
					; DATA XREF: _PCF_Glyph_Load+8Ao
$SG8692		db 'BIT_ORDER %d ; BYTE_ORDER %d ; GLYPH_PAD %d',0Ah,0
					; DATA XREF: _PCF_Glyph_Load+179o
		align 10h
$SG8702		db 'd:\mozilla\modules\freetype2\src\pcf\pcfdrivr.c',0
					; DATA XREF: _PCF_Glyph_Load:$LN11_0o
$SG7712		db 'pcf_get_properties:',0Ah,0 ; DATA XREF: _pcf_get_properties+9Co
		align 4
$SG8738		db 'pcf_get_bdf_property: ',0 ; DATA XREF: _pcf_get_bdf_property+73o
		align 10h
$SG7717		db '  format = %ld',0Ah,0 ; DATA XREF: _pcf_get_properties+C2o
$SG8743		db 'too large integer 0x%x is truncated',0Ah,0
					; DATA XREF: _pcf_get_bdf_property+95o
		align 4
$SG8745		db 'd:\mozilla\modules\freetype2\src\pcf\pcfdrivr.c',0
					; DATA XREF: _pcf_get_bdf_property:loc_4503o
$SG7732		db '  nprop = %d (truncate %d props)',0Ah,0
					; DATA XREF: _pcf_get_properties+14Fo
		align 4
$SG7735		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_properties+177o
		align 4
$SG8760		db 'bdf',0              ; DATA XREF: .rdata:_pcf_serviceso
$SG8761		db 'xf86-driver-name',0 ; DATA XREF: .rdata:00000C9Co
		align 4
$SG8762		db 'PCF',0              ; DATA XREF: .rdata:00000CA0o
$SG8773		db 'pcf',0              ; DATA XREF: .rdata:00000B8Co
$SG7750		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_properties+288o
		align 4
$SG7762		db '  string_size = %ld',0Ah,0 ; DATA XREF: _pcf_get_properties+30Do
		align 4
$SG7764		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_properties+32Co
		align 4
$SG7780		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_properties:loc_2039o
		align 4
$SG7788		db '  %s:',0            ; DATA XREF: _pcf_get_properties+46Co
		align 4
$SG7794		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_properties:loc_20F7o
		align 4
$SG7802		db ' `%s',27h,0Ah,0     ; DATA XREF: _pcf_get_properties+52Co
		align 4
$SG7808		db ' %d',0Ah,0          ; DATA XREF: _pcf_get_properties+572o
		align 4
$SG7836		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_metrics+99o
		align 4
$SG7852		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_metrics+15Ao
		align 4
$SG7854		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_metrics+188o
		align 4
$SG7859		db 'pcf_get_metrics:',0Ah,0 ; DATA XREF: _pcf_get_metrics+1B5o
		align 10h
$SG7864		db '  number of metrics: %d',0Ah,0 ; DATA XREF: _pcf_get_metrics+1DBo
		align 4
$SG7867		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_metrics+208o
		align 4
$SG7870		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_metrics+237o
		align 4
$SG7874		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_metrics+27Co
		align 4
$SG7926		db 'pcf_get_bitmaps:',0Ah,0 ; DATA XREF: _pcf_get_bitmaps+121o
		align 10h
$SG7882		db '  idx %d: width=%d, lsb=%d, rsb=%d, ascent=%d, descent=%d, swidth'
					; DATA XREF: _pcf_get_metrics+330o
		db '=%d',0Ah,0
		align 4
$SG7890		db 'pcf_get_metrics: invalid metrics for glyph %d',0Ah,0
					; DATA XREF: _pcf_get_metrics+3ADo
		align 4
$SG7921		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_bitmaps+F4o
		align 4
$SG7931		db '  number of bitmaps: %d',0Ah,0 ; DATA XREF: _pcf_get_bitmaps+147o
		align 4
$SG7935		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_bitmaps:loc_2836o
		align 4
$SG7952		db '  bitmap %d: offset %ld (0x%lX)',0Ah,0
					; DATA XREF: _pcf_get_bitmaps+252o
		align 4
$SG7969		db '  padding %d implies a size of %ld',0Ah,0
					; DATA XREF: _pcf_get_bitmaps+312o
$SG7974		db '  %d bitmaps, padding index %ld',0Ah,0
					; DATA XREF: _pcf_get_bitmaps+344o
		align 10h
$SG7979		db '  bitmap size = %d',0Ah,0 ; DATA XREF: _pcf_get_bitmaps+36Ao
$SG7990		db 'pcf_get_bitmaps: invalid offset to bitmap data of glyph %d',0Ah,0
					; DATA XREF: _pcf_get_bitmaps+3CAo
$SG8034		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_encodings+17Co
		align 10h
$SG8037		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_encodings:loc_2D3Ao
		align 10h
$SG8042		db 'pdf_get_encodings:',0Ah,0 ; DATA XREF: _pcf_get_encodings+1F3o
$SG8047		db '  firstCol %d, lastCol %d, firstRow %d, lastRow %d',0Ah,0
					; DATA XREF: _pcf_get_encodings+225o
$SG8051		db 'd:\mozilla\modules\freetype2\src\pcf\pcfread.c',0
					; DATA XREF: _pcf_get_encodings+271o
		align 4
$SG8070		db '  code %d (0x%04X): idx %d',0Ah,0 ; DATA XREF: _pcf_get_encodings+38Ao
_data		ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
; Segment alignment 'qword' can not be represented in assembly
_rdata		segment	para public 'DATA' use32
		assume cs:_rdata
		;org 0B34h
_tableNames	dd offset $SG7367	; DATA XREF: _pcf_read_TOC+440r
					; "prop"
		dd offset $SG7368	; "accl"
		dd offset $SG7369	; "mtrcs"
		dd offset $SG7370	; "bmps"
		dd offset $SG7371	; "imtrcs"
		dd offset $SG7372	; "enc"
		dd offset $SG7373	; "swidth"
		dd offset $SG7374	; "names"
		dd offset $SG7375	; "accel"
_pcf_toc_header	dd 80004h, 412h, 40412h, 0 ; DATA XREF:	_pcf_read_TOC+50o
_pcf_compressed_metric_header dd 50004h, 108h, 10108h, 20108h, 30108h, 40108h, 0
					; DATA XREF: _pcf_get_metric+85o
		public _pcf_driver_class
_pcf_driver_class dd offset $SG7449+2Dh	; "c"
		dd 1Ch
		dd offset $SG8773	; "pcf"
		dd 10000h, 20000h, 3 dup(0)
		dd offset _pcf_driver_requester
		dd offset $SG7424+4	; "ozilla\\modules\\freetype2\\src\\pcf\\p"...
		dd offset $SG8236	; "SETWIDTH_NAME"
		dd offset $SG8319+8	; "ON_Y"
		dd offset _PCF_Face_Init
		dd offset _PCF_Face_Done
		dd 4 dup(0)
		dd offset _PCF_Glyph_Load
		dd 3 dup(0)
		dd offset _PCF_Size_Request
		dd offset _PCF_Size_Select
_pcf_table_header dd 100004h, 412h, 40412h, 80412h, 0C0412h, 0
					; DATA XREF: _pcf_read_TOC+12Eo
_pcf_cmap_class	dd 18h			; DATA XREF: _PCF_Face_Init+2A8o
		dd offset _pcf_cmap_init
		dd offset _pcf_cmap_done
		dd offset _pcf_cmap_char_index
		dd offset _pcf_cmap_char_next
		dd 5 dup(0)
_pcf_metric_header dd 0C0004h, 20Fh, 2020Fh, 4020Fh, 6020Fh, 8020Fh, 0A020Fh
					; DATA XREF: _pcf_get_metric:loc_19EFo
		dd 0
_pcf_metric_msb_header dd 0C0004h, 20Dh, 2020Dh, 4020Dh, 6020Dh, 8020Dh, 0A020Dh
					; DATA XREF: _pcf_get_metric+52o
		dd 0
_pcf_property_header dd	90004h,	413h, 40108h, 80413h, 0
					; DATA XREF: _pcf_get_properties+233o
_pcf_property_msb_header dd 90004h, 411h, 40108h, 80411h, 0
					; DATA XREF: _pcf_get_properties+20Ao
_pcf_service_bdf dd offset _pcf_get_charset_id ; DATA XREF: .rdata:00000C98o
		dd offset _pcf_get_bdf_property
_pcf_services	dd offset $SG8760	; DATA XREF: _pcf_driver_requester+Do
					; "bdf"
		dd offset _pcf_service_bdf
		dd offset $SG8761	; "xf86-driver-name"
		dd offset $SG8762	; "PCF"
		dd 2 dup(0)
_pcf_accel_header dd 140004h, 108h, 10108h, 20108h, 30108h, 40108h, 50108h
					; DATA XREF: _pcf_get_accel+DFo
		dd 60108h, 119h, 80413h, 0C0413h, 100413h, 0
_pcf_accel_msb_header dd 140004h, 108h,	10108h,	20108h,	30108h,	40108h,	50108h
					; DATA XREF: _pcf_get_accel+BAo
		dd 60108h, 119h, 80411h, 0C0411h, 100411h, 0
_rdata		ends

; ===========================================================================

; Segment type:	Pure code
; Segment permissions: Read/Execute
_text$mn	segment	para public 'CODE' use32
		assume cs:_text$mn
		;org 0D14h
		assume es:nothing, ss:nothing, ds:_data, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_BitOrderInvert	proc near		; CODE XREF: _PCF_Glyph_Load+2CAp

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		jmp	short loc_D33
; ---------------------------------------------------------------------------

loc_D21:				; CODE XREF: _BitOrderInvert+81j
		mov	eax, [ebp+arg_4]
		sub	eax, 1
		mov	[ebp+arg_4], eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 1
		mov	[ebp+arg_0], ecx

loc_D33:				; CODE XREF: _BitOrderInvert+Bj
		cmp	[ebp+arg_4], 0
		jbe	short loc_D97
		mov	edx, [ebp+arg_0]
		movzx	eax, byte ptr [edx]
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+var_4]
		shr	ecx, 1
		and	ecx, 55h
		mov	edx, [ebp+var_4]
		shl	edx, 1
		and	edx, 0AAh
		or	ecx, edx
		mov	[ebp+var_4], ecx
		mov	eax, [ebp+var_4]
		shr	eax, 2
		and	eax, 33h
		mov	ecx, [ebp+var_4]
		shl	ecx, 2
		and	ecx, 0CCh
		or	eax, ecx
		mov	[ebp+var_4], eax
		mov	edx, [ebp+var_4]
		shr	edx, 4
		and	edx, 0Fh
		mov	eax, [ebp+var_4]
		shl	eax, 4
		and	eax, 0F0h
		or	edx, eax
		mov	[ebp+var_4], edx
		mov	ecx, [ebp+arg_0]
		mov	dl, byte ptr [ebp+var_4]
		mov	[ecx], dl
		jmp	short loc_D21
; ---------------------------------------------------------------------------

loc_D97:				; CODE XREF: _BitOrderInvert+23j
		mov	esp, ebp
		pop	ebp
		retn
_BitOrderInvert	endp

; ---------------------------------------------------------------------------
		db 9 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_TwoByteSwap	proc near		; CODE XREF: _PCF_Glyph_Load+34Ap

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		push	ecx
		push	esi
		mov	[ebp+var_4], 0CCCCCCCCh
		jmp	short loc_DC4
; ---------------------------------------------------------------------------

loc_DB2:				; CODE XREF: _TwoByteSwap+64j
		mov	eax, [ebp+arg_4]
		sub	eax, 2
		mov	[ebp+arg_4], eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 2
		mov	[ebp+arg_0], ecx

loc_DC4:				; CODE XREF: _TwoByteSwap+Cj
		cmp	[ebp+arg_4], 2
		jb	short loc_E0A
		mov	edx, 1
		imul	eax, edx, 0
		mov	ecx, [ebp+arg_0]
		mov	dl, [ecx+eax]
		mov	byte ptr [ebp+var_4+3],	dl
		mov	eax, 1
		shl	eax, 0
		mov	ecx, 1
		imul	edx, ecx, 0
		mov	ecx, [ebp+arg_0]
		mov	esi, [ebp+arg_0]
		mov	al, [esi+eax]
		mov	[ecx+edx], al
		mov	ecx, 1
		shl	ecx, 0
		mov	edx, [ebp+arg_0]
		mov	al, byte ptr [ebp+var_4+3]
		mov	[edx+ecx], al
		jmp	short loc_DB2
; ---------------------------------------------------------------------------

loc_E0A:				; CODE XREF: _TwoByteSwap+24j
		pop	esi
		mov	esp, ebp
		pop	ebp
		retn
_TwoByteSwap	endp

; ---------------------------------------------------------------------------
		db 5 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_FourByteSwap	proc near		; CODE XREF: _PCF_Glyph_Load+35Fp

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		push	ecx
		push	esi
		mov	[ebp+var_4], 0CCCCCCCCh
		jmp	short loc_E34
; ---------------------------------------------------------------------------

loc_E22:				; CODE XREF: _FourByteSwap+A0j
		mov	eax, [ebp+arg_4]
		sub	eax, 4
		mov	[ebp+arg_4], eax
		mov	ecx, [ebp+arg_0]
		add	ecx, 4
		mov	[ebp+arg_0], ecx

loc_E34:				; CODE XREF: _FourByteSwap+Cj
		cmp	[ebp+arg_4], 4
		jb	short loc_EB9
		mov	edx, 1
		imul	eax, edx, 0
		mov	ecx, [ebp+arg_0]
		mov	dl, [ecx+eax]
		mov	byte ptr [ebp+var_4+3],	dl
		mov	eax, 1
		imul	ecx, eax, 3
		mov	edx, 1
		imul	eax, edx, 0
		mov	edx, [ebp+arg_0]
		mov	esi, [ebp+arg_0]
		mov	cl, [esi+ecx]
		mov	[edx+eax], cl
		mov	edx, 1
		imul	eax, edx, 3
		mov	ecx, [ebp+arg_0]
		mov	dl, byte ptr [ebp+var_4+3]
		mov	[ecx+eax], dl
		mov	eax, 1
		shl	eax, 0
		mov	ecx, [ebp+arg_0]
		mov	dl, [ecx+eax]
		mov	byte ptr [ebp+var_4+3],	dl
		mov	eax, 1
		shl	eax, 1
		mov	ecx, 1
		shl	ecx, 0
		mov	edx, [ebp+arg_0]
		mov	esi, [ebp+arg_0]
		mov	al, [esi+eax]
		mov	[edx+ecx], al
		mov	ecx, 1
		shl	ecx, 1
		mov	edx, [ebp+arg_0]
		mov	al, byte ptr [ebp+var_4+3]
		mov	[edx+ecx], al
		jmp	loc_E22
; ---------------------------------------------------------------------------

loc_EB9:				; CODE XREF: _FourByteSwap+24j
		pop	esi
		mov	esp, ebp
		pop	ebp
		retn
_FourByteSwap	endp

; ---------------------------------------------------------------------------
		db 6 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_load_font	proc near		; CODE XREF: _PCF_Face_Init+52p
					; _PCF_Face_Init+113p

var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= word ptr -28h
var_24		= word ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_11		= byte ptr -11h
var_10		= dword	ptr -10h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 30h
		push	esi
		push	edi
		lea	edi, [ebp+var_30]
		mov	ecx, 0Ch
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+64h]
		mov	[ebp+var_10], ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_pcf_read_TOC
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_F02
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_F02:				; CODE XREF: _pcf_load_font+37j
		mov	ecx, [ebp+arg_4]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_get_properties
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_F20
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_F20:				; CODE XREF: _pcf_load_font+55j
		push	100h
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0BCh]
		push	ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+0C0h]
		push	eax
		call	_pcf_has_table_type
		add	esp, 0Ch
		mov	[ebp+var_11], al
		movzx	ecx, [ebp+var_11]
		test	ecx, ecx
		jnz	short loc_F6C
		push	2
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_pcf_get_accel
		add	esp, 0Ch
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_F6C
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_F6C:				; CODE XREF: _pcf_load_font+86j
					; _pcf_load_font+A1j
		mov	ecx, [ebp+arg_4]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_get_metrics
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_F8A
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_F8A:				; CODE XREF: _pcf_load_font+BFj
		mov	eax, [ebp+arg_4]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_pcf_get_bitmaps
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_FA8
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_FA8:				; CODE XREF: _pcf_load_font+DDj
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_pcf_get_encodings
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_FC6
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_FC6:				; CODE XREF: _pcf_load_font+FBj
		movzx	ecx, [ebp+var_11]
		test	ecx, ecx
		jz	short loc_FF1
		push	100h
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_pcf_get_accel
		add	esp, 0Ch
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_FF1
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_FF1:				; CODE XREF: _pcf_load_font+108j
					; _pcf_load_font+126j
		mov	ecx, [ebp+arg_4]
		mov	[ebp+var_18], ecx
		mov	edx, [ebp+var_18]
		mov	dword ptr [edx], 1
		mov	eax, [ebp+var_18]
		mov	dword ptr [eax+4], 0
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+8]
		or	edx, 92h
		mov	eax, [ebp+var_18]
		mov	[eax+8], edx
		mov	ecx, [ebp+arg_4]
		movzx	edx, byte ptr [ecx+0C7h]
		test	edx, edx
		jz	short loc_1039
		mov	eax, [ebp+var_18]
		mov	ecx, [eax+8]
		or	ecx, 4
		mov	edx, [ebp+var_18]
		mov	[edx+8], ecx

loc_1039:				; CODE XREF: _pcf_load_font+164j
		mov	eax, [ebp+arg_4]
		push	eax
		call	_pcf_interpret_style
		add	esp, 4
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_1053
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_1053:				; CODE XREF: _pcf_load_font+188j
		push	offset $SG8290	; "FAMILY_NAME"
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_10A2
		mov	edx, [ebp+var_1C]
		movzx	eax, byte ptr [edx+4]
		test	eax, eax
		jz	short loc_10A2
		lea	ecx, [ebp+var_8]
		push	ecx
		mov	edx, [ebp+var_1C]
		mov	eax, [edx+8]
		push	eax
		mov	ecx, [ebp+var_10]
		push	ecx
		call	_ft_mem_strdup
		add	esp, 0Ch
		mov	edx, [ebp+var_18]
		mov	[edx+14h], eax
		cmp	[ebp+var_8], 0
		jz	short loc_10A0
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_10A0:				; CODE XREF: _pcf_load_font+1D5j
		jmp	short loc_10AC
; ---------------------------------------------------------------------------

loc_10A2:				; CODE XREF: _pcf_load_font+1A7j
					; _pcf_load_font+1B2j
		mov	eax, [ebp+var_18]
		mov	dword ptr [eax+14h], 0

loc_10AC:				; CODE XREF: _pcf_load_font:loc_10A0j
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+120h]
		add	edx, 1
		mov	eax, [ebp+var_18]
		mov	[eax+10h], edx
		mov	ecx, [ebp+var_18]
		mov	dword ptr [ecx+1Ch], 1
		lea	edx, [ebp+var_8]
		push	edx
		push	0
		push	1
		push	0
		push	10h
		mov	eax, [ebp+var_10]
		push	eax
		call	_ft_mem_realloc
		add	esp, 18h
		mov	ecx, [ebp+var_18]
		mov	[ecx+20h], eax
		cmp	[ebp+var_8], 0
		jz	short loc_10F1
		jmp	$Exit$35
; ---------------------------------------------------------------------------

loc_10F1:				; CODE XREF: _pcf_load_font+226j
		mov	edx, [ebp+var_18]
		mov	eax, [edx+20h]
		mov	[ebp+var_20], eax
		xor	ecx, ecx
		mov	[ebp+var_24], cx
		xor	edx, edx
		mov	[ebp+var_28], dx
		push	10h		; size_t
		push	0		; int
		mov	eax, [ebp+var_20]
		push	eax		; void *
		call	_memset
		add	esp, 0Ch
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+0CCh]
		mov	eax, [ebp+arg_4]
		add	edx, [eax+0D0h]
		mov	ecx, [ebp+var_20]
		mov	[ecx], dx
		push	offset $SG8305	; "AVERAGE_WIDTH"
		mov	edx, [ebp+arg_4]
		push	edx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_1162
		mov	eax, [ebp+var_1C]
		mov	eax, [eax+8]
		add	eax, 5
		cdq
		mov	ecx, 0Ah
		idiv	ecx
		mov	edx, [ebp+var_20]
		mov	[edx+2], ax
		jmp	short loc_1179
; ---------------------------------------------------------------------------

loc_1162:				; CODE XREF: _pcf_load_font+282j
		mov	eax, [ebp+var_20]
		movsx	eax, word ptr [eax]
		shl	eax, 1
		cdq
		mov	ecx, 3
		idiv	ecx
		mov	edx, [ebp+var_20]
		mov	[edx+2], ax

loc_1179:				; CODE XREF: _pcf_load_font+29Cj
		push	offset $SG8310	; "POINT_SIZE"
		mov	eax, [ebp+arg_4]
		push	eax		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_11B5
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		shl	edx, 6
		imul	eax, edx, 1C20h
		add	eax, 8D27h
		cdq
		mov	ecx, 11A4Eh
		idiv	ecx
		mov	edx, [ebp+var_20]
		mov	[edx+4], eax

loc_11B5:				; CODE XREF: _pcf_load_font+2CDj
		push	offset $SG8313	; "PIXEL_SIZE"
		mov	eax, [ebp+arg_4]
		push	eax		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_11DF
		mov	ecx, [ebp+var_1C]
		movsx	edx, word ptr [ecx+8]
		shl	edx, 6
		mov	eax, [ebp+var_20]
		mov	[eax+0Ch], edx

loc_11DF:				; CODE XREF: _pcf_load_font+309j
		push	offset $SG8316	; "RESOLUTION_X"
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_1204
		mov	edx, [ebp+var_1C]
		mov	ax, [edx+8]
		mov	[ebp+var_24], ax

loc_1204:				; CODE XREF: _pcf_load_font+333j
		push	offset $SG8319	; "RESOLUTION_Y"
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_1229
		mov	edx, [ebp+var_1C]
		mov	ax, [edx+8]
		mov	[ebp+var_28], ax

loc_1229:				; CODE XREF: _pcf_load_font+358j
		mov	ecx, [ebp+var_20]
		cmp	dword ptr [ecx+0Ch], 0
		jnz	short loc_125F
		mov	edx, [ebp+var_20]
		mov	eax, [ebp+var_20]
		mov	ecx, [eax+4]
		mov	[edx+0Ch], ecx
		movsx	edx, [ebp+var_28]
		test	edx, edx
		jz	short loc_125F
		movsx	eax, [ebp+var_28]
		mov	ecx, [ebp+var_20]
		imul	eax, [ecx+0Ch]
		cdq
		mov	ecx, 48h ; 'H'
		idiv	ecx
		mov	edx, [ebp+var_20]
		mov	[edx+0Ch], eax

loc_125F:				; CODE XREF: _pcf_load_font+36Cj
					; _pcf_load_font+380j
		movsx	eax, [ebp+var_24]
		test	eax, eax
		jz	short loc_128D
		movsx	ecx, [ebp+var_28]
		test	ecx, ecx
		jz	short loc_128D
		movsx	edx, [ebp+var_24]
		mov	eax, [ebp+var_20]
		mov	ecx, edx
		imul	ecx, [eax+0Ch]
		movsx	esi, [ebp+var_28]
		mov	eax, ecx
		cdq
		idiv	esi
		mov	edx, [ebp+var_20]
		mov	[edx+8], eax
		jmp	short loc_1299
; ---------------------------------------------------------------------------

loc_128D:				; CODE XREF: _pcf_load_font+3A1j
					; _pcf_load_font+3A9j
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+var_20]
		mov	edx, [ecx+0Ch]
		mov	[eax+8], edx

loc_1299:				; CODE XREF: _pcf_load_font+3C7j
		mov	[ebp+var_2C], 0
		mov	[ebp+var_30], 0
		push	offset $SG8328	; "CHARSET_REGISTRY"
		mov	eax, [ebp+arg_4]
		push	eax		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_2C], eax
		push	offset $SG8329	; "CHARSET_ENCODING"
		mov	ecx, [ebp+arg_4]
		push	ecx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_30], eax
		cmp	[ebp+var_2C], 0
		jz	short $Exit$35
		mov	edx, [ebp+var_2C]
		movzx	eax, byte ptr [edx+4]
		test	eax, eax
		jz	short $Exit$35
		cmp	[ebp+var_30], 0
		jz	short $Exit$35
		mov	ecx, [ebp+var_30]
		movzx	edx, byte ptr [ecx+4]
		test	edx, edx
		jz	short $Exit$35
		lea	eax, [ebp+var_8]
		push	eax
		mov	ecx, [ebp+var_30]
		mov	edx, [ecx+8]
		push	edx
		mov	eax, [ebp+var_10]
		push	eax
		call	_ft_mem_strdup
		add	esp, 0Ch
		mov	ecx, [ebp+arg_4]
		mov	[ecx+0B0h], eax
		cmp	[ebp+var_8], 0
		jnz	short $Exit$35
		lea	edx, [ebp+var_8]
		push	edx
		mov	eax, [ebp+var_2C]
		mov	ecx, [eax+8]
		push	ecx
		mov	edx, [ebp+var_10]
		push	edx
		call	_ft_mem_strdup
		add	esp, 0Ch
		mov	ecx, [ebp+arg_4]
		mov	[ecx+0B4h], eax

$Exit$35:				; CODE XREF: _pcf_load_font+39j
					; _pcf_load_font+57j ...
		cmp	[ebp+var_8], 0
		jz	short loc_1357
		push	offset $SG8338	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	53Bh
		push	3
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 3
		mov	[ebp+var_8], eax

loc_1357:				; CODE XREF: _pcf_load_font+477j
		mov	eax, [ebp+var_8]
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN34
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		add	esp, 30h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_load_font	endp

; ---------------------------------------------------------------------------
		align 4
$LN34		dd 1			; DATA XREF: _pcf_load_font+49Ao
		dd offset $LN33
$LN33		dd 0FFFFFFF8h, 4	; DATA XREF: .text$mn:00001380o
		dd offset $LN32		; "error"
$LN32		db 'error',0            ; DATA XREF: .text$mn:0000138Co
		db 0Eh dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl pcf_find_property(int, char *)
_pcf_find_property proc	near		; CODE XREF: _pcf_load_font+198p
					; _pcf_load_font+273p ...

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 0Ch
		mov	[ebp+var_C], 0CCCCCCCCh
		mov	[ebp+var_8], 0CCCCCCCCh
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+11Ch]
		mov	[ebp+var_4], ecx
		mov	byte ptr [ebp+var_8+3],	0
		mov	[ebp+var_C], 0
		jmp	short loc_13E1
; ---------------------------------------------------------------------------

loc_13D8:				; CODE XREF: _pcf_find_property:loc_1416j
		mov	edx, [ebp+var_C]
		add	edx, 1
		mov	[ebp+var_C], edx

loc_13E1:				; CODE XREF: _pcf_find_property+32j
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_C]
		cmp	ecx, [eax+118h]
		jge	short loc_1418
		movzx	edx, byte ptr [ebp+var_8+3]
		test	edx, edx
		jnz	short loc_1418
		mov	eax, [ebp+arg_4]
		push	eax		; char *
		imul	ecx, [ebp+var_C], 0Ch
		mov	edx, [ebp+var_4]
		mov	eax, [edx+ecx]
		push	eax		; char *
		call	_strcmp
		add	esp, 8
		test	eax, eax
		jnz	short loc_1416
		mov	byte ptr [ebp+var_8+3],	1

loc_1416:				; CODE XREF: _pcf_find_property+6Cj
		jmp	short loc_13D8
; ---------------------------------------------------------------------------

loc_1418:				; CODE XREF: _pcf_find_property+49j
					; _pcf_find_property+51j
		movzx	ecx, byte ptr [ebp+var_8+3]
		test	ecx, ecx
		jz	short loc_142F
		imul	edx, [ebp+var_C], 0Ch
		mov	eax, [ebp+var_4]
		lea	eax, [eax+edx-0Ch]
		jmp	short loc_1431
; ---------------------------------------------------------------------------
		jmp	short loc_1431
; ---------------------------------------------------------------------------

loc_142F:				; CODE XREF: _pcf_find_property+7Aj
		xor	eax, eax

loc_1431:				; CODE XREF: _pcf_find_property+87j
					; _pcf_find_property+89j
		add	esp, 0Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_find_property endp

; ---------------------------------------------------------------------------
		db 5 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_read_TOC	proc near		; CODE XREF: _pcf_load_font+28p

var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_C		= dword	ptr -0Ch
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 50h
		push	esi
		push	edi
		lea	edi, [ebp+var_50]
		mov	ecx, 14h
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_4]
		add	eax, 0B8h ; '¸'
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+64h]
		mov	[ebp+var_1C], edx
		push	0
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_Seek
		add	esp, 8
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jnz	short loc_14AE
		mov	ecx, [ebp+var_14]
		push	ecx
		push	offset _pcf_toc_header
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_ReadFields
		add	esp, 0Ch
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jz	short loc_14C7

loc_14AE:				; CODE XREF: _pcf_read_TOC+4Aj
		push	offset $SG7424	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	67h ; 'g'
		push	1
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 1
		jmp	loc_1933
; ---------------------------------------------------------------------------

loc_14C7:				; CODE XREF: _pcf_read_TOC+68j
		mov	eax, [ebp+var_14]
		cmp	dword ptr [eax], 70636601h
		jnz	short loc_14E7
		mov	ecx, [ebp+var_14]
		cmp	dword ptr [ecx+4], 7FFFFFFh
		ja	short loc_14E7
		mov	edx, [ebp+var_14]
		cmp	dword ptr [edx+4], 0
		jnz	short loc_1500

loc_14E7:				; CODE XREF: _pcf_read_TOC+8Cj
					; _pcf_read_TOC+98j
		push	offset $SG7427	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	6Ch ; 'l'
		push	3
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 3
		jmp	loc_1933
; ---------------------------------------------------------------------------

loc_1500:				; CODE XREF: _pcf_read_TOC+A1j
		lea	eax, [ebp+var_C]
		push	eax
		push	0
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+4]
		push	edx
		push	0
		push	10h
		mov	eax, [ebp+var_1C]
		push	eax
		call	_ft_mem_realloc
		add	esp, 18h
		mov	ecx, [ebp+arg_4]
		mov	[ecx+0C0h], eax
		cmp	[ebp+var_C], 0
		jz	short loc_1545
		push	offset $SG7431	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	6Fh ; 'o'
		push	40h ; '@'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 40h
		jmp	loc_1933
; ---------------------------------------------------------------------------

loc_1545:				; CODE XREF: _pcf_read_TOC+E6j
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+0C0h]
		mov	[ebp+var_18], eax
		mov	[ebp+var_20], 0
		jmp	short loc_1563
; ---------------------------------------------------------------------------

loc_155A:				; CODE XREF: _pcf_read_TOC+156j
		mov	ecx, [ebp+var_20]
		add	ecx, 1
		mov	[ebp+var_20], ecx

loc_1563:				; CODE XREF: _pcf_read_TOC+114j
		mov	edx, [ebp+var_14]
		mov	eax, [ebp+var_20]
		cmp	eax, [edx+4]
		jnb	short loc_159C
		mov	ecx, [ebp+var_18]
		push	ecx
		push	offset _pcf_table_header
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_ReadFields
		add	esp, 0Ch
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jz	short loc_1591
		jmp	$Exit$55
; ---------------------------------------------------------------------------

loc_1591:				; CODE XREF: _pcf_read_TOC+146j
		mov	eax, [ebp+var_18]
		add	eax, 10h
		mov	[ebp+var_18], eax
		jmp	short loc_155A
; ---------------------------------------------------------------------------

loc_159C:				; CODE XREF: _pcf_read_TOC+128j
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+0C0h]
		mov	[ebp+var_18], edx
		mov	[ebp+var_20], 0
		jmp	short loc_15BA
; ---------------------------------------------------------------------------

loc_15B1:				; CODE XREF: _pcf_read_TOC:loc_1705j
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax

loc_15BA:				; CODE XREF: _pcf_read_TOC+16Bj
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+4]
		sub	edx, 1
		cmp	[ebp+var_20], edx
		jnb	loc_170A
		mov	[ebp+var_2C], 0
		mov	[ebp+var_28], 0
		jmp	short loc_15E5
; ---------------------------------------------------------------------------

loc_15DC:				; CODE XREF: _pcf_read_TOC:loc_16F8j
		mov	eax, [ebp+var_28]
		add	eax, 1
		mov	[ebp+var_28], eax

loc_15E5:				; CODE XREF: _pcf_read_TOC+196j
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+4]
		sub	edx, 1
		sub	edx, [ebp+var_20]
		cmp	[ebp+var_28], edx
		jnb	loc_16FD
		mov	eax, [ebp+var_28]
		shl	eax, 4
		mov	ecx, [ebp+var_28]
		add	ecx, 1
		shl	ecx, 4
		mov	edx, [ebp+var_18]
		mov	esi, [ebp+var_18]
		mov	eax, [edx+eax+0Ch]
		cmp	eax, [esi+ecx+0Ch]
		jbe	short loc_168E
		mov	ecx, [ebp+var_28]
		shl	ecx, 4
		add	ecx, [ebp+var_18]
		mov	edx, [ecx]
		mov	[ebp+var_40], edx
		mov	eax, [ecx+4]
		mov	[ebp+var_3C], eax
		mov	edx, [ecx+8]
		mov	[ebp+var_38], edx
		mov	eax, [ecx+0Ch]
		mov	[ebp+var_34], eax
		mov	ecx, [ebp+var_28]
		add	ecx, 1
		shl	ecx, 4
		add	ecx, [ebp+var_18]
		mov	edx, [ebp+var_28]
		shl	edx, 4
		add	edx, [ebp+var_18]
		mov	eax, [ecx]
		mov	[edx], eax
		mov	eax, [ecx+4]
		mov	[edx+4], eax
		mov	eax, [ecx+8]
		mov	[edx+8], eax
		mov	ecx, [ecx+0Ch]
		mov	[edx+0Ch], ecx
		mov	edx, [ebp+var_28]
		add	edx, 1
		shl	edx, 4
		add	edx, [ebp+var_18]
		mov	eax, [ebp+var_40]
		mov	[edx], eax
		mov	ecx, [ebp+var_3C]
		mov	[edx+4], ecx
		mov	eax, [ebp+var_38]
		mov	[edx+8], eax
		mov	ecx, [ebp+var_34]
		mov	[edx+0Ch], ecx
		mov	[ebp+var_2C], 1

loc_168E:				; CODE XREF: _pcf_read_TOC+1D3j
		mov	edx, [ebp+var_28]
		shl	edx, 4
		mov	eax, [ebp+var_28]
		add	eax, 1
		shl	eax, 4
		mov	ecx, [ebp+var_18]
		mov	esi, [ebp+var_18]
		mov	edx, [ecx+edx+8]
		cmp	edx, [esi+eax+0Ch]
		ja	short loc_16D9
		mov	eax, [ebp+var_28]
		shl	eax, 4
		mov	ecx, [ebp+var_28]
		add	ecx, 1
		shl	ecx, 4
		mov	edx, [ebp+var_28]
		shl	edx, 4
		mov	esi, [ebp+var_18]
		mov	edi, [ebp+var_18]
		mov	ecx, [esi+ecx+0Ch]
		sub	ecx, [edi+edx+8]
		mov	edx, [ebp+var_18]
		cmp	[edx+eax+0Ch], ecx
		jbe	short loc_16F8

loc_16D9:				; CODE XREF: _pcf_read_TOC+267j
		push	offset $SG7449	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	96h ; '–'
		push	9
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 9
		mov	[ebp+var_C], eax
		jmp	$Exit$55
; ---------------------------------------------------------------------------

loc_16F8:				; CODE XREF: _pcf_read_TOC+293j
		jmp	loc_15DC
; ---------------------------------------------------------------------------

loc_16FD:				; CODE XREF: _pcf_read_TOC+1B0j
		cmp	[ebp+var_2C], 0
		jnz	short loc_1705
		jmp	short loc_170A
; ---------------------------------------------------------------------------

loc_1705:				; CODE XREF: _pcf_read_TOC+2BDj
		jmp	loc_15B1
; ---------------------------------------------------------------------------

loc_170A:				; CODE XREF: _pcf_read_TOC+182j
					; _pcf_read_TOC+2BFj
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0C0h]
		mov	[ebp+var_18], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+4]
		mov	[ebp+var_24], eax
		mov	[ebp+var_20], 0
		jmp	short loc_1731
; ---------------------------------------------------------------------------

loc_1728:				; CODE XREF: _pcf_read_TOC+33Fj
		mov	ecx, [ebp+var_20]
		add	ecx, 1
		mov	[ebp+var_20], ecx

loc_1731:				; CODE XREF: _pcf_read_TOC+2E2j
		mov	edx, [ebp+var_14]
		mov	eax, [edx+4]
		sub	eax, 1
		cmp	[ebp+var_20], eax
		jnb	short loc_1785
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+8]
		cmp	edx, [ebp+var_24]
		ja	short loc_175B
		mov	eax, [ebp+var_18]
		mov	ecx, [ebp+var_24]
		sub	ecx, [eax+8]
		mov	edx, [ebp+var_18]
		cmp	[edx+0Ch], ecx
		jbe	short loc_177A

loc_175B:				; CODE XREF: _pcf_read_TOC+304j
		push	offset $SG7456	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	0BDh ; '½'
		push	8
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 8
		mov	[ebp+var_C], eax
		jmp	$Exit$55
; ---------------------------------------------------------------------------

loc_177A:				; CODE XREF: _pcf_read_TOC+315j
		mov	eax, [ebp+var_18]
		add	eax, 10h
		mov	[ebp+var_18], eax
		jmp	short loc_1728
; ---------------------------------------------------------------------------

loc_1785:				; CODE XREF: _pcf_read_TOC+2F9j
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+0Ch]
		cmp	edx, [ebp+var_24]
		jbe	short loc_17AF
		push	offset $SG7458	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	0C6h ; 'Æ'
		push	8
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 8
		mov	[ebp+var_C], eax
		jmp	$Exit$55
; ---------------------------------------------------------------------------

loc_17AF:				; CODE XREF: _pcf_read_TOC+34Aj
		mov	eax, [ebp+var_18]
		mov	ecx, [ebp+var_24]
		sub	ecx, [eax+0Ch]
		mov	edx, [ebp+var_18]
		cmp	[edx+8], ecx
		jbe	short loc_17CF
		mov	eax, [ebp+var_18]
		mov	ecx, [ebp+var_24]
		sub	ecx, [eax+0Ch]
		mov	edx, [ebp+var_18]
		mov	[edx+8], ecx

loc_17CF:				; CODE XREF: _pcf_read_TOC+37Aj
		mov	[ebp+var_50], offset $SG7463

loc_17D6:				; CODE XREF: _pcf_read_TOC+3B2j
		mov	eax, 4
		imul	ecx, eax, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 4
		jl	short loc_17F4
		push	offset $SG7468	; "pcf_read_TOC:\n"
		call	_FT_Message
		add	esp, 4

loc_17F4:				; CODE XREF: _pcf_read_TOC+3A1j
		xor	edx, edx
		jnz	short loc_17D6

loc_17F8:				; CODE XREF: _pcf_read_TOC+3DEj
		mov	eax, 4
		imul	ecx, eax, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 4
		jl	short loc_1820
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+0BCh]
		push	eax
		push	offset $SG7473	; "  number of tables: %ld\n"
		call	_FT_Message
		add	esp, 8

loc_1820:				; CODE XREF: _pcf_read_TOC+3C3j
		xor	ecx, ecx
		jnz	short loc_17F8
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+0C0h]
		mov	[ebp+var_18], eax
		mov	[ebp+var_48], 0
		jmp	short loc_1842
; ---------------------------------------------------------------------------

loc_1839:				; CODE XREF: _pcf_read_TOC+4BCj
		mov	ecx, [ebp+var_48]
		add	ecx, 1
		mov	[ebp+var_48], ecx

loc_1842:				; CODE XREF: _pcf_read_TOC+3F3j
		mov	edx, [ebp+var_14]
		mov	eax, [ebp+var_48]
		cmp	eax, [edx+4]
		jnb	loc_1905
		mov	[ebp+var_4C], 0
		jmp	short loc_1863
; ---------------------------------------------------------------------------

loc_185A:				; CODE XREF: _pcf_read_TOC:loc_188Ej
		mov	ecx, [ebp+var_4C]
		add	ecx, 1
		mov	[ebp+var_4C], ecx

loc_1863:				; CODE XREF: _pcf_read_TOC+414j
		cmp	[ebp+var_4C], 9
		jnb	short loc_1890
		mov	edx, [ebp+var_48]
		shl	edx, 4
		mov	eax, 1
		mov	ecx, [ebp+var_4C]
		shl	eax, cl
		mov	ecx, [ebp+var_18]
		cmp	[ecx+edx], eax
		jnz	short loc_188E
		mov	edx, [ebp+var_4C]
		mov	eax, ds:_tableNames[edx*4]
		mov	[ebp+var_50], eax

loc_188E:				; CODE XREF: _pcf_read_TOC+43Bj
		jmp	short loc_185A
; ---------------------------------------------------------------------------

loc_1890:				; CODE XREF: _pcf_read_TOC+423j
					; _pcf_read_TOC+4BAj
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_18FC
		mov	eax, [ebp+var_48]
		shl	eax, 4
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+eax+0Ch]
		push	edx
		mov	eax, [ebp+var_48]
		shl	eax, 4
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+eax+0Ch]
		push	edx
		mov	eax, [ebp+var_48]
		shl	eax, 4
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+eax+8]
		push	edx
		mov	eax, [ebp+var_48]
		shl	eax, 4
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+eax+8]
		push	edx
		mov	eax, [ebp+var_48]
		shl	eax, 4
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+eax+4]
		push	edx
		mov	eax, [ebp+var_50]
		push	eax
		mov	ecx, [ebp+var_48]
		push	ecx
		push	offset $SG7486	; "  %d: type=%s, format=0x%X, size=%ld	(0"...
		call	_FT_Message
		add	esp, 20h

loc_18FC:				; CODE XREF: _pcf_read_TOC+45Bj
		xor	edx, edx
		jnz	short loc_1890
		jmp	loc_1839
; ---------------------------------------------------------------------------

loc_1905:				; CODE XREF: _pcf_read_TOC+407j
		xor	eax, eax
		jmp	short loc_1933
; ---------------------------------------------------------------------------

$Exit$55:				; CODE XREF: _pcf_read_TOC+148j
					; _pcf_read_TOC+2AFj ...
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0C0h]
		push	ecx
		mov	edx, [ebp+var_1C]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax+0C0h], 0
		xor	ecx, ecx
		jnz	short $Exit$55
		mov	eax, [ebp+var_C]

loc_1933:				; CODE XREF: _pcf_read_TOC+7Ej
					; _pcf_read_TOC+B7j ...
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN54
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4
		add	esp, 50h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_read_TOC	endp

; ---------------------------------------------------------------------------
		align 10h
$LN54		dd 2			; DATA XREF: _pcf_read_TOC+4F3o
		dd offset $LN53
$LN53		dd 0FFFFFFF4h, 4	; DATA XREF: .text$mn:00001964o
		dd offset $LN51		; "error"
		dd 0FFFFFFC0h, 10h
		dd offset $LN52
$LN52		dd 706D74h		; DATA XREF: .text$mn:0000197Co
$LN51		db 'error',0            ; DATA XREF: .text$mn:00001970o
		db 0Ah dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_get_metric	proc near		; CODE XREF: _pcf_get_metrics+2D7p
					; _pcf_get_accel+113p ...

var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 20h
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_20], eax
		mov	[ebp+var_1C], eax
		mov	[ebp+var_18], eax
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	[ebp+var_4], 0
		mov	eax, [ebp+arg_4]
		and	eax, 0FFFFFF00h
		jnz	short loc_1A15
		mov	ecx, [ebp+arg_4]
		and	ecx, 4
		jz	short loc_19D9
		mov	[ebp+var_1C], 1
		jmp	short loc_19E0
; ---------------------------------------------------------------------------

loc_19D9:				; CODE XREF: _pcf_get_metric+3Aj
		mov	[ebp+var_1C], 0

loc_19E0:				; CODE XREF: _pcf_get_metric+43j
		cmp	[ebp+var_1C], 1
		jnz	short loc_19EF
		mov	[ebp+var_20], offset _pcf_metric_msb_header
		jmp	short loc_19F6
; ---------------------------------------------------------------------------

loc_19EF:				; CODE XREF: _pcf_get_metric+50j
		mov	[ebp+var_20], offset _pcf_metric_header

loc_19F6:				; CODE XREF: _pcf_get_metric+59j
		mov	edx, [ebp+var_20]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_ReadFields
		add	esp, 0Ch
		mov	[ebp+var_4], eax
		jmp	short $Exit$13
; ---------------------------------------------------------------------------

loc_1A15:				; CODE XREF: _pcf_get_metric+32j
		lea	eax, [ebp+var_14]
		push	eax
		push	offset _pcf_compressed_metric_header
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_ReadFields
		add	esp, 0Ch
		mov	[ebp+var_4], eax
		cmp	[ebp+var_4], 0
		jz	short loc_1A35
		jmp	short $Exit$13
; ---------------------------------------------------------------------------

loc_1A35:				; CODE XREF: _pcf_get_metric+9Dj
		movzx	edx, byte ptr [ebp+var_14]
		sub	edx, 80h ; '€'
		mov	eax, [ebp+arg_8]
		mov	[eax], dx
		movzx	ecx, byte ptr [ebp+var_14+1]
		sub	ecx, 80h ; '€'
		mov	edx, [ebp+arg_8]
		mov	[edx+2], cx
		movzx	eax, byte ptr [ebp+var_14+2]
		sub	eax, 80h ; '€'
		mov	ecx, [ebp+arg_8]
		mov	[ecx+4], ax
		movzx	edx, byte ptr [ebp+var_14+3]
		sub	edx, 80h ; '€'
		mov	eax, [ebp+arg_8]
		mov	[eax+6], dx
		movzx	ecx, byte ptr [ebp+var_10]
		sub	ecx, 80h ; '€'
		mov	edx, [ebp+arg_8]
		mov	[edx+8], cx
		xor	eax, eax
		mov	ecx, [ebp+arg_8]
		mov	[ecx+0Ah], ax

$Exit$13:				; CODE XREF: _pcf_get_metric+7Fj
					; _pcf_get_metric+9Fj
		mov	eax, [ebp+var_4]
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN12
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		add	esp, 20h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_get_metric	endp

; ---------------------------------------------------------------------------
		align 4
$LN12		dd 1			; DATA XREF: _pcf_get_metric+104o
		dd offset $LN11
$LN11		dd 0FFFFFFECh, 5	; DATA XREF: .text$mn:00001AB8o
		dd offset $LN10		; "compr"
$LN10		db 'compr',0            ; DATA XREF: .text$mn:00001AC4o
		db 6 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_seek_to_table_type	proc near	; CODE XREF: _pcf_get_properties+57p
					; _pcf_get_metrics+48p	...

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h
arg_14		= dword	ptr  1Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 8
		mov	[ebp+var_8], 0CCCCCCCCh
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	[ebp+var_4], 3
		mov	[ebp+var_8], 0
		jmp	short loc_1B01
; ---------------------------------------------------------------------------

loc_1AF8:				; CODE XREF: _pcf_seek_to_table_type:loc_1BC0j
		mov	eax, [ebp+var_8]
		add	eax, 1
		mov	[ebp+var_8], eax

loc_1B01:				; CODE XREF: _pcf_seek_to_table_type+22j
		mov	ecx, [ebp+var_8]
		cmp	ecx, [ebp+arg_8]
		jnb	$Fail$9
		mov	edx, [ebp+var_8]
		shl	edx, 4
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+edx]
		cmp	ecx, [ebp+arg_C]
		jnz	loc_1BC0
		mov	edx, [ebp+var_8]
		shl	edx, 4
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+arg_4]
		mov	eax, [eax+8]
		cmp	eax, [ecx+edx+0Ch]
		jbe	short loc_1B53
		push	offset $SG7621	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	165h
		push	53h ; 'S'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 53h
		mov	[ebp+var_4], eax
		jmp	short $Fail$9
; ---------------------------------------------------------------------------

loc_1B53:				; CODE XREF: _pcf_seek_to_table_type+61j
		mov	ecx, [ebp+var_8]
		shl	ecx, 4
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+arg_0]
		mov	ecx, [edx+ecx+0Ch]
		sub	ecx, [eax+8]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_Skip
		add	esp, 8
		mov	[ebp+var_4], eax
		cmp	[ebp+var_4], 0
		jz	short loc_1B98
		push	offset $SG7625	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	16Bh
		push	53h ; 'S'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 53h
		mov	[ebp+var_4], eax
		jmp	short $Fail$9
; ---------------------------------------------------------------------------

loc_1B98:				; CODE XREF: _pcf_seek_to_table_type+A6j
		mov	eax, [ebp+var_8]
		shl	eax, 4
		mov	ecx, [ebp+arg_14]
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+eax+8]
		mov	[ecx], eax
		mov	ecx, [ebp+var_8]
		shl	ecx, 4
		mov	edx, [ebp+arg_10]
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+ecx+4]
		mov	[edx], ecx
		xor	eax, eax
		jmp	short loc_1BD1
; ---------------------------------------------------------------------------

loc_1BC0:				; CODE XREF: _pcf_seek_to_table_type+48j
		jmp	loc_1AF8
; ---------------------------------------------------------------------------

$Fail$9:				; CODE XREF: _pcf_seek_to_table_type+33j
					; _pcf_seek_to_table_type+7Dj ...
		mov	edx, [ebp+arg_14]
		mov	dword ptr [edx], 0
		mov	eax, [ebp+var_4]

loc_1BD1:				; CODE XREF: _pcf_seek_to_table_type+EAj
		add	esp, 8
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_seek_to_table_type	endp

; ---------------------------------------------------------------------------
		db 5 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_has_table_type proc near		; CODE XREF: _pcf_load_font+75p

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	[ebp+var_4], 0
		jmp	short loc_1C01
; ---------------------------------------------------------------------------

loc_1BF8:				; CODE XREF: _pcf_has_table_type:loc_1C1Ej
		mov	eax, [ebp+var_4]
		add	eax, 1
		mov	[ebp+var_4], eax

loc_1C01:				; CODE XREF: _pcf_has_table_type+12j
		mov	ecx, [ebp+var_4]
		cmp	ecx, [ebp+arg_4]
		jnb	short loc_1C20
		mov	edx, [ebp+var_4]
		shl	edx, 4
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+edx]
		cmp	ecx, [ebp+arg_8]
		jnz	short loc_1C1E
		mov	al, 1
		jmp	short loc_1C22
; ---------------------------------------------------------------------------

loc_1C1E:				; CODE XREF: _pcf_has_table_type+34j
		jmp	short loc_1BF8
; ---------------------------------------------------------------------------

loc_1C20:				; CODE XREF: _pcf_has_table_type+23j
		xor	al, al

loc_1C22:				; CODE XREF: _pcf_has_table_type+38j
		mov	esp, ebp
		pop	ebp
		retn
_pcf_has_table_type endp

; ---------------------------------------------------------------------------
		db 0Eh dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_get_properties proc near		; CODE XREF: _pcf_load_font+46p

var_54		= dword	ptr -54h
var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_30		= dword	ptr -30h
var_24		= dword	ptr -24h
var_18		= dword	ptr -18h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 54h
		push	esi
		push	edi
		lea	edi, [ebp+var_54]
		mov	ecx, 15h
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	[ebp+var_4], 0
		mov	[ebp+var_8], 0
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+64h]
		mov	[ebp+var_38], ecx
		mov	[ebp+var_40], 0
		lea	edx, [ebp+var_24]
		push	edx
		lea	eax, [ebp+var_18]
		push	eax
		push	1
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+0BCh]
		push	edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0C0h]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_seek_to_table_type
		add	esp, 18h
		mov	[ebp+var_30], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1CA1
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1CA1:				; CODE XREF: _pcf_get_properties+66j
		lea	eax, [ebp+var_30]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_ReadULongLE
		add	esp, 8
		mov	[ebp+var_18], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1CBF
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1CBF:				; CODE XREF: _pcf_get_properties+84j
					; _pcf_get_properties+ABj
		mov	edx, 4
		imul	eax, edx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[eax], 4
		jl	short loc_1CDD
		push	offset $SG7712	; "pcf_get_properties:\n"
		call	_FT_Message
		add	esp, 4

loc_1CDD:				; CODE XREF: _pcf_get_properties+9Aj
		xor	ecx, ecx
		jnz	short loc_1CBF

loc_1CE1:				; CODE XREF: _pcf_get_properties+D1j
		mov	edx, 4
		imul	eax, edx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[eax], 4
		jl	short loc_1D03
		mov	ecx, [ebp+var_18]
		push	ecx
		push	offset $SG7717	; "  format = %ld\n"
		call	_FT_Message
		add	esp, 8

loc_1D03:				; CODE XREF: _pcf_get_properties+BCj
		xor	edx, edx
		jnz	short loc_1CE1
		mov	eax, [ebp+var_18]
		and	eax, 0FFFFFF00h
		jz	short loc_1D16
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1D16:				; CODE XREF: _pcf_get_properties+DBj
		mov	ecx, [ebp+var_18]
		and	ecx, 4
		jz	short loc_1D27
		mov	[ebp+var_4C], 1
		jmp	short loc_1D2E
; ---------------------------------------------------------------------------

loc_1D27:				; CODE XREF: _pcf_get_properties+E8j
		mov	[ebp+var_4C], 0

loc_1D2E:				; CODE XREF: _pcf_get_properties+F1j
		cmp	[ebp+var_4C], 1
		jnz	short loc_1D49
		lea	edx, [ebp+var_30]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadULong
		add	esp, 8
		mov	[ebp+var_C], eax
		jmp	short loc_1D5C
; ---------------------------------------------------------------------------

loc_1D49:				; CODE XREF: _pcf_get_properties+FEj
		lea	ecx, [ebp+var_30]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_ReadULongLE
		add	esp, 8
		mov	[ebp+var_C], eax

loc_1D5C:				; CODE XREF: _pcf_get_properties+113j
		cmp	[ebp+var_30], 0
		jz	short loc_1D67
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1D67:				; CODE XREF: _pcf_get_properties+12Cj
					; _pcf_get_properties+15Ej
		mov	eax, 4
		imul	ecx, eax, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 4
		jl	short loc_1D90
		mov	edx, [ebp+var_C]
		sub	edx, [ebp+var_C]
		push	edx
		mov	eax, [ebp+var_C]
		push	eax
		push	offset $SG7732	; "  nprop = %d	(truncate %d props)\n"
		call	_FT_Message
		add	esp, 0Ch

loc_1D90:				; CODE XREF: _pcf_get_properties+142j
		xor	ecx, ecx
		jnz	short loc_1D67
		mov	edx, [ebp+var_C]
		mov	[ebp+var_C], edx
		mov	eax, [ebp+var_24]
		xor	edx, edx
		mov	ecx, 9
		div	ecx
		cmp	[ebp+var_C], eax
		jbe	short loc_1DCA
		push	offset $SG7735	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	1EFh
		push	8
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 8
		mov	[ebp+var_30], eax
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1DCA:				; CODE XREF: _pcf_get_properties+175j
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+var_C]
		mov	[edx+118h], eax
		lea	ecx, [ebp+var_30]
		push	ecx
		push	0
		mov	edx, [ebp+var_C]
		push	edx
		push	0
		push	0Ch
		mov	eax, [ebp+var_38]
		push	eax
		call	_ft_mem_realloc
		add	esp, 18h
		mov	[ebp+var_4], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1DFE
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1DFE:				; CODE XREF: _pcf_get_properties+1C3j
		mov	[ebp+var_10], 0
		jmp	short loc_1E10
; ---------------------------------------------------------------------------

loc_1E07:				; CODE XREF: _pcf_get_properties:loc_1E86j
		mov	ecx, [ebp+var_10]
		add	ecx, 1
		mov	[ebp+var_10], ecx

loc_1E10:				; CODE XREF: _pcf_get_properties+1D1j
		mov	edx, [ebp+var_10]
		cmp	edx, [ebp+var_C]
		jnb	short loc_1E8B
		mov	eax, [ebp+var_18]
		and	eax, 4
		jz	short loc_1E29
		mov	[ebp+var_50], 1
		jmp	short loc_1E30
; ---------------------------------------------------------------------------

loc_1E29:				; CODE XREF: _pcf_get_properties+1EAj
		mov	[ebp+var_50], 0

loc_1E30:				; CODE XREF: _pcf_get_properties+1F3j
		cmp	[ebp+var_50], 1
		jnz	short loc_1E5F
		imul	ecx, [ebp+var_10], 0Ch
		add	ecx, [ebp+var_4]
		push	ecx
		push	offset _pcf_property_msb_header
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_ReadFields
		add	esp, 0Ch
		mov	[ebp+var_30], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1E5D
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1E5D:				; CODE XREF: _pcf_get_properties+222j
		jmp	short loc_1E86
; ---------------------------------------------------------------------------

loc_1E5F:				; CODE XREF: _pcf_get_properties+200j
		imul	eax, [ebp+var_10], 0Ch
		add	eax, [ebp+var_4]
		push	eax
		push	offset _pcf_property_header
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_ReadFields
		add	esp, 0Ch
		mov	[ebp+var_30], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1E86
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1E86:				; CODE XREF: _pcf_get_properties:loc_1E5Dj
					; _pcf_get_properties+24Bj
		jmp	loc_1E07
; ---------------------------------------------------------------------------

loc_1E8B:				; CODE XREF: _pcf_get_properties+1E2j
		mov	edx, [ebp+var_C]
		and	edx, 3
		jz	short loc_1EDB
		mov	eax, [ebp+var_C]
		and	eax, 3
		mov	ecx, 4
		sub	ecx, eax
		mov	[ebp+var_10], ecx
		mov	edx, [ebp+var_10]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_Skip
		add	esp, 8
		mov	[ebp+var_30], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1EDB
		push	offset $SG7750	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	210h
		push	53h ; 'S'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 53h
		mov	[ebp+var_30], eax
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1EDB:				; CODE XREF: _pcf_get_properties+25Dj
					; _pcf_get_properties+286j
		mov	ecx, [ebp+var_18]
		and	ecx, 4
		jz	short loc_1EEC
		mov	[ebp+var_54], 1
		jmp	short loc_1EF3
; ---------------------------------------------------------------------------

loc_1EEC:				; CODE XREF: _pcf_get_properties+2ADj
		mov	[ebp+var_54], 0

loc_1EF3:				; CODE XREF: _pcf_get_properties+2B6j
		cmp	[ebp+var_54], 1
		jnz	short loc_1F0E
		lea	edx, [ebp+var_30]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadULong
		add	esp, 8
		mov	[ebp+var_3C], eax
		jmp	short loc_1F21
; ---------------------------------------------------------------------------

loc_1F0E:				; CODE XREF: _pcf_get_properties+2C3j
		lea	ecx, [ebp+var_30]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_ReadULongLE
		add	esp, 8
		mov	[ebp+var_3C], eax

loc_1F21:				; CODE XREF: _pcf_get_properties+2D8j
		cmp	[ebp+var_30], 0
		jz	short loc_1F2C
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1F2C:				; CODE XREF: _pcf_get_properties+2F1j
					; _pcf_get_properties+31Cj
		mov	eax, 4
		imul	ecx, eax, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 4
		jl	short loc_1F4E
		mov	edx, [ebp+var_3C]
		push	edx
		push	offset $SG7762	; "  string_size = %ld\n"
		call	_FT_Message
		add	esp, 8

loc_1F4E:				; CODE XREF: _pcf_get_properties+307j
		xor	eax, eax
		jnz	short loc_1F2C
		imul	ecx, [ebp+var_C], 9
		mov	edx, [ebp+var_24]
		sub	edx, ecx
		cmp	[ebp+var_3C], edx
		jbe	short loc_1F7F
		push	offset $SG7764	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	221h
		push	8
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 8
		mov	[ebp+var_30], eax
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1F7F:				; CODE XREF: _pcf_get_properties+32Aj
		lea	eax, [ebp+var_30]
		push	eax
		push	0
		mov	ecx, [ebp+var_3C]
		add	ecx, 1
		push	ecx
		push	0
		push	1
		mov	edx, [ebp+var_38]
		push	edx
		call	_ft_mem_realloc
		add	esp, 18h
		mov	[ebp+var_40], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1FAA
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1FAA:				; CODE XREF: _pcf_get_properties+36Fj
		mov	eax, [ebp+var_3C]
		push	eax
		mov	ecx, [ebp+var_40]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_Read
		add	esp, 0Ch
		mov	[ebp+var_30], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1FCC
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1FCC:				; CODE XREF: _pcf_get_properties+391j
		lea	eax, [ebp+var_30]
		push	eax
		push	0
		mov	ecx, [ebp+var_C]
		push	ecx
		push	0
		push	0Ch
		mov	edx, [ebp+var_38]
		push	edx
		call	_ft_mem_realloc
		add	esp, 18h
		mov	[ebp+var_8], eax
		cmp	[ebp+var_30], 0
		jz	short loc_1FF4
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_1FF4:				; CODE XREF: _pcf_get_properties+3B9j
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_8]
		mov	[eax+11Ch], ecx
		mov	[ebp+var_10], 0
		jmp	short loc_2012
; ---------------------------------------------------------------------------

loc_2009:				; CODE XREF: _pcf_get_properties:loc_21B7j
		mov	edx, [ebp+var_10]
		add	edx, 1
		mov	[ebp+var_10], edx

loc_2012:				; CODE XREF: _pcf_get_properties+3D3j
		mov	eax, [ebp+var_10]
		cmp	eax, [ebp+var_C]
		jnb	loc_21BC
		imul	ecx, [ebp+var_10], 0Ch
		mov	edx, [ebp+var_4]
		mov	eax, [edx+ecx]
		mov	[ebp+var_44], eax
		cmp	[ebp+var_44], 0
		jl	short loc_2039
		mov	ecx, [ebp+var_44]
		cmp	ecx, [ebp+var_3C]
		jbe	short loc_2058

loc_2039:				; CODE XREF: _pcf_get_properties+3FBj
		push	offset $SG7780	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	23Ah
		push	9
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 9
		mov	[ebp+var_30], eax
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_2058:				; CODE XREF: _pcf_get_properties+403j
		lea	edx, [ebp+var_30]
		push	edx
		mov	eax, [ebp+var_40]
		add	eax, [ebp+var_44]
		push	eax
		mov	ecx, [ebp+var_38]
		push	ecx
		call	_ft_mem_strdup
		add	esp, 0Ch
		imul	edx, [ebp+var_10], 0Ch
		mov	ecx, [ebp+var_8]
		mov	[ecx+edx], eax
		cmp	[ebp+var_30], 0
		jz	short loc_2084
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_2084:				; CODE XREF: _pcf_get_properties+449j
					; _pcf_get_properties+47Bj
		mov	edx, 4
		imul	eax, edx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[eax], 4
		jl	short loc_20AD
		imul	ecx, [ebp+var_10], 0Ch
		mov	edx, [ebp+var_8]
		mov	eax, [edx+ecx]
		push	eax
		push	offset $SG7788	; "  %s:"
		call	_FT_Message
		add	esp, 8

loc_20AD:				; CODE XREF: _pcf_get_properties+45Fj
		xor	ecx, ecx
		jnz	short loc_2084
		imul	edx, [ebp+var_10], 0Ch
		imul	eax, [ebp+var_10], 0Ch
		mov	ecx, [ebp+var_8]
		mov	esi, [ebp+var_4]
		mov	dl, [esi+edx+4]
		mov	[ecx+eax+4], dl
		imul	eax, [ebp+var_10], 0Ch
		mov	ecx, [ebp+var_4]
		movzx	edx, byte ptr [ecx+eax+4]
		test	edx, edx
		jz	loc_2173
		imul	eax, [ebp+var_10], 0Ch
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+eax+8]
		mov	[ebp+var_48], edx
		cmp	[ebp+var_48], 0
		jl	short loc_20F7
		mov	eax, [ebp+var_48]
		cmp	eax, [ebp+var_3C]
		jbe	short loc_2116

loc_20F7:				; CODE XREF: _pcf_get_properties+4B9j
		push	offset $SG7794	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	24Dh
		push	9
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 9
		mov	[ebp+var_30], eax
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_2116:				; CODE XREF: _pcf_get_properties+4C1j
		lea	ecx, [ebp+var_30]
		push	ecx
		mov	edx, [ebp+var_40]
		add	edx, [ebp+var_48]
		push	edx
		mov	eax, [ebp+var_38]
		push	eax
		call	_ft_mem_strdup
		add	esp, 0Ch
		imul	ecx, [ebp+var_10], 0Ch
		mov	edx, [ebp+var_8]
		mov	[edx+ecx+8], eax
		cmp	[ebp+var_30], 0
		jz	short loc_2143
		jmp	$Bail$83
; ---------------------------------------------------------------------------

loc_2143:				; CODE XREF: _pcf_get_properties+508j
					; _pcf_get_properties+53Bj
		mov	eax, 4
		imul	ecx, eax, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 4
		jl	short loc_216D
		imul	edx, [ebp+var_10], 0Ch
		mov	eax, [ebp+var_8]
		mov	ecx, [eax+edx+8]
		push	ecx
		push	offset $SG7802	; " `%s'\n"
		call	_FT_Message
		add	esp, 8

loc_216D:				; CODE XREF: _pcf_get_properties+51Ej
		xor	edx, edx
		jnz	short loc_2143
		jmp	short loc_21B7
; ---------------------------------------------------------------------------

loc_2173:				; CODE XREF: _pcf_get_properties+4A1j
		imul	eax, [ebp+var_10], 0Ch
		imul	ecx, [ebp+var_10], 0Ch
		mov	edx, [ebp+var_8]
		mov	esi, [ebp+var_4]
		mov	eax, [esi+eax+8]
		mov	[edx+ecx+8], eax

loc_2189:				; CODE XREF: _pcf_get_properties+581j
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_21B3
		imul	eax, [ebp+var_10], 0Ch
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx+eax+8]
		push	edx
		push	offset $SG7808	; " %d\n"
		call	_FT_Message
		add	esp, 8

loc_21B3:				; CODE XREF: _pcf_get_properties+564j
		xor	eax, eax
		jnz	short loc_2189

loc_21B7:				; CODE XREF: _pcf_get_properties+53Dj
		jmp	loc_2009
; ---------------------------------------------------------------------------

loc_21BC:				; CODE XREF: _pcf_get_properties+3E4j
		mov	[ebp+var_30], 0

$Bail$83:				; CODE XREF: _pcf_get_properties+68j
					; _pcf_get_properties+86j ...
		mov	ecx, [ebp+var_4]
		push	ecx
		mov	edx, [ebp+var_38]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	[ebp+var_4], 0
		xor	eax, eax
		jnz	short $Bail$83

loc_21DE:				; CODE XREF: _pcf_get_properties+5C3j
		mov	ecx, [ebp+var_40]
		push	ecx
		mov	edx, [ebp+var_38]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	[ebp+var_40], 0
		xor	eax, eax
		jnz	short loc_21DE
		mov	eax, [ebp+var_30]
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN82
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		pop	esi
		add	esp, 54h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_get_properties endp

; ---------------------------------------------------------------------------
		align 10h
$LN82		dd 3			; DATA XREF: _pcf_get_properties+5CCo
		dd offset $LN81
$LN81		dd 0FFFFFFE8h, 4	; DATA XREF: .text$mn:00002224o
		dd offset $LN78		; "format"
		dd 0FFFFFFDCh, 4
		dd offset $LN79		; "size"
		dd 0FFFFFFD0h, 4
		dd offset $LN80		; "error"
$LN80		db 'error',0            ; DATA XREF: .text$mn:00002248o
$LN79		db 'size',0             ; DATA XREF: .text$mn:0000223Co
$LN78		db 'format',0           ; DATA XREF: .text$mn:00002230o
		db 6 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_get_metrics proc near		; CODE XREF: _pcf_load_font+B0p

var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_24		= dword	ptr -24h
var_18		= dword	ptr -18h
var_10		= dword	ptr -10h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 3Ch
		push	edi
		lea	edi, [ebp+var_3C]
		mov	ecx, 0Fh
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+64h]
		mov	[ebp+var_10], ecx
		mov	[ebp+var_2C], 0
		lea	edx, [ebp+var_24]
		push	edx
		lea	eax, [ebp+var_18]
		push	eax
		push	4
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+0BCh]
		push	edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0C0h]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_seek_to_table_type
		add	esp, 18h
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_22C5
		mov	eax, [ebp+var_8]
		jmp	loc_2657
; ---------------------------------------------------------------------------

loc_22C5:				; CODE XREF: _pcf_get_metrics+57j
		lea	eax, [ebp+var_8]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_ReadULongLE
		add	esp, 8
		mov	[ebp+var_18], eax
		cmp	[ebp+var_8], 0
		jz	short loc_22E3
		jmp	$Bail$54
; ---------------------------------------------------------------------------

loc_22E3:				; CODE XREF: _pcf_get_metrics+78j
		mov	edx, [ebp+var_18]
		and	edx, 0FFFFFF00h
		jz	short loc_2319
		mov	eax, [ebp+var_18]
		and	eax, 0FFFFFF00h
		cmp	eax, 100h
		jz	short loc_2319
		push	offset $SG7836	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	281h
		push	3
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 3
		jmp	loc_2657
; ---------------------------------------------------------------------------

loc_2319:				; CODE XREF: _pcf_get_metrics+88j
					; _pcf_get_metrics+97j
		mov	ecx, [ebp+var_18]
		and	ecx, 0FFFFFF00h
		jnz	short loc_236C
		mov	edx, [ebp+var_18]
		and	edx, 4
		jz	short loc_2335
		mov	[ebp+var_38], 1
		jmp	short loc_233C
; ---------------------------------------------------------------------------

loc_2335:				; CODE XREF: _pcf_get_metrics+C6j
		mov	[ebp+var_38], 0

loc_233C:				; CODE XREF: _pcf_get_metrics+CFj
		cmp	[ebp+var_38], 1
		jnz	short loc_2357
		lea	eax, [ebp+var_8]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_ReadULong
		add	esp, 8
		mov	[ebp+var_30], eax
		jmp	short loc_236A
; ---------------------------------------------------------------------------

loc_2357:				; CODE XREF: _pcf_get_metrics+DCj
		lea	edx, [ebp+var_8]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadULongLE
		add	esp, 8
		mov	[ebp+var_30], eax

loc_236A:				; CODE XREF: _pcf_get_metrics+F1j
		jmp	short loc_23B8
; ---------------------------------------------------------------------------

loc_236C:				; CODE XREF: _pcf_get_metrics+BEj
		mov	ecx, [ebp+var_18]
		and	ecx, 4
		jz	short loc_237D
		mov	[ebp+var_3C], 1
		jmp	short loc_2384
; ---------------------------------------------------------------------------

loc_237D:				; CODE XREF: _pcf_get_metrics+10Ej
		mov	[ebp+var_3C], 0

loc_2384:				; CODE XREF: _pcf_get_metrics+117j
		cmp	[ebp+var_3C], 1
		jnz	short loc_23A2
		lea	edx, [ebp+var_8]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadUShort
		add	esp, 8
		movzx	ecx, ax
		mov	[ebp+var_30], ecx
		jmp	short loc_23B8
; ---------------------------------------------------------------------------

loc_23A2:				; CODE XREF: _pcf_get_metrics+124j
		lea	edx, [ebp+var_8]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadUShortLE
		add	esp, 8
		movzx	ecx, ax
		mov	[ebp+var_30], ecx

loc_23B8:				; CODE XREF: _pcf_get_metrics:loc_236Aj
					; _pcf_get_metrics+13Cj
		cmp	[ebp+var_8], 0
		jz	short loc_23DA
		push	offset $SG7852	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	292h
		push	3
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 3
		jmp	loc_2657
; ---------------------------------------------------------------------------

loc_23DA:				; CODE XREF: _pcf_get_metrics+158j
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+var_30]
		mov	[edx+120h], eax
		cmp	[ebp+var_30], 0
		jnz	short loc_2408
		push	offset $SG7854	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	297h
		push	8
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 8
		jmp	loc_2657
; ---------------------------------------------------------------------------

loc_2408:				; CODE XREF: _pcf_get_metrics+186j
					; _pcf_get_metrics+1C4j
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_2426
		push	offset $SG7859	; "pcf_get_metrics:\n"
		call	_FT_Message
		add	esp, 4

loc_2426:				; CODE XREF: _pcf_get_metrics+1B3j
		xor	eax, eax
		jnz	short loc_2408

loc_242A:				; CODE XREF: _pcf_get_metrics+1EAj
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_244C
		mov	eax, [ebp+var_30]
		push	eax
		push	offset $SG7864	; "  number of metrics:	%d\n"
		call	_FT_Message
		add	esp, 8

loc_244C:				; CODE XREF: _pcf_get_metrics+1D5j
		xor	ecx, ecx
		jnz	short loc_242A
		mov	edx, [ebp+var_18]
		and	edx, 0FFFFFF00h
		jnz	short loc_248A
		mov	eax, [ebp+var_24]
		xor	edx, edx
		mov	ecx, 0Ch
		div	ecx
		cmp	[ebp+var_30], eax
		jbe	short loc_2488
		push	offset $SG7867	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	2A1h
		push	8
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 8
		jmp	loc_2657
; ---------------------------------------------------------------------------

loc_2488:				; CODE XREF: _pcf_get_metrics+206j
		jmp	short loc_24B7
; ---------------------------------------------------------------------------

loc_248A:				; CODE XREF: _pcf_get_metrics+1F5j
		mov	eax, [ebp+var_24]
		xor	edx, edx
		mov	ecx, 5
		div	ecx
		cmp	[ebp+var_30], eax
		jbe	short loc_24B7
		push	offset $SG7870	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	2A6h
		push	8
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 8
		jmp	loc_2657
; ---------------------------------------------------------------------------

loc_24B7:				; CODE XREF: _pcf_get_metrics:loc_2488j
					; _pcf_get_metrics+235j
		lea	edx, [ebp+var_8]
		push	edx
		push	0
		mov	eax, [ebp+var_30]
		push	eax
		push	0
		push	10h
		mov	ecx, [ebp+var_10]
		push	ecx
		call	_ft_mem_realloc
		add	esp, 18h
		mov	edx, [ebp+arg_4]
		mov	[edx+124h], eax
		cmp	[ebp+var_8], 0
		jz	short loc_24FC
		push	offset $SG7874	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	2AAh
		push	40h ; '@'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 40h
		jmp	loc_2657
; ---------------------------------------------------------------------------

loc_24FC:				; CODE XREF: _pcf_get_metrics+27Aj
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+124h]
		mov	[ebp+var_2C], ecx
		mov	[ebp+var_34], 0
		jmp	short loc_2523
; ---------------------------------------------------------------------------

loc_2511:				; CODE XREF: _pcf_get_metrics:loc_2622j
		mov	edx, [ebp+var_34]
		add	edx, 1
		mov	[ebp+var_34], edx
		mov	eax, [ebp+var_2C]
		add	eax, 10h
		mov	[ebp+var_2C], eax

loc_2523:				; CODE XREF: _pcf_get_metrics+2ABj
		mov	ecx, [ebp+var_34]
		cmp	ecx, [ebp+var_30]
		jnb	loc_2627
		mov	edx, [ebp+var_2C]
		push	edx
		mov	eax, [ebp+var_18]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_pcf_get_metric
		add	esp, 0Ch
		mov	[ebp+var_8], eax
		mov	edx, [ebp+var_2C]
		mov	dword ptr [edx+0Ch], 0

loc_2550:				; CODE XREF: _pcf_get_metrics+33Fj
		mov	eax, 4
		imul	ecx, eax, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 5
		jl	short loc_25A1
		mov	edx, [ebp+var_2C]
		movsx	eax, word ptr [edx+0Ah]
		push	eax
		mov	ecx, [ebp+var_2C]
		movsx	edx, word ptr [ecx+8]
		push	edx
		mov	eax, [ebp+var_2C]
		movsx	ecx, word ptr [eax+6]
		push	ecx
		mov	edx, [ebp+var_2C]
		movsx	eax, word ptr [edx+2]
		push	eax
		mov	ecx, [ebp+var_2C]
		movsx	edx, word ptr [ecx]
		push	edx
		mov	eax, [ebp+var_2C]
		movsx	ecx, word ptr [eax+4]
		push	ecx
		mov	edx, [ebp+var_34]
		push	edx
		push	offset $SG7882	; "  idx %d: width=%d, lsb=%d, rsb=%d, asc"...
		call	_FT_Message
		add	esp, 20h

loc_25A1:				; CODE XREF: _pcf_get_metrics+2FBj
		xor	eax, eax
		jnz	short loc_2550
		cmp	[ebp+var_8], 0
		jz	short loc_25AD
		jmp	short loc_2627
; ---------------------------------------------------------------------------

loc_25AD:				; CODE XREF: _pcf_get_metrics+345j
		mov	ecx, [ebp+var_2C]
		movsx	edx, word ptr [ecx+2]
		mov	eax, [ebp+var_2C]
		movsx	ecx, word ptr [eax]
		cmp	edx, ecx
		jl	short loc_25D0
		mov	edx, [ebp+var_2C]
		movsx	eax, word ptr [edx+6]
		mov	ecx, [ebp+var_2C]
		movsx	edx, word ptr [ecx+8]
		add	eax, edx
		jns	short loc_2622

loc_25D0:				; CODE XREF: _pcf_get_metrics+358j
		xor	eax, eax
		mov	ecx, [ebp+var_2C]
		mov	[ecx+4], ax
		xor	edx, edx
		mov	eax, [ebp+var_2C]
		mov	[eax], dx
		xor	ecx, ecx
		mov	edx, [ebp+var_2C]
		mov	[edx+2], cx
		xor	eax, eax
		mov	ecx, [ebp+var_2C]
		mov	[ecx+6], ax
		xor	edx, edx
		mov	eax, [ebp+var_2C]
		mov	[eax+8], dx

loc_25FC:				; CODE XREF: _pcf_get_metrics+3BCj
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 0
		jl	short loc_261E
		mov	eax, [ebp+var_34]
		push	eax
		push	offset $SG7890	; "pcf_get_metrics: invalid metrics for	gl"...
		call	_FT_Message
		add	esp, 8

loc_261E:				; CODE XREF: _pcf_get_metrics+3A7j
		xor	ecx, ecx
		jnz	short loc_25FC

loc_2622:				; CODE XREF: _pcf_get_metrics+36Aj
		jmp	loc_2511
; ---------------------------------------------------------------------------

loc_2627:				; CODE XREF: _pcf_get_metrics+2C5j
					; _pcf_get_metrics+347j
		cmp	[ebp+var_8], 0
		jz	short $Bail$54

loc_262D:				; CODE XREF: _pcf_get_metrics+3EEj
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+124h]
		push	eax
		mov	ecx, [ebp+var_10]
		push	ecx
		call	_ft_mem_free
		add	esp, 8
		mov	edx, [ebp+arg_4]
		mov	dword ptr [edx+124h], 0
		xor	eax, eax
		jnz	short loc_262D

$Bail$54:				; CODE XREF: _pcf_get_metrics+7Aj
					; _pcf_get_metrics+3C7j
		mov	eax, [ebp+var_8]

loc_2657:				; CODE XREF: _pcf_get_metrics+5Cj
					; _pcf_get_metrics+B0j	...
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN53_0
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		add	esp, 3Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_get_metrics endp

; ---------------------------------------------------------------------------
		align 4
$LN53_0		dd 3			; DATA XREF: _pcf_get_metrics+3F7o
		dd offset $LN52_0
$LN52_0		dd 0FFFFFFF8h, 4	; DATA XREF: .text$mn:0000267Co
		dd offset $LN49		; "error"
		dd 0FFFFFFE8h, 4
		dd offset $LN50		; "format"
		dd 0FFFFFFDCh, 4
		dd offset $LN51_0	; "size"
$LN51_0		db 'size',0             ; DATA XREF: .text$mn:000026A0o
$LN50		db 'format',0           ; DATA XREF: .text$mn:00002694o
$LN49		db 'error',0            ; DATA XREF: .text$mn:00002688o
		db 0Eh dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_get_bitmaps proc near		; CODE XREF: _pcf_load_font+CEp

var_60		= dword	ptr -60h
var_5C		= dword	ptr -5Ch
var_58		= dword	ptr -58h
var_54		= dword	ptr -54h
var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_44		= dword	ptr -44h
var_38		= dword	ptr -38h
var_2C		= dword	ptr -2Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_C		= dword	ptr -0Ch
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 60h
		push	edi
		lea	edi, [ebp+var_60]
		mov	ecx, 18h
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+64h]
		mov	[ebp+var_14], ecx
		mov	[ebp+var_18], 0
		mov	[ebp+var_54], 0
		lea	edx, [ebp+var_44]
		push	edx
		lea	eax, [ebp+var_38]
		push	eax
		push	8
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+0BCh]
		push	edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0C0h]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_seek_to_table_type
		add	esp, 18h
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jz	short loc_2736
		mov	eax, [ebp+var_C]
		jmp	loc_2AEF
; ---------------------------------------------------------------------------

loc_2736:				; CODE XREF: _pcf_get_bitmaps+68j
		push	8
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_EnterFrame
		add	esp, 8
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jz	short loc_2755
		mov	eax, [ebp+var_C]
		jmp	loc_2AEF
; ---------------------------------------------------------------------------

loc_2755:				; CODE XREF: _pcf_get_bitmaps+87j
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_GetULongLE
		add	esp, 4
		mov	[ebp+var_38], eax
		mov	edx, [ebp+var_38]
		and	edx, 4
		jz	short loc_2775
		mov	[ebp+var_58], 1
		jmp	short loc_277C
; ---------------------------------------------------------------------------

loc_2775:				; CODE XREF: _pcf_get_bitmaps+A6j
		mov	[ebp+var_58], 0

loc_277C:				; CODE XREF: _pcf_get_bitmaps+AFj
		cmp	[ebp+var_58], 1
		jnz	short loc_2793
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_GetULong
		add	esp, 4
		mov	[ebp+var_4C], eax
		jmp	short loc_27A2
; ---------------------------------------------------------------------------

loc_2793:				; CODE XREF: _pcf_get_bitmaps+BCj
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_GetULongLE
		add	esp, 4
		mov	[ebp+var_4C], eax

loc_27A2:				; CODE XREF: _pcf_get_bitmaps+CDj
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_ExitFrame
		add	esp, 4
		mov	eax, [ebp+var_38]
		and	eax, 0FFFFFF00h
		jz	short loc_27D4
		push	offset $SG7921	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	2FBh
		push	3
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 3
		jmp	loc_2AEF
; ---------------------------------------------------------------------------

loc_27D4:				; CODE XREF: _pcf_get_bitmaps+F2j
					; _pcf_get_bitmaps+130j
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_27F2
		push	offset $SG7926	; "pcf_get_bitmaps:\n"
		call	_FT_Message
		add	esp, 4

loc_27F2:				; CODE XREF: _pcf_get_bitmaps+11Fj
		xor	eax, eax
		jnz	short loc_27D4

loc_27F6:				; CODE XREF: _pcf_get_bitmaps+156j
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_2818
		mov	eax, [ebp+var_4C]
		push	eax
		push	offset $SG7931	; "  number of bitmaps:	%d\n"
		call	_FT_Message
		add	esp, 8

loc_2818:				; CODE XREF: _pcf_get_bitmaps+141j
		xor	ecx, ecx
		jnz	short loc_27F6
		mov	edx, [ebp+arg_4]
		cmp	dword ptr [edx+120h], 0
		jl	short loc_2836
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_4C]
		cmp	ecx, [eax+120h]
		jz	short loc_2852

loc_2836:				; CODE XREF: _pcf_get_bitmaps+162j
		push	offset $SG7935	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	303h
		push	3
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 3
		jmp	loc_2AEF
; ---------------------------------------------------------------------------

loc_2852:				; CODE XREF: _pcf_get_bitmaps+170j
		lea	edx, [ebp+var_C]
		push	edx
		push	0
		mov	eax, [ebp+var_4C]
		push	eax
		push	0
		push	4
		mov	ecx, [ebp+var_14]
		push	ecx
		call	_ft_mem_realloc
		add	esp, 18h
		mov	[ebp+var_18], eax
		cmp	[ebp+var_C], 0
		jz	short loc_287D
		mov	eax, [ebp+var_C]
		jmp	loc_2AEF
; ---------------------------------------------------------------------------

loc_287D:				; CODE XREF: _pcf_get_bitmaps+1AFj
		mov	[ebp+var_50], 0
		jmp	short loc_288F
; ---------------------------------------------------------------------------

loc_2886:				; CODE XREF: _pcf_get_bitmaps+263j
		mov	edx, [ebp+var_50]
		add	edx, 1
		mov	[ebp+var_50], edx

loc_288F:				; CODE XREF: _pcf_get_bitmaps+1C0j
		mov	eax, [ebp+var_50]
		cmp	eax, [ebp+var_4C]
		jnb	loc_292C
		mov	ecx, [ebp+var_38]
		and	ecx, 4
		jz	short loc_28AC
		mov	[ebp+var_5C], 1
		jmp	short loc_28B3
; ---------------------------------------------------------------------------

loc_28AC:				; CODE XREF: _pcf_get_bitmaps+1DDj
		mov	[ebp+var_5C], 0

loc_28B3:				; CODE XREF: _pcf_get_bitmaps+1E6j
		cmp	[ebp+var_5C], 1
		jnz	short loc_28D4
		lea	edx, [ebp+var_C]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadULong
		add	esp, 8
		mov	ecx, [ebp+var_50]
		mov	edx, [ebp+var_18]
		mov	[edx+ecx*4], eax
		jmp	short loc_28ED
; ---------------------------------------------------------------------------

loc_28D4:				; CODE XREF: _pcf_get_bitmaps+1F3j
		lea	eax, [ebp+var_C]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_ReadULongLE
		add	esp, 8
		mov	edx, [ebp+var_50]
		mov	ecx, [ebp+var_18]
		mov	[ecx+edx*4], eax

loc_28ED:				; CODE XREF: _pcf_get_bitmaps+20Ej
					; _pcf_get_bitmaps+261j
		mov	edx, 4
		imul	eax, edx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[eax], 5
		jl	short loc_2923
		mov	ecx, [ebp+var_50]
		mov	edx, [ebp+var_18]
		mov	eax, [edx+ecx*4]
		push	eax
		mov	ecx, [ebp+var_50]
		mov	edx, [ebp+var_18]
		mov	eax, [edx+ecx*4]
		push	eax
		mov	ecx, [ebp+var_50]
		push	ecx
		push	offset $SG7952	; "  bitmap %d:	offset %ld (0x%lX)\n"
		call	_FT_Message
		add	esp, 10h

loc_2923:				; CODE XREF: _pcf_get_bitmaps+238j
		xor	edx, edx
		jnz	short loc_28ED
		jmp	loc_2886
; ---------------------------------------------------------------------------

loc_292C:				; CODE XREF: _pcf_get_bitmaps+1D1j
		cmp	[ebp+var_C], 0
		jz	short loc_2937
		jmp	$Bail$72
; ---------------------------------------------------------------------------

loc_2937:				; CODE XREF: _pcf_get_bitmaps+26Cj
		mov	[ebp+var_50], 0
		jmp	short loc_2949
; ---------------------------------------------------------------------------

loc_2940:				; CODE XREF: _pcf_get_bitmaps+323j
		mov	eax, [ebp+var_50]
		add	eax, 1
		mov	[ebp+var_50], eax

loc_2949:				; CODE XREF: _pcf_get_bitmaps+27Aj
		cmp	[ebp+var_50], 4
		jnb	loc_29EC
		mov	ecx, [ebp+var_38]
		and	ecx, 4
		jz	short loc_2964
		mov	[ebp+var_60], 1
		jmp	short loc_296B
; ---------------------------------------------------------------------------

loc_2964:				; CODE XREF: _pcf_get_bitmaps+295j
		mov	[ebp+var_60], 0

loc_296B:				; CODE XREF: _pcf_get_bitmaps+29Ej
		cmp	[ebp+var_60], 1
		jnz	short loc_298A
		lea	edx, [ebp+var_C]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadULong
		add	esp, 8
		mov	ecx, [ebp+var_50]
		mov	[ebp+ecx*4+var_2C], eax
		jmp	short loc_29A1
; ---------------------------------------------------------------------------

loc_298A:				; CODE XREF: _pcf_get_bitmaps+2ABj
		lea	edx, [ebp+var_C]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadULongLE
		add	esp, 8
		mov	ecx, [ebp+var_50]
		mov	[ebp+ecx*4+var_2C], eax

loc_29A1:				; CODE XREF: _pcf_get_bitmaps+2C4j
		cmp	[ebp+var_C], 0
		jz	short loc_29AC
		jmp	$Bail$72
; ---------------------------------------------------------------------------

loc_29AC:				; CODE XREF: _pcf_get_bitmaps+2E1j
		mov	edx, [ebp+var_38]
		and	edx, 3
		mov	eax, [ebp+edx*4+var_2C]
		mov	[ebp+var_54], eax

loc_29B9:				; CODE XREF: _pcf_get_bitmaps+321j
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_29E3
		mov	eax, [ebp+var_50]
		mov	ecx, [ebp+eax*4+var_2C]
		push	ecx
		mov	edx, [ebp+var_50]
		push	edx
		push	offset $SG7969	; "  padding %d	implies	a size of %ld\n"
		call	_FT_Message
		add	esp, 0Ch

loc_29E3:				; CODE XREF: _pcf_get_bitmaps+304j
		xor	eax, eax
		jnz	short loc_29B9
		jmp	loc_2940
; ---------------------------------------------------------------------------

loc_29EC:				; CODE XREF: _pcf_get_bitmaps+289j
					; _pcf_get_bitmaps+353j
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_2A15
		mov	eax, [ebp+var_38]
		and	eax, 3
		push	eax
		mov	ecx, [ebp+var_4C]
		push	ecx
		push	offset $SG7974	; "  %d	bitmaps, padding index %ld\n"
		call	_FT_Message
		add	esp, 0Ch

loc_2A15:				; CODE XREF: _pcf_get_bitmaps+337j
		xor	edx, edx
		jnz	short loc_29EC

loc_2A19:				; CODE XREF: _pcf_get_bitmaps+379j
		mov	eax, 4
		imul	ecx, eax, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 4
		jl	short loc_2A3B
		mov	edx, [ebp+var_54]
		push	edx
		push	offset $SG7979	; "  bitmap size = %d\n"
		call	_FT_Message
		add	esp, 8

loc_2A3B:				; CODE XREF: _pcf_get_bitmaps+364j
		xor	eax, eax
		jnz	short loc_2A19
		mov	ecx, [ebp+var_54]
		mov	[ebp+var_54], ecx
		mov	[ebp+var_50], 0
		jmp	short loc_2A57
; ---------------------------------------------------------------------------

loc_2A4E:				; CODE XREF: _pcf_get_bitmaps:loc_2AC3j
		mov	edx, [ebp+var_50]
		add	edx, 1
		mov	[ebp+var_50], edx

loc_2A57:				; CODE XREF: _pcf_get_bitmaps+388j
		mov	eax, [ebp+var_50]
		cmp	eax, [ebp+var_4C]
		jnb	short loc_2AC5
		mov	ecx, [ebp+var_50]
		mov	edx, [ebp+var_18]
		cmp	dword ptr [edx+ecx*4], 0
		jl	short loc_2A79
		mov	eax, [ebp+var_50]
		mov	ecx, [ebp+var_18]
		mov	edx, [ecx+eax*4]
		cmp	edx, [ebp+var_44]
		jbe	short loc_2AA1

loc_2A79:				; CODE XREF: _pcf_get_bitmaps+3A5j
					; _pcf_get_bitmaps+3D9j
		mov	eax, 4
		imul	ecx, eax, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 0
		jl	short loc_2A9B
		mov	edx, [ebp+var_50]
		push	edx
		push	offset $SG7990	; "pcf_get_bitmaps: invalid offset to bitm"...
		call	_FT_Message
		add	esp, 8

loc_2A9B:				; CODE XREF: _pcf_get_bitmaps+3C4j
		xor	eax, eax
		jnz	short loc_2A79
		jmp	short loc_2AC3
; ---------------------------------------------------------------------------

loc_2AA1:				; CODE XREF: _pcf_get_bitmaps+3B3j
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+8]
		mov	eax, [ebp+var_50]
		mov	ecx, [ebp+var_18]
		add	edx, [ecx+eax*4]
		mov	eax, [ebp+var_50]
		shl	eax, 4
		mov	ecx, [ebp+arg_4]
		mov	ecx, [ecx+124h]
		mov	[ecx+eax+0Ch], edx

loc_2AC3:				; CODE XREF: _pcf_get_bitmaps+3DBj
		jmp	short loc_2A4E
; ---------------------------------------------------------------------------

loc_2AC5:				; CODE XREF: _pcf_get_bitmaps+399j
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+var_38]
		mov	[edx+134h], eax

$Bail$72:				; CODE XREF: _pcf_get_bitmaps+26Ej
					; _pcf_get_bitmaps+2E3j ...
		mov	ecx, [ebp+var_18]
		push	ecx
		mov	edx, [ebp+var_14]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	[ebp+var_18], 0
		xor	eax, eax
		jnz	short $Bail$72
		mov	eax, [ebp+var_C]

loc_2AEF:				; CODE XREF: _pcf_get_bitmaps+6Dj
					; _pcf_get_bitmaps+8Cj	...
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN71
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4
		add	esp, 60h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_get_bitmaps endp

; ---------------------------------------------------------------------------
		align 4
$LN71		dd 4			; DATA XREF: _pcf_get_bitmaps+42Fo
		dd offset $LN70
$LN70		dd 0FFFFFFF4h, 4	; DATA XREF: .text$mn:00002B20o
		dd offset $LN66		; "error"
		dd 0FFFFFFD4h, 10h
		dd offset $LN67		; "bitmapSizes"
		dd 0FFFFFFC8h, 4
		dd offset $LN68		; "format"
		dd 0FFFFFFBCh, 4
		dd offset $LN69		; "size"
$LN69		db 'size',0             ; DATA XREF: .text$mn:00002B50o
$LN68		db 'format',0           ; DATA XREF: .text$mn:00002B44o
$LN67		db 'bitmapSizes',0      ; DATA XREF: .text$mn:00002B38o
$LN66		db 'error',0            ; DATA XREF: .text$mn:00002B2Co
		align 4

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_get_encodings proc	near		; CODE XREF: _pcf_load_font+ECp

var_58		= dword	ptr -58h
var_54		= dword	ptr -54h
var_50		= dword	ptr -50h
var_4C		= dword	ptr -4Ch
var_48		= dword	ptr -48h
var_44		= dword	ptr -44h
var_40		= dword	ptr -40h
var_3C		= dword	ptr -3Ch
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_24		= byte ptr -24h
var_18		= dword	ptr -18h
var_10		= dword	ptr -10h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 58h
		push	edi
		lea	edi, [ebp+var_58]
		mov	ecx, 16h
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+64h]
		mov	[ebp+var_10], ecx
		mov	[ebp+var_50], 0
		lea	edx, [ebp+var_24]
		push	edx
		lea	eax, [ebp+var_18]
		push	eax
		push	20h ; ' '
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+0BCh]
		push	edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0C0h]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_seek_to_table_type
		add	esp, 18h
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_2BD5
		mov	eax, [ebp+var_8]
		jmp	loc_2F92
; ---------------------------------------------------------------------------

loc_2BD5:				; CODE XREF: _pcf_get_encodings+57j
		push	0Eh
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_EnterFrame
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_2BF4
		mov	eax, [ebp+var_8]
		jmp	loc_2F92
; ---------------------------------------------------------------------------

loc_2BF4:				; CODE XREF: _pcf_get_encodings+76j
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_GetULongLE
		add	esp, 4
		mov	[ebp+var_18], eax
		mov	edx, [ebp+var_18]
		and	edx, 4
		jz	short loc_2C14
		mov	[ebp+var_54], 1
		jmp	short loc_2C1B
; ---------------------------------------------------------------------------

loc_2C14:				; CODE XREF: _pcf_get_encodings+95j
		mov	[ebp+var_54], 0

loc_2C1B:				; CODE XREF: _pcf_get_encodings+9Ej
		cmp	[ebp+var_54], 1
		jnz	short loc_2C7F
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_GetUShort
		add	esp, 4
		movsx	ecx, ax
		mov	[ebp+var_2C], ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_GetUShort
		add	esp, 4
		cwde
		mov	[ebp+var_30], eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_GetUShort
		add	esp, 4
		movsx	edx, ax
		mov	[ebp+var_34], edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_GetUShort
		add	esp, 4
		movsx	ecx, ax
		mov	[ebp+var_38], ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_GetUShort
		add	esp, 4
		mov	ecx, [ebp+arg_4]
		mov	[ecx+130h], ax
		jmp	short loc_2CD9
; ---------------------------------------------------------------------------

loc_2C7F:				; CODE XREF: _pcf_get_encodings+ABj
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_GetUShortLE
		add	esp, 4
		cwde
		mov	[ebp+var_2C], eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_GetUShortLE
		add	esp, 4
		movsx	edx, ax
		mov	[ebp+var_30], edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_GetUShortLE
		add	esp, 4
		movsx	ecx, ax
		mov	[ebp+var_34], ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_GetUShortLE
		add	esp, 4
		cwde
		mov	[ebp+var_38], eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_GetUShortLE
		add	esp, 4
		mov	edx, [ebp+arg_4]
		mov	[edx+130h], ax

loc_2CD9:				; CODE XREF: _pcf_get_encodings+109j
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ExitFrame
		add	esp, 4
		mov	ecx, [ebp+var_18]
		and	ecx, 0FFFFFF00h
		jz	short loc_2D0C
		push	offset $SG8034	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	370h
		push	3
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 3
		jmp	loc_2F92
; ---------------------------------------------------------------------------

loc_2D0C:				; CODE XREF: _pcf_get_encodings+17Aj
		cmp	[ebp+var_2C], 0
		jl	short loc_2D3A
		mov	edx, [ebp+var_2C]
		cmp	edx, [ebp+var_30]
		jg	short loc_2D3A
		cmp	[ebp+var_30], 0FFh
		jg	short loc_2D3A
		cmp	[ebp+var_34], 0
		jl	short loc_2D3A
		mov	eax, [ebp+var_34]
		cmp	eax, [ebp+var_38]
		jg	short loc_2D3A
		cmp	[ebp+var_38], 0FFh
		jle	short loc_2D56

loc_2D3A:				; CODE XREF: _pcf_get_encodings+19Cj
					; _pcf_get_encodings+1A4j ...
		push	offset $SG8037	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	379h
		push	8
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 8
		jmp	loc_2F92
; ---------------------------------------------------------------------------

loc_2D56:				; CODE XREF: _pcf_get_encodings+1C4j
					; _pcf_get_encodings+202j
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_2D74
		push	offset $SG8042	; "pdf_get_encodings:\n"
		call	_FT_Message
		add	esp, 4

loc_2D74:				; CODE XREF: _pcf_get_encodings+1F1j
		xor	eax, eax
		jnz	short loc_2D56

loc_2D78:				; CODE XREF: _pcf_get_encodings+234j
		mov	ecx, 4
		imul	edx, ecx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[edx], 4
		jl	short loc_2DA6
		mov	eax, [ebp+var_38]
		push	eax
		mov	ecx, [ebp+var_34]
		push	ecx
		mov	edx, [ebp+var_30]
		push	edx
		mov	eax, [ebp+var_2C]
		push	eax
		push	offset $SG8047	; "  firstCol %d, lastCol %d, firstRow %d,"...
		call	_FT_Message
		add	esp, 14h

loc_2DA6:				; CODE XREF: _pcf_get_encodings+213j
		xor	ecx, ecx
		jnz	short loc_2D78
		mov	edx, [ebp+var_30]
		sub	edx, [ebp+var_2C]
		add	edx, 1
		mov	eax, [ebp+var_38]
		sub	eax, [ebp+var_34]
		add	eax, 1
		imul	edx, eax
		mov	[ebp+var_3C], edx
		lea	ecx, [ebp+var_8]
		push	ecx
		push	0
		mov	edx, [ebp+var_3C]
		push	edx
		push	0
		push	8
		mov	eax, [ebp+var_10]
		push	eax
		call	_ft_mem_realloc
		add	esp, 18h
		mov	[ebp+var_50], eax
		cmp	[ebp+var_8], 0
		jz	short loc_2E01
		push	offset $SG8051	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	383h
		push	40h ; '@'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 40h
		jmp	loc_2F92
; ---------------------------------------------------------------------------

loc_2E01:				; CODE XREF: _pcf_get_encodings+26Fj
		mov	ecx, [ebp+var_3C]
		shl	ecx, 1
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_EnterFrame
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_2E21
		jmp	$Bail$46
; ---------------------------------------------------------------------------

loc_2E21:				; CODE XREF: _pcf_get_encodings+2A6j
		mov	[ebp+var_4C], 0
		mov	eax, [ebp+var_34]
		mov	[ebp+var_44], eax
		jmp	short loc_2E39
; ---------------------------------------------------------------------------

loc_2E30:				; CODE XREF: _pcf_get_encodings:loc_2F1Dj
		mov	ecx, [ebp+var_44]
		add	ecx, 1
		mov	[ebp+var_44], ecx

loc_2E39:				; CODE XREF: _pcf_get_encodings+2BAj
		mov	edx, [ebp+var_44]
		cmp	edx, [ebp+var_38]
		jg	loc_2F22
		mov	eax, [ebp+var_2C]
		mov	[ebp+var_48], eax
		jmp	short loc_2E56
; ---------------------------------------------------------------------------

loc_2E4D:				; CODE XREF: _pcf_get_encodings:loc_2F18j
		mov	ecx, [ebp+var_48]
		add	ecx, 1
		mov	[ebp+var_48], ecx

loc_2E56:				; CODE XREF: _pcf_get_encodings+2D7j
		mov	edx, [ebp+var_48]
		cmp	edx, [ebp+var_30]
		jg	loc_2F1D
		mov	eax, [ebp+var_18]
		and	eax, 4
		jz	short loc_2E73
		mov	[ebp+var_58], 1
		jmp	short loc_2E7A
; ---------------------------------------------------------------------------

loc_2E73:				; CODE XREF: _pcf_get_encodings+2F4j
		mov	[ebp+var_58], 0

loc_2E7A:				; CODE XREF: _pcf_get_encodings+2FDj
		cmp	[ebp+var_58], 1
		jnz	short loc_2E94
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_GetUShort
		add	esp, 4
		movsx	edx, ax
		mov	[ebp+var_40], edx
		jmp	short loc_2EA6
; ---------------------------------------------------------------------------

loc_2E94:				; CODE XREF: _pcf_get_encodings+30Aj
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_GetUShortLE
		add	esp, 4
		movsx	ecx, ax
		mov	[ebp+var_40], ecx

loc_2EA6:				; CODE XREF: _pcf_get_encodings+31Ej
		cmp	[ebp+var_40], 0FFFFFFFFh
		jz	short loc_2F18
		mov	edx, [ebp+var_44]
		shl	edx, 8
		add	edx, [ebp+var_48]
		mov	eax, [ebp+var_4C]
		mov	ecx, [ebp+var_50]
		mov	[ecx+eax*8], edx
		mov	edx, [ebp+var_4C]
		mov	eax, [ebp+var_50]
		mov	cx, word ptr [ebp+var_40]
		mov	[eax+edx*8+4], cx

loc_2ECD:				; CODE XREF: _pcf_get_encodings+399j
		mov	edx, 4
		imul	eax, edx, 3Fh
		cmp	dword ptr ds:_ft_trace_levels[eax], 5
		jl	short loc_2F0B
		mov	ecx, [ebp+var_4C]
		mov	edx, [ebp+var_50]
		movzx	eax, word ptr [edx+ecx*8+4]
		push	eax
		mov	ecx, [ebp+var_4C]
		mov	edx, [ebp+var_50]
		mov	eax, [edx+ecx*8]
		push	eax
		mov	ecx, [ebp+var_4C]
		mov	edx, [ebp+var_50]
		mov	eax, [edx+ecx*8]
		push	eax
		push	offset $SG8070	; "  code %d (0x%04X): idx %d\n"
		call	_FT_Message
		add	esp, 10h

loc_2F0B:				; CODE XREF: _pcf_get_encodings+368j
		xor	ecx, ecx
		jnz	short loc_2ECD
		mov	edx, [ebp+var_4C]
		add	edx, 1
		mov	[ebp+var_4C], edx

loc_2F18:				; CODE XREF: _pcf_get_encodings+336j
		jmp	loc_2E4D
; ---------------------------------------------------------------------------

loc_2F1D:				; CODE XREF: _pcf_get_encodings+2E8j
		jmp	loc_2E30
; ---------------------------------------------------------------------------

loc_2F22:				; CODE XREF: _pcf_get_encodings+2CBj
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ExitFrame
		add	esp, 4
		lea	ecx, [ebp+var_8]
		push	ecx
		mov	edx, [ebp+var_50]
		push	edx
		mov	eax, [ebp+var_4C]
		push	eax
		mov	ecx, [ebp+var_3C]
		push	ecx
		push	8
		mov	edx, [ebp+var_10]
		push	edx
		call	_ft_mem_realloc
		add	esp, 18h
		mov	[ebp+var_50], eax
		cmp	[ebp+var_8], 0
		jz	short loc_2F57
		jmp	short $Bail$46
; ---------------------------------------------------------------------------

loc_2F57:				; CODE XREF: _pcf_get_encodings+3DFj
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+var_4C]
		mov	[eax+128h], ecx
		mov	edx, [ebp+arg_4]
		mov	eax, [ebp+var_50]
		mov	[edx+12Ch], eax
		mov	eax, [ebp+var_8]
		jmp	short loc_2F92
; ---------------------------------------------------------------------------

$Bail$46:				; CODE XREF: _pcf_get_encodings+2A8j
					; _pcf_get_encodings+3E1j ...
		mov	ecx, [ebp+var_50]
		push	ecx
		mov	edx, [ebp+var_10]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	[ebp+var_50], 0
		xor	eax, eax
		jnz	short $Bail$46
		mov	eax, [ebp+var_8]

loc_2F92:				; CODE XREF: _pcf_get_encodings+5Cj
					; _pcf_get_encodings+7Bj ...
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN45
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		add	esp, 58h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_get_encodings endp

; ---------------------------------------------------------------------------
		align 4
$LN45		dd 3			; DATA XREF: _pcf_get_encodings+422o
		dd offset $LN44
$LN44		dd 0FFFFFFF8h, 4	; DATA XREF: .text$mn:00002FB8o
		dd offset $LN41		; "error"
		dd 0FFFFFFE8h, 4
		dd offset $LN42		; "format"
		dd 0FFFFFFDCh, 4
		dd offset $LN43		; "size"
$LN43		db 'size',0             ; DATA XREF: .text$mn:00002FDCo
$LN42		db 'format',0           ; DATA XREF: .text$mn:00002FD0o
$LN41		db 'error',0            ; DATA XREF: .text$mn:00002FC4o
		align 4

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_get_accel	proc near		; CODE XREF: _pcf_load_font+92p
					; _pcf_load_font+117p

var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_20		= dword	ptr -20h
var_14		= byte ptr -14h
var_8		= dword	ptr -8
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		sub	esp, 2Ch
		push	edi
		lea	edi, [ebp+var_2C]
		mov	ecx, 0Bh
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		add	eax, 0C4h ; 'Ä'
		mov	[ebp+var_28], eax
		lea	ecx, [ebp+var_14]
		push	ecx
		lea	edx, [ebp+var_8]
		push	edx
		mov	eax, [ebp+arg_8]
		push	eax
		mov	ecx, [ebp+arg_4]
		mov	edx, [ecx+0BCh]
		push	edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+0C0h]
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_seek_to_table_type
		add	esp, 18h
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jz	short loc_304F
		jmp	$Bail$23
; ---------------------------------------------------------------------------

loc_304F:				; CODE XREF: _pcf_get_accel+54j
		lea	eax, [ebp+var_20]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_FT_Stream_ReadULongLE
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_20], 0
		jz	short loc_306D
		jmp	$Bail$23
; ---------------------------------------------------------------------------

loc_306D:				; CODE XREF: _pcf_get_accel+72j
		mov	edx, [ebp+var_8]
		and	edx, 0FFFFFF00h
		jz	short loc_308C
		mov	eax, [ebp+var_8]
		and	eax, 0FFFFFF00h
		cmp	eax, 100h
		jz	short loc_308C
		jmp	$Bail$23
; ---------------------------------------------------------------------------

loc_308C:				; CODE XREF: _pcf_get_accel+82j
					; _pcf_get_accel+91j
		mov	ecx, [ebp+var_8]
		and	ecx, 4
		jz	short loc_309D
		mov	[ebp+var_2C], 1
		jmp	short loc_30A4
; ---------------------------------------------------------------------------

loc_309D:				; CODE XREF: _pcf_get_accel+9Ej
		mov	[ebp+var_2C], 0

loc_30A4:				; CODE XREF: _pcf_get_accel+A7j
		cmp	[ebp+var_2C], 1
		jnz	short loc_30CF
		mov	edx, [ebp+var_28]
		push	edx
		push	offset _pcf_accel_msb_header
		mov	eax, [ebp+arg_0]
		push	eax
		call	_FT_Stream_ReadFields
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jz	short loc_30CD
		jmp	$Bail$23
; ---------------------------------------------------------------------------

loc_30CD:				; CODE XREF: _pcf_get_accel+D2j
		jmp	short loc_30F2
; ---------------------------------------------------------------------------

loc_30CF:				; CODE XREF: _pcf_get_accel+B4j
		mov	ecx, [ebp+var_28]
		push	ecx
		push	offset _pcf_accel_header
		mov	edx, [ebp+arg_0]
		push	edx
		call	_FT_Stream_ReadFields
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jz	short loc_30F2
		jmp	$Bail$23
; ---------------------------------------------------------------------------

loc_30F2:				; CODE XREF: _pcf_get_accel:loc_30CDj
					; _pcf_get_accel+F7j
		mov	eax, [ebp+var_28]
		add	eax, 14h
		push	eax
		mov	ecx, [ebp+var_8]
		and	ecx, 0FFh
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_get_metric
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jz	short loc_311D
		jmp	$Bail$23
; ---------------------------------------------------------------------------

loc_311D:				; CODE XREF: _pcf_get_accel+122j
		mov	eax, [ebp+var_28]
		add	eax, 24h ; '$'
		push	eax
		mov	ecx, [ebp+var_8]
		and	ecx, 0FFh
		push	ecx
		mov	edx, [ebp+arg_0]
		push	edx
		call	_pcf_get_metric
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jz	short loc_3148
		jmp	$Bail$23
; ---------------------------------------------------------------------------

loc_3148:				; CODE XREF: _pcf_get_accel+14Dj
		mov	eax, [ebp+var_8]
		and	eax, 0FFFFFF00h
		cmp	eax, 100h
		jnz	short loc_31A9
		mov	ecx, [ebp+var_28]
		add	ecx, 34h ; '4'
		push	ecx
		mov	edx, [ebp+var_8]
		and	edx, 0FFh
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_pcf_get_metric
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jz	short loc_317F
		jmp	short $Bail$23
; ---------------------------------------------------------------------------

loc_317F:				; CODE XREF: _pcf_get_accel+187j
		mov	ecx, [ebp+var_28]
		add	ecx, 44h ; 'D'
		push	ecx
		mov	edx, [ebp+var_8]
		and	edx, 0FFh
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_pcf_get_metric
		add	esp, 0Ch
		mov	[ebp+var_20], eax
		cmp	[ebp+var_20], 0
		jz	short loc_31A7
		jmp	short $Bail$23
; ---------------------------------------------------------------------------

loc_31A7:				; CODE XREF: _pcf_get_accel+1AFj
		jmp	short $Bail$23
; ---------------------------------------------------------------------------

loc_31A9:				; CODE XREF: _pcf_get_accel+161j
		mov	ecx, [ebp+var_28]
		add	ecx, 14h
		mov	edx, [ebp+var_28]
		add	edx, 34h ; '4'
		mov	eax, [ecx]
		mov	[edx], eax
		mov	eax, [ecx+4]
		mov	[edx+4], eax
		mov	eax, [ecx+8]
		mov	[edx+8], eax
		mov	ecx, [ecx+0Ch]
		mov	[edx+0Ch], ecx
		mov	edx, [ebp+var_28]
		add	edx, 24h ; '$'
		mov	eax, [ebp+var_28]
		add	eax, 44h ; 'D'
		mov	ecx, [edx]
		mov	[eax], ecx
		mov	ecx, [edx+4]
		mov	[eax+4], ecx
		mov	ecx, [edx+8]
		mov	[eax+8], ecx
		mov	edx, [edx+0Ch]
		mov	[eax+0Ch], edx

$Bail$23:				; CODE XREF: _pcf_get_accel+56j
					; _pcf_get_accel+74j ...
		mov	eax, [ebp+var_20]
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN22
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		add	esp, 2Ch
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_get_accel	endp

; ---------------------------------------------------------------------------
$LN22		dd 3			; DATA XREF: _pcf_get_accel+200o
		dd offset $LN21
$LN21		dd 0FFFFFFF8h, 4	; DATA XREF: .text$mn:00003214o
		dd offset $LN18		; "format"
		dd 0FFFFFFECh, 4
		dd offset $LN19		; "size"
		dd 0FFFFFFE0h, 4
		dd offset $LN20		; "error"
$LN20		db 'error',0            ; DATA XREF: .text$mn:00003238o
$LN19		db 'size',0             ; DATA XREF: .text$mn:0000322Co
$LN18		db 'format',0           ; DATA XREF: .text$mn:00003220o
		db 6 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_interpret_style proc near		; CODE XREF: _pcf_load_font+179p

var_64		= dword	ptr -64h
var_60		= dword	ptr -60h
var_5C		= dword	ptr -5Ch
var_58		= dword	ptr -58h
var_50		= dword	ptr -50h
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_C		= dword	ptr -0Ch
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 64h
		push	edi
		lea	edi, [ebp+var_64]
		mov	ecx, 19h
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, dword ptr ds:___security_cookie
		xor	eax, ebp
		mov	[ebp+var_4], eax
		mov	[ebp+var_C], 0
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+64h]
		mov	[ebp+var_18], edx
		mov	[ebp+var_38], 0
		mov	[ebp+var_34], 0
		mov	[ebp+var_30], 0
		mov	[ebp+var_2C], 0
		mov	eax, [ebp+var_14]
		mov	dword ptr [eax+0Ch], 0
		push	offset $SG8224	; "SLANT"
		mov	ecx, [ebp+arg_0]
		push	ecx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	loc_335E
		mov	edx, [ebp+var_1C]
		movzx	eax, byte ptr [edx+4]
		test	eax, eax
		jz	loc_335E
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		cmp	eax, 4Fh ; 'O'
		jz	short loc_3315
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		cmp	eax, 6Fh ; 'o'
		jz	short loc_3315
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		cmp	eax, 49h ; 'I'
		jz	short loc_3315
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		cmp	eax, 69h ; 'i'
		jnz	short loc_335E

loc_3315:				; CODE XREF: _pcf_interpret_style+95j
					; _pcf_interpret_style+A3j ...
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+0Ch]
		or	edx, 1
		mov	eax, [ebp+var_14]
		mov	[eax+0Ch], edx
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		cmp	eax, 4Fh ; 'O'
		jz	short loc_3349
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		cmp	eax, 6Fh ; 'o'
		jz	short loc_3349
		mov	[ebp+var_64], offset $SG8230 ; "Italic"
		jmp	short loc_3350
; ---------------------------------------------------------------------------

loc_3349:				; CODE XREF: _pcf_interpret_style+DCj
					; _pcf_interpret_style+EAj
		mov	[ebp+var_64], offset $SG8229 ; "Oblique"

loc_3350:				; CODE XREF: _pcf_interpret_style+F3j
		mov	ecx, 4
		shl	ecx, 1
		mov	edx, [ebp+var_64]
		mov	[ebp+ecx+var_38], edx

loc_335E:				; CODE XREF: _pcf_interpret_style+74j
					; _pcf_interpret_style+83j ...
		push	offset $SG8231	; "WEIGHT_NAME"
		mov	eax, [ebp+arg_0]
		push	eax		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_33BE
		mov	ecx, [ebp+var_1C]
		movzx	edx, byte ptr [ecx+4]
		test	edx, edx
		jz	short loc_33BE
		mov	eax, [ebp+var_1C]
		mov	ecx, [eax+8]
		movsx	edx, byte ptr [ecx]
		cmp	edx, 42h ; 'B'
		jz	short loc_339F
		mov	eax, [ebp+var_1C]
		mov	ecx, [eax+8]
		movsx	edx, byte ptr [ecx]
		cmp	edx, 62h ; 'b'
		jnz	short loc_33BE

loc_339F:				; CODE XREF: _pcf_interpret_style+13Bj
		mov	eax, [ebp+var_14]
		mov	ecx, [eax+0Ch]
		or	ecx, 2
		mov	edx, [ebp+var_14]
		mov	[edx+0Ch], ecx
		mov	eax, 4
		shl	eax, 0
		mov	[ebp+eax+var_38], offset $SG8235 ; "Bold"

loc_33BE:				; CODE XREF: _pcf_interpret_style+122j
					; _pcf_interpret_style+12Dj ...
		push	offset $SG8236	; "SETWIDTH_NAME"
		mov	ecx, [ebp+arg_0]
		push	ecx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_341E
		mov	edx, [ebp+var_1C]
		movzx	eax, byte ptr [edx+4]
		test	eax, eax
		jz	short loc_341E
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		test	eax, eax
		jz	short loc_341E
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		cmp	eax, 4Eh ; 'N'
		jz	short loc_341E
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		movsx	eax, byte ptr [edx]
		cmp	eax, 6Eh ; 'n'
		jz	short loc_341E
		mov	ecx, 4
		imul	edx, ecx, 3
		mov	eax, [ebp+var_1C]
		mov	ecx, [eax+8]
		mov	[ebp+edx+var_38], ecx

loc_341E:				; CODE XREF: _pcf_interpret_style+182j
					; _pcf_interpret_style+18Dj ...
		push	offset $SG8239	; "ADD_STYLE_NAME"
		mov	edx, [ebp+arg_0]
		push	edx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_1C], eax
		cmp	[ebp+var_1C], 0
		jz	short loc_347E
		mov	eax, [ebp+var_1C]
		movzx	ecx, byte ptr [eax+4]
		test	ecx, ecx
		jz	short loc_347E
		mov	edx, [ebp+var_1C]
		mov	eax, [edx+8]
		movsx	ecx, byte ptr [eax]
		test	ecx, ecx
		jz	short loc_347E
		mov	edx, [ebp+var_1C]
		mov	eax, [edx+8]
		movsx	ecx, byte ptr [eax]
		cmp	ecx, 4Eh ; 'N'
		jz	short loc_347E
		mov	edx, [ebp+var_1C]
		mov	eax, [edx+8]
		movsx	ecx, byte ptr [eax]
		cmp	ecx, 6Eh ; 'n'
		jz	short loc_347E
		mov	edx, 4
		imul	eax, edx, 0
		mov	ecx, [ebp+var_1C]
		mov	edx, [ecx+8]
		mov	[ebp+eax+var_38], edx

loc_347E:				; CODE XREF: _pcf_interpret_style+1E2j
					; _pcf_interpret_style+1EDj ...
		mov	[ebp+var_24], 0
		mov	[ebp+var_20], 0
		jmp	short loc_3497
; ---------------------------------------------------------------------------

loc_348E:				; CODE XREF: _pcf_interpret_style:loc_34DAj
		mov	eax, [ebp+var_20]
		add	eax, 1
		mov	[ebp+var_20], eax

loc_3497:				; CODE XREF: _pcf_interpret_style+238j
		cmp	[ebp+var_20], 4
		jnb	short loc_34DC
		mov	ecx, [ebp+var_20]
		mov	[ebp+ecx*4+var_50], 0
		mov	edx, [ebp+var_20]
		cmp	[ebp+edx*4+var_38], 0
		jz	short loc_34DA
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+eax*4+var_38]
		push	ecx		; char *
		call	_strlen
		add	esp, 4
		mov	edx, [ebp+var_20]
		mov	[ebp+edx*4+var_50], eax
		mov	eax, [ebp+var_20]
		mov	ecx, [ebp+eax*4+var_50]
		mov	edx, [ebp+var_24]
		lea	eax, [edx+ecx+1]
		mov	[ebp+var_24], eax

loc_34DA:				; CODE XREF: _pcf_interpret_style+25Cj
		jmp	short loc_348E
; ---------------------------------------------------------------------------

loc_34DC:				; CODE XREF: _pcf_interpret_style+247j
		cmp	[ebp+var_24], 0
		jnz	short loc_3525
		mov	ecx, 4
		imul	edx, ecx, 0
		mov	[ebp+edx+var_38], offset $SG8248 ; "Regular"
		mov	eax, 4
		imul	ecx, eax, 0
		mov	edx, [ebp+ecx+var_38]
		push	edx		; char *
		call	_strlen
		add	esp, 4
		mov	ecx, 4
		imul	edx, ecx, 0
		mov	[ebp+edx+var_50], eax
		mov	eax, 4
		imul	ecx, eax, 0
		mov	edx, [ebp+ecx+var_50]
		add	edx, 1
		mov	[ebp+var_24], edx

loc_3525:				; CODE XREF: _pcf_interpret_style+28Cj
		lea	eax, [ebp+var_C]
		push	eax
		mov	ecx, [ebp+var_24]
		push	ecx
		mov	edx, [ebp+var_18]
		push	edx
		call	_ft_mem_alloc
		add	esp, 0Ch
		mov	ecx, [ebp+var_14]
		mov	[ecx+18h], eax
		cmp	[ebp+var_C], 0
		jz	short loc_354D
		mov	eax, [ebp+var_C]
		jmp	loc_3612
; ---------------------------------------------------------------------------

loc_354D:				; CODE XREF: _pcf_interpret_style+2EFj
		mov	edx, [ebp+var_14]
		mov	eax, [edx+18h]
		mov	[ebp+var_58], eax
		mov	[ebp+var_20], 0
		jmp	short loc_3568
; ---------------------------------------------------------------------------

loc_355F:				; CODE XREF: _pcf_interpret_style+338j
					; _pcf_interpret_style+3B0j
		mov	ecx, [ebp+var_20]
		add	ecx, 1
		mov	[ebp+var_20], ecx

loc_3568:				; CODE XREF: _pcf_interpret_style+309j
		cmp	[ebp+var_20], 4
		jnb	loc_3609
		mov	edx, [ebp+var_20]
		mov	eax, [ebp+edx*4+var_38]
		mov	[ebp+var_5C], eax
		mov	ecx, [ebp+var_20]
		mov	edx, [ebp+ecx*4+var_50]
		mov	[ebp+var_24], edx
		cmp	[ebp+var_5C], 0
		jnz	short loc_358E
		jmp	short loc_355F
; ---------------------------------------------------------------------------

loc_358E:				; CODE XREF: _pcf_interpret_style+336j
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+var_58]
		cmp	ecx, [eax+18h]
		jz	short loc_35A8
		mov	edx, [ebp+var_58]
		mov	byte ptr [edx],	20h ; ' '
		mov	eax, [ebp+var_58]
		add	eax, 1
		mov	[ebp+var_58], eax

loc_35A8:				; CODE XREF: _pcf_interpret_style+343j
		mov	ecx, [ebp+var_24]
		push	ecx		; size_t
		mov	edx, [ebp+var_5C]
		push	edx		; void *
		mov	eax, [ebp+var_58]
		push	eax		; void *
		call	_memcpy
		add	esp, 0Ch
		cmp	[ebp+var_20], 0
		jz	short loc_35C8
		cmp	[ebp+var_20], 3
		jnz	short loc_35FB

loc_35C8:				; CODE XREF: _pcf_interpret_style+36Cj
		mov	[ebp+var_60], 0
		jmp	short loc_35DA
; ---------------------------------------------------------------------------

loc_35D1:				; CODE XREF: _pcf_interpret_style:loc_35F9j
		mov	ecx, [ebp+var_60]
		add	ecx, 1
		mov	[ebp+var_60], ecx

loc_35DA:				; CODE XREF: _pcf_interpret_style+37Bj
		mov	edx, [ebp+var_60]
		cmp	edx, [ebp+var_24]
		jnb	short loc_35FB
		mov	eax, [ebp+var_58]
		add	eax, [ebp+var_60]
		movsx	ecx, byte ptr [eax]
		cmp	ecx, 20h ; ' '
		jnz	short loc_35F9
		mov	edx, [ebp+var_58]
		add	edx, [ebp+var_60]
		mov	byte ptr [edx],	2Dh ; '-'

loc_35F9:				; CODE XREF: _pcf_interpret_style+39Aj
		jmp	short loc_35D1
; ---------------------------------------------------------------------------

loc_35FB:				; CODE XREF: _pcf_interpret_style+372j
					; _pcf_interpret_style+38Cj
		mov	eax, [ebp+var_58]
		add	eax, [ebp+var_24]
		mov	[ebp+var_58], eax
		jmp	loc_355F
; ---------------------------------------------------------------------------

loc_3609:				; CODE XREF: _pcf_interpret_style+318j
		mov	ecx, [ebp+var_58]
		mov	byte ptr [ecx],	0
		mov	eax, [ebp+var_C]

loc_3612:				; CODE XREF: _pcf_interpret_style+2F4j
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN32_0
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		mov	ecx, [ebp+var_4]
		xor	ecx, ebp
		call	@__security_check_cookie@4
		add	esp, 64h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_interpret_style endp

; ---------------------------------------------------------------------------
$LN32_0		dd 3			; DATA XREF: _pcf_interpret_style+3C2o
		dd offset $LN31
$LN31		dd 0FFFFFFF4h, 4	; DATA XREF: .text$mn:00003640o
		dd offset $LN28		; "error"
		dd 0FFFFFFC8h, 10h
		dd offset $LN29		; "strings"
		dd 0FFFFFFB0h, 10h
		dd offset $LN30		; "lengths"
$LN30		db 'lengths',0          ; DATA XREF: .text$mn:00003664o
$LN29		db 'strings',0          ; DATA XREF: .text$mn:00003658o
$LN28		db 'error',0            ; DATA XREF: .text$mn:0000364Co
		db 6 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_cmap_init	proc near		; DATA XREF: .rdata:00000C00o

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 8
		mov	[ebp+var_8], 0CCCCCCCCh
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_4]
		mov	[ebp+arg_4], eax
		mov	ecx, [ebp+var_4]
		mov	edx, [ebp+var_8]
		mov	eax, [edx+128h]
		mov	[ecx+10h], eax
		mov	ecx, [ebp+var_4]
		mov	edx, [ebp+var_8]
		mov	eax, [edx+12Ch]
		mov	[ecx+14h], eax
		xor	eax, eax
		mov	esp, ebp
		pop	ebp
		retn
_pcf_cmap_init	endp

; ---------------------------------------------------------------------------
		db 4 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_cmap_done	proc near		; DATA XREF: .rdata:00000C04o

var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+var_4]
		mov	dword ptr [ecx+14h], 0
		mov	edx, [ebp+var_4]
		mov	dword ptr [edx+10h], 0
		mov	esp, ebp
		pop	ebp
		retn
_pcf_cmap_done	endp

; ---------------------------------------------------------------------------
		db 7 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_cmap_char_index proc near		; DATA XREF: .rdata:00000C08o

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 1Ch
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_1C], eax
		mov	[ebp+var_18], eax
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+14h]
		mov	[ebp+var_8], edx
		mov	[ebp+var_18], 0
		mov	[ebp+var_C], 0
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+10h]
		mov	[ebp+var_10], ecx

loc_374A:				; CODE XREF: _pcf_cmap_char_index:loc_379Dj
		mov	edx, [ebp+var_C]
		cmp	edx, [ebp+var_10]
		jnb	short loc_379F
		mov	eax, [ebp+var_C]
		add	eax, [ebp+var_10]
		shr	eax, 1
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_14]
		mov	edx, [ebp+var_8]
		mov	eax, [edx+ecx*8]
		mov	[ebp+var_1C], eax
		mov	ecx, [ebp+arg_4]
		cmp	ecx, [ebp+var_1C]
		jnz	short loc_3784
		mov	edx, [ebp+var_14]
		mov	eax, [ebp+var_8]
		movzx	ecx, word ptr [eax+edx*8+4]
		add	ecx, 1
		mov	[ebp+var_18], ecx
		jmp	short loc_379F
; ---------------------------------------------------------------------------

loc_3784:				; CODE XREF: _pcf_cmap_char_index+6Bj
		mov	edx, [ebp+arg_4]
		cmp	edx, [ebp+var_1C]
		jnb	short loc_3794
		mov	eax, [ebp+var_14]
		mov	[ebp+var_10], eax
		jmp	short loc_379D
; ---------------------------------------------------------------------------

loc_3794:				; CODE XREF: _pcf_cmap_char_index+86j
		mov	ecx, [ebp+var_14]
		add	ecx, 1
		mov	[ebp+var_C], ecx

loc_379D:				; CODE XREF: _pcf_cmap_char_index+8Ej
		jmp	short loc_374A
; ---------------------------------------------------------------------------

loc_379F:				; CODE XREF: _pcf_cmap_char_index+4Cj
					; _pcf_cmap_char_index+7Ej
		mov	eax, [ebp+var_18]
		mov	esp, ebp
		pop	ebp
		retn
_pcf_cmap_char_index endp

; ---------------------------------------------------------------------------
		db 0Eh dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_cmap_char_next proc near		; DATA XREF: .rdata:00000C0Co

var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 20h
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_20], eax
		mov	[ebp+var_1C], eax
		mov	[ebp+var_18], eax
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+14h]
		mov	[ebp+var_8], edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		add	ecx, 1
		mov	[ebp+var_18], ecx
		mov	[ebp+var_1C], 0
		mov	[ebp+var_C], 0
		mov	edx, [ebp+var_4]
		mov	eax, [edx+10h]
		mov	[ebp+var_10], eax

loc_3808:				; CODE XREF: _pcf_cmap_char_next:loc_385Bj
		mov	ecx, [ebp+var_C]
		cmp	ecx, [ebp+var_10]
		jnb	short loc_385D
		mov	edx, [ebp+var_C]
		add	edx, [ebp+var_10]
		shr	edx, 1
		mov	[ebp+var_14], edx
		mov	eax, [ebp+var_14]
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx+eax*8]
		mov	[ebp+var_20], edx
		mov	eax, [ebp+var_18]
		cmp	eax, [ebp+var_20]
		jnz	short loc_3842
		mov	ecx, [ebp+var_14]
		mov	edx, [ebp+var_8]
		movzx	eax, word ptr [edx+ecx*8+4]
		add	eax, 1
		mov	[ebp+var_1C], eax
		jmp	short $Exit$15
; ---------------------------------------------------------------------------

loc_3842:				; CODE XREF: _pcf_cmap_char_next+79j
		mov	ecx, [ebp+var_18]
		cmp	ecx, [ebp+var_20]
		jnb	short loc_3852
		mov	edx, [ebp+var_14]
		mov	[ebp+var_10], edx
		jmp	short loc_385B
; ---------------------------------------------------------------------------

loc_3852:				; CODE XREF: _pcf_cmap_char_next+94j
		mov	eax, [ebp+var_14]
		add	eax, 1
		mov	[ebp+var_C], eax

loc_385B:				; CODE XREF: _pcf_cmap_char_next+9Cj
		jmp	short loc_3808
; ---------------------------------------------------------------------------

loc_385D:				; CODE XREF: _pcf_cmap_char_next+5Aj
		mov	[ebp+var_18], 0
		mov	ecx, [ebp+var_4]
		mov	edx, [ebp+var_C]
		cmp	edx, [ecx+10h]
		jnb	short $Exit$15
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+var_8]
		mov	edx, [ecx+eax*8]
		mov	[ebp+var_18], edx
		mov	eax, [ebp+var_C]
		mov	ecx, [ebp+var_8]
		movzx	edx, word ptr [ecx+eax*8+4]
		add	edx, 1
		mov	[ebp+var_1C], edx

$Exit$15:				; CODE XREF: _pcf_cmap_char_next+8Cj
					; _pcf_cmap_char_next+B9j
		cmp	[ebp+var_18], 0FFFFFFFFh
		jbe	short loc_38BF

loc_3892:				; CODE XREF: _pcf_cmap_char_next+FEj
		mov	eax, 4
		imul	ecx, eax, 3Eh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 1
		jl	short loc_38B0
		push	offset $SG8496	; "pcf_cmap_char_next: charcode	0x%x > 32b"...
		call	_FT_Message
		add	esp, 4

loc_38B0:				; CODE XREF: _pcf_cmap_char_next+EDj
		xor	edx, edx
		jnz	short loc_3892
		mov	eax, [ebp+arg_4]
		mov	dword ptr [eax], 0
		jmp	short loc_38C7
; ---------------------------------------------------------------------------

loc_38BF:				; CODE XREF: _pcf_cmap_char_next+DCj
		mov	ecx, [ebp+arg_4]
		mov	edx, [ebp+var_18]
		mov	[ecx], edx

loc_38C7:				; CODE XREF: _pcf_cmap_char_next+109j
		mov	eax, [ebp+var_1C]
		add	esp, 20h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_cmap_char_next endp

; ---------------------------------------------------------------------------
		db 0Ch dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_PCF_Face_Done	proc near		; CODE XREF: _PCF_Face_Init+6Bp
					; _PCF_Face_Init+140p ...

var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8

		push	ebp
		mov	ebp, esp
		sub	esp, 10h
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		mov	[ebp+var_4], eax
		cmp	[ebp+var_4], 0
		jnz	short loc_390C
		jmp	loc_3B22
; ---------------------------------------------------------------------------

loc_390C:				; CODE XREF: _PCF_Face_Done+21j
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+64h]
		mov	[ebp+var_8], edx

loc_3915:				; CODE XREF: _PCF_Face_Done+56j
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+12Ch]
		push	ecx
		mov	edx, [ebp+var_8]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	eax, [ebp+var_4]
		mov	dword ptr [eax+12Ch], 0
		xor	ecx, ecx
		jnz	short loc_3915

loc_393C:				; CODE XREF: _PCF_Face_Done+7Dj
		mov	edx, [ebp+var_4]
		mov	eax, [edx+124h]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		call	_ft_mem_free
		add	esp, 8
		mov	edx, [ebp+var_4]
		mov	dword ptr [edx+124h], 0
		xor	eax, eax
		jnz	short loc_393C
		mov	ecx, [ebp+var_4]
		cmp	dword ptr [ecx+11Ch], 0
		jz	loc_3A19
		mov	[ebp+var_C], 0
		jmp	short loc_3985
; ---------------------------------------------------------------------------

loc_397C:				; CODE XREF: _PCF_Face_Done:loc_39F0j
		mov	edx, [ebp+var_C]
		add	edx, 1
		mov	[ebp+var_C], edx

loc_3985:				; CODE XREF: _PCF_Face_Done+96j
		mov	eax, [ebp+var_4]
		mov	ecx, [ebp+var_C]
		cmp	ecx, [eax+118h]
		jge	short loc_39F2
		imul	edx, [ebp+var_C], 0Ch
		mov	eax, [ebp+var_4]
		add	edx, [eax+11Ch]
		mov	[ebp+var_10], edx
		jz	short loc_39F0

loc_39A5:				; CODE XREF: _PCF_Face_Done+DEj
		mov	ecx, [ebp+var_10]
		mov	edx, [ecx]
		push	edx
		mov	eax, [ebp+var_8]
		push	eax
		call	_ft_mem_free
		add	esp, 8
		mov	ecx, [ebp+var_10]
		mov	dword ptr [ecx], 0
		xor	edx, edx
		jnz	short loc_39A5
		mov	eax, [ebp+var_10]
		movzx	ecx, byte ptr [eax+4]
		test	ecx, ecx
		jz	short loc_39F0

loc_39CF:				; CODE XREF: _PCF_Face_Done+10Aj
		mov	edx, [ebp+var_10]
		mov	eax, [edx+8]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		call	_ft_mem_free
		add	esp, 8
		mov	edx, [ebp+var_10]
		mov	dword ptr [edx+8], 0
		xor	eax, eax
		jnz	short loc_39CF

loc_39F0:				; CODE XREF: _PCF_Face_Done+BFj
					; _PCF_Face_Done+E9j
		jmp	short loc_397C
; ---------------------------------------------------------------------------

loc_39F2:				; CODE XREF: _PCF_Face_Done+ADj
					; _PCF_Face_Done+133j
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+11Ch]
		push	edx
		mov	eax, [ebp+var_8]
		push	eax
		call	_ft_mem_free
		add	esp, 8
		mov	ecx, [ebp+var_4]
		mov	dword ptr [ecx+11Ch], 0
		xor	edx, edx
		jnz	short loc_39F2

loc_3A19:				; CODE XREF: _PCF_Face_Done+89j
					; _PCF_Face_Done+15Aj
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+0C0h]
		push	ecx
		mov	edx, [ebp+var_8]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	eax, [ebp+var_4]
		mov	dword ptr [eax+0C0h], 0
		xor	ecx, ecx
		jnz	short loc_3A19

loc_3A40:				; CODE XREF: _PCF_Face_Done+17Bj
		mov	edx, [ebp+arg_0]
		mov	eax, [edx+14h]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		call	_ft_mem_free
		add	esp, 8
		mov	edx, [ebp+arg_0]
		mov	dword ptr [edx+14h], 0
		xor	eax, eax
		jnz	short loc_3A40

loc_3A61:				; CODE XREF: _PCF_Face_Done+19Cj
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+18h]
		push	edx
		mov	eax, [ebp+var_8]
		push	eax
		call	_ft_mem_free
		add	esp, 8
		mov	ecx, [ebp+arg_0]
		mov	dword ptr [ecx+18h], 0
		xor	edx, edx
		jnz	short loc_3A61

loc_3A82:				; CODE XREF: _PCF_Face_Done+1BDj
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax+20h]
		push	ecx
		mov	edx, [ebp+var_8]
		push	edx
		call	_ft_mem_free
		add	esp, 8
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+20h], 0
		xor	ecx, ecx
		jnz	short loc_3A82

loc_3AA3:				; CODE XREF: _PCF_Face_Done+1E4j
		mov	edx, [ebp+var_4]
		mov	eax, [edx+0B0h]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		call	_ft_mem_free
		add	esp, 8
		mov	edx, [ebp+var_4]
		mov	dword ptr [edx+0B0h], 0
		xor	eax, eax
		jnz	short loc_3AA3

loc_3ACA:				; CODE XREF: _PCF_Face_Done+20Bj
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+0B4h]
		push	edx
		mov	eax, [ebp+var_8]
		push	eax
		call	_ft_mem_free
		add	esp, 8
		mov	ecx, [ebp+var_4]
		mov	dword ptr [ecx+0B4h], 0
		xor	edx, edx
		jnz	short loc_3ACA
		mov	eax, [ebp+var_4]
		add	eax, 84h ; '„'
		mov	ecx, [ebp+arg_0]
		cmp	[ecx+68h], eax
		jnz	short loc_3B22
		mov	edx, [ebp+var_4]
		add	edx, 84h ; '„'
		push	edx
		call	_FT_Stream_Close
		add	esp, 4
		mov	eax, [ebp+arg_0]
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+0ACh]
		mov	[eax+68h], edx

loc_3B22:				; CODE XREF: _PCF_Face_Done+23j
					; _PCF_Face_Done+21Bj
		add	esp, 10h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_PCF_Face_Done	endp

; ---------------------------------------------------------------------------
		db 4 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_PCF_Face_Init	proc near		; DATA XREF: .rdata:00000BB4o

var_34		= byte ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= word ptr -28h
var_26		= word ptr -26h
var_20		= dword	ptr -20h
var_19		= byte ptr -19h
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h
arg_10		= dword	ptr  18h

		push	ebp
		mov	ebp, esp
		sub	esp, 34h
		push	edi
		lea	edi, [ebp+var_34]
		mov	ecx, 0Dh
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	[ebp+var_4], eax
		mov	ecx, [ebp+arg_C]
		mov	[ebp+arg_C], ecx
		mov	edx, [ebp+arg_10]
		mov	[ebp+arg_10], edx

loc_3B5C:				; CODE XREF: _PCF_Face_Init+48j
		mov	eax, 4
		imul	ecx, eax, 3Eh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 2
		jl	short loc_3B7A
		push	offset $SG8587	; "PCF driver\n"
		call	_FT_Message
		add	esp, 4

loc_3B7A:				; CODE XREF: _PCF_Face_Init+37j
		xor	edx, edx
		jnz	short loc_3B5C
		mov	eax, [ebp+var_4]
		push	eax
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_pcf_load_font
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	loc_3C5D
		mov	edx, [ebp+arg_4]
		push	edx
		call	_PCF_Face_Done
		add	esp, 4
		mov	eax, [ebp+arg_0]
		push	eax
		mov	ecx, [ebp+var_4]
		add	ecx, 84h ; '„'
		push	ecx
		call	_FT_Stream_OpenGzip
		add	esp, 8
		mov	[ebp+var_C], eax
		mov	edx, [ebp+var_C]
		and	edx, 0FFh
		cmp	edx, 7
		jnz	short loc_3BD3
		jmp	$Fail$29
; ---------------------------------------------------------------------------

loc_3BD3:				; CODE XREF: _PCF_Face_Init+98j
		mov	eax, [ebp+var_C]
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_3C10
		mov	ecx, [ebp+arg_0]
		push	ecx
		mov	edx, [ebp+var_4]
		add	edx, 84h ; '„'
		push	edx
		call	_FT_Stream_OpenLZW
		add	esp, 8
		mov	[ebp+var_10], eax
		mov	eax, [ebp+var_10]
		and	eax, 0FFh
		cmp	eax, 7
		jnz	short loc_3C0A
		jmp	$Fail$29
; ---------------------------------------------------------------------------

loc_3C0A:				; CODE XREF: _PCF_Face_Init+CFj
		mov	ecx, [ebp+var_10]
		mov	[ebp+var_8], ecx

loc_3C10:				; CODE XREF: _PCF_Face_Init+A9j
		cmp	[ebp+var_8], 0
		jz	short loc_3C1B
		jmp	$Fail$29
; ---------------------------------------------------------------------------

loc_3C1B:				; CODE XREF: _PCF_Face_Init+E0j
		mov	edx, [ebp+var_4]
		mov	eax, [ebp+arg_0]
		mov	[edx+0ACh], eax
		mov	ecx, [ebp+var_4]
		add	ecx, 84h ; '„'
		mov	edx, [ebp+arg_4]
		mov	[edx+68h], ecx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax+68h]
		mov	[ebp+arg_0], ecx
		mov	edx, [ebp+var_4]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_pcf_load_font
		add	esp, 8
		mov	[ebp+var_8], eax
		cmp	[ebp+var_8], 0
		jz	short loc_3C5D
		jmp	$Fail$29
; ---------------------------------------------------------------------------

loc_3C5D:				; CODE XREF: _PCF_Face_Init+61j
					; _PCF_Face_Init+122j
		cmp	[ebp+arg_8], 0
		jle	short loc_3C98
		push	offset $SG8598	; "PCF_Face_Init: invalid face index\n"
		call	_FT_Message
		add	esp, 4
		mov	ecx, [ebp+arg_4]
		push	ecx
		call	_PCF_Face_Done
		add	esp, 4
		push	offset $SG8599	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	165h
		push	6
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 6
		jmp	loc_3E3B
; ---------------------------------------------------------------------------

loc_3C98:				; CODE XREF: _PCF_Face_Init+12Dj
		mov	edx, [ebp+var_4]
		mov	eax, [edx+0B4h]
		mov	[ebp+var_14], eax
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+0B0h]
		mov	[ebp+var_18], edx
		mov	[ebp+var_19], 0
		cmp	[ebp+var_14], 0
		jz	loc_3D9A
		cmp	[ebp+var_18], 0
		jz	loc_3D9A
		mov	eax, [ebp+var_14]
		mov	[ebp+var_20], eax
		mov	ecx, 1
		imul	edx, ecx, 0
		mov	eax, [ebp+var_20]
		movsx	ecx, byte ptr [eax+edx]
		cmp	ecx, 69h ; 'i'
		jz	short loc_3CFA
		mov	edx, 1
		imul	eax, edx, 0
		mov	ecx, [ebp+var_20]
		movsx	edx, byte ptr [ecx+eax]
		cmp	edx, 49h ; 'I'
		jnz	loc_3D9A

loc_3CFA:				; CODE XREF: _PCF_Face_Init+1ACj
		mov	eax, 1
		shl	eax, 0
		mov	ecx, [ebp+var_20]
		movsx	edx, byte ptr [ecx+eax]
		cmp	edx, 73h ; 's'
		jz	short loc_3D22
		mov	eax, 1
		shl	eax, 0
		mov	ecx, [ebp+var_20]
		movsx	edx, byte ptr [ecx+eax]
		cmp	edx, 53h ; 'S'
		jnz	short loc_3D9A

loc_3D22:				; CODE XREF: _PCF_Face_Init+1D8j
		mov	eax, 1
		shl	eax, 1
		mov	ecx, [ebp+var_20]
		movsx	edx, byte ptr [ecx+eax]
		cmp	edx, 6Fh ; 'o'
		jz	short loc_3D48
		mov	eax, 1
		shl	eax, 1
		mov	ecx, [ebp+var_20]
		movsx	edx, byte ptr [ecx+eax]
		cmp	edx, 4Fh ; 'O'
		jnz	short loc_3D9A

loc_3D48:				; CODE XREF: _PCF_Face_Init+1FFj
		mov	eax, [ebp+var_20]
		add	eax, 3
		mov	[ebp+var_20], eax
		push	offset $SG8611	; "10646"
		mov	ecx, [ebp+var_20]
		push	ecx		; char *
		call	_strcmp
		add	esp, 8
		test	eax, eax
		jz	short loc_3D96
		push	offset $SG8612	; "8859"
		mov	edx, [ebp+var_20]
		push	edx		; char *
		call	_strcmp
		add	esp, 8
		test	eax, eax
		jnz	short loc_3D9A
		push	offset $SG8613	; char *
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+0B0h]
		push	ecx		; char *
		call	_strcmp
		add	esp, 8
		test	eax, eax
		jnz	short loc_3D9A

loc_3D96:				; CODE XREF: _PCF_Face_Init+230j
		mov	[ebp+var_19], 1

loc_3D9A:				; CODE XREF: _PCF_Face_Init+184j
					; _PCF_Face_Init+18Ej ...
		mov	edx, [ebp+var_4]
		mov	[ebp+var_30], edx
		mov	[ebp+var_2C], 0
		xor	eax, eax
		mov	[ebp+var_28], ax
		xor	ecx, ecx
		mov	[ebp+var_26], cx
		movzx	edx, [ebp+var_19]
		test	edx, edx
		jz	short loc_3DD4
		mov	[ebp+var_2C], 756E6963h
		mov	eax, 3
		mov	[ebp+var_28], ax
		mov	ecx, 1
		mov	[ebp+var_26], cx

loc_3DD4:				; CODE XREF: _PCF_Face_Init+285j
		push	0
		lea	edx, [ebp+var_30]
		push	edx
		push	0
		push	offset _pcf_cmap_class
		call	_FT_CMap_New
		add	esp, 10h
		mov	[ebp+var_8], eax

$Exit$30:				; CODE XREF: _PCF_Face_Init+305j
		mov	eax, [ebp+var_8]
		jmp	short loc_3E3B
; ---------------------------------------------------------------------------

$Fail$29:				; CODE XREF: _PCF_Face_Init+9Aj
					; _PCF_Face_Init+D1j ...
		mov	eax, 4
		imul	ecx, eax, 3Eh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 2
		jl	short loc_3E0F
		push	offset $SG8624	; "  not a PCF file\n"
		call	_FT_Message
		add	esp, 4

loc_3E0F:				; CODE XREF: _PCF_Face_Init+2CCj
		xor	edx, edx
		jnz	short $Fail$29
		mov	eax, [ebp+arg_4]
		push	eax
		call	_PCF_Face_Done
		add	esp, 4
		push	offset $SG8625	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	1A3h
		push	2
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 2
		mov	[ebp+var_8], eax
		jmp	short $Exit$30
; ---------------------------------------------------------------------------

loc_3E3B:				; CODE XREF: _PCF_Face_Init+15Fj
					; _PCF_Face_Init+2BBj
		push	edx
		mov	ecx, ebp
		push	eax
		lea	edx, $LN28_0
		call	@_RTC_CheckStackVars@8
		pop	eax
		pop	edx
		pop	edi
		add	esp, 34h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_PCF_Face_Init	endp

; ---------------------------------------------------------------------------
		align 4
$LN28_0		dd 1			; DATA XREF: _PCF_Face_Init+30Bo
		dd offset $LN27
$LN27		dd 0FFFFFFD0h, 0Ch	; DATA XREF: .text$mn:00003E60o
		dd offset $LN26		; "charmap"
$LN26		db 'charmap',0          ; DATA XREF: .text$mn:00003E6Co
		db 0Ch dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_PCF_Size_Select proc near		; CODE XREF: _PCF_Size_Request+F5p
					; DATA XREF: .rdata:00000BE0o

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		add	ecx, 0C4h ; 'Ä'
		mov	[ebp+var_4], ecx
		mov	edx, [ebp+arg_4]
		push	edx
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		push	ecx
		call	_FT_Select_Metrics
		add	esp, 8
		mov	edx, [ebp+var_4]
		mov	eax, [edx+8]
		shl	eax, 6
		mov	ecx, [ebp+arg_0]
		mov	[ecx+18h], eax
		mov	edx, [ebp+var_4]
		mov	eax, [edx+0Ch]
		neg	eax
		shl	eax, 6
		mov	ecx, [ebp+arg_0]
		mov	[ecx+1Ch], eax
		mov	edx, [ebp+var_4]
		movsx	eax, word ptr [edx+28h]
		shl	eax, 6
		mov	ecx, [ebp+arg_0]
		mov	[ecx+24h], eax
		xor	eax, eax
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_PCF_Size_Select endp

; ---------------------------------------------------------------------------
		db 5 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_PCF_Size_Request proc near		; DATA XREF: .rdata:00000BDCo

var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		sub	esp, 18h
		mov	eax, 0CCCCCCCCh
		mov	[ebp+var_18], eax
		mov	[ebp+var_14], eax
		mov	[ebp+var_10], eax
		mov	[ebp+var_C], eax
		mov	[ebp+var_8], eax
		mov	[ebp+var_4], eax
		mov	eax, [ebp+arg_0]
		mov	ecx, [eax]
		mov	[ebp+var_4], ecx
		mov	edx, [ebp+arg_0]
		mov	eax, [edx]
		mov	ecx, [eax+20h]
		mov	[ebp+var_8], ecx
		mov	[ebp+var_C], 17h
		mov	edx, [ebp+arg_4]
		cmp	dword ptr [edx+10h], 0
		jz	short loc_3F51
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_4]
		mov	eax, [eax+8]
		imul	eax, [ecx+10h]
		add	eax, 24h ; '$'
		cdq
		mov	ecx, 48h ; 'H'
		idiv	ecx
		mov	[ebp+var_14], eax
		jmp	short loc_3F5A
; ---------------------------------------------------------------------------

loc_3F51:				; CODE XREF: _PCF_Size_Request+3Ej
		mov	edx, [ebp+arg_4]
		mov	eax, [edx+8]
		mov	[ebp+var_14], eax

loc_3F5A:				; CODE XREF: _PCF_Size_Request+5Bj
		mov	ecx, [ebp+var_14]
		mov	[ebp+var_10], ecx
		mov	edx, [ebp+var_10]
		add	edx, 20h ; ' '
		sar	edx, 6
		mov	[ebp+var_10], edx
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		mov	[ebp+var_18], ecx
		cmp	[ebp+var_18], 0
		jz	short loc_3F82
		cmp	[ebp+var_18], 1
		jz	short loc_3F9C
		jmp	short loc_3FBC
; ---------------------------------------------------------------------------

loc_3F82:				; CODE XREF: _PCF_Size_Request+84j
		mov	edx, [ebp+var_8]
		mov	eax, [edx+0Ch]
		add	eax, 20h ; ' '
		sar	eax, 6
		cmp	[ebp+var_10], eax
		jnz	short loc_3F9A
		mov	[ebp+var_C], 0

loc_3F9A:				; CODE XREF: _PCF_Size_Request+9Dj
		jmp	short loc_3FD6
; ---------------------------------------------------------------------------

loc_3F9C:				; CODE XREF: _PCF_Size_Request+8Aj
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+0CCh]
		mov	eax, [ebp+var_4]
		add	edx, [eax+0D0h]
		cmp	[ebp+var_10], edx
		jnz	short loc_3FBA
		mov	[ebp+var_C], 0

loc_3FBA:				; CODE XREF: _PCF_Size_Request+BDj
		jmp	short loc_3FD6
; ---------------------------------------------------------------------------

loc_3FBC:				; CODE XREF: _PCF_Size_Request+8Cj
		push	offset $SG8655	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	1D4h
		push	7
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 7
		mov	[ebp+var_C], eax

loc_3FD6:				; CODE XREF: _PCF_Size_Request:loc_3F9Aj
					; _PCF_Size_Request:loc_3FBAj
		cmp	[ebp+var_C], 0
		jz	short loc_3FE3
		mov	eax, [ebp+var_C]
		jmp	short loc_3FF1
; ---------------------------------------------------------------------------
		jmp	short loc_3FF1
; ---------------------------------------------------------------------------

loc_3FE3:				; CODE XREF: _PCF_Size_Request+E6j
		push	0
		mov	ecx, [ebp+arg_0]
		push	ecx
		call	_PCF_Size_Select
		add	esp, 8

loc_3FF1:				; CODE XREF: _PCF_Size_Request+EBj
					; _PCF_Size_Request+EDj
		add	esp, 18h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_PCF_Size_Request endp

; ---------------------------------------------------------------------------
		db 5 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_PCF_Glyph_Load	proc near		; DATA XREF: .rdata:00000BCCo

var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= dword	ptr -2Ch
var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h
arg_C		= dword	ptr  14h

		push	ebp
		mov	ebp, esp
		sub	esp, 34h
		push	edi
		lea	edi, [ebp+var_34]
		mov	ecx, 0Dh
		mov	eax, 0CCCCCCCCh
		rep stosd
		mov	eax, [ebp+arg_4]
		mov	ecx, [eax]
		mov	[ebp+var_4], ecx
		mov	[ebp+var_C], 0
		mov	edx, [ebp+arg_0]
		add	edx, 4Ch ; 'L'
		mov	[ebp+var_10], edx
		mov	eax, [ebp+arg_C]
		mov	[ebp+arg_C], eax

loc_4038:				; CODE XREF: _PCF_Glyph_Load+58j
		mov	ecx, 4
		imul	edx, ecx, 3Eh
		cmp	dword ptr ds:_ft_trace_levels[edx], 1
		jl	short loc_405A
		mov	eax, [ebp+arg_8]
		push	eax
		push	offset $SG8680	; "PCF_Glyph_Load: glyph index %d\n"
		call	_FT_Message
		add	esp, 8

loc_405A:				; CODE XREF: _PCF_Glyph_Load+43j
		xor	ecx, ecx
		jnz	short loc_4038
		cmp	[ebp+var_4], 0
		jnz	short loc_4083
		push	offset $SG8682	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	1F3h
		push	23h ; '#'
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 23h
		mov	[ebp+var_C], eax
		jmp	$Exit$42
; ---------------------------------------------------------------------------

loc_4083:				; CODE XREF: _PCF_Glyph_Load+5Ej
		mov	edx, [ebp+var_4]
		mov	eax, [ebp+arg_8]
		cmp	eax, [edx+10h]
		jb	short loc_40AD
		push	offset $SG8686	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	1F9h
		push	6
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 6
		mov	[ebp+var_C], eax
		jmp	$Exit$42
; ---------------------------------------------------------------------------

loc_40AD:				; CODE XREF: _PCF_Glyph_Load+88j
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+68h]
		mov	[ebp+var_8], edx
		cmp	[ebp+arg_8], 0
		jbe	short loc_40C5
		mov	eax, [ebp+arg_8]
		sub	eax, 1
		mov	[ebp+arg_8], eax

loc_40C5:				; CODE XREF: _PCF_Glyph_Load+B6j
		mov	ecx, [ebp+arg_8]
		shl	ecx, 4
		mov	edx, [ebp+var_4]
		add	ecx, [edx+124h]
		mov	[ebp+var_14], ecx
		mov	eax, [ebp+var_14]
		movsx	ecx, word ptr [eax+6]
		mov	edx, [ebp+var_14]
		movsx	eax, word ptr [edx+8]
		add	ecx, eax
		mov	edx, [ebp+var_10]
		mov	[edx], ecx
		mov	eax, [ebp+var_14]
		movsx	ecx, word ptr [eax+2]
		mov	edx, [ebp+var_14]
		movsx	eax, word ptr [edx]
		sub	ecx, eax
		mov	edx, [ebp+var_10]
		mov	[edx+4], ecx
		mov	eax, 1
		mov	ecx, [ebp+var_10]
		mov	[ecx+10h], ax
		mov	edx, [ebp+var_10]
		mov	byte ptr [edx+12h], 1

loc_4114:				; CODE XREF: _PCF_Glyph_Load+188j
		mov	eax, 4
		imul	ecx, eax, 3Eh
		cmp	dword ptr ds:_ft_trace_levels[ecx], 6
		jl	short loc_418A
		mov	edx, [ebp+var_4]
		mov	eax, [edx+134h]
		and	eax, 4
		jz	short loc_413C
		mov	[ebp+var_1C], 1
		jmp	short loc_4143
; ---------------------------------------------------------------------------

loc_413C:				; CODE XREF: _PCF_Glyph_Load+12Dj
		mov	[ebp+var_1C], 0

loc_4143:				; CODE XREF: _PCF_Glyph_Load+136j
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+134h]
		and	edx, 8
		jz	short loc_415A
		mov	[ebp+var_20], 1
		jmp	short loc_4161
; ---------------------------------------------------------------------------

loc_415A:				; CODE XREF: _PCF_Glyph_Load+14Bj
		mov	[ebp+var_20], 0

loc_4161:				; CODE XREF: _PCF_Glyph_Load+154j
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+134h]
		and	ecx, 3
		mov	edx, 1
		shl	edx, cl
		push	edx
		mov	eax, [ebp+var_1C]
		push	eax
		mov	ecx, [ebp+var_20]
		push	ecx
		push	offset $SG8692	; "BIT_ORDER %d	; BYTE_ORDER %d	; GLYPH_PA"...
		call	_FT_Message
		add	esp, 10h

loc_418A:				; CODE XREF: _PCF_Glyph_Load+11Fj
		xor	edx, edx
		jnz	short loc_4114
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+134h]
		and	ecx, 3
		mov	edx, 1
		shl	edx, cl
		mov	[ebp+var_24], edx
		mov	eax, [ebp+var_24]
		sub	eax, 1
		mov	[ebp+var_24], eax
		cmp	[ebp+var_24], 7	; switch 8 cases
		ja	short $LN11_0	; jumptable 000041B6 default case
		mov	ecx, [ebp+var_24]
		jmp	ds:$LN41_0[ecx*4] ; switch jump
; ---------------------------------------------------------------------------

$LN15:					; CODE XREF: _PCF_Glyph_Load+1B2j
					; DATA XREF: .text$mn:$LN41_0o
		mov	edx, [ebp+var_10] ; jumptable 000041B6 case 0
		mov	eax, [edx+4]
		add	eax, 7
		shr	eax, 3
		mov	ecx, [ebp+var_10]
		mov	[ecx+8], eax
		jmp	short loc_4231
; ---------------------------------------------------------------------------

$LN14:					; CODE XREF: _PCF_Glyph_Load+1B2j
					; DATA XREF: .text$mn:$LN41_0o
		mov	edx, [ebp+var_10] ; jumptable 000041B6 case 1
		mov	eax, [edx+4]
		add	eax, 0Fh
		shr	eax, 4
		shl	eax, 1
		mov	ecx, [ebp+var_10]
		mov	[ecx+8], eax
		jmp	short loc_4231
; ---------------------------------------------------------------------------

$LN13:					; CODE XREF: _PCF_Glyph_Load+1B2j
					; DATA XREF: .text$mn:$LN41_0o
		mov	edx, [ebp+var_10] ; jumptable 000041B6 case 3
		mov	eax, [edx+4]
		add	eax, 1Fh
		shr	eax, 5
		shl	eax, 2
		mov	ecx, [ebp+var_10]
		mov	[ecx+8], eax
		jmp	short loc_4231
; ---------------------------------------------------------------------------

$LN12_0:				; CODE XREF: _PCF_Glyph_Load+1B2j
					; DATA XREF: .text$mn:$LN41_0o
		mov	edx, [ebp+var_10] ; jumptable 000041B6 case 7
		mov	eax, [edx+4]
		add	eax, 3Fh ; '?'
		shr	eax, 6
		shl	eax, 3
		mov	ecx, [ebp+var_10]
		mov	[ecx+8], eax
		jmp	short loc_4231
; ---------------------------------------------------------------------------

$LN11_0:				; CODE XREF: _PCF_Glyph_Load+1ADj
					; _PCF_Glyph_Load+1B2j
					; DATA XREF: ...
		push	offset $SG8702	; jumptable 000041B6 default case
		push	221h
		push	3
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 3
		jmp	loc_440B
; ---------------------------------------------------------------------------

loc_4231:				; CODE XREF: _PCF_Glyph_Load+1CBj
					; _PCF_Glyph_Load+1E1j	...
		mov	edx, [ebp+var_10]
		mov	eax, [ebp+var_10]
		mov	ecx, [edx+8]
		imul	ecx, [eax]
		mov	[ebp+var_18], ecx
		mov	edx, [ebp+var_18]
		push	edx
		mov	eax, [ebp+arg_0]
		push	eax
		call	_ft_glyphslot_alloc_bitmap
		add	esp, 8
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jz	short loc_425E
		jmp	$Exit$42
; ---------------------------------------------------------------------------

loc_425E:				; CODE XREF: _PCF_Glyph_Load+253j
		mov	ecx, [ebp+var_14]
		mov	edx, [ecx+0Ch]
		push	edx
		mov	eax, [ebp+var_8]
		push	eax
		call	_FT_Stream_Seek
		add	esp, 8
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jnz	short loc_429A
		mov	ecx, [ebp+var_18]
		push	ecx
		mov	edx, [ebp+var_10]
		mov	eax, [edx+0Ch]
		push	eax
		mov	ecx, [ebp+var_8]
		push	ecx
		call	_FT_Stream_Read
		add	esp, 0Ch
		mov	[ebp+var_C], eax
		cmp	[ebp+var_C], 0
		jz	short loc_429F

loc_429A:				; CODE XREF: _PCF_Glyph_Load+274j
		jmp	$Exit$42
; ---------------------------------------------------------------------------

loc_429F:				; CODE XREF: _PCF_Glyph_Load+294j
		mov	edx, [ebp+var_4]
		mov	eax, [edx+134h]
		and	eax, 8
		jz	short loc_42B6
		mov	[ebp+var_28], 1
		jmp	short loc_42BD
; ---------------------------------------------------------------------------

loc_42B6:				; CODE XREF: _PCF_Glyph_Load+2A7j
		mov	[ebp+var_28], 0

loc_42BD:				; CODE XREF: _PCF_Glyph_Load+2B0j
		cmp	[ebp+var_28], 1
		jz	short loc_42D6
		mov	ecx, [ebp+var_18]
		push	ecx
		mov	edx, [ebp+var_10]
		mov	eax, [edx+0Ch]
		push	eax
		call	_BitOrderInvert
		add	esp, 8

loc_42D6:				; CODE XREF: _PCF_Glyph_Load+2BDj
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+134h]
		and	edx, 4
		jz	short loc_42ED
		mov	[ebp+var_2C], 1
		jmp	short loc_42F4
; ---------------------------------------------------------------------------

loc_42ED:				; CODE XREF: _PCF_Glyph_Load+2DEj
		mov	[ebp+var_2C], 0

loc_42F4:				; CODE XREF: _PCF_Glyph_Load+2E7j
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+134h]
		and	ecx, 8
		jz	short loc_430B
		mov	[ebp+var_30], 1
		jmp	short loc_4312
; ---------------------------------------------------------------------------

loc_430B:				; CODE XREF: _PCF_Glyph_Load+2FCj
		mov	[ebp+var_30], 0

loc_4312:				; CODE XREF: _PCF_Glyph_Load+305j
		mov	edx, [ebp+var_2C]
		cmp	edx, [ebp+var_30]
		jz	short loc_436B
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+134h]
		and	ecx, 30h
		shr	ecx, 4
		mov	edx, 1
		shl	edx, cl
		mov	[ebp+var_34], edx
		cmp	[ebp+var_34], 2
		jz	short loc_4343
		cmp	[ebp+var_34], 4
		jz	short loc_4358
		jmp	short loc_436B
; ---------------------------------------------------------------------------
		jmp	short loc_436B
; ---------------------------------------------------------------------------

loc_4343:				; CODE XREF: _PCF_Glyph_Load+333j
		mov	eax, [ebp+var_18]
		push	eax
		mov	ecx, [ebp+var_10]
		mov	edx, [ecx+0Ch]
		push	edx
		call	_TwoByteSwap
		add	esp, 8
		jmp	short loc_436B
; ---------------------------------------------------------------------------

loc_4358:				; CODE XREF: _PCF_Glyph_Load+339j
		mov	eax, [ebp+var_18]
		push	eax
		mov	ecx, [ebp+var_10]
		mov	edx, [ecx+0Ch]
		push	edx
		call	_FourByteSwap
		add	esp, 8

loc_436B:				; CODE XREF: _PCF_Glyph_Load+314j
					; _PCF_Glyph_Load+33Bj	...
		mov	eax, [ebp+arg_0]
		mov	dword ptr [eax+48h], 62697473h
		mov	ecx, [ebp+var_14]
		movsx	edx, word ptr [ecx]
		mov	eax, [ebp+arg_0]
		mov	[eax+64h], edx
		mov	ecx, [ebp+var_14]
		movsx	edx, word ptr [ecx+6]
		mov	eax, [ebp+arg_0]
		mov	[eax+68h], edx
		mov	ecx, [ebp+var_14]
		movsx	edx, word ptr [ecx+4]
		shl	edx, 6
		mov	eax, [ebp+arg_0]
		mov	[eax+28h], edx
		mov	ecx, [ebp+var_14]
		movsx	edx, word ptr [ecx]
		shl	edx, 6
		mov	eax, [ebp+arg_0]
		mov	[eax+20h], edx
		mov	ecx, [ebp+var_14]
		movsx	edx, word ptr [ecx+6]
		shl	edx, 6
		mov	eax, [ebp+arg_0]
		mov	[eax+24h], edx
		mov	ecx, [ebp+var_14]
		movsx	edx, word ptr [ecx+2]
		mov	eax, [ebp+var_14]
		movsx	ecx, word ptr [eax]
		sub	edx, ecx
		shl	edx, 6
		mov	eax, [ebp+arg_0]
		mov	[eax+18h], edx
		mov	ecx, [ebp+var_10]
		mov	edx, [ecx]
		shl	edx, 6
		mov	eax, [ebp+arg_0]
		mov	[eax+1Ch], edx
		mov	ecx, [ebp+var_4]
		mov	edx, [ecx+0CCh]
		mov	eax, [ebp+var_4]
		add	edx, [eax+0D0h]
		shl	edx, 6
		push	edx
		mov	ecx, [ebp+arg_0]
		add	ecx, 18h
		push	ecx
		call	_ft_synthesize_vertical_metrics
		add	esp, 8

$Exit$42:				; CODE XREF: _PCF_Glyph_Load+7Aj
					; _PCF_Glyph_Load+A4j ...
		mov	eax, [ebp+var_C]

loc_440B:				; CODE XREF: _PCF_Glyph_Load+228j
		pop	edi
		add	esp, 34h
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_PCF_Glyph_Load	endp

; ---------------------------------------------------------------------------
		align 4
$LN41_0		dd offset $LN15		; DATA XREF: _PCF_Glyph_Load+1B2r
		dd offset $LN14		; jump table for switch	statement
		dd offset $LN11_0
		dd offset $LN13
		dd offset $LN11_0
		dd offset $LN11_0
		dd offset $LN11_0
		dd offset $LN12_0
		db 8 dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl pcf_get_bdf_property(int,	char *,	int)
_pcf_get_bdf_property proc near		; DATA XREF: .rdata:00000C90o

var_4		= dword	ptr -4
arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		push	ecx
		mov	[ebp+var_4], 0CCCCCCCCh
		mov	eax, [ebp+arg_4]
		push	eax		; char *
		mov	ecx, [ebp+arg_0]
		push	ecx		; int
		call	_pcf_find_property
		add	esp, 8
		mov	[ebp+var_4], eax
		cmp	[ebp+var_4], 0
		jz	loc_4503
		mov	edx, [ebp+var_4]
		movzx	eax, byte ptr [edx+4]
		test	eax, eax
		jz	short loc_448E
		mov	ecx, [ebp+arg_8]
		mov	dword ptr [ecx], 1
		mov	edx, [ebp+arg_8]
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+8]
		mov	[edx+4], ecx
		jmp	short loc_44FF
; ---------------------------------------------------------------------------

loc_448E:				; CODE XREF: _pcf_get_bdf_property+31j
		mov	edx, [ebp+var_4]
		cmp	dword ptr [edx+8], 7FFFFFFFh
		jg	short loc_44A6
		mov	eax, [ebp+var_4]
		cmp	dword ptr [eax+8], 80000000h
		jge	short loc_44EA

loc_44A6:				; CODE XREF: _pcf_get_bdf_property+54j
					; _pcf_get_bdf_property+82j
		mov	ecx, 4
		imul	edx, ecx, 3Eh
		cmp	dword ptr ds:_ft_trace_levels[edx], 1
		jl	short loc_44C4
		push	offset $SG8738	; "pcf_get_bdf_property: "
		call	_FT_Message
		add	esp, 4

loc_44C4:				; CODE XREF: _pcf_get_bdf_property+71j
		xor	eax, eax
		jnz	short loc_44A6

loc_44C8:				; CODE XREF: _pcf_get_bdf_property+A4j
		mov	ecx, 4
		imul	edx, ecx, 3Eh
		cmp	dword ptr ds:_ft_trace_levels[edx], 1
		jl	short loc_44E6
		push	offset $SG8743	; "too large integer 0x%x is truncated\n"
		call	_FT_Message
		add	esp, 4

loc_44E6:				; CODE XREF: _pcf_get_bdf_property+93j
		xor	eax, eax
		jnz	short loc_44C8

loc_44EA:				; CODE XREF: _pcf_get_bdf_property+60j
		mov	ecx, [ebp+arg_8]
		mov	dword ptr [ecx], 2
		mov	edx, [ebp+arg_8]
		mov	eax, [ebp+var_4]
		mov	ecx, [eax+8]
		mov	[edx+4], ecx

loc_44FF:				; CODE XREF: _pcf_get_bdf_property+48j
		xor	eax, eax
		jmp	short loc_451A
; ---------------------------------------------------------------------------

loc_4503:				; CODE XREF: _pcf_get_bdf_property+22j
		push	offset $SG8745	; "d:\\mozilla\\modules\\freetype2\\src\\p"...
		push	27Fh
		push	6
		call	_FT_Throw
		add	esp, 0Ch
		or	eax, 6

loc_451A:				; CODE XREF: _pcf_get_bdf_property+BDj
		add	esp, 4
		cmp	ebp, esp
		call	__RTC_CheckEsp
		mov	esp, ebp
		pop	ebp
		retn
_pcf_get_bdf_property endp

; ---------------------------------------------------------------------------
		db 0Ch dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_get_charset_id proc near		; DATA XREF: .rdata:_pcf_service_bdfo

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch
arg_8		= dword	ptr  10h

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_4]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+0B0h]
		mov	[eax], edx
		mov	eax, [ebp+arg_8]
		mov	ecx, [ebp+arg_0]
		mov	edx, [ecx+0B4h]
		mov	[eax], edx
		xor	eax, eax
		pop	ebp
		retn
_pcf_get_charset_id endp

; ---------------------------------------------------------------------------
		db 0Dh dup(0CCh)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

_pcf_driver_requester proc near		; DATA XREF: .rdata:00000BA4o

arg_0		= dword	ptr  8
arg_4		= dword	ptr  0Ch

		push	ebp
		mov	ebp, esp
		mov	eax, [ebp+arg_0]
		mov	[ebp+arg_0], eax
		mov	ecx, [ebp+arg_4]
		push	ecx
		push	offset _pcf_services
		call	_ft_service_list_lookup
		add	esp, 8
		cmp	ebp, esp
		call	__RTC_CheckEsp
		pop	ebp
		retn
_pcf_driver_requester endp

; ---------------------------------------------------------------------------
		align 4
_text$mn	ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$IMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$IMZ
		;org 4588h
; COMDAT (pick any)
__RTC_InitBase_rtc$IMZ dd offset __RTC_InitBase
_rtc$IMZ	ends

; ===========================================================================

; Segment type:	Pure data
; Segment permissions: Read
_rtc$TMZ	segment	dword public 'DATA' use32
		assume cs:_rtc$TMZ
		;org 458Ch
; COMDAT (pick any)
__RTC_Shutdown_rtc$TMZ dd offset __RTC_Shutdown
_rtc$TMZ	ends

; ===========================================================================

; Segment type:	Externs
; UNDEF
; void *__cdecl	memcpy(void *, const void *, size_t)
		extrn _memcpy:near	; CODE XREF: _pcf_interpret_style+360p
; void *__cdecl	memset(void *, int, size_t)
		extrn _memset:near	; CODE XREF: _pcf_load_font+24Ap
; int __cdecl strcmp(const char	*, const char *)
		extrn _strcmp:near	; CODE XREF: _pcf_find_property+62p
					; _PCF_Face_Init+226p ...
; size_t __cdecl strlen(const char *)
		extrn _strlen:near	; CODE XREF: _pcf_interpret_style+266p
					; _pcf_interpret_style+2ABp
		extrn _FT_Message:near	; CODE XREF: _pcf_read_TOC+3A8p
					; _pcf_read_TOC+3D4p ...
		extrn _FT_Throw:near	; CODE XREF: _pcf_load_font+485p
					; _pcf_read_TOC+73p ...
		extrn _ft_mem_alloc:near ; CODE	XREF: _pcf_interpret_style+2DDp
		extrn _ft_mem_realloc:near ; CODE XREF:	_pcf_load_font+214p
					; _pcf_read_TOC+D1p ...
		extrn _ft_mem_free:near	; CODE XREF: _pcf_read_TOC+4D3p
					; _pcf_get_properties+597p ...
		extrn _ft_mem_strdup:near ; CODE XREF: _pcf_load_font+1C3p
					; _pcf_load_font+43Cp ...
		extrn _ft_service_list_lookup:near ; CODE XREF:	_pcf_driver_requester+12p
		extrn _FT_CMap_New:near	; CODE XREF: _PCF_Face_Init+2ADp
		extrn _FT_Select_Metrics:near ;	CODE XREF: _PCF_Size_Select+23p
		extrn _ft_synthesize_vertical_metrics:near ; CODE XREF:	_PCF_Glyph_Load+3FCp
		extrn _ft_glyphslot_alloc_bitmap:near ;	CODE XREF: _PCF_Glyph_Load+244p
		extrn _FT_Stream_Close:near ; CODE XREF: _PCF_Face_Done+227p
		extrn _FT_Stream_Seek:near ; CODE XREF:	_pcf_read_TOC+3Bp
					; _PCF_Glyph_Load+265p
		extrn _FT_Stream_Skip:near ; CODE XREF:	_pcf_seek_to_table_type+97p
					; _pcf_get_properties+277p
		extrn _FT_Stream_Read:near ; CODE XREF:	_pcf_get_properties+382p
					; _PCF_Glyph_Load+285p
		extrn _FT_Stream_EnterFrame:near ; CODE	XREF: _pcf_get_bitmaps+78p
					; _pcf_get_encodings+67p ...
		extrn _FT_Stream_ExitFrame:near	; CODE XREF: _pcf_get_bitmaps+E2p
					; _pcf_get_encodings+169p ...
		extrn _FT_Stream_GetUShort:near	; CODE XREF: _pcf_get_encodings+B1p
					; _pcf_get_encodings+C3p ...
		extrn _FT_Stream_GetULong:near ; CODE XREF: _pcf_get_bitmaps+C2p
		extrn _FT_Stream_GetUShortLE:near ; CODE XREF: _pcf_get_encodings+10Fp
					; _pcf_get_encodings+11Fp ...
		extrn _FT_Stream_GetULongLE:near ; CODE	XREF: _pcf_get_bitmaps+95p
					; _pcf_get_bitmaps+D3p	...
		extrn _FT_Stream_ReadUShort:near ; CODE	XREF: _pcf_get_metrics+12Ep
		extrn _FT_Stream_ReadULong:near	; CODE XREF: _pcf_get_properties+108p
					; _pcf_get_properties+2CDp ...
		extrn _FT_Stream_ReadUShortLE:near ; CODE XREF:	_pcf_get_metrics+146p
		extrn _FT_Stream_ReadULongLE:near ; CODE XREF: _pcf_get_properties+75p
					; _pcf_get_properties+11Dp ...
		extrn _FT_Stream_ReadFields:near ; CODE	XREF: _pcf_read_TOC+59p
					; _pcf_read_TOC+137p ...
		extrn _FT_Stream_OpenGzip:near ; CODE XREF: _PCF_Face_Init+81p
		extrn _FT_Stream_OpenLZW:near ;	CODE XREF: _PCF_Face_Init+B9p
		extrn @_RTC_CheckStackVars@8:near ; CODE XREF: _pcf_load_font+4A0p
					; _pcf_read_TOC+4F9p ...
		extrn @__security_check_cookie@4:near ;	CODE XREF: _pcf_read_TOC+507p
					; _pcf_get_bitmaps+442p ...
		extrn __RTC_CheckEsp:near ; CODE XREF: _pcf_load_font+4AEp
					; _pcf_find_property+92p ...
		extrn __RTC_InitBase:near ; DATA XREF: .rtc$IMZ:__RTC_InitBase_rtc$IMZo
		extrn __RTC_Shutdown:near ; DATA XREF: .rtc$TMZ:__RTC_Shutdown_rtc$TMZo
		extrn _ft_trace_levels:near ; DATA XREF: _pcf_read_TOC+39Ar
					; _pcf_read_TOC+3BCr ...
		extrn ___security_cookie:near ;	DATA XREF: _pcf_read_TOC+17r
					; _pcf_get_bitmaps+16r	...


		end
